var h8=Object.defineProperty;var hN=e=>{throw TypeError(e)};var m8=(e,t,r)=>t in e?h8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var un=(e,t,r)=>m8(e,typeof t!="symbol"?t+"":t,r),gy=(e,t,r)=>t.has(e)||hN("Cannot "+r);var M=(e,t,r)=>(gy(e,t,"read from private field"),r?r.call(e):t.get(e)),pe=(e,t,r)=>t.has(e)?hN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ce=(e,t,r,n)=>(gy(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Oe=(e,t,r)=>(gy(e,t,"access private method"),r);var gh=(e,t,r,n)=>({set _(s){ce(e,t,s,r)},get _(){return M(e,t,n)}});function p8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ye(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var rA={exports:{}},Eg={},nA={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=Symbol.for("react.element"),v8=Symbol.for("react.portal"),y8=Symbol.for("react.fragment"),x8=Symbol.for("react.strict_mode"),b8=Symbol.for("react.profiler"),w8=Symbol.for("react.provider"),j8=Symbol.for("react.context"),_8=Symbol.for("react.forward_ref"),S8=Symbol.for("react.suspense"),N8=Symbol.for("react.memo"),k8=Symbol.for("react.lazy"),mN=Symbol.iterator;function P8(e){return e===null||typeof e!="object"?null:(e=mN&&e[mN]||e["@@iterator"],typeof e=="function"?e:null)}var sA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aA=Object.assign,iA={};function Tc(e,t,r){this.props=e,this.context=t,this.refs=iA,this.updater=r||sA}Tc.prototype.isReactComponent={};Tc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oA(){}oA.prototype=Tc.prototype;function w1(e,t,r){this.props=e,this.context=t,this.refs=iA,this.updater=r||sA}var j1=w1.prototype=new oA;j1.constructor=w1;aA(j1,Tc.prototype);j1.isPureReactComponent=!0;var pN=Array.isArray,lA=Object.prototype.hasOwnProperty,_1={current:null},cA={key:!0,ref:!0,__self:!0,__source:!0};function uA(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)lA.call(t,n)&&!cA.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Lf,type:e,key:a,ref:o,props:s,_owner:_1.current}}function E8(e,t){return{$$typeof:Lf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function S1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lf}function C8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var gN=/\/+/g;function vy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C8(""+e.key):t.toString(36)}function fm(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Lf:case v8:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+vy(o,0):n,pN(s)?(r="",e!=null&&(r=e.replace(gN,"$&/")+"/"),fm(s,t,r,"",function(u){return u})):s!=null&&(S1(s)&&(s=E8(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gN,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",pN(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+vy(a,l);o+=fm(a,t,r,c,s)}else if(c=P8(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+vy(a,l++),o+=fm(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vh(e,t,r){if(e==null)return e;var n=[],s=0;return fm(e,n,"","",function(a){return t.call(r,a,s++)}),n}function O8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wr={current:null},hm={transition:null},A8={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:hm,ReactCurrentOwner:_1};function dA(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:vh,forEach:function(e,t,r){vh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vh(e,function(){t++}),t},toArray:function(e){return vh(e,function(t){return t})||[]},only:function(e){if(!S1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$e.Component=Tc;$e.Fragment=y8;$e.Profiler=b8;$e.PureComponent=w1;$e.StrictMode=x8;$e.Suspense=S8;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A8;$e.act=dA;$e.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=aA({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=_1.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)lA.call(t,c)&&!cA.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Lf,type:e.type,key:s,ref:a,props:n,_owner:o}};$e.createContext=function(e){return e={$$typeof:j8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w8,_context:e},e.Consumer=e};$e.createElement=uA;$e.createFactory=function(e){var t=uA.bind(null,e);return t.type=e,t};$e.createRef=function(){return{current:null}};$e.forwardRef=function(e){return{$$typeof:_8,render:e}};$e.isValidElement=S1;$e.lazy=function(e){return{$$typeof:k8,_payload:{_status:-1,_result:e},_init:O8}};$e.memo=function(e,t){return{$$typeof:N8,type:e,compare:t===void 0?null:t}};$e.startTransition=function(e){var t=hm.transition;hm.transition={};try{e()}finally{hm.transition=t}};$e.unstable_act=dA;$e.useCallback=function(e,t){return wr.current.useCallback(e,t)};$e.useContext=function(e){return wr.current.useContext(e)};$e.useDebugValue=function(){};$e.useDeferredValue=function(e){return wr.current.useDeferredValue(e)};$e.useEffect=function(e,t){return wr.current.useEffect(e,t)};$e.useId=function(){return wr.current.useId()};$e.useImperativeHandle=function(e,t,r){return wr.current.useImperativeHandle(e,t,r)};$e.useInsertionEffect=function(e,t){return wr.current.useInsertionEffect(e,t)};$e.useLayoutEffect=function(e,t){return wr.current.useLayoutEffect(e,t)};$e.useMemo=function(e,t){return wr.current.useMemo(e,t)};$e.useReducer=function(e,t,r){return wr.current.useReducer(e,t,r)};$e.useRef=function(e){return wr.current.useRef(e)};$e.useState=function(e){return wr.current.useState(e)};$e.useSyncExternalStore=function(e,t,r){return wr.current.useSyncExternalStore(e,t,r)};$e.useTransition=function(){return wr.current.useTransition()};$e.version="18.3.1";nA.exports=$e;var y=nA.exports;const P=Ye(y),fA=p8({__proto__:null,default:P},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T8=y,R8=Symbol.for("react.element"),M8=Symbol.for("react.fragment"),$8=Object.prototype.hasOwnProperty,I8=T8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D8={key:!0,ref:!0,__self:!0,__source:!0};function hA(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$8.call(t,n)&&!D8.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:R8,type:e,key:a,ref:o,props:s,_owner:I8.current}}Eg.Fragment=M8;Eg.jsx=hA;Eg.jsxs=hA;rA.exports=Eg;var i=rA.exports,mA={exports:{}},an={},pA={exports:{}},gA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,$){var H=O.length;O.push($);e:for(;0<H;){var z=H-1>>>1,B=O[z];if(0<s(B,$))O[z]=$,O[H]=B,H=z;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],H=O.pop();if(H!==$){O[0]=H;e:for(var z=0,B=O.length,Y=B>>>1;z<Y;){var oe=2*(z+1)-1,ye=O[oe],me=oe+1,ae=O[me];if(0>s(ye,H))me<B&&0>s(ae,ye)?(O[z]=ae,O[me]=H,z=me):(O[z]=ye,O[oe]=H,z=oe);else if(me<B&&0>s(ae,H))O[z]=ae,O[me]=H,z=me;else break e}}return $}function s(O,$){var H=O.sortIndex-$.sortIndex;return H!==0?H:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=O)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function j(O){if(p=!1,w(O),!g)if(r(c)!==null)g=!0,I(_);else{var $=r(u);$!==null&&F(j,$.startTime-O)}}function _(O,$){g=!1,p&&(p=!1,b(k),k=-1),m=!0;var H=h;try{for(w($),f=r(c);f!==null&&(!(f.expirationTime>$)||O&&!T());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var B=z(f.expirationTime<=$);$=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),w($)}else n(c);f=r(c)}if(f!==null)var Y=!0;else{var oe=r(u);oe!==null&&F(j,oe.startTime-$),Y=!1}return Y}finally{f=null,h=H,m=!1}}var S=!1,N=null,k=-1,C=5,E=-1;function T(){return!(e.unstable_now()-E<C)}function A(){if(N!==null){var O=e.unstable_now();E=O;var $=!0;try{$=N(!0,O)}finally{$?D():(S=!1,N=null)}}else S=!1}var D;if(typeof x=="function")D=function(){x(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,L=R.port2;R.port1.onmessage=A,D=function(){L.postMessage(null)}}else D=function(){v(A,0)};function I(O){N=O,S||(S=!0,D())}function F(O,$){k=v(function(){O(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,I(_))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var H=h;h=$;try{return O()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=h;h=O;try{return $()}finally{h=H}},e.unstable_scheduleCallback=function(O,$,H){var z=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?z+H:z):H=z,O){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=H+B,O={id:d++,callback:$,priorityLevel:O,startTime:H,expirationTime:B,sortIndex:-1},H>z?(O.sortIndex=H,t(u,O),r(c)===null&&O===r(u)&&(p?(b(k),k=-1):p=!0,F(j,H-z))):(O.sortIndex=B,t(c,O),g||m||(g=!0,I(_))),O},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(O){var $=h;return function(){var H=h;h=$;try{return O.apply(this,arguments)}finally{h=H}}}})(gA);pA.exports=gA;var L8=pA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F8=y,nn=L8;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vA=new Set,jd={};function Po(e,t){Ql(e,t),Ql(e+"Capture",t)}function Ql(e,t){for(jd[e]=t,e=0;e<t.length;e++)vA.add(t[e])}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kx=Object.prototype.hasOwnProperty,z8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vN={},yN={};function B8(e){return Kx.call(yN,e)?!0:Kx.call(vN,e)?!1:z8.test(e)?yN[e]=!0:(vN[e]=!0,!1)}function U8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function q8(e,t,r,n){if(t===null||typeof t>"u"||U8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jr(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gt[e]=new jr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gt[t]=new jr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gt[e]=new jr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gt[e]=new jr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gt[e]=new jr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gt[e]=new jr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gt[e]=new jr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gt[e]=new jr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gt[e]=new jr(e,5,!1,e.toLowerCase(),null,!1,!1)});var N1=/[\-:]([a-z])/g;function k1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(N1,k1);Gt[t]=new jr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(N1,k1);Gt[t]=new jr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(N1,k1);Gt[t]=new jr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gt[e]=new jr(e,1,!1,e.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gt[e]=new jr(e,1,!1,e.toLowerCase(),null,!0,!0)});function P1(e,t,r,n){var s=Gt.hasOwnProperty(t)?Gt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(q8(t,r,s,n)&&(r=null),n||s===null?B8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var oa=F8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),il=Symbol.for("react.portal"),ol=Symbol.for("react.fragment"),E1=Symbol.for("react.strict_mode"),Gx=Symbol.for("react.profiler"),yA=Symbol.for("react.provider"),xA=Symbol.for("react.context"),C1=Symbol.for("react.forward_ref"),Yx=Symbol.for("react.suspense"),Qx=Symbol.for("react.suspense_list"),O1=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),bA=Symbol.for("react.offscreen"),xN=Symbol.iterator;function bu(e){return e===null||typeof e!="object"?null:(e=xN&&e[xN]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,yy;function Vu(e){if(yy===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);yy=t&&t[1]||""}return`
`+yy+e}var xy=!1;function by(e,t){if(!e||xy)return"";xy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{xy=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vu(e):""}function W8(e){switch(e.tag){case 5:return Vu(e.type);case 16:return Vu("Lazy");case 13:return Vu("Suspense");case 19:return Vu("SuspenseList");case 0:case 2:case 15:return e=by(e.type,!1),e;case 11:return e=by(e.type.render,!1),e;case 1:return e=by(e.type,!0),e;default:return""}}function Xx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ol:return"Fragment";case il:return"Portal";case Gx:return"Profiler";case E1:return"StrictMode";case Yx:return"Suspense";case Qx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xA:return(e.displayName||"Context")+".Consumer";case yA:return(e._context.displayName||"Context")+".Provider";case C1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O1:return t=e.displayName||null,t!==null?t:Xx(e.type)||"Memo";case ja:t=e._payload,e=e._init;try{return Xx(e(t))}catch{}}return null}function V8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xx(t);case 8:return t===E1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H8(e){var t=wA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xh(e){e._valueTracker||(e._valueTracker=H8(e))}function jA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Tm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jx(e,t){var r=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ri(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _A(e,t){t=t.checked,t!=null&&P1(e,"checked",t,!1)}function Zx(e,t){_A(e,t);var r=ri(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?e0(e,t.type,r):t.hasOwnProperty("defaultValue")&&e0(e,t.type,ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function e0(e,t,r){(t!=="number"||Tm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Hu=Array.isArray;function jl(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ri(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function t0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(Hu(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ri(r)}}function SA(e,t){var r=ri(t.value),n=ri(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function _N(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function NA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function r0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?NA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bh,kA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _d(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var td={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K8=["Webkit","ms","Moz","O"];Object.keys(td).forEach(function(e){K8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),td[t]=td[e]})});function PA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||td.hasOwnProperty(e)&&td[e]?(""+t).trim():t+"px"}function EA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=PA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var G8=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n0(e,t){if(t){if(G8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function s0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=null;function A1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var i0=null,_l=null,Sl=null;function SN(e){if(e=Bf(e)){if(typeof i0!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=Rg(t),i0(e.stateNode,e.type,t))}}function CA(e){_l?Sl?Sl.push(e):Sl=[e]:_l=e}function OA(){if(_l){var e=_l,t=Sl;if(Sl=_l=null,SN(e),t)for(e=0;e<t.length;e++)SN(t[e])}}function AA(e,t){return e(t)}function TA(){}var wy=!1;function RA(e,t,r){if(wy)return e(t,r);wy=!0;try{return AA(e,t,r)}finally{wy=!1,(_l!==null||Sl!==null)&&(TA(),OA())}}function Sd(e,t){var r=e.stateNode;if(r===null)return null;var n=Rg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var o0=!1;if(Ys)try{var wu={};Object.defineProperty(wu,"passive",{get:function(){o0=!0}}),window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{o0=!1}function Y8(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var rd=!1,Rm=null,Mm=!1,l0=null,Q8={onError:function(e){rd=!0,Rm=e}};function X8(e,t,r,n,s,a,o,l,c){rd=!1,Rm=null,Y8.apply(Q8,arguments)}function J8(e,t,r,n,s,a,o,l,c){if(X8.apply(this,arguments),rd){if(rd){var u=Rm;rd=!1,Rm=null}else throw Error(Q(198));Mm||(Mm=!0,l0=u)}}function Eo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function MA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function NN(e){if(Eo(e)!==e)throw Error(Q(188))}function Z8(e){var t=e.alternate;if(!t){if(t=Eo(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return NN(s),e;if(a===n)return NN(s),t;a=a.sibling}throw Error(Q(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function $A(e){return e=Z8(e),e!==null?IA(e):null}function IA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=IA(e);if(t!==null)return t;e=e.sibling}return null}var DA=nn.unstable_scheduleCallback,kN=nn.unstable_cancelCallback,ez=nn.unstable_shouldYield,tz=nn.unstable_requestPaint,bt=nn.unstable_now,rz=nn.unstable_getCurrentPriorityLevel,T1=nn.unstable_ImmediatePriority,LA=nn.unstable_UserBlockingPriority,$m=nn.unstable_NormalPriority,nz=nn.unstable_LowPriority,FA=nn.unstable_IdlePriority,Cg=null,ps=null;function sz(e){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(Cg,e,void 0,(e.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:oz,az=Math.log,iz=Math.LN2;function oz(e){return e>>>=0,e===0?32:31-(az(e)/iz|0)|0}var wh=64,jh=4194304;function Ku(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Im(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Ku(l):(a&=o,a!==0&&(n=Ku(a)))}else o=r&~s,o!==0?n=Ku(o):a!==0&&(n=Ku(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kn(t),s=1<<r,n|=e[r],t&=~s;return n}function lz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cz(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Kn(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=lz(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function c0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zA(){var e=wh;return wh<<=1,!(wh&4194240)&&(wh=64),e}function jy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ff(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kn(t),e[t]=r}function uz(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Kn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function R1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ve=0;function BA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var UA,M1,qA,WA,VA,u0=!1,_h=[],Wa=null,Va=null,Ha=null,Nd=new Map,kd=new Map,ka=[],dz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PN(e,t){switch(e){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Nd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kd.delete(t.pointerId)}}function ju(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Bf(t),t!==null&&M1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fz(e,t,r,n,s){switch(t){case"focusin":return Wa=ju(Wa,e,t,r,n,s),!0;case"dragenter":return Va=ju(Va,e,t,r,n,s),!0;case"mouseover":return Ha=ju(Ha,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Nd.set(a,ju(Nd.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,kd.set(a,ju(kd.get(a)||null,e,t,r,n,s)),!0}return!1}function HA(e){var t=qi(e.target);if(t!==null){var r=Eo(t);if(r!==null){if(t=r.tag,t===13){if(t=MA(r),t!==null){e.blockedOn=t,VA(e.priority,function(){qA(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=d0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);a0=n,r.target.dispatchEvent(n),a0=null}else return t=Bf(r),t!==null&&M1(t),e.blockedOn=r,!1;t.shift()}return!0}function EN(e,t,r){mm(e)&&r.delete(t)}function hz(){u0=!1,Wa!==null&&mm(Wa)&&(Wa=null),Va!==null&&mm(Va)&&(Va=null),Ha!==null&&mm(Ha)&&(Ha=null),Nd.forEach(EN),kd.forEach(EN)}function _u(e,t){e.blockedOn===t&&(e.blockedOn=null,u0||(u0=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,hz)))}function Pd(e){function t(s){return _u(s,e)}if(0<_h.length){_u(_h[0],e);for(var r=1;r<_h.length;r++){var n=_h[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wa!==null&&_u(Wa,e),Va!==null&&_u(Va,e),Ha!==null&&_u(Ha,e),Nd.forEach(t),kd.forEach(t),r=0;r<ka.length;r++)n=ka[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ka.length&&(r=ka[0],r.blockedOn===null);)HA(r),r.blockedOn===null&&ka.shift()}var Nl=oa.ReactCurrentBatchConfig,Dm=!0;function mz(e,t,r,n){var s=Ve,a=Nl.transition;Nl.transition=null;try{Ve=1,$1(e,t,r,n)}finally{Ve=s,Nl.transition=a}}function pz(e,t,r,n){var s=Ve,a=Nl.transition;Nl.transition=null;try{Ve=4,$1(e,t,r,n)}finally{Ve=s,Nl.transition=a}}function $1(e,t,r,n){if(Dm){var s=d0(e,t,r,n);if(s===null)Ty(e,t,n,Lm,r),PN(e,n);else if(fz(s,e,t,r,n))n.stopPropagation();else if(PN(e,n),t&4&&-1<dz.indexOf(e)){for(;s!==null;){var a=Bf(s);if(a!==null&&UA(a),a=d0(e,t,r,n),a===null&&Ty(e,t,n,Lm,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Ty(e,t,n,null,r)}}var Lm=null;function d0(e,t,r,n){if(Lm=null,e=A1(n),e=qi(e),e!==null)if(t=Eo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=MA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lm=e,null}function KA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rz()){case T1:return 1;case LA:return 4;case $m:case nz:return 16;case FA:return 536870912;default:return 16}default:return 16}}var Fa=null,I1=null,pm=null;function GA(){if(pm)return pm;var e,t=I1,r=t.length,n,s="value"in Fa?Fa.value:Fa.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return pm=s.slice(e,1<n?1-n:void 0)}function gm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sh(){return!0}function CN(){return!1}function on(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sh:CN,this.isPropagationStopped=CN,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sh)},persist:function(){},isPersistent:Sh}),t}var Rc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},D1=on(Rc),zf=ht({},Rc,{view:0,detail:0}),gz=on(zf),_y,Sy,Su,Og=ht({},zf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Su&&(Su&&e.type==="mousemove"?(_y=e.screenX-Su.screenX,Sy=e.screenY-Su.screenY):Sy=_y=0,Su=e),_y)},movementY:function(e){return"movementY"in e?e.movementY:Sy}}),ON=on(Og),vz=ht({},Og,{dataTransfer:0}),yz=on(vz),xz=ht({},zf,{relatedTarget:0}),Ny=on(xz),bz=ht({},Rc,{animationName:0,elapsedTime:0,pseudoElement:0}),wz=on(bz),jz=ht({},Rc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_z=on(jz),Sz=ht({},Rc,{data:0}),AN=on(Sz),Nz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ez(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pz[e])?!!t[e]:!1}function L1(){return Ez}var Cz=ht({},zf,{key:function(e){if(e.key){var t=Nz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L1,charCode:function(e){return e.type==="keypress"?gm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Oz=on(Cz),Az=ht({},Og,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TN=on(Az),Tz=ht({},zf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L1}),Rz=on(Tz),Mz=ht({},Rc,{propertyName:0,elapsedTime:0,pseudoElement:0}),$z=on(Mz),Iz=ht({},Og,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dz=on(Iz),Lz=[9,13,27,32],F1=Ys&&"CompositionEvent"in window,nd=null;Ys&&"documentMode"in document&&(nd=document.documentMode);var Fz=Ys&&"TextEvent"in window&&!nd,YA=Ys&&(!F1||nd&&8<nd&&11>=nd),RN=" ",MN=!1;function QA(e,t){switch(e){case"keyup":return Lz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ll=!1;function zz(e,t){switch(e){case"compositionend":return XA(t);case"keypress":return t.which!==32?null:(MN=!0,RN);case"textInput":return e=t.data,e===RN&&MN?null:e;default:return null}}function Bz(e,t){if(ll)return e==="compositionend"||!F1&&QA(e,t)?(e=GA(),pm=I1=Fa=null,ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return YA&&t.locale!=="ko"?null:t.data;default:return null}}var Uz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $N(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uz[e.type]:t==="textarea"}function JA(e,t,r,n){CA(n),t=Fm(t,"onChange"),0<t.length&&(r=new D1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var sd=null,Ed=null;function qz(e){cT(e,0)}function Ag(e){var t=dl(e);if(jA(t))return e}function Wz(e,t){if(e==="change")return t}var ZA=!1;if(Ys){var ky;if(Ys){var Py="oninput"in document;if(!Py){var IN=document.createElement("div");IN.setAttribute("oninput","return;"),Py=typeof IN.oninput=="function"}ky=Py}else ky=!1;ZA=ky&&(!document.documentMode||9<document.documentMode)}function DN(){sd&&(sd.detachEvent("onpropertychange",eT),Ed=sd=null)}function eT(e){if(e.propertyName==="value"&&Ag(Ed)){var t=[];JA(t,Ed,e,A1(e)),RA(qz,t)}}function Vz(e,t,r){e==="focusin"?(DN(),sd=t,Ed=r,sd.attachEvent("onpropertychange",eT)):e==="focusout"&&DN()}function Hz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ag(Ed)}function Kz(e,t){if(e==="click")return Ag(t)}function Gz(e,t){if(e==="input"||e==="change")return Ag(t)}function Yz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qn=typeof Object.is=="function"?Object.is:Yz;function Cd(e,t){if(Qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Kx.call(t,s)||!Qn(e[s],t[s]))return!1}return!0}function LN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function FN(e,t){var r=LN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=LN(r)}}function tT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rT(){for(var e=window,t=Tm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Tm(e.document)}return t}function z1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qz(e){var t=rT(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&tT(r.ownerDocument.documentElement,r)){if(n!==null&&z1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=FN(r,a);var o=FN(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xz=Ys&&"documentMode"in document&&11>=document.documentMode,cl=null,f0=null,ad=null,h0=!1;function zN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;h0||cl==null||cl!==Tm(n)||(n=cl,"selectionStart"in n&&z1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ad&&Cd(ad,n)||(ad=n,n=Fm(f0,"onSelect"),0<n.length&&(t=new D1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=cl)))}function Nh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ul={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionend:Nh("Transition","TransitionEnd")},Ey={},nT={};Ys&&(nT=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function Tg(e){if(Ey[e])return Ey[e];if(!ul[e])return e;var t=ul[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in nT)return Ey[e]=t[r];return e}var sT=Tg("animationend"),aT=Tg("animationiteration"),iT=Tg("animationstart"),oT=Tg("transitionend"),lT=new Map,BN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(e,t){lT.set(e,t),Po(t,[e])}for(var Cy=0;Cy<BN.length;Cy++){var Oy=BN[Cy],Jz=Oy.toLowerCase(),Zz=Oy[0].toUpperCase()+Oy.slice(1);gi(Jz,"on"+Zz)}gi(sT,"onAnimationEnd");gi(aT,"onAnimationIteration");gi(iT,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(oT,"onTransitionEnd");Ql("onMouseEnter",["mouseout","mouseover"]);Ql("onMouseLeave",["mouseout","mouseover"]);Ql("onPointerEnter",["pointerout","pointerover"]);Ql("onPointerLeave",["pointerout","pointerover"]);Po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Po("onBeforeInput",["compositionend","keypress","textInput","paste"]);Po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gu));function UN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,J8(n,t,void 0,e),e.currentTarget=null}function cT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;UN(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;UN(s,l,u),a=c}}}if(Mm)throw e=l0,Mm=!1,l0=null,e}function st(e,t){var r=t[y0];r===void 0&&(r=t[y0]=new Set);var n=e+"__bubble";r.has(n)||(uT(t,e,2,!1),r.add(n))}function Ay(e,t,r){var n=0;t&&(n|=4),uT(r,e,n,t)}var kh="_reactListening"+Math.random().toString(36).slice(2);function Od(e){if(!e[kh]){e[kh]=!0,vA.forEach(function(r){r!=="selectionchange"&&(eB.has(r)||Ay(r,!1,e),Ay(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kh]||(t[kh]=!0,Ay("selectionchange",!1,t))}}function uT(e,t,r,n){switch(KA(t)){case 1:var s=mz;break;case 4:s=pz;break;default:s=$1}r=s.bind(null,t,r,e),s=void 0,!o0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ty(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=qi(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}RA(function(){var u=a,d=A1(r),f=[];e:{var h=lT.get(e);if(h!==void 0){var m=D1,g=e;switch(e){case"keypress":if(gm(r)===0)break e;case"keydown":case"keyup":m=Oz;break;case"focusin":g="focus",m=Ny;break;case"focusout":g="blur",m=Ny;break;case"beforeblur":case"afterblur":m=Ny;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ON;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Rz;break;case sT:case aT:case iT:m=wz;break;case oT:m=$z;break;case"scroll":m=gz;break;case"wheel":m=Dz;break;case"copy":case"cut":case"paste":m=_z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=TN}var p=(t&4)!==0,v=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,b!==null&&(j=Sd(x,b),j!=null&&p.push(Ad(x,j,w)))),v)break;x=x.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==a0&&(g=r.relatedTarget||r.fromElement)&&(qi(g)||g[Qs]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?qi(g):null,g!==null&&(v=Eo(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=ON,j="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=TN,j="onPointerLeave",b="onPointerEnter",x="pointer"),v=m==null?h:dl(m),w=g==null?h:dl(g),h=new p(j,x+"leave",m,r,d),h.target=v,h.relatedTarget=w,j=null,qi(d)===u&&(p=new p(b,x+"enter",g,r,d),p.target=w,p.relatedTarget=v,j=p),v=j,m&&g)t:{for(p=m,b=g,x=0,w=p;w;w=Wo(w))x++;for(w=0,j=b;j;j=Wo(j))w++;for(;0<x-w;)p=Wo(p),x--;for(;0<w-x;)b=Wo(b),w--;for(;x--;){if(p===b||b!==null&&p===b.alternate)break t;p=Wo(p),b=Wo(b)}p=null}else p=null;m!==null&&qN(f,h,m,p,!1),g!==null&&v!==null&&qN(f,v,g,p,!0)}}e:{if(h=u?dl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=Wz;else if($N(h))if(ZA)_=Gz;else{_=Hz;var S=Vz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Kz);if(_&&(_=_(e,u))){JA(f,_,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&e0(h,"number",h.value)}switch(S=u?dl(u):window,e){case"focusin":($N(S)||S.contentEditable==="true")&&(cl=S,f0=u,ad=null);break;case"focusout":ad=f0=cl=null;break;case"mousedown":h0=!0;break;case"contextmenu":case"mouseup":case"dragend":h0=!1,zN(f,r,d);break;case"selectionchange":if(Xz)break;case"keydown":case"keyup":zN(f,r,d)}var N;if(F1)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ll?QA(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(YA&&r.locale!=="ko"&&(ll||k!=="onCompositionStart"?k==="onCompositionEnd"&&ll&&(N=GA()):(Fa=d,I1="value"in Fa?Fa.value:Fa.textContent,ll=!0)),S=Fm(u,k),0<S.length&&(k=new AN(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=XA(r),N!==null&&(k.data=N)))),(N=Fz?zz(e,r):Bz(e,r))&&(u=Fm(u,"onBeforeInput"),0<u.length&&(d=new AN("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}cT(f,t)})}function Ad(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fm(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Sd(e,r),a!=null&&n.unshift(Ad(e,a,s)),a=Sd(e,t),a!=null&&n.push(Ad(e,a,s))),e=e.return}return n}function Wo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qN(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Sd(r,a),c!=null&&o.unshift(Ad(r,c,l))):s||(c=Sd(r,a),c!=null&&o.push(Ad(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var tB=/\r\n?/g,rB=/\u0000|\uFFFD/g;function WN(e){return(typeof e=="string"?e:""+e).replace(tB,`
`).replace(rB,"")}function Ph(e,t,r){if(t=WN(t),WN(e)!==t&&r)throw Error(Q(425))}function zm(){}var m0=null,p0=null;function g0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var v0=typeof setTimeout=="function"?setTimeout:void 0,nB=typeof clearTimeout=="function"?clearTimeout:void 0,VN=typeof Promise=="function"?Promise:void 0,sB=typeof queueMicrotask=="function"?queueMicrotask:typeof VN<"u"?function(e){return VN.resolve(null).then(e).catch(aB)}:v0;function aB(e){setTimeout(function(){throw e})}function Ry(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Pd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pd(t)}function Ka(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function HN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mc=Math.random().toString(36).slice(2),fs="__reactFiber$"+Mc,Td="__reactProps$"+Mc,Qs="__reactContainer$"+Mc,y0="__reactEvents$"+Mc,iB="__reactListeners$"+Mc,oB="__reactHandles$"+Mc;function qi(e){var t=e[fs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qs]||r[fs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=HN(e);e!==null;){if(r=e[fs])return r;e=HN(e)}return t}e=r,r=e.parentNode}return null}function Bf(e){return e=e[fs]||e[Qs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function Rg(e){return e[Td]||null}var x0=[],fl=-1;function vi(e){return{current:e}}function ot(e){0>fl||(e.current=x0[fl],x0[fl]=null,fl--)}function tt(e,t){fl++,x0[fl]=e.current,e.current=t}var ni={},cr=vi(ni),Ir=vi(!1),lo=ni;function Xl(e,t){var r=e.type.contextTypes;if(!r)return ni;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dr(e){return e=e.childContextTypes,e!=null}function Bm(){ot(Ir),ot(cr)}function KN(e,t,r){if(cr.current!==ni)throw Error(Q(168));tt(cr,t),tt(Ir,r)}function dT(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Q(108,V8(e)||"Unknown",s));return ht({},r,n)}function Um(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ni,lo=cr.current,tt(cr,e),tt(Ir,Ir.current),!0}function GN(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=dT(e,t,lo),n.__reactInternalMemoizedMergedChildContext=e,ot(Ir),ot(cr),tt(cr,e)):ot(Ir),tt(Ir,r)}var $s=null,Mg=!1,My=!1;function fT(e){$s===null?$s=[e]:$s.push(e)}function lB(e){Mg=!0,fT(e)}function yi(){if(!My&&$s!==null){My=!0;var e=0,t=Ve;try{var r=$s;for(Ve=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$s=null,Mg=!1}catch(s){throw $s!==null&&($s=$s.slice(e+1)),DA(T1,yi),s}finally{Ve=t,My=!1}}return null}var hl=[],ml=0,qm=null,Wm=0,gn=[],vn=0,co=null,Ls=1,Fs="";function Ti(e,t){hl[ml++]=Wm,hl[ml++]=qm,qm=e,Wm=t}function hT(e,t,r){gn[vn++]=Ls,gn[vn++]=Fs,gn[vn++]=co,co=e;var n=Ls;e=Fs;var s=32-Kn(n)-1;n&=~(1<<s),r+=1;var a=32-Kn(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ls=1<<32-Kn(t)+s|r<<s|n,Fs=a+e}else Ls=1<<a|r<<s|n,Fs=e}function B1(e){e.return!==null&&(Ti(e,1),hT(e,1,0))}function U1(e){for(;e===qm;)qm=hl[--ml],hl[ml]=null,Wm=hl[--ml],hl[ml]=null;for(;e===co;)co=gn[--vn],gn[vn]=null,Fs=gn[--vn],gn[vn]=null,Ls=gn[--vn],gn[vn]=null}var tn=null,en=null,ct=!1,Un=null;function mT(e,t){var r=yn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function YN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,en=Ka(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,en=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=co!==null?{id:Ls,overflow:Fs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tn=e,en=null,!0):!1;default:return!1}}function b0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function w0(e){if(ct){var t=en;if(t){var r=t;if(!YN(e,t)){if(b0(e))throw Error(Q(418));t=Ka(r.nextSibling);var n=tn;t&&YN(e,t)?mT(n,r):(e.flags=e.flags&-4097|2,ct=!1,tn=e)}}else{if(b0(e))throw Error(Q(418));e.flags=e.flags&-4097|2,ct=!1,tn=e}}}function QN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function Eh(e){if(e!==tn)return!1;if(!ct)return QN(e),ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!g0(e.type,e.memoizedProps)),t&&(t=en)){if(b0(e))throw pT(),Error(Q(418));for(;t;)mT(e,t),t=Ka(t.nextSibling)}if(QN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){en=Ka(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}en=null}}else en=tn?Ka(e.stateNode.nextSibling):null;return!0}function pT(){for(var e=en;e;)e=Ka(e.nextSibling)}function Jl(){en=tn=null,ct=!1}function q1(e){Un===null?Un=[e]:Un.push(e)}var cB=oa.ReactCurrentBatchConfig;function Nu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function Ch(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function XN(e){var t=e._init;return t(e._payload)}function gT(e){function t(b,x){if(e){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function s(b,x){return b=Xa(b,x),b.index=0,b.sibling=null,b}function a(b,x,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,w,j){return x===null||x.tag!==6?(x=By(w,b.mode,j),x.return=b,x):(x=s(x,w),x.return=b,x)}function c(b,x,w,j){var _=w.type;return _===ol?d(b,x,w.props.children,j,w.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ja&&XN(_)===x.type)?(j=s(x,w.props),j.ref=Nu(b,x,w),j.return=b,j):(j=_m(w.type,w.key,w.props,null,b.mode,j),j.ref=Nu(b,x,w),j.return=b,j)}function u(b,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Uy(w,b.mode,j),x.return=b,x):(x=s(x,w.children||[]),x.return=b,x)}function d(b,x,w,j,_){return x===null||x.tag!==7?(x=so(w,b.mode,j,_),x.return=b,x):(x=s(x,w),x.return=b,x)}function f(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=By(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yh:return w=_m(x.type,x.key,x.props,null,b.mode,w),w.ref=Nu(b,null,x),w.return=b,w;case il:return x=Uy(x,b.mode,w),x.return=b,x;case ja:var j=x._init;return f(b,j(x._payload),w)}if(Hu(x)||bu(x))return x=so(x,b.mode,w,null),x.return=b,x;Ch(b,x)}return null}function h(b,x,w,j){var _=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(b,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yh:return w.key===_?c(b,x,w,j):null;case il:return w.key===_?u(b,x,w,j):null;case ja:return _=w._init,h(b,x,_(w._payload),j)}if(Hu(w)||bu(w))return _!==null?null:d(b,x,w,j,null);Ch(b,w)}return null}function m(b,x,w,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(w)||null,l(x,b,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case yh:return b=b.get(j.key===null?w:j.key)||null,c(x,b,j,_);case il:return b=b.get(j.key===null?w:j.key)||null,u(x,b,j,_);case ja:var S=j._init;return m(b,x,w,S(j._payload),_)}if(Hu(j)||bu(j))return b=b.get(w)||null,d(x,b,j,_,null);Ch(x,j)}return null}function g(b,x,w,j){for(var _=null,S=null,N=x,k=x=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var E=h(b,N,w[k],j);if(E===null){N===null&&(N=C);break}e&&N&&E.alternate===null&&t(b,N),x=a(E,x,k),S===null?_=E:S.sibling=E,S=E,N=C}if(k===w.length)return r(b,N),ct&&Ti(b,k),_;if(N===null){for(;k<w.length;k++)N=f(b,w[k],j),N!==null&&(x=a(N,x,k),S===null?_=N:S.sibling=N,S=N);return ct&&Ti(b,k),_}for(N=n(b,N);k<w.length;k++)C=m(N,b,k,w[k],j),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),x=a(C,x,k),S===null?_=C:S.sibling=C,S=C);return e&&N.forEach(function(T){return t(b,T)}),ct&&Ti(b,k),_}function p(b,x,w,j){var _=bu(w);if(typeof _!="function")throw Error(Q(150));if(w=_.call(w),w==null)throw Error(Q(151));for(var S=_=null,N=x,k=x=0,C=null,E=w.next();N!==null&&!E.done;k++,E=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var T=h(b,N,E.value,j);if(T===null){N===null&&(N=C);break}e&&N&&T.alternate===null&&t(b,N),x=a(T,x,k),S===null?_=T:S.sibling=T,S=T,N=C}if(E.done)return r(b,N),ct&&Ti(b,k),_;if(N===null){for(;!E.done;k++,E=w.next())E=f(b,E.value,j),E!==null&&(x=a(E,x,k),S===null?_=E:S.sibling=E,S=E);return ct&&Ti(b,k),_}for(N=n(b,N);!E.done;k++,E=w.next())E=m(N,b,k,E.value,j),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),x=a(E,x,k),S===null?_=E:S.sibling=E,S=E);return e&&N.forEach(function(A){return t(b,A)}),ct&&Ti(b,k),_}function v(b,x,w,j){if(typeof w=="object"&&w!==null&&w.type===ol&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yh:e:{for(var _=w.key,S=x;S!==null;){if(S.key===_){if(_=w.type,_===ol){if(S.tag===7){r(b,S.sibling),x=s(S,w.props.children),x.return=b,b=x;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ja&&XN(_)===S.type){r(b,S.sibling),x=s(S,w.props),x.ref=Nu(b,S,w),x.return=b,b=x;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===ol?(x=so(w.props.children,b.mode,j,w.key),x.return=b,b=x):(j=_m(w.type,w.key,w.props,null,b.mode,j),j.ref=Nu(b,x,w),j.return=b,b=j)}return o(b);case il:e:{for(S=w.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(b,x.sibling),x=s(x,w.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=Uy(w,b.mode,j),x.return=b,b=x}return o(b);case ja:return S=w._init,v(b,x,S(w._payload),j)}if(Hu(w))return g(b,x,w,j);if(bu(w))return p(b,x,w,j);Ch(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(b,x.sibling),x=s(x,w),x.return=b,b=x):(r(b,x),x=By(w,b.mode,j),x.return=b,b=x),o(b)):r(b,x)}return v}var Zl=gT(!0),vT=gT(!1),Vm=vi(null),Hm=null,pl=null,W1=null;function V1(){W1=pl=Hm=null}function H1(e){var t=Vm.current;ot(Vm),e._currentValue=t}function j0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function kl(e,t){Hm=e,W1=pl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mr=!0),e.firstContext=null)}function kn(e){var t=e._currentValue;if(W1!==e)if(e={context:e,memoizedValue:t,next:null},pl===null){if(Hm===null)throw Error(Q(308));pl=e,Hm.dependencies={lanes:0,firstContext:e}}else pl=pl.next=e;return t}var Wi=null;function K1(e){Wi===null?Wi=[e]:Wi.push(e)}function yT(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,K1(t)):(r.next=s.next,s.next=r),t.interleaved=r,Xs(e,n)}function Xs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _a=!1;function G1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ga(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Be&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Xs(e,r)}return s=n.interleaved,s===null?(t.next=t,K1(n)):(t.next=s.next,s.next=t),n.interleaved=t,Xs(e,r)}function vm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,R1(e,r)}}function JN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Km(e,t,r,n){var s=e.updateQueue;_a=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=ht({},f,h);break e;case 2:_a=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);fo|=o,e.lanes=o,e.memoizedState=f}}function ZN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Q(191,s));s.call(n)}}}var Uf={},gs=vi(Uf),Rd=vi(Uf),Md=vi(Uf);function Vi(e){if(e===Uf)throw Error(Q(174));return e}function Y1(e,t){switch(tt(Md,t),tt(Rd,e),tt(gs,Uf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:r0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=r0(t,e)}ot(gs),tt(gs,t)}function ec(){ot(gs),ot(Rd),ot(Md)}function bT(e){Vi(Md.current);var t=Vi(gs.current),r=r0(t,e.type);t!==r&&(tt(Rd,e),tt(gs,r))}function Q1(e){Rd.current===e&&(ot(gs),ot(Rd))}var dt=vi(0);function Gm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $y=[];function X1(){for(var e=0;e<$y.length;e++)$y[e]._workInProgressVersionPrimary=null;$y.length=0}var ym=oa.ReactCurrentDispatcher,Iy=oa.ReactCurrentBatchConfig,uo=0,ft=null,Ot=null,Lt=null,Ym=!1,id=!1,$d=0,uB=0;function Qt(){throw Error(Q(321))}function J1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qn(e[r],t[r]))return!1;return!0}function Z1(e,t,r,n,s,a){if(uo=a,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ym.current=e===null||e.memoizedState===null?mB:pB,e=r(n,s),id){a=0;do{if(id=!1,$d=0,25<=a)throw Error(Q(301));a+=1,Lt=Ot=null,t.updateQueue=null,ym.current=gB,e=r(n,s)}while(id)}if(ym.current=Qm,t=Ot!==null&&Ot.next!==null,uo=0,Lt=Ot=ft=null,Ym=!1,t)throw Error(Q(300));return e}function ej(){var e=$d!==0;return $d=0,e}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ft.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Pn(){if(Ot===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=Lt===null?ft.memoizedState:Lt.next;if(t!==null)Lt=t,Ot=e;else{if(e===null)throw Error(Q(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Lt===null?ft.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function Id(e,t){return typeof t=="function"?t(e):t}function Dy(e){var t=Pn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=Ot,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((uo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,ft.lanes|=d,fo|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Qn(n,t.memoizedState)||(Mr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ft.lanes|=a,fo|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ly(e){var t=Pn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Qn(a,t.memoizedState)||(Mr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function wT(){}function jT(e,t){var r=ft,n=Pn(),s=t(),a=!Qn(n.memoizedState,s);if(a&&(n.memoizedState=s,Mr=!0),n=n.queue,tj(NT.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,Dd(9,ST.bind(null,r,n,s,t),void 0,null),zt===null)throw Error(Q(349));uo&30||_T(r,t,s)}return s}function _T(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ST(e,t,r,n){t.value=r,t.getSnapshot=n,kT(t)&&PT(e)}function NT(e,t,r){return r(function(){kT(t)&&PT(e)})}function kT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qn(e,r)}catch{return!0}}function PT(e){var t=Xs(e,1);t!==null&&Gn(t,e,1,-1)}function ek(e){var t=is();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:e},t.queue=e,e=e.dispatch=hB.bind(null,ft,e),[t.memoizedState,e]}function Dd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ET(){return Pn().memoizedState}function xm(e,t,r,n){var s=is();ft.flags|=e,s.memoizedState=Dd(1|t,r,void 0,n===void 0?null:n)}function $g(e,t,r,n){var s=Pn();n=n===void 0?null:n;var a=void 0;if(Ot!==null){var o=Ot.memoizedState;if(a=o.destroy,n!==null&&J1(n,o.deps)){s.memoizedState=Dd(t,r,a,n);return}}ft.flags|=e,s.memoizedState=Dd(1|t,r,a,n)}function tk(e,t){return xm(8390656,8,e,t)}function tj(e,t){return $g(2048,8,e,t)}function CT(e,t){return $g(4,2,e,t)}function OT(e,t){return $g(4,4,e,t)}function AT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function TT(e,t,r){return r=r!=null?r.concat([e]):null,$g(4,4,AT.bind(null,t,e),r)}function rj(){}function RT(e,t){var r=Pn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&J1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function MT(e,t){var r=Pn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&J1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $T(e,t,r){return uo&21?(Qn(r,t)||(r=zA(),ft.lanes|=r,fo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mr=!0),e.memoizedState=r)}function dB(e,t){var r=Ve;Ve=r!==0&&4>r?r:4,e(!0);var n=Iy.transition;Iy.transition={};try{e(!1),t()}finally{Ve=r,Iy.transition=n}}function IT(){return Pn().memoizedState}function fB(e,t,r){var n=Qa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},DT(e))LT(t,r);else if(r=yT(e,t,r,n),r!==null){var s=xr();Gn(r,e,n,s),FT(r,t,n)}}function hB(e,t,r){var n=Qa(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(DT(e))LT(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Qn(l,o)){var c=t.interleaved;c===null?(s.next=s,K1(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=yT(e,t,s,n),r!==null&&(s=xr(),Gn(r,e,n,s),FT(r,t,n))}}function DT(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function LT(e,t){id=Ym=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function FT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,R1(e,r)}}var Qm={readContext:kn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},mB={readContext:kn,useCallback:function(e,t){return is().memoizedState=[e,t===void 0?null:t],e},useContext:kn,useEffect:tk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xm(4194308,4,AT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xm(4194308,4,e,t)},useInsertionEffect:function(e,t){return xm(4,2,e,t)},useMemo:function(e,t){var r=is();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=is();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fB.bind(null,ft,e),[n.memoizedState,e]},useRef:function(e){var t=is();return e={current:e},t.memoizedState=e},useState:ek,useDebugValue:rj,useDeferredValue:function(e){return is().memoizedState=e},useTransition:function(){var e=ek(!1),t=e[0];return e=dB.bind(null,e[1]),is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ft,s=is();if(ct){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),zt===null)throw Error(Q(349));uo&30||_T(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,tk(NT.bind(null,n,a,e),[e]),n.flags|=2048,Dd(9,ST.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=is(),t=zt.identifierPrefix;if(ct){var r=Fs,n=Ls;r=(n&~(1<<32-Kn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$d++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uB++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pB={readContext:kn,useCallback:RT,useContext:kn,useEffect:tj,useImperativeHandle:TT,useInsertionEffect:CT,useLayoutEffect:OT,useMemo:MT,useReducer:Dy,useRef:ET,useState:function(){return Dy(Id)},useDebugValue:rj,useDeferredValue:function(e){var t=Pn();return $T(t,Ot.memoizedState,e)},useTransition:function(){var e=Dy(Id)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:wT,useSyncExternalStore:jT,useId:IT,unstable_isNewReconciler:!1},gB={readContext:kn,useCallback:RT,useContext:kn,useEffect:tj,useImperativeHandle:TT,useInsertionEffect:CT,useLayoutEffect:OT,useMemo:MT,useReducer:Ly,useRef:ET,useState:function(){return Ly(Id)},useDebugValue:rj,useDeferredValue:function(e){var t=Pn();return Ot===null?t.memoizedState=e:$T(t,Ot.memoizedState,e)},useTransition:function(){var e=Ly(Id)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:wT,useSyncExternalStore:jT,useId:IT,unstable_isNewReconciler:!1};function In(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ht({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ig={isMounted:function(e){return(e=e._reactInternals)?Eo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xr(),s=Qa(e),a=qs(n,s);a.payload=t,r!=null&&(a.callback=r),t=Ga(e,a,s),t!==null&&(Gn(t,e,s,n),vm(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xr(),s=Qa(e),a=qs(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ga(e,a,s),t!==null&&(Gn(t,e,s,n),vm(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xr(),n=Qa(e),s=qs(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ga(e,s,n),t!==null&&(Gn(t,e,n,r),vm(t,e,n))}};function rk(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Cd(r,n)||!Cd(s,a):!0}function zT(e,t,r){var n=!1,s=ni,a=t.contextType;return typeof a=="object"&&a!==null?a=kn(a):(s=Dr(t)?lo:cr.current,n=t.contextTypes,a=(n=n!=null)?Xl(e,s):ni),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ig,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function nk(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ig.enqueueReplaceState(t,t.state,null)}function S0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},G1(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=kn(a):(a=Dr(t)?lo:cr.current,s.context=Xl(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(_0(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ig.enqueueReplaceState(s,s.state,null),Km(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function tc(e,t){try{var r="",n=t;do r+=W8(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Fy(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function N0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vB=typeof WeakMap=="function"?WeakMap:Map;function BT(e,t,r){r=qs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jm||(Jm=!0,$0=n),N0(e,t)},r}function UT(e,t,r){r=qs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){N0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){N0(e,t),typeof n!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function sk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vB;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=AB.bind(null,e,t,r),t.then(e,e))}function ak(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ik(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=qs(-1,1),t.tag=2,Ga(r,t,1))),r.lanes|=1),e)}var yB=oa.ReactCurrentOwner,Mr=!1;function pr(e,t,r,n){t.child=e===null?vT(t,null,r,n):Zl(t,e.child,r,n)}function ok(e,t,r,n,s){r=r.render;var a=t.ref;return kl(t,s),n=Z1(e,t,r,n,a,s),r=ej(),e!==null&&!Mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Js(e,t,s)):(ct&&r&&B1(t),t.flags|=1,pr(e,t,n,s),t.child)}function lk(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!uj(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,qT(e,t,a,n,s)):(e=_m(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Cd,r(o,n)&&e.ref===t.ref)return Js(e,t,s)}return t.flags|=1,e=Xa(a,n),e.ref=t.ref,e.return=t,t.child=e}function qT(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Cd(a,n)&&e.ref===t.ref)if(Mr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Mr=!0);else return t.lanes=e.lanes,Js(e,t,s)}return k0(e,t,r,n,s)}function WT(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(vl,Gr),Gr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(vl,Gr),Gr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,tt(vl,Gr),Gr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,tt(vl,Gr),Gr|=n;return pr(e,t,s,r),t.child}function VT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function k0(e,t,r,n,s){var a=Dr(r)?lo:cr.current;return a=Xl(t,a),kl(t,s),r=Z1(e,t,r,n,a,s),n=ej(),e!==null&&!Mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Js(e,t,s)):(ct&&n&&B1(t),t.flags|=1,pr(e,t,r,s),t.child)}function ck(e,t,r,n,s){if(Dr(r)){var a=!0;Um(t)}else a=!1;if(kl(t,s),t.stateNode===null)bm(e,t),zT(t,r,n),S0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=kn(u):(u=Dr(r)?lo:cr.current,u=Xl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&nk(t,o,n,u),_a=!1;var h=t.memoizedState;o.state=h,Km(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Ir.current||_a?(typeof d=="function"&&(_0(t,r,d,n),c=t.memoizedState),(l=_a||rk(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,xT(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:In(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=kn(c):(c=Dr(r)?lo:cr.current,c=Xl(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&nk(t,o,n,c),_a=!1,h=t.memoizedState,o.state=h,Km(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||Ir.current||_a?(typeof m=="function"&&(_0(t,r,m,n),g=t.memoizedState),(u=_a||rk(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return P0(e,t,r,n,a,s)}function P0(e,t,r,n,s,a){VT(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&GN(t,r,!1),Js(e,t,a);n=t.stateNode,yB.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Zl(t,e.child,null,a),t.child=Zl(t,null,l,a)):pr(e,t,l,a),t.memoizedState=n.state,s&&GN(t,r,!0),t.child}function HT(e){var t=e.stateNode;t.pendingContext?KN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&KN(e,t.context,!1),Y1(e,t.containerInfo)}function uk(e,t,r,n,s){return Jl(),q1(s),t.flags|=256,pr(e,t,r,n),t.child}var E0={dehydrated:null,treeContext:null,retryLane:0};function C0(e){return{baseLanes:e,cachePool:null,transitions:null}}function KT(e,t,r){var n=t.pendingProps,s=dt.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tt(dt,s&1),e===null)return w0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Fg(o,n,0,null),e=so(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=C0(r),t.memoizedState=E0,e):nj(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xB(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Xa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Xa(l,a):(a=so(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?C0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=E0,n}return a=e.child,e=a.sibling,n=Xa(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function nj(e,t){return t=Fg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oh(e,t,r,n){return n!==null&&q1(n),Zl(t,e.child,null,r),e=nj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xB(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Fy(Error(Q(422))),Oh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Fg({mode:"visible",children:n.children},s,0,null),a=so(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Zl(t,e.child,null,o),t.child.memoizedState=C0(o),t.memoizedState=E0,a);if(!(t.mode&1))return Oh(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Q(419)),n=Fy(a,n,void 0),Oh(e,t,o,n)}if(l=(o&e.childLanes)!==0,Mr||l){if(n=zt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Xs(e,s),Gn(n,e,s,-1))}return cj(),n=Fy(Error(Q(421))),Oh(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=TB.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,en=Ka(s.nextSibling),tn=t,ct=!0,Un=null,e!==null&&(gn[vn++]=Ls,gn[vn++]=Fs,gn[vn++]=co,Ls=e.id,Fs=e.overflow,co=t),t=nj(t,n.children),t.flags|=4096,t)}function dk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),j0(e.return,t,r)}function zy(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function GT(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(pr(e,t,n.children,r),n=dt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dk(e,r,t);else if(e.tag===19)dk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(tt(dt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Gm(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),zy(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gm(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}zy(t,!0,r,null,a);break;case"together":zy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Js(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=Xa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bB(e,t,r){switch(t.tag){case 3:HT(t),Jl();break;case 5:bT(t);break;case 1:Dr(t.type)&&Um(t);break;case 4:Y1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;tt(Vm,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(tt(dt,dt.current&1),t.flags|=128,null):r&t.child.childLanes?KT(e,t,r):(tt(dt,dt.current&1),e=Js(e,t,r),e!==null?e.sibling:null);tt(dt,dt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return GT(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(dt,dt.current),n)break;return null;case 22:case 23:return t.lanes=0,WT(e,t,r)}return Js(e,t,r)}var YT,O0,QT,XT;YT=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};O0=function(){};QT=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Vi(gs.current);var a=null;switch(r){case"input":s=Jx(e,s),n=Jx(e,n),a=[];break;case"select":s=ht({},s,{value:void 0}),n=ht({},n,{value:void 0}),a=[];break;case"textarea":s=t0(e,s),n=t0(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=zm)}n0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jd.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&st("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};XT=function(e,t,r,n){r!==n&&(t.flags|=4)};function ku(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wB(e,t,r){var n=t.pendingProps;switch(U1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return Dr(t.type)&&Bm(),Xt(t),null;case 3:return n=t.stateNode,ec(),ot(Ir),ot(cr),X1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Eh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Un!==null&&(L0(Un),Un=null))),O0(e,t),Xt(t),null;case 5:Q1(t);var s=Vi(Md.current);if(r=t.type,e!==null&&t.stateNode!=null)QT(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return Xt(t),null}if(e=Vi(gs.current),Eh(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[fs]=t,n[Td]=a,e=(t.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(s=0;s<Gu.length;s++)st(Gu[s],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":bN(n,a),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},st("invalid",n);break;case"textarea":jN(n,a),st("invalid",n)}n0(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ph(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ph(n.textContent,l,e),s=["children",""+l]):jd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&st("scroll",n)}switch(r){case"input":xh(n),wN(n,a,!0);break;case"textarea":xh(n),_N(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=zm)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=NA(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fs]=t,e[Td]=n,YT(e,t,!1,!1),t.stateNode=e;e:{switch(o=s0(r,n),r){case"dialog":st("cancel",e),st("close",e),s=n;break;case"iframe":case"object":case"embed":st("load",e),s=n;break;case"video":case"audio":for(s=0;s<Gu.length;s++)st(Gu[s],e);s=n;break;case"source":st("error",e),s=n;break;case"img":case"image":case"link":st("error",e),st("load",e),s=n;break;case"details":st("toggle",e),s=n;break;case"input":bN(e,n),s=Jx(e,n),st("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ht({},n,{value:void 0}),st("invalid",e);break;case"textarea":jN(e,n),s=t0(e,n),st("invalid",e);break;default:s=n}n0(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?EA(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kA(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&_d(e,c):typeof c=="number"&&_d(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(jd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&st("scroll",e):c!=null&&P1(e,a,c,o))}switch(r){case"input":xh(e),wN(e,n,!1);break;case"textarea":xh(e),_N(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ri(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?jl(e,!!n.multiple,a,!1):n.defaultValue!=null&&jl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=zm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xt(t),null;case 6:if(e&&t.stateNode!=null)XT(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=Vi(Md.current),Vi(gs.current),Eh(t)){if(n=t.stateNode,r=t.memoizedProps,n[fs]=t,(a=n.nodeValue!==r)&&(e=tn,e!==null))switch(e.tag){case 3:Ph(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ph(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fs]=t,t.stateNode=n}return Xt(t),null;case 13:if(ot(dt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&en!==null&&t.mode&1&&!(t.flags&128))pT(),Jl(),t.flags|=98560,a=!1;else if(a=Eh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[fs]=t}else Jl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),a=!1}else Un!==null&&(L0(Un),Un=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?Tt===0&&(Tt=3):cj())),t.updateQueue!==null&&(t.flags|=4),Xt(t),null);case 4:return ec(),O0(e,t),e===null&&Od(t.stateNode.containerInfo),Xt(t),null;case 10:return H1(t.type._context),Xt(t),null;case 17:return Dr(t.type)&&Bm(),Xt(t),null;case 19:if(ot(dt),a=t.memoizedState,a===null)return Xt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)ku(a,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gm(e),o!==null){for(t.flags|=128,ku(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return tt(dt,dt.current&1|2),t.child}e=e.sibling}a.tail!==null&&bt()>rc&&(t.flags|=128,n=!0,ku(a,!1),t.lanes=4194304)}else{if(!n)if(e=Gm(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ku(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ct)return Xt(t),null}else 2*bt()-a.renderingStartTime>rc&&r!==1073741824&&(t.flags|=128,n=!0,ku(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=bt(),t.sibling=null,r=dt.current,tt(dt,n?r&1|2:r&1),t):(Xt(t),null);case 22:case 23:return lj(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gr&1073741824&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function jB(e,t){switch(U1(t),t.tag){case 1:return Dr(t.type)&&Bm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ec(),ot(Ir),ot(cr),X1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Q1(t),null;case 13:if(ot(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));Jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(dt),null;case 4:return ec(),null;case 10:return H1(t.type._context),null;case 22:case 23:return lj(),null;case 24:return null;default:return null}}var Ah=!1,er=!1,_B=typeof WeakSet=="function"?WeakSet:Set,ue=null;function gl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gt(e,t,n)}else r.current=null}function A0(e,t,r){try{r()}catch(n){gt(e,t,n)}}var fk=!1;function SB(e,t){if(m0=Dm,e=rT(),z1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===a&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(p0={focusedElem:e,selectionRange:r},Dm=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:In(t.type,p),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(j){gt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return g=fk,fk=!1,g}function od(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&A0(t,r,a)}s=s.next}while(s!==n)}}function Dg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function T0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function JT(e){var t=e.alternate;t!==null&&(e.alternate=null,JT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fs],delete t[Td],delete t[y0],delete t[iB],delete t[oB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ZT(e){return e.tag===5||e.tag===3||e.tag===4}function hk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ZT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function R0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zm));else if(n!==4&&(e=e.child,e!==null))for(R0(e,t,r),e=e.sibling;e!==null;)R0(e,t,r),e=e.sibling}function M0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(M0(e,t,r),e=e.sibling;e!==null;)M0(e,t,r),e=e.sibling}var Vt=null,Ln=!1;function pa(e,t,r){for(r=r.child;r!==null;)eR(e,t,r),r=r.sibling}function eR(e,t,r){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(Cg,r)}catch{}switch(r.tag){case 5:er||gl(r,t);case 6:var n=Vt,s=Ln;Vt=null,pa(e,t,r),Vt=n,Ln=s,Vt!==null&&(Ln?(e=Vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vt.removeChild(r.stateNode));break;case 18:Vt!==null&&(Ln?(e=Vt,r=r.stateNode,e.nodeType===8?Ry(e.parentNode,r):e.nodeType===1&&Ry(e,r),Pd(e)):Ry(Vt,r.stateNode));break;case 4:n=Vt,s=Ln,Vt=r.stateNode.containerInfo,Ln=!0,pa(e,t,r),Vt=n,Ln=s;break;case 0:case 11:case 14:case 15:if(!er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&A0(r,t,o),s=s.next}while(s!==n)}pa(e,t,r);break;case 1:if(!er&&(gl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){gt(r,t,l)}pa(e,t,r);break;case 21:pa(e,t,r);break;case 22:r.mode&1?(er=(n=er)||r.memoizedState!==null,pa(e,t,r),er=n):pa(e,t,r);break;default:pa(e,t,r)}}function mk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _B),t.forEach(function(n){var s=RB.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function An(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Vt=l.stateNode,Ln=!1;break e;case 3:Vt=l.stateNode.containerInfo,Ln=!0;break e;case 4:Vt=l.stateNode.containerInfo,Ln=!0;break e}l=l.return}if(Vt===null)throw Error(Q(160));eR(a,o,s),Vt=null,Ln=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){gt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tR(t,e),t=t.sibling}function tR(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(t,e),ss(e),n&4){try{od(3,e,e.return),Dg(3,e)}catch(p){gt(e,e.return,p)}try{od(5,e,e.return)}catch(p){gt(e,e.return,p)}}break;case 1:An(t,e),ss(e),n&512&&r!==null&&gl(r,r.return);break;case 5:if(An(t,e),ss(e),n&512&&r!==null&&gl(r,r.return),e.flags&32){var s=e.stateNode;try{_d(s,"")}catch(p){gt(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&_A(s,a),s0(l,o);var u=s0(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?EA(s,f):d==="dangerouslySetInnerHTML"?kA(s,f):d==="children"?_d(s,f):P1(s,d,f,u)}switch(l){case"input":Zx(s,a);break;case"textarea":SA(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?jl(s,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?jl(s,!!a.multiple,a.defaultValue,!0):jl(s,!!a.multiple,a.multiple?[]:"",!1))}s[Td]=a}catch(p){gt(e,e.return,p)}}break;case 6:if(An(t,e),ss(e),n&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){gt(e,e.return,p)}}break;case 3:if(An(t,e),ss(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pd(t.containerInfo)}catch(p){gt(e,e.return,p)}break;case 4:An(t,e),ss(e);break;case 13:An(t,e),ss(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ij=bt())),n&4&&mk(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(er=(u=er)||d,An(t,e),er=u):An(t,e),ss(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ue=e,d=e.child;d!==null;){for(f=ue=d;ue!==null;){switch(h=ue,m=h.child,h.tag){case 0:case 11:case 14:case 15:od(4,h,h.return);break;case 1:gl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){gt(n,r,p)}}break;case 5:gl(h,h.return);break;case 22:if(h.memoizedState!==null){gk(f);continue}}m!==null?(m.return=h,ue=m):gk(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=PA("display",o))}catch(p){gt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){gt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:An(t,e),ss(e),n&4&&mk(e);break;case 21:break;default:An(t,e),ss(e)}}function ss(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ZT(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(_d(s,""),n.flags&=-33);var a=hk(e);M0(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=hk(e);R0(e,l,o);break;default:throw Error(Q(161))}}catch(c){gt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NB(e,t,r){ue=e,rR(e)}function rR(e,t,r){for(var n=(e.mode&1)!==0;ue!==null;){var s=ue,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ah;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||er;l=Ah;var u=er;if(Ah=o,(er=c)&&!u)for(ue=s;ue!==null;)o=ue,c=o.child,o.tag===22&&o.memoizedState!==null?vk(s):c!==null?(c.return=o,ue=c):vk(s);for(;a!==null;)ue=a,rR(a),a=a.sibling;ue=s,Ah=l,er=u}pk(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ue=a):pk(e)}}function pk(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||Dg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!er)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:In(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ZN(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ZN(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}er||t.flags&512&&T0(t)}catch(h){gt(t,t.return,h)}}if(t===e){ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}function gk(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ue=r;break}ue=t.return}}function vk(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Dg(4,t)}catch(c){gt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){gt(t,s,c)}}var a=t.return;try{T0(t)}catch(c){gt(t,a,c)}break;case 5:var o=t.return;try{T0(t)}catch(c){gt(t,o,c)}}}catch(c){gt(t,t.return,c)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var kB=Math.ceil,Xm=oa.ReactCurrentDispatcher,sj=oa.ReactCurrentOwner,bn=oa.ReactCurrentBatchConfig,Be=0,zt=null,kt=null,Kt=0,Gr=0,vl=vi(0),Tt=0,Ld=null,fo=0,Lg=0,aj=0,ld=null,Tr=null,ij=0,rc=1/0,Rs=null,Jm=!1,$0=null,Ya=null,Th=!1,za=null,Zm=0,cd=0,I0=null,wm=-1,jm=0;function xr(){return Be&6?bt():wm!==-1?wm:wm=bt()}function Qa(e){return e.mode&1?Be&2&&Kt!==0?Kt&-Kt:cB.transition!==null?(jm===0&&(jm=zA()),jm):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:KA(e.type)),e):1}function Gn(e,t,r,n){if(50<cd)throw cd=0,I0=null,Error(Q(185));Ff(e,r,n),(!(Be&2)||e!==zt)&&(e===zt&&(!(Be&2)&&(Lg|=r),Tt===4&&Pa(e,Kt)),Lr(e,n),r===1&&Be===0&&!(t.mode&1)&&(rc=bt()+500,Mg&&yi()))}function Lr(e,t){var r=e.callbackNode;cz(e,t);var n=Im(e,e===zt?Kt:0);if(n===0)r!==null&&kN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&kN(r),t===1)e.tag===0?lB(yk.bind(null,e)):fT(yk.bind(null,e)),sB(function(){!(Be&6)&&yi()}),r=null;else{switch(BA(n)){case 1:r=T1;break;case 4:r=LA;break;case 16:r=$m;break;case 536870912:r=FA;break;default:r=$m}r=uR(r,nR.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nR(e,t){if(wm=-1,jm=0,Be&6)throw Error(Q(327));var r=e.callbackNode;if(Pl()&&e.callbackNode!==r)return null;var n=Im(e,e===zt?Kt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ep(e,n);else{t=n;var s=Be;Be|=2;var a=aR();(zt!==e||Kt!==t)&&(Rs=null,rc=bt()+500,no(e,t));do try{CB();break}catch(l){sR(e,l)}while(!0);V1(),Xm.current=a,Be=s,kt!==null?t=0:(zt=null,Kt=0,t=Tt)}if(t!==0){if(t===2&&(s=c0(e),s!==0&&(n=s,t=D0(e,s))),t===1)throw r=Ld,no(e,0),Pa(e,n),Lr(e,bt()),r;if(t===6)Pa(e,n);else{if(s=e.current.alternate,!(n&30)&&!PB(s)&&(t=ep(e,n),t===2&&(a=c0(e),a!==0&&(n=a,t=D0(e,a))),t===1))throw r=Ld,no(e,0),Pa(e,n),Lr(e,bt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:Ri(e,Tr,Rs);break;case 3:if(Pa(e,n),(n&130023424)===n&&(t=ij+500-bt(),10<t)){if(Im(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=v0(Ri.bind(null,e,Tr,Rs),t);break}Ri(e,Tr,Rs);break;case 4:if(Pa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Kn(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kB(n/1960))-n,10<n){e.timeoutHandle=v0(Ri.bind(null,e,Tr,Rs),n);break}Ri(e,Tr,Rs);break;case 5:Ri(e,Tr,Rs);break;default:throw Error(Q(329))}}}return Lr(e,bt()),e.callbackNode===r?nR.bind(null,e):null}function D0(e,t){var r=ld;return e.current.memoizedState.isDehydrated&&(no(e,t).flags|=256),e=ep(e,t),e!==2&&(t=Tr,Tr=r,t!==null&&L0(t)),e}function L0(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function PB(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Qn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pa(e,t){for(t&=~aj,t&=~Lg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kn(t),n=1<<r;e[r]=-1,t&=~n}}function yk(e){if(Be&6)throw Error(Q(327));Pl();var t=Im(e,0);if(!(t&1))return Lr(e,bt()),null;var r=ep(e,t);if(e.tag!==0&&r===2){var n=c0(e);n!==0&&(t=n,r=D0(e,n))}if(r===1)throw r=Ld,no(e,0),Pa(e,t),Lr(e,bt()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ri(e,Tr,Rs),Lr(e,bt()),null}function oj(e,t){var r=Be;Be|=1;try{return e(t)}finally{Be=r,Be===0&&(rc=bt()+500,Mg&&yi())}}function ho(e){za!==null&&za.tag===0&&!(Be&6)&&Pl();var t=Be;Be|=1;var r=bn.transition,n=Ve;try{if(bn.transition=null,Ve=1,e)return e()}finally{Ve=n,bn.transition=r,Be=t,!(Be&6)&&yi()}}function lj(){Gr=vl.current,ot(vl)}function no(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nB(r)),kt!==null)for(r=kt.return;r!==null;){var n=r;switch(U1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bm();break;case 3:ec(),ot(Ir),ot(cr),X1();break;case 5:Q1(n);break;case 4:ec();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:H1(n.type._context);break;case 22:case 23:lj()}r=r.return}if(zt=e,kt=e=Xa(e.current,null),Kt=Gr=t,Tt=0,Ld=null,aj=Lg=fo=0,Tr=ld=null,Wi!==null){for(t=0;t<Wi.length;t++)if(r=Wi[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Wi=null}return e}function sR(e,t){do{var r=kt;try{if(V1(),ym.current=Qm,Ym){for(var n=ft.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ym=!1}if(uo=0,Lt=Ot=ft=null,id=!1,$d=0,sj.current=null,r===null||r.return===null){Tt=1,Ld=t,kt=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ak(o);if(m!==null){m.flags&=-257,ik(m,o,l,a,t),m.mode&1&&sk(a,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){sk(a,u,t),cj();break e}c=Error(Q(426))}}else if(ct&&l.mode&1){var v=ak(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ik(v,o,l,a,t),q1(tc(c,l));break e}}a=c=tc(c,l),Tt!==4&&(Tt=2),ld===null?ld=[a]:ld.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=BT(a,c,t);JN(a,b);break e;case 1:l=c;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ya===null||!Ya.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=UT(a,l,t);JN(a,j);break e}}a=a.return}while(a!==null)}oR(r)}catch(_){t=_,kt===r&&r!==null&&(kt=r=r.return);continue}break}while(!0)}function aR(){var e=Xm.current;return Xm.current=Qm,e===null?Qm:e}function cj(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),zt===null||!(fo&268435455)&&!(Lg&268435455)||Pa(zt,Kt)}function ep(e,t){var r=Be;Be|=2;var n=aR();(zt!==e||Kt!==t)&&(Rs=null,no(e,t));do try{EB();break}catch(s){sR(e,s)}while(!0);if(V1(),Be=r,Xm.current=n,kt!==null)throw Error(Q(261));return zt=null,Kt=0,Tt}function EB(){for(;kt!==null;)iR(kt)}function CB(){for(;kt!==null&&!ez();)iR(kt)}function iR(e){var t=cR(e.alternate,e,Gr);e.memoizedProps=e.pendingProps,t===null?oR(e):kt=t,sj.current=null}function oR(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jB(r,t),r!==null){r.flags&=32767,kt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,kt=null;return}}else if(r=wB(r,t,Gr),r!==null){kt=r;return}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);Tt===0&&(Tt=5)}function Ri(e,t,r){var n=Ve,s=bn.transition;try{bn.transition=null,Ve=1,OB(e,t,r,n)}finally{bn.transition=s,Ve=n}return null}function OB(e,t,r,n){do Pl();while(za!==null);if(Be&6)throw Error(Q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(uz(e,a),e===zt&&(kt=zt=null,Kt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Th||(Th=!0,uR($m,function(){return Pl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=bn.transition,bn.transition=null;var o=Ve;Ve=1;var l=Be;Be|=4,sj.current=null,SB(e,r),tR(r,e),Qz(p0),Dm=!!m0,p0=m0=null,e.current=r,NB(r),tz(),Be=l,Ve=o,bn.transition=a}else e.current=r;if(Th&&(Th=!1,za=e,Zm=s),a=e.pendingLanes,a===0&&(Ya=null),sz(r.stateNode),Lr(e,bt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Jm)throw Jm=!1,e=$0,$0=null,e;return Zm&1&&e.tag!==0&&Pl(),a=e.pendingLanes,a&1?e===I0?cd++:(cd=0,I0=e):cd=0,yi(),null}function Pl(){if(za!==null){var e=BA(Zm),t=bn.transition,r=Ve;try{if(bn.transition=null,Ve=16>e?16:e,za===null)var n=!1;else{if(e=za,za=null,Zm=0,Be&6)throw Error(Q(331));var s=Be;for(Be|=4,ue=e.current;ue!==null;){var a=ue,o=a.child;if(ue.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ue=u;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:od(8,d,a)}var f=d.child;if(f!==null)f.return=d,ue=f;else for(;ue!==null;){d=ue;var h=d.sibling,m=d.return;if(JT(d),d===u){ue=null;break}if(h!==null){h.return=m,ue=h;break}ue=m}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}ue=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ue=o;else e:for(;ue!==null;){if(a=ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:od(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,ue=b;break e}ue=a.return}}var x=e.current;for(ue=x;ue!==null;){o=ue;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ue=w;else e:for(o=x;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Dg(9,l)}}catch(_){gt(l,l.return,_)}if(l===o){ue=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ue=j;break e}ue=l.return}}if(Be=s,yi(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(Cg,e)}catch{}n=!0}return n}finally{Ve=r,bn.transition=t}}return!1}function xk(e,t,r){t=tc(r,t),t=BT(e,t,1),e=Ga(e,t,1),t=xr(),e!==null&&(Ff(e,1,t),Lr(e,t))}function gt(e,t,r){if(e.tag===3)xk(e,e,r);else for(;t!==null;){if(t.tag===3){xk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ya===null||!Ya.has(n))){e=tc(r,e),e=UT(t,e,1),t=Ga(t,e,1),e=xr(),t!==null&&(Ff(t,1,e),Lr(t,e));break}}t=t.return}}function AB(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xr(),e.pingedLanes|=e.suspendedLanes&r,zt===e&&(Kt&r)===r&&(Tt===4||Tt===3&&(Kt&130023424)===Kt&&500>bt()-ij?no(e,0):aj|=r),Lr(e,t)}function lR(e,t){t===0&&(e.mode&1?(t=jh,jh<<=1,!(jh&130023424)&&(jh=4194304)):t=1);var r=xr();e=Xs(e,t),e!==null&&(Ff(e,t,r),Lr(e,r))}function TB(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lR(e,r)}function RB(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),lR(e,r)}var cR;cR=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Mr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Mr=!1,bB(e,t,r);Mr=!!(e.flags&131072)}else Mr=!1,ct&&t.flags&1048576&&hT(t,Wm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bm(e,t),e=t.pendingProps;var s=Xl(t,cr.current);kl(t,r),s=Z1(null,t,n,e,s,r);var a=ej();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dr(n)?(a=!0,Um(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,G1(t),s.updater=Ig,t.stateNode=s,s._reactInternals=t,S0(t,n,e,r),t=P0(null,t,n,!0,a,r)):(t.tag=0,ct&&a&&B1(t),pr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bm(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=$B(n),e=In(n,e),s){case 0:t=k0(null,t,n,e,r);break e;case 1:t=ck(null,t,n,e,r);break e;case 11:t=ok(null,t,n,e,r);break e;case 14:t=lk(null,t,n,In(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:In(n,s),k0(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:In(n,s),ck(e,t,n,s,r);case 3:e:{if(HT(t),e===null)throw Error(Q(387));n=t.pendingProps,a=t.memoizedState,s=a.element,xT(e,t),Km(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=tc(Error(Q(423)),t),t=uk(e,t,n,r,s);break e}else if(n!==s){s=tc(Error(Q(424)),t),t=uk(e,t,n,r,s);break e}else for(en=Ka(t.stateNode.containerInfo.firstChild),tn=t,ct=!0,Un=null,r=vT(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jl(),n===s){t=Js(e,t,r);break e}pr(e,t,n,r)}t=t.child}return t;case 5:return bT(t),e===null&&w0(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,g0(n,s)?o=null:a!==null&&g0(n,a)&&(t.flags|=32),VT(e,t),pr(e,t,o,r),t.child;case 6:return e===null&&w0(t),null;case 13:return KT(e,t,r);case 4:return Y1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zl(t,null,n,r):pr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:In(n,s),ok(e,t,n,s,r);case 7:return pr(e,t,t.pendingProps,r),t.child;case 8:return pr(e,t,t.pendingProps.children,r),t.child;case 12:return pr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,tt(Vm,n._currentValue),n._currentValue=o,a!==null)if(Qn(a.value,o)){if(a.children===s.children&&!Ir.current){t=Js(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=qs(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),j0(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),j0(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}pr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,kl(t,r),s=kn(s),n=n(s),t.flags|=1,pr(e,t,n,r),t.child;case 14:return n=t.type,s=In(n,t.pendingProps),s=In(n.type,s),lk(e,t,n,s,r);case 15:return qT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:In(n,s),bm(e,t),t.tag=1,Dr(n)?(e=!0,Um(t)):e=!1,kl(t,r),zT(t,n,s),S0(t,n,s,r),P0(null,t,n,!0,e,r);case 19:return GT(e,t,r);case 22:return WT(e,t,r)}throw Error(Q(156,t.tag))};function uR(e,t){return DA(e,t)}function MB(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,r,n){return new MB(e,t,r,n)}function uj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $B(e){if(typeof e=="function")return uj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===C1)return 11;if(e===O1)return 14}return 2}function Xa(e,t){var r=e.alternate;return r===null?(r=yn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _m(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")uj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ol:return so(r.children,s,a,t);case E1:o=8,s|=8;break;case Gx:return e=yn(12,r,t,s|2),e.elementType=Gx,e.lanes=a,e;case Yx:return e=yn(13,r,t,s),e.elementType=Yx,e.lanes=a,e;case Qx:return e=yn(19,r,t,s),e.elementType=Qx,e.lanes=a,e;case bA:return Fg(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yA:o=10;break e;case xA:o=9;break e;case C1:o=11;break e;case O1:o=14;break e;case ja:o=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=yn(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function so(e,t,r,n){return e=yn(7,e,n,t),e.lanes=r,e}function Fg(e,t,r,n){return e=yn(22,e,n,t),e.elementType=bA,e.lanes=r,e.stateNode={isHidden:!1},e}function By(e,t,r){return e=yn(6,e,null,t),e.lanes=r,e}function Uy(e,t,r){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IB(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jy(0),this.expirationTimes=jy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jy(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dj(e,t,r,n,s,a,o,l,c){return e=new IB(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=yn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},G1(a),e}function DB(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dR(e){if(!e)return ni;e=e._reactInternals;e:{if(Eo(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(Dr(r))return dT(e,r,t)}return t}function fR(e,t,r,n,s,a,o,l,c){return e=dj(r,n,!0,e,s,a,o,l,c),e.context=dR(null),r=e.current,n=xr(),s=Qa(r),a=qs(n,s),a.callback=t??null,Ga(r,a,s),e.current.lanes=s,Ff(e,s,n),Lr(e,n),e}function zg(e,t,r,n){var s=t.current,a=xr(),o=Qa(s);return r=dR(r),t.context===null?t.context=r:t.pendingContext=r,t=qs(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ga(s,t,o),e!==null&&(Gn(e,s,o,a),vm(e,s,o)),o}function tp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fj(e,t){bk(e,t),(e=e.alternate)&&bk(e,t)}function LB(){return null}var hR=typeof reportError=="function"?reportError:function(e){console.error(e)};function hj(e){this._internalRoot=e}Bg.prototype.render=hj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));zg(e,t,null,null)};Bg.prototype.unmount=hj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ho(function(){zg(null,e,null,null)}),t[Qs]=null}};function Bg(e){this._internalRoot=e}Bg.prototype.unstable_scheduleHydration=function(e){if(e){var t=WA();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ka.length&&t!==0&&t<ka[r].priority;r++);ka.splice(r,0,e),r===0&&HA(e)}};function mj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ug(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wk(){}function FB(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=tp(o);a.call(u)}}var o=fR(t,n,e,0,null,!1,!1,"",wk);return e._reactRootContainer=o,e[Qs]=o.current,Od(e.nodeType===8?e.parentNode:e),ho(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=tp(c);l.call(u)}}var c=dj(e,0,!1,null,null,!1,!1,"",wk);return e._reactRootContainer=c,e[Qs]=c.current,Od(e.nodeType===8?e.parentNode:e),ho(function(){zg(t,c,r,n)}),c}function qg(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=tp(o);l.call(c)}}zg(t,o,e,s)}else o=FB(r,t,e,s,n);return tp(o)}UA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ku(t.pendingLanes);r!==0&&(R1(t,r|1),Lr(t,bt()),!(Be&6)&&(rc=bt()+500,yi()))}break;case 13:ho(function(){var n=Xs(e,1);if(n!==null){var s=xr();Gn(n,e,1,s)}}),fj(e,1)}};M1=function(e){if(e.tag===13){var t=Xs(e,134217728);if(t!==null){var r=xr();Gn(t,e,134217728,r)}fj(e,134217728)}};qA=function(e){if(e.tag===13){var t=Qa(e),r=Xs(e,t);if(r!==null){var n=xr();Gn(r,e,t,n)}fj(e,t)}};WA=function(){return Ve};VA=function(e,t){var r=Ve;try{return Ve=e,t()}finally{Ve=r}};i0=function(e,t,r){switch(t){case"input":if(Zx(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Rg(n);if(!s)throw Error(Q(90));jA(n),Zx(n,s)}}}break;case"textarea":SA(e,r);break;case"select":t=r.value,t!=null&&jl(e,!!r.multiple,t,!1)}};AA=oj;TA=ho;var zB={usingClientEntryPoint:!1,Events:[Bf,dl,Rg,CA,OA,oj]},Pu={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BB={bundleType:Pu.bundleType,version:Pu.version,rendererPackageName:Pu.rendererPackageName,rendererConfig:Pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$A(e),e===null?null:e.stateNode},findFiberByHostInstance:Pu.findFiberByHostInstance||LB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{Cg=Rh.inject(BB),ps=Rh}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zB;an.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mj(t))throw Error(Q(200));return DB(e,t,null,r)};an.createRoot=function(e,t){if(!mj(e))throw Error(Q(299));var r=!1,n="",s=hR;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=dj(e,1,!1,null,null,r,!1,n,s),e[Qs]=t.current,Od(e.nodeType===8?e.parentNode:e),new hj(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=$A(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return ho(e)};an.hydrate=function(e,t,r){if(!Ug(t))throw Error(Q(200));return qg(null,e,t,!0,r)};an.hydrateRoot=function(e,t,r){if(!mj(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=hR;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fR(t,null,e,1,r??null,s,!1,a,o),e[Qs]=t.current,Od(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Bg(t)};an.render=function(e,t,r){if(!Ug(t))throw Error(Q(200));return qg(null,e,t,!1,r)};an.unmountComponentAtNode=function(e){if(!Ug(e))throw Error(Q(40));return e._reactRootContainer?(ho(function(){qg(null,null,e,!1,function(){e._reactRootContainer=null,e[Qs]=null})}),!0):!1};an.unstable_batchedUpdates=oj;an.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ug(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return qg(e,t,r,!1,n)};an.version="18.3.1-next-f1338f8080-20240426";function mR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mR)}catch(e){console.error(e)}}mR(),mA.exports=an;var Co=mA.exports;const pR=Ye(Co);var gR,jk=Co;gR=jk.createRoot,jk.hydrateRoot;const UB=1,qB=1e6;let qy=0;function WB(){return qy=(qy+1)%Number.MAX_SAFE_INTEGER,qy.toString()}const Wy=new Map,_k=e=>{if(Wy.has(e))return;const t=setTimeout(()=>{Wy.delete(e),ud({type:"REMOVE_TOAST",toastId:e})},qB);Wy.set(e,t)},VB=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,UB)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?_k(r):e.toasts.forEach(n=>{_k(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Sm=[];let Nm={toasts:[]};function ud(e){Nm=VB(Nm,e),Sm.forEach(t=>{t(Nm)})}function Ae({...e}){const t=WB(),r=s=>ud({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>ud({type:"DISMISS_TOAST",toastId:t});return ud({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Zn(){const[e,t]=P.useState(Nm);return P.useEffect(()=>(Sm.push(t),()=>{const r=Sm.indexOf(t);r>-1&&Sm.splice(r,1)}),[e]),{...e,toast:Ae,dismiss:r=>ud({type:"DISMISS_TOAST",toastId:r})}}function X(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function HB(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Wg(...e){return t=>e.forEach(r=>HB(r,t))}function _e(...e){return y.useCallback(Wg(...e),e)}function KB(e,t=[]){let r=[];function n(a,o){const l=y.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,v=y.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,GB(s,...t)]}function GB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Zs=y.forwardRef((e,t)=>{const{children:r,...n}=e,s=y.Children.toArray(r),a=s.find(YB);if(a){const o=a.props.children,l=s.map(c=>c===a?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return i.jsx(F0,{...n,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return i.jsx(F0,{...n,ref:t,children:r})});Zs.displayName="Slot";var F0=y.forwardRef((e,t)=>{const{children:r,...n}=e;if(y.isValidElement(r)){const s=XB(r);return y.cloneElement(r,{...QB(n,r.props),ref:t?Wg(t,s):s})}return y.Children.count(r)>1?y.Children.only(null):null});F0.displayName="SlotClone";var pj=({children:e})=>i.jsx(i.Fragment,{children:e});function YB(e){return y.isValidElement(e)&&e.type===pj}function QB(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function XB(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function $c(e){const t=e+"CollectionProvider",[r,n]=KB(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:p}=m,v=P.useRef(null),b=P.useRef(new Map).current;return i.jsx(s,{scope:g,itemMap:b,collectionRef:v,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=P.forwardRef((m,g)=>{const{scope:p,children:v}=m,b=a(l,p),x=_e(g,b.collectionRef);return i.jsx(Zs,{ref:x,children:v})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=P.forwardRef((m,g)=>{const{scope:p,children:v,...b}=m,x=P.useRef(null),w=_e(g,x),j=a(u,p);return P.useEffect(()=>(j.itemMap.set(x,{ref:x,...b}),()=>void j.itemMap.delete(x))),i.jsx(Zs,{[d]:"",ref:w,children:v})});f.displayName=u;function h(m){const g=a(e+"CollectionConsumer",m);return P.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((j,_)=>b.indexOf(j.ref.current)-b.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}function JB(e,t){const r=y.createContext(t),n=a=>{const{children:o,...l}=a,c=y.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function ur(e,t=[]){let r=[];function n(a,o){const l=y.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,ZB(s,...t)]}function ZB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var eU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],fe=eU.reduce((e,t)=>{const r=y.forwardRef((n,s)=>{const{asChild:a,...o}=n,l=a?Zs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function gj(e,t){e&&Co.flushSync(()=>e.dispatchEvent(t))}function Yt(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function tU(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e);y.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var rU="DismissableLayer",z0="dismissableLayer.update",nU="dismissableLayer.pointerDownOutside",sU="dismissableLayer.focusOutside",Sk,vR=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ic=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(vR),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),g=_e(t,N=>f(N)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(v),x=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=b,_=iU(N=>{const k=N.target,C=[...u.branches].some(E=>E.contains(k));!j||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=oU(N=>{const k=N.target;[...u.branches].some(E=>E.contains(k))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return tU(N=>{x===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Sk=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Nk(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Sk)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Nk())},[d,u]),y.useEffect(()=>{const N=()=>m({});return document.addEventListener(z0,N),()=>document.removeEventListener(z0,N)},[]),i.jsx(fe.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,S.onFocusCapture),onBlurCapture:X(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,_.onPointerDownCapture)})});Ic.displayName=rU;var aU="DismissableLayerBranch",yR=y.forwardRef((e,t)=>{const r=y.useContext(vR),n=y.useRef(null),s=_e(t,n);return y.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(fe.div,{...e,ref:s})});yR.displayName=aU;function iU(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){xR(nU,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function oU(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=y.useRef(!1);return y.useEffect(()=>{const s=a=>{a.target&&!n.current&&xR(sU,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Nk(){const e=new CustomEvent(z0);document.dispatchEvent(e)}function xR(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?gj(s,a):s.dispatchEvent(a)}var lU=Ic,cU=yR,Mt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},uU="Portal",qf=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=y.useState(!1);Mt(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?pR.createPortal(i.jsx(fe.div,{...n,ref:t}),o):null});qf.displayName=uU;function dU(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var zr=e=>{const{present:t,children:r}=e,n=fU(t),s=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),a=_e(n.ref,hU(s));return typeof r=="function"||n.isPresent?y.cloneElement(s,{ref:a}):null};zr.displayName="Presence";function fU(e){const[t,r]=y.useState(),n=y.useRef({}),s=y.useRef(e),a=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=dU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Mh(n.current);a.current=l==="mounted"?u:"none"},[l]),Mt(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,m=Mh(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Mt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Mh(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(a.current=Mh(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Mh(e){return(e==null?void 0:e.animationName)||"none"}function hU(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Fr({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=mU({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,l=Yt(r),c=y.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[o,c]}function mU({defaultProp:e,onChange:t}){const r=y.useState(e),[n]=r,s=y.useRef(n),a=Yt(t);return y.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var pU="VisuallyHidden",Wf=y.forwardRef((e,t)=>i.jsx(fe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Wf.displayName=pU;var gU=Wf,vj="ToastProvider",[yj,vU,yU]=$c("Toast"),[bR,t2e]=ur("Toast",[yU]),[xU,Vg]=bR(vj),wR=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${vj}\`. Expected non-empty \`string\`.`),i.jsx(yj.Provider,{scope:t,children:i.jsx(xU,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};wR.displayName=vj;var jR="ToastViewport",bU=["F8"],B0="toast.viewportPause",U0="toast.viewportResume",_R=y.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=bU,label:s="Notifications ({hotkey})",...a}=e,o=Vg(jR,r),l=vU(r),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=_e(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;y.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(j=>b[j]||b.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),y.useEffect(()=>{const v=c.current,b=f.current;if(g&&v&&b){const x=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(B0);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(U0);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!v.contains(S.relatedTarget)&&w()},_=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",j),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=y.useCallback(({tabbingDirection:v})=>{const x=l().map(w=>{const j=w.ref.current,_=[j,...RU(j)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return y.useEffect(()=>{const v=f.current;if(v){const b=x=>{var _,S,N;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const k=document.activeElement,C=x.shiftKey;if(x.target===v&&C){(_=u.current)==null||_.focus();return}const A=p({tabbingDirection:C?"backwards":"forwards"}),D=A.findIndex(R=>R===k);Vy(A.slice(D+1))?x.preventDefault():C?(S=u.current)==null||S.focus():(N=d.current)==null||N.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,p]),i.jsxs(cU,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(q0,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});Vy(v)}}),i.jsx(yj.Slot,{scope:r,children:i.jsx(fe.ol,{tabIndex:-1,...a,ref:h})}),g&&i.jsx(q0,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});Vy(v)}})]})});_R.displayName=jR;var SR="ToastFocusProxy",q0=y.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=Vg(SR,r);return i.jsx(Wf,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});q0.displayName=SR;var Hg="Toast",wU="toast.swipeStart",jU="toast.swipeMove",_U="toast.swipeCancel",SU="toast.swipeEnd",NR=y.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=Fr({prop:n,defaultProp:s,onChange:a});return i.jsx(zr,{present:r||l,children:i.jsx(PU,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Yt(e.onPause),onResume:Yt(e.onResume),onSwipeStart:X(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:X(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});NR.displayName=Hg;var[NU,kU]=bR(Hg,{onClose(){}}),PU=y.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,p=Vg(Hg,r),[v,b]=y.useState(null),x=_e(t,R=>b(R)),w=y.useRef(null),j=y.useRef(null),_=s||p.duration,S=y.useRef(0),N=y.useRef(_),k=y.useRef(0),{onToastAdd:C,onToastRemove:E}=p,T=Yt(()=>{var L;(v==null?void 0:v.contains(document.activeElement))&&((L=p.viewport)==null||L.focus()),o()}),A=y.useCallback(R=>{!R||R===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(T,R))},[T]);y.useEffect(()=>{const R=p.viewport;if(R){const L=()=>{A(N.current),u==null||u()},I=()=>{const F=new Date().getTime()-S.current;N.current=N.current-F,window.clearTimeout(k.current),c==null||c()};return R.addEventListener(B0,I),R.addEventListener(U0,L),()=>{R.removeEventListener(B0,I),R.removeEventListener(U0,L)}}},[p.viewport,_,c,u,A]),y.useEffect(()=>{a&&!p.isClosePausedRef.current&&A(_)},[a,_,p.isClosePausedRef,A]),y.useEffect(()=>(C(),()=>E()),[C,E]);const D=y.useMemo(()=>v?TR(v):null,[v]);return p.viewport?i.jsxs(i.Fragment,{children:[D&&i.jsx(EU,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),i.jsx(NU,{scope:r,onClose:T,children:Co.createPortal(i.jsx(yj.ItemSlot,{scope:r,children:i.jsx(lU,{asChild:!0,onEscapeKeyDown:X(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||T(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:X(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:X(e.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:X(e.onPointerMove,R=>{if(!w.current)return;const L=R.clientX-w.current.x,I=R.clientY-w.current.y,F=!!j.current,O=["left","right"].includes(p.swipeDirection),$=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,H=O?$(0,L):0,z=O?0:$(0,I),B=R.pointerType==="touch"?10:2,Y={x:H,y:z},oe={originalEvent:R,delta:Y};F?(j.current=Y,$h(jU,f,oe,{discrete:!1})):kk(Y,p.swipeDirection,B)?(j.current=Y,$h(wU,d,oe,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(L)>B||Math.abs(I)>B)&&(w.current=null)}),onPointerUp:X(e.onPointerUp,R=>{const L=j.current,I=R.target;if(I.hasPointerCapture(R.pointerId)&&I.releasePointerCapture(R.pointerId),j.current=null,w.current=null,L){const F=R.currentTarget,O={originalEvent:R,delta:L};kk(L,p.swipeDirection,p.swipeThreshold)?$h(SU,m,O,{discrete:!0}):$h(_U,h,O,{discrete:!0}),F.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),EU=e=>{const{__scopeToast:t,children:r,...n}=e,s=Vg(Hg,t),[a,o]=y.useState(!1),[l,c]=y.useState(!1);return AU(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(qf,{asChild:!0,children:i.jsx(Wf,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},CU="ToastTitle",kR=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(fe.div,{...n,ref:t})});kR.displayName=CU;var OU="ToastDescription",PR=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(fe.div,{...n,ref:t})});PR.displayName=OU;var ER="ToastAction",CR=y.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(AR,{altText:r,asChild:!0,children:i.jsx(xj,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ER}\`. Expected non-empty \`string\`.`),null)});CR.displayName=ER;var OR="ToastClose",xj=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=kU(OR,r);return i.jsx(AR,{asChild:!0,children:i.jsx(fe.button,{type:"button",...n,ref:t,onClick:X(e.onClick,s.onClose)})})});xj.displayName=OR;var AR=y.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function TR(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),TU(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...TR(n))}}),t}function $h(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?gj(s,a):s.dispatchEvent(a)}var kk=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function AU(e=()=>{}){const t=Yt(e);Mt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function TU(e){return e.nodeType===e.ELEMENT_NODE}function RU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Vy(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var MU=wR,RR=_R,MR=NR,$R=kR,IR=PR,DR=CR,LR=xj;function FR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=FR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Fe(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=FR(e))&&(n&&(n+=" "),n+=t);return n}const Pk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ek=Fe,Vf=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Ek(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=Pk(d)||Pk(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...a,...l}[p]):{...a,...l}[p]===v})?[...u,f,h]:u},[]);return Ek(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...IU,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:zR("lucide",s),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(e,t)=>{const r=y.forwardRef(({className:n,...s},a)=>y.createElement(DU,{ref:a,iconNode:t,className:zR(`lucide-${$U(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Z("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=Z("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=Z("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=Z("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=Z("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Z("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Z("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=Z("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Z("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Z("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=Z("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=Z("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Z("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=Z("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=Z("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=Z("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=Z("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=Z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=Z("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=Z("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=Z("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=Z("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=Z("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=Z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Z("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=Z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=Z("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=Z("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=Z("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Z("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=Z("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=Z("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Z("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=Z("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=Z("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=Z("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=Z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Z("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=Z("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=Z("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=Z("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=Z("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=Z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=Z("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Pj="-",x7=e=>{const t=w7(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Pj);return l[0]===""&&l.length!==1&&l.shift(),JR(l,t)||b7(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},JR=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?JR(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Pj);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Mk=/^\[(.+)\]$/,b7=e=>{if(Mk.test(e)){const t=Mk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},w7=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return _7(Object.entries(e.classGroups),r).forEach(([a,o])=>{H0(o,n,a,t)}),n},H0=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:$k(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(j7(s)){H0(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{H0(o,$k(t,a),r,n)})})},$k=(e,t)=>{let r=e;return t.split(Pj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},j7=e=>e.isThemeGetter,_7=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,S7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},ZR="!",N7=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===s&&(n||l.slice(v,v+a)===t)){c.push(l.slice(d,v)),d=v+a;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(ZR),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},k7=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},P7=e=>({cache:S7(e.cacheSize),parseClassName:N7(e),...x7(e)}),E7=/\s+/,C7=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(E7);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=k7(d).join(":"),b=f?v+ZR:v,x=b+p;if(a.includes(x))continue;a.push(x);const w=s(p,g);for(let j=0;j<w.length;++j){const _=w[j];a.push(b+_)}l=u+(l.length>0?" "+l:l)}return l};function O7(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=eM(t))&&(n&&(n+=" "),n+=r);return n}const eM=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=eM(e[n]))&&(r&&(r+=" "),r+=t);return r};function A7(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=P7(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=C7(c,r);return s(c,d),d}return function(){return a(O7.apply(null,arguments))}}const nt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},tM=/^\[(?:([a-z-]+):)?(.+)\]$/i,T7=/^\d+\/\d+$/,R7=new Set(["px","full","screen"]),M7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,D7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,L7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cs=e=>El(e)||R7.has(e)||T7.test(e),ga=e=>Dc(e,"length",H7),El=e=>!!e&&!Number.isNaN(Number(e)),Hy=e=>Dc(e,"number",El),Eu=e=>!!e&&Number.isInteger(Number(e)),F7=e=>e.endsWith("%")&&El(e.slice(0,-1)),Pe=e=>tM.test(e),va=e=>M7.test(e),z7=new Set(["length","size","percentage"]),B7=e=>Dc(e,z7,rM),U7=e=>Dc(e,"position",rM),q7=new Set(["image","url"]),W7=e=>Dc(e,q7,G7),V7=e=>Dc(e,"",K7),Cu=()=>!0,Dc=(e,t,r)=>{const n=tM.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},H7=e=>$7.test(e)&&!I7.test(e),rM=()=>!1,K7=e=>D7.test(e),G7=e=>L7.test(e),Y7=()=>{const e=nt("colors"),t=nt("spacing"),r=nt("blur"),n=nt("brightness"),s=nt("borderColor"),a=nt("borderRadius"),o=nt("borderSpacing"),l=nt("borderWidth"),c=nt("contrast"),u=nt("grayscale"),d=nt("hueRotate"),f=nt("invert"),h=nt("gap"),m=nt("gradientColorStops"),g=nt("gradientColorStopPositions"),p=nt("inset"),v=nt("margin"),b=nt("opacity"),x=nt("padding"),w=nt("saturate"),j=nt("scale"),_=nt("sepia"),S=nt("skew"),N=nt("space"),k=nt("translate"),C=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Pe,t],A=()=>[Pe,t],D=()=>["",Cs,ga],R=()=>["auto",El,Pe],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Pe],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[El,Pe];return{cacheSize:500,separator:":",theme:{colors:[Cu],spacing:[Cs,ga],blur:["none","",va,Pe],brightness:z(),borderColor:[e],borderRadius:["none","","full",va,Pe],borderSpacing:A(),borderWidth:D(),contrast:z(),grayscale:$(),hueRotate:z(),invert:$(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[F7,ga],inset:T(),margin:T(),opacity:z(),padding:A(),saturate:z(),scale:z(),sepia:$(),skew:z(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[va]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Pe]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Eu,Pe]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Eu,Pe]}],"grid-cols":[{"grid-cols":[Cu]}],"col-start-end":[{col:["auto",{span:["full",Eu,Pe]},Pe]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Cu]}],"row-start-end":[{row:["auto",{span:[Eu,Pe]},Pe]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,t]}],"min-w":[{"min-w":[Pe,t,"min","max","fit"]}],"max-w":[{"max-w":[Pe,t,"none","full","min","max","fit","prose",{screen:[va]},va]}],h:[{h:[Pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",va,ga]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hy]}],"font-family":[{font:[Cu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",El,Hy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cs,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cs,ga]}],"underline-offset":[{"underline-offset":["auto",Cs,Pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),U7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",B7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Cs,Pe]}],"outline-w":[{outline:[Cs,ga]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Cs,ga]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",va,V7]}],"shadow-color":[{shadow:[Cu]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",va,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Eu,Pe]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Cs,ga,Hy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Q7=A7(Y7);function K(...e){return Q7(Fe(e))}const X7=MU,nM=y.forwardRef(({className:e,...t},r)=>i.jsx(RR,{ref:r,className:K("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));nM.displayName=RR.displayName;const J7=Vf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sM=y.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(MR,{ref:n,className:K(J7({variant:t}),e),...r}));sM.displayName=MR.displayName;const Z7=y.forwardRef(({className:e,...t},r)=>i.jsx(DR,{ref:r,className:K("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Z7.displayName=DR.displayName;const aM=y.forwardRef(({className:e,...t},r)=>i.jsx(LR,{ref:r,className:K("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Jg,{className:"h-4 w-4"})}));aM.displayName=LR.displayName;const iM=y.forwardRef(({className:e,...t},r)=>i.jsx($R,{ref:r,className:K("text-sm font-semibold",e),...t}));iM.displayName=$R.displayName;const oM=y.forwardRef(({className:e,...t},r)=>i.jsx(IR,{ref:r,className:K("text-sm opacity-90",e),...t}));oM.displayName=IR.displayName;function e9(){const{toasts:e}=Zn();return i.jsxs(X7,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(sM,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(iM,{children:r}),n&&i.jsx(oM,{children:n})]}),s,i.jsx(aM,{})]},t)}),i.jsx(nM,{})]})}var Ik=["light","dark"],t9="(prefers-color-scheme: dark)",r9=y.createContext(void 0),n9={setTheme:e=>{},themes:[]},s9=()=>{var e;return(e=y.useContext(r9))!=null?e:n9};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Ik.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let b=o?o[g]:g,x=p?g+"|| ''":`'${b}'`,w="";return s&&v&&!p&&Ik.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?p||b?w+=`c.add(${x})`:w+="null":b&&(w+=`d[s](n,${x})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${t9}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var a9=e=>{switch(e){case"success":return l9;case"info":return u9;case"warning":return c9;case"error":return d9;default:return null}},i9=Array(12).fill(0),o9=({visible:e})=>P.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},P.createElement("div",{className:"sonner-spinner"},i9.map((t,r)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),l9=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),c9=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),u9=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),d9=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),f9=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},K0=1,h9=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:K0++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async a=>{if(p9(a)&&!a.ok){s=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){s=!1;let o=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let o=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||K0++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Kr=new h9,m9=(e,t)=>{let r=(t==null?void 0:t.id)||K0++;return Kr.addToast({title:e,...t,id:r}),r},p9=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",g9=m9,v9=()=>Kr.toasts,vr=Object.assign(g9,{success:Kr.success,info:Kr.info,warning:Kr.warning,error:Kr.error,custom:Kr.custom,message:Kr.message,promise:Kr.promise,dismiss:Kr.dismiss,loading:Kr.loading},{getHistory:v9});function y9(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}y9(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ih(e){return e.label!==void 0}var x9=3,b9="32px",w9=4e3,j9=356,_9=14,S9=20,N9=200;function k9(...e){return e.filter(Boolean).join(" ")}var P9=e=>{var t,r,n,s,a,o,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:g,setHeights:p,visibleToasts:v,heights:b,index:x,toasts:w,expanded:j,removeToast:_,defaultRichColors:S,closeButton:N,style:k,cancelButtonStyle:C,actionButtonStyle:E,className:T="",descriptionClassName:A="",duration:D,position:R,gap:L,loadingIcon:I,expandByDefault:F,classNames:O,icons:$,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:z,cn:B}=e,[Y,oe]=P.useState(!1),[ye,me]=P.useState(!1),[ae,je]=P.useState(!1),[G,ne]=P.useState(!1),[le,U]=P.useState(0),[Te,be]=P.useState(0),Ke=P.useRef(null),ze=P.useRef(null),xt=x===0,Ur=x+1<=v,mt=h.type,kr=h.dismissible!==!1,Es=h.className||"",xu=h.descriptionClassName||"",Ci=P.useMemo(()=>b.findIndex(ke=>ke.toastId===h.id)||0,[b,h.id]),mh=P.useMemo(()=>{var ke;return(ke=h.closeButton)!=null?ke:N},[h.closeButton,N]),lN=P.useMemo(()=>h.duration||D||w9,[h.duration,D]),my=P.useRef(0),Uo=P.useRef(0),cN=P.useRef(0),qo=P.useRef(null),[uN,c8]=R.split("-"),dN=P.useMemo(()=>b.reduce((ke,rt,Je)=>Je>=Ci?ke:ke+rt.height,0),[b,Ci]),fN=f9(),u8=h.invert||f,py=mt==="loading";Uo.current=P.useMemo(()=>Ci*L+dN,[Ci,dN]),P.useEffect(()=>{oe(!0)},[]),P.useLayoutEffect(()=>{if(!Y)return;let ke=ze.current,rt=ke.style.height;ke.style.height="auto";let Je=ke.getBoundingClientRect().height;ke.style.height=rt,be(Je),p(rs=>rs.find(ns=>ns.toastId===h.id)?rs.map(ns=>ns.toastId===h.id?{...ns,height:Je}:ns):[{toastId:h.id,height:Je,position:h.position},...rs])},[Y,h.title,h.description,p,h.id]);let ma=P.useCallback(()=>{me(!0),U(Uo.current),p(ke=>ke.filter(rt=>rt.toastId!==h.id)),setTimeout(()=>{_(h)},N9)},[h,_,p,Uo]);P.useEffect(()=>{if(h.promise&&mt==="loading"||h.duration===1/0||h.type==="loading")return;let ke,rt=lN;return j||g||z&&fN?(()=>{if(cN.current<my.current){let Je=new Date().getTime()-my.current;rt=rt-Je}cN.current=new Date().getTime()})():rt!==1/0&&(my.current=new Date().getTime(),ke=setTimeout(()=>{var Je;(Je=h.onAutoClose)==null||Je.call(h,h),ma()},rt)),()=>clearTimeout(ke)},[j,g,F,h,lN,ma,h.promise,mt,z,fN]),P.useEffect(()=>{let ke=ze.current;if(ke){let rt=ke.getBoundingClientRect().height;return be(rt),p(Je=>[{toastId:h.id,height:rt,position:h.position},...Je]),()=>p(Je=>Je.filter(rs=>rs.toastId!==h.id))}},[p,h.id]),P.useEffect(()=>{h.delete&&ma()},[ma,h.delete]);function d8(){return $!=null&&$.loading?P.createElement("div",{className:"sonner-loader","data-visible":mt==="loading"},$.loading):I?P.createElement("div",{className:"sonner-loader","data-visible":mt==="loading"},I):P.createElement(o9,{visible:mt==="loading"})}return P.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ze,className:B(T,Es,O==null?void 0:O.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[mt],(r=h==null?void 0:h.classNames)==null?void 0:r[mt]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:S,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":Y,"data-promise":!!h.promise,"data-removed":ye,"data-visible":Ur,"data-y-position":uN,"data-x-position":c8,"data-index":x,"data-front":xt,"data-swiping":ae,"data-dismissible":kr,"data-type":mt,"data-invert":u8,"data-swipe-out":G,"data-expanded":!!(j||F&&Y),style:{"--index":x,"--toasts-before":x,"--z-index":w.length-x,"--offset":`${ye?le:Uo.current}px`,"--initial-height":F?"auto":`${Te}px`,...k,...h.style},onPointerDown:ke=>{py||!kr||(Ke.current=new Date,U(Uo.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(je(!0),qo.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,rt,Je,rs;if(G||!kr)return;qo.current=null;let ns=Number(((ke=ze.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ph=new Date().getTime()-((rt=Ke.current)==null?void 0:rt.getTime()),f8=Math.abs(ns)/ph;if(Math.abs(ns)>=S9||f8>.11){U(Uo.current),(Je=h.onDismiss)==null||Je.call(h,h),ma(),ne(!0);return}(rs=ze.current)==null||rs.style.setProperty("--swipe-amount","0px"),je(!1)},onPointerMove:ke=>{var rt;if(!qo.current||!kr)return;let Je=ke.clientY-qo.current.y,rs=ke.clientX-qo.current.x,ns=(uN==="top"?Math.min:Math.max)(0,Je),ph=ke.pointerType==="touch"?10:2;Math.abs(ns)>ph?(rt=ze.current)==null||rt.style.setProperty("--swipe-amount",`${Je}px`):Math.abs(rs)>ph&&(qo.current=null)}},mh&&!h.jsx?P.createElement("button",{"aria-label":H,"data-disabled":py,"data-close-button":!0,onClick:py||!kr?()=>{}:()=>{var ke;ma(),(ke=h.onDismiss)==null||ke.call(h,h)},className:B(O==null?void 0:O.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||P.isValidElement(h.title)?h.jsx||h.title:P.createElement(P.Fragment,null,mt||h.icon||h.promise?P.createElement("div",{"data-icon":"",className:B(O==null?void 0:O.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||d8():null,h.type!=="loading"?h.icon||($==null?void 0:$[mt])||a9(mt):null):null,P.createElement("div",{"data-content":"",className:B(O==null?void 0:O.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},P.createElement("div",{"data-title":"",className:B(O==null?void 0:O.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?P.createElement("div",{"data-description":"",className:B(A,xu,O==null?void 0:O.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),P.isValidElement(h.cancel)?h.cancel:h.cancel&&Ih(h.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:ke=>{var rt,Je;Ih(h.cancel)&&kr&&((Je=(rt=h.cancel).onClick)==null||Je.call(rt,ke),ma())},className:B(O==null?void 0:O.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,P.isValidElement(h.action)?h.action:h.action&&Ih(h.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||E,onClick:ke=>{var rt,Je;Ih(h.action)&&(ke.defaultPrevented||((Je=(rt=h.action).onClick)==null||Je.call(rt,ke),ma()))},className:B(O==null?void 0:O.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Dk(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var E9=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=x9,toastOptions:m,dir:g=Dk(),gap:p=_9,loadingIcon:v,icons:b,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:w,cn:j=k9}=e,[_,S]=P.useState([]),N=P.useMemo(()=>Array.from(new Set([r].concat(_.filter(z=>z.position).map(z=>z.position)))),[_,r]),[k,C]=P.useState([]),[E,T]=P.useState(!1),[A,D]=P.useState(!1),[R,L]=P.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=P.useRef(null),F=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=P.useRef(null),$=P.useRef(!1),H=P.useCallback(z=>{var B;(B=_.find(Y=>Y.id===z.id))!=null&&B.delete||Kr.dismiss(z.id),S(Y=>Y.filter(({id:oe})=>oe!==z.id))},[_]);return P.useEffect(()=>Kr.subscribe(z=>{if(z.dismiss){S(B=>B.map(Y=>Y.id===z.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{pR.flushSync(()=>{S(B=>{let Y=B.findIndex(oe=>oe.id===z.id);return Y!==-1?[...B.slice(0,Y),{...B[Y],...z},...B.slice(Y+1)]:[z,...B]})})})}),[]),P.useEffect(()=>{if(c!=="system"){L(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{L(z?"dark":"light")})},[c]),P.useEffect(()=>{_.length<=1&&T(!1)},[_]),P.useEffect(()=>{let z=B=>{var Y,oe;n.every(ye=>B[ye]||B.code===ye)&&(T(!0),(Y=I.current)==null||Y.focus()),B.code==="Escape"&&(document.activeElement===I.current||(oe=I.current)!=null&&oe.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[n]),P.useEffect(()=>{if(I.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,$.current=!1)}},[I.current]),_.length?P.createElement("section",{"aria-label":`${x} ${F}`,tabIndex:-1},N.map((z,B)=>{var Y;let[oe,ye]=z.split("-");return P.createElement("ol",{key:z,dir:g==="auto"?Dk():g,tabIndex:-1,ref:I,className:o,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":oe,"data-x-position":ye,style:{"--front-toast-height":`${((Y=k[0])==null?void 0:Y.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||b9,"--width":`${j9}px`,"--gap":`${p}px`,...f},onBlur:me=>{$.current&&!me.currentTarget.contains(me.relatedTarget)&&($.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||$.current||($.current=!0,O.current=me.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{A||T(!1)},onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},_.filter(me=>!me.position&&B===0||me.position===z).map((me,ae)=>{var je,G;return P.createElement(P9,{key:me.id,icons:b,index:ae,toast:me,defaultRichColors:u,duration:(je=m==null?void 0:m.duration)!=null?je:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(G=m==null?void 0:m.closeButton)!=null?G:a,interacting:A,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:H,toasts:_.filter(ne=>ne.position==me.position),heights:k.filter(ne=>ne.position==me.position),setHeights:C,expandByDefault:s,gap:p,loadingIcon:v,expanded:E,pauseWhenPageIsHidden:w,cn:j})}))})):null};const C9=({...e})=>{const{theme:t="system"}=s9();return i.jsx(E9,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var O9=fA.useId||(()=>{}),A9=0;function wn(e){const[t,r]=y.useState(O9());return Mt(()=>{e||r(n=>n??String(A9++))},[e]),e||(t?`radix-${t}`:"")}const T9=["top","right","bottom","left"],ai=Math.min,Jr=Math.max,ap=Math.round,Dh=Math.floor,ii=e=>({x:e,y:e}),R9={left:"right",right:"left",bottom:"top",top:"bottom"},M9={start:"end",end:"start"};function G0(e,t,r){return Jr(e,ai(t,r))}function ta(e,t){return typeof e=="function"?e(t):e}function ra(e){return e.split("-")[0]}function Lc(e){return e.split("-")[1]}function Ej(e){return e==="x"?"y":"x"}function Cj(e){return e==="y"?"height":"width"}function oi(e){return["top","bottom"].includes(ra(e))?"y":"x"}function Oj(e){return Ej(oi(e))}function $9(e,t,r){r===void 0&&(r=!1);const n=Lc(e),s=Oj(e),a=Cj(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=ip(o)),[o,ip(o)]}function I9(e){const t=ip(e);return[Y0(e),t,Y0(t)]}function Y0(e){return e.replace(/start|end/g,t=>M9[t])}function D9(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:o;default:return[]}}function L9(e,t,r,n){const s=Lc(e);let a=D9(ra(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Y0)))),a}function ip(e){return e.replace(/left|right|bottom|top/g,t=>R9[t])}function F9(e){return{top:0,right:0,bottom:0,left:0,...e}}function lM(e){return typeof e!="number"?F9(e):{top:e,right:e,bottom:e,left:e}}function op(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Lk(e,t,r){let{reference:n,floating:s}=e;const a=oi(t),o=Oj(t),l=Cj(o),c=ra(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Lc(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const z9=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Lk(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:b}=l[p],{x,y:w,data:j,reset:_}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=w??f,m={...m,[v]:{...m[v],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=Lk(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Bd(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ta(t,e),g=lM(m),v=l[h?f==="floating"?"reference":"floating":f],b=op(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},_=op(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-_.top+g.top)/j.y,bottom:(_.bottom-b.bottom+g.bottom)/j.y,left:(b.left-_.left+g.left)/j.x,right:(_.right-b.right+g.right)/j.x}}const B9=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ta(e,t)||{};if(u==null)return{};const f=lM(d),h={x:r,y:n},m=Oj(s),g=Cj(m),p=await o.getDimensions(u),v=m==="y",b=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=a.reference[g]+a.reference[m]-h[m]-a.floating[g],_=h[m]-a.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[w]||a.floating[g]);const k=j/2-_/2,C=N/2-p[g]/2-1,E=ai(f[b],C),T=ai(f[x],C),A=E,D=N-p[g]-T,R=N/2-p[g]/2+k,L=G0(A,R,D),I=!c.arrow&&Lc(s)!=null&&R!==L&&a.reference[g]/2-(R<A?E:T)-p[g]/2<0,F=I?R<A?R-A:R-D:0;return{[m]:h[m]+F,data:{[m]:L,centerOffset:R-L-F,...I&&{alignmentOffset:F}},reset:I}}}),U9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=ta(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=ra(s),x=oi(l),w=ra(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!p?[ip(l)]:I9(l)),S=g!=="none";!h&&S&&_.push(...L9(l,p,g,j));const N=[l,..._],k=await Bd(t,v),C=[];let E=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),f){const R=$9(s,o,j);C.push(k[R[0]],k[R[1]])}if(E=[...E,{placement:s,overflows:C}],!C.every(R=>R<=0)){var T,A;const R=(((T=a.flip)==null?void 0:T.index)||0)+1,L=N[R];if(L)return{data:{index:R,overflows:E},reset:{placement:L}};let I=(A=E.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:A.placement;if(!I)switch(m){case"bestFit":{var D;const F=(D=E.filter(O=>{if(S){const $=oi(O.placement);return $===x||$==="y"}return!0}).map(O=>[O.placement,O.overflows.filter($=>$>0).reduce(($,H)=>$+H,0)]).sort((O,$)=>O[1]-$[1])[0])==null?void 0:D[0];F&&(I=F);break}case"initialPlacement":I=l;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function Fk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function zk(e){return T9.some(t=>e[t]>=0)}const q9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=ta(e,t);switch(n){case"referenceHidden":{const a=await Bd(t,{...s,elementContext:"reference"}),o=Fk(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:zk(o)}}}case"escaped":{const a=await Bd(t,{...s,altBoundary:!0}),o=Fk(a,r.floating);return{data:{escapedOffsets:o,escaped:zk(o)}}}default:return{}}}}};async function W9(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=ra(r),l=Lc(r),c=oi(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,f=ta(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const V9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await W9(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},H9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:x}=v;return{x:b,y:x}}},...c}=ta(e,t),u={x:r,y:n},d=await Bd(t,c),f=oi(ra(s)),h=Ej(f);let m=u[h],g=u[f];if(a){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=m+d[v],w=m-d[b];m=G0(x,m,w)}if(o){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=g+d[v],w=g-d[b];g=G0(x,g,w)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:a,[f]:o}}}}}},K9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ta(e,t),d={x:r,y:n},f=oi(s),h=Ej(f);let m=d[h],g=d[f];const p=ta(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",j=a.reference[h]-a.floating[w]+v.mainAxis,_=a.reference[h]+a.reference[w]-v.mainAxis;m<j?m=j:m>_&&(m=_)}if(u){var b,x;const w=h==="y"?"width":"height",j=["top","left"].includes(ra(s)),_=a.reference[f]-a.floating[w]+(j&&((b=o.offset)==null?void 0:b[f])||0)+(j?0:v.crossAxis),S=a.reference[f]+a.reference[w]+(j?0:((x=o.offset)==null?void 0:x[f])||0)-(j?v.crossAxis:0);g<_?g=_:g>S&&(g=S)}return{[h]:m,[f]:g}}}},G9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=ta(e,t),d=await Bd(t,u),f=ra(s),h=Lc(s),m=oi(s)==="y",{width:g,height:p}=a.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const x=p-d.top-d.bottom,w=g-d.left-d.right,j=ai(p-d[v],x),_=ai(g-d[b],w),S=!t.middlewareData.shift;let N=j,k=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=x),S&&!h){const E=Jr(d.left,0),T=Jr(d.right,0),A=Jr(d.top,0),D=Jr(d.bottom,0);m?k=g-2*(E!==0||T!==0?E+T:Jr(d.left,d.right)):N=p-2*(A!==0||D!==0?A+D:Jr(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function Zg(){return typeof window<"u"}function Fc(e){return cM(e)?(e.nodeName||"").toLowerCase():"#document"}function rn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _s(e){var t;return(t=(cM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cM(e){return Zg()?e instanceof Node||e instanceof rn(e).Node:!1}function Xn(e){return Zg()?e instanceof Element||e instanceof rn(e).Element:!1}function ws(e){return Zg()?e instanceof HTMLElement||e instanceof rn(e).HTMLElement:!1}function Bk(e){return!Zg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rn(e).ShadowRoot}function Kf(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Jn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function Y9(e){return["table","td","th"].includes(Fc(e))}function ev(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Aj(e){const t=Tj(),r=Xn(e)?Jn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Q9(e){let t=li(e);for(;ws(t)&&!nc(t);){if(Aj(t))return t;if(ev(t))return null;t=li(t)}return null}function Tj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nc(e){return["html","body","#document"].includes(Fc(e))}function Jn(e){return rn(e).getComputedStyle(e)}function tv(e){return Xn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function li(e){if(Fc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Bk(e)&&e.host||_s(e);return Bk(t)?t.host:t}function uM(e){const t=li(e);return nc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ws(t)&&Kf(t)?t:uM(t)}function Ud(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=uM(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=rn(s);if(a){const l=Q0(o);return t.concat(o,o.visualViewport||[],Kf(s)?s:[],l&&r?Ud(l):[])}return t.concat(s,Ud(s,[],r))}function Q0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dM(e){const t=Jn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ws(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=ap(r)!==a||ap(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function Rj(e){return Xn(e)?e:e.contextElement}function Cl(e){const t=Rj(e);if(!ws(t))return ii(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=dM(t);let o=(a?ap(r.width):r.width)/n,l=(a?ap(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const X9=ii(0);function fM(e){const t=rn(e);return!Tj()||!t.visualViewport?X9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function J9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==rn(e)?!1:t}function mo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Rj(e);let o=ii(1);t&&(n?Xn(n)&&(o=Cl(n)):o=Cl(e));const l=J9(a,r,n)?fM(a):ii(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=rn(a),m=n&&Xn(n)?rn(n):n;let g=h,p=Q0(g);for(;p&&n&&m!==g;){const v=Cl(p),b=p.getBoundingClientRect(),x=Jn(p),w=b.left+(p.clientLeft+parseFloat(x.paddingLeft))*v.x,j=b.top+(p.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=j,g=rn(p),p=Q0(g)}}return op({width:d,height:f,x:c,y:u})}function Z9(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=_s(n),l=t?ev(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=ii(1);const d=ii(0),f=ws(n);if((f||!f&&!a)&&((Fc(n)!=="body"||Kf(o))&&(c=tv(n)),ws(n))){const h=mo(n);u=Cl(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function eq(e){return Array.from(e.getClientRects())}function X0(e,t){const r=tv(e).scrollLeft;return t?t.left+r:mo(_s(e)).left+r}function tq(e){const t=_s(e),r=tv(e),n=e.ownerDocument.body,s=Jr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Jr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+X0(e);const l=-r.scrollTop;return Jn(n).direction==="rtl"&&(o+=Jr(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function rq(e,t){const r=rn(e),n=_s(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=Tj();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function nq(e,t){const r=mo(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=ws(e)?Cl(e):ii(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function Uk(e,t,r){let n;if(t==="viewport")n=rq(e,r);else if(t==="document")n=tq(_s(e));else if(Xn(t))n=nq(t,r);else{const s=fM(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return op(n)}function hM(e,t){const r=li(e);return r===t||!Xn(r)||nc(r)?!1:Jn(r).position==="fixed"||hM(r,t)}function sq(e,t){const r=t.get(e);if(r)return r;let n=Ud(e,[],!1).filter(l=>Xn(l)&&Fc(l)!=="body"),s=null;const a=Jn(e).position==="fixed";let o=a?li(e):e;for(;Xn(o)&&!nc(o);){const l=Jn(o),c=Aj(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Kf(o)&&!c&&hM(e,o))?n=n.filter(d=>d!==o):s=l,o=li(o)}return t.set(e,n),n}function aq(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?ev(t)?[]:sq(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Uk(t,d,s);return u.top=Jr(f.top,u.top),u.right=ai(f.right,u.right),u.bottom=ai(f.bottom,u.bottom),u.left=Jr(f.left,u.left),u},Uk(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function iq(e){const{width:t,height:r}=dM(e);return{width:t,height:r}}function oq(e,t,r){const n=ws(t),s=_s(t),a=r==="fixed",o=mo(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ii(0);if(n||!n&&!a)if((Fc(t)!=="body"||Kf(s))&&(l=tv(t)),n){const m=mo(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=X0(s));let u=0,d=0;if(s&&!n&&!a){const m=s.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-X0(s,m)}const f=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-d;return{x:f,y:h,width:o.width,height:o.height}}function Ky(e){return Jn(e).position==="static"}function qk(e,t){if(!ws(e)||Jn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return _s(e)===r&&(r=r.ownerDocument.body),r}function mM(e,t){const r=rn(e);if(ev(e))return r;if(!ws(e)){let s=li(e);for(;s&&!nc(s);){if(Xn(s)&&!Ky(s))return s;s=li(s)}return r}let n=qk(e,t);for(;n&&Y9(n)&&Ky(n);)n=qk(n,t);return n&&nc(n)&&Ky(n)&&!Aj(n)?r:n||Q9(e)||r}const lq=async function(e){const t=this.getOffsetParent||mM,r=this.getDimensions,n=await r(e.floating);return{reference:oq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cq(e){return Jn(e).direction==="rtl"}const uq={convertOffsetParentRelativeRectToViewportRelativeRect:Z9,getDocumentElement:_s,getClippingRect:aq,getOffsetParent:mM,getElementRects:lq,getClientRects:eq,getDimensions:iq,getScale:Cl,isElement:Xn,isRTL:cq};function dq(e,t){let r=null,n;const s=_s(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const m=Dh(d),g=Dh(s.clientWidth-(u+f)),p=Dh(s.clientHeight-(d+h)),v=Dh(u),x={rootMargin:-m+"px "+-g+"px "+-p+"px "+-v+"px",threshold:Jr(0,ai(1,c))||1};let w=!0;function j(_){const S=_[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(j,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,x)}r.observe(e)}return o(!0),a}function fq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Rj(e),d=s||a?[...u?Ud(u):[],...Ud(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const f=u&&l?dq(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?mo(e):null;c&&v();function v(){const b=mo(e);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&r(),p=b,g=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(x=>{s&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const hq=V9,mq=H9,pq=U9,gq=G9,vq=q9,Wk=B9,yq=K9,xq=(e,t,r)=>{const n=new Map,s={platform:uq,...r},a={...s.platform,_c:n};return z9(e,t,{...s,platform:a})};var Pm=typeof document<"u"?y.useLayoutEffect:y.useEffect;function lp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!lp(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!lp(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function pM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vk(e,t){const r=pM(e);return Math.round(t*r)/r}function Gy(e){const t=y.useRef(e);return Pm(()=>{t.current=e}),t}function bq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(n);lp(h,n)||m(n);const[g,p]=y.useState(null),[v,b]=y.useState(null),x=y.useCallback(O=>{O!==S.current&&(S.current=O,p(O))},[]),w=y.useCallback(O=>{O!==N.current&&(N.current=O,b(O))},[]),j=a||g,_=o||v,S=y.useRef(null),N=y.useRef(null),k=y.useRef(d),C=c!=null,E=Gy(c),T=Gy(s),A=Gy(u),D=y.useCallback(()=>{if(!S.current||!N.current)return;const O={placement:t,strategy:r,middleware:h};T.current&&(O.platform=T.current),xq(S.current,N.current,O).then($=>{const H={...$,isPositioned:A.current!==!1};R.current&&!lp(k.current,H)&&(k.current=H,Co.flushSync(()=>{f(H)}))})},[h,t,r,T,A]);Pm(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const R=y.useRef(!1);Pm(()=>(R.current=!0,()=>{R.current=!1}),[]),Pm(()=>{if(j&&(S.current=j),_&&(N.current=_),j&&_){if(E.current)return E.current(j,_,D);D()}},[j,_,D,E,C]);const L=y.useMemo(()=>({reference:S,floating:N,setReference:x,setFloating:w}),[x,w]),I=y.useMemo(()=>({reference:j,floating:_}),[j,_]),F=y.useMemo(()=>{const O={position:r,left:0,top:0};if(!I.floating)return O;const $=Vk(I.floating,d.x),H=Vk(I.floating,d.y);return l?{...O,transform:"translate("+$+"px, "+H+"px)",...pM(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:H}},[r,l,I.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:D,refs:L,elements:I,floatingStyles:F}),[d,D,L,I,F])}const wq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Wk({element:n.current,padding:s}).fn(r):{}:n?Wk({element:n,padding:s}).fn(r):{}}}},jq=(e,t)=>({...hq(e),options:[e,t]}),_q=(e,t)=>({...mq(e),options:[e,t]}),Sq=(e,t)=>({...yq(e),options:[e,t]}),Nq=(e,t)=>({...pq(e),options:[e,t]}),kq=(e,t)=>({...gq(e),options:[e,t]}),Pq=(e,t)=>({...vq(e),options:[e,t]}),Eq=(e,t)=>({...wq(e),options:[e,t]});var Cq="Arrow",gM=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(fe.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});gM.displayName=Cq;var Oq=gM;function Aq(e,t=[]){let r=[];function n(a,o){const l=y.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,v=y.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Tq(s,...t)]}function Tq(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Gf(e){const[t,r]=y.useState(void 0);return Mt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Mj="Popper",[vM,zc]=Aq(Mj),[Rq,yM]=vM(Mj),xM=e=>{const{__scopePopper:t,children:r}=e,[n,s]=y.useState(null);return i.jsx(Rq,{scope:t,anchor:n,onAnchorChange:s,children:r})};xM.displayName=Mj;var bM="PopperAnchor",wM=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=yM(bM,r),o=y.useRef(null),l=_e(t,o);return y.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(fe.div,{...s,ref:l})});wM.displayName=bM;var $j="PopperContent",[Mq,$q]=vM($j),jM=y.forwardRef((e,t)=>{var ae,je,G,ne,le,U;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=yM($j,r),[b,x]=y.useState(null),w=_e(t,Te=>x(Te)),[j,_]=y.useState(null),S=Gf(j),N=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,C=n+(a!=="center"?"-"+a:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],A=T.length>0,D={padding:E,boundary:T.filter(Dq),altBoundary:A},{refs:R,floatingStyles:L,placement:I,isPositioned:F,middlewareData:O}=bq({strategy:"fixed",placement:C,whileElementsMounted:(...Te)=>fq(...Te,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[jq({mainAxis:s+k,alignmentAxis:o}),c&&_q({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Sq():void 0,...D}),c&&Nq({...D}),kq({...D,apply:({elements:Te,rects:be,availableWidth:Ke,availableHeight:ze})=>{const{width:xt,height:Ur}=be.reference,mt=Te.floating.style;mt.setProperty("--radix-popper-available-width",`${Ke}px`),mt.setProperty("--radix-popper-available-height",`${ze}px`),mt.setProperty("--radix-popper-anchor-width",`${xt}px`),mt.setProperty("--radix-popper-anchor-height",`${Ur}px`)}}),j&&Eq({element:j,padding:l}),Lq({arrowWidth:N,arrowHeight:k}),h&&Pq({strategy:"referenceHidden",...D})]}),[$,H]=NM(I),z=Yt(g);Mt(()=>{F&&(z==null||z())},[F,z]);const B=(ae=O.arrow)==null?void 0:ae.x,Y=(je=O.arrow)==null?void 0:je.y,oe=((G=O.arrow)==null?void 0:G.centerOffset)!==0,[ye,me]=y.useState();return Mt(()=>{b&&me(window.getComputedStyle(b).zIndex)},[b]),i.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:F?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(ne=O.transformOrigin)==null?void 0:ne.x,(le=O.transformOrigin)==null?void 0:le.y].join(" "),...((U=O.hide)==null?void 0:U.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Mq,{scope:r,placedSide:$,onArrowChange:_,arrowX:B,arrowY:Y,shouldHideArrow:oe,children:i.jsx(fe.div,{"data-side":$,"data-align":H,...p,ref:w,style:{...p.style,animation:F?void 0:"none"}})})})});jM.displayName=$j;var _M="PopperArrow",Iq={top:"bottom",right:"left",bottom:"top",left:"right"},SM=y.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=$q(_M,n),o=Iq[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(Oq,{...s,ref:r,style:{...s.style,display:"block"}})})});SM.displayName=_M;function Dq(e){return e!==null}var Lq=e=>({name:"transformOrigin",options:e,fn(t){var v,b,x;const{placement:r,rects:n,middlewareData:s}=t,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=NM(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function NM(e){const[t,r="center"]=e.split("-");return[t,r]}var kM=xM,Ij=wM,Dj=jM,Lj=SM,[rv,r2e]=ur("Tooltip",[zc]),Fj=zc(),PM="TooltipProvider",Fq=700,Hk="tooltip.open",[zq,EM]=rv(PM),CM=e=>{const{__scopeTooltip:t,delayDuration:r=Fq,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[o,l]=y.useState(!0),c=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(zq,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};CM.displayName=PM;var OM="Tooltip",[n2e,nv]=rv(OM),J0="TooltipTrigger",Bq=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=nv(J0,r),a=EM(J0,r),o=Fj(r),l=y.useRef(null),c=_e(t,l,s.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Ij,{asChild:!0,...o,children:i.jsx(fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:X(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:X(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:X(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:X(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:X(e.onBlur,s.onClose),onClick:X(e.onClick,s.onClose)})})});Bq.displayName=J0;var Uq="TooltipPortal",[s2e,qq]=rv(Uq,{forceMount:void 0}),sc="TooltipContent",AM=y.forwardRef((e,t)=>{const r=qq(sc,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=nv(sc,e.__scopeTooltip);return i.jsx(zr,{present:n||o.open,children:o.disableHoverableContent?i.jsx(TM,{side:s,...a,ref:t}):i.jsx(Wq,{side:s,...a,ref:t})})}),Wq=y.forwardRef((e,t)=>{const r=nv(sc,e.__scopeTooltip),n=EM(sc,e.__scopeTooltip),s=y.useRef(null),a=_e(t,s),[o,l]=y.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=y.useCallback(()=>{l(null),f(!1)},[f]),m=y.useCallback((g,p)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},x=Gq(b,v.getBoundingClientRect()),w=Yq(b,x),j=Qq(p.getBoundingClientRect()),_=Jq([...w,...j]);l(_),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const g=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),y.useEffect(()=>{if(o){const g=p=>{const v=p.target,b={x:p.clientX,y:p.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!Xq(b,o);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),i.jsx(TM,{...e,ref:a})}),[Vq,Hq]=rv(OM,{isInside:!1}),TM=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=nv(sc,r),u=Fj(r),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(Hk,d),()=>document.removeEventListener(Hk,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Ic,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(Dj,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(pj,{children:n}),i.jsx(Vq,{scope:r,isInside:!0,children:i.jsx(gU,{id:c.contentId,role:"tooltip",children:s||n})})]})})});AM.displayName=sc;var RM="TooltipArrow",Kq=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Fj(r);return Hq(RM,r).isInside?null:i.jsx(Lj,{...s,...n,ref:t})});Kq.displayName=RM;function Gq(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Yq(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Qq(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Xq(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function Jq(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Zq(t)}function Zq(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var eW=CM,MM=AM;const tW=eW,rW=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(MM,{ref:n,sideOffset:t,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));rW.displayName=MM.displayName;var Bc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},po=typeof window>"u"||"Deno"in globalThis;function pn(){}function nW(e,t){return typeof e=="function"?e(t):e}function Z0(e){return typeof e=="number"&&e>=0&&e!==1/0}function $M(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ol(e,t){return typeof e=="function"?e(t):e}function qn(e,t){return typeof e=="function"?e(t):e}function Kk(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==zj(o,t.options))return!1}else if(!qd(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Gk(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(go(t.options.mutationKey)!==go(a))return!1}else if(!qd(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function zj(e,t){return((t==null?void 0:t.queryKeyHashFn)||go)(e)}function go(e){return JSON.stringify(e,(t,r)=>eb(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function qd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!qd(e[r],t[r])):!1}function IM(e,t){if(e===t)return e;const r=Yk(e)&&Yk(t);if(r||eb(e)&&eb(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=IM(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function cp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Yk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function eb(e){if(!Qk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Qk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Qk(e){return Object.prototype.toString.call(e)==="[object Object]"}function sW(e){return new Promise(t=>{setTimeout(t,e)})}function tb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?IM(e,t):t}function aW(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function iW(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Bj=Symbol();function DM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Bj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Qi,Oa,Dl,HO,oW=(HO=class extends Bc{constructor(){super();pe(this,Qi);pe(this,Oa);pe(this,Dl);ce(this,Dl,t=>{if(!po&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){M(this,Oa)||this.setEventListener(M(this,Dl))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Oa))==null||t.call(this),ce(this,Oa,void 0))}setEventListener(t){var r;ce(this,Dl,t),(r=M(this,Oa))==null||r.call(this),ce(this,Oa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){M(this,Qi)!==t&&(ce(this,Qi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof M(this,Qi)=="boolean"?M(this,Qi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qi=new WeakMap,Oa=new WeakMap,Dl=new WeakMap,HO),Uj=new oW,Ll,Aa,Fl,KO,lW=(KO=class extends Bc{constructor(){super();pe(this,Ll,!0);pe(this,Aa);pe(this,Fl);ce(this,Fl,t=>{if(!po&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){M(this,Aa)||this.setEventListener(M(this,Fl))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Aa))==null||t.call(this),ce(this,Aa,void 0))}setEventListener(t){var r;ce(this,Fl,t),(r=M(this,Aa))==null||r.call(this),ce(this,Aa,t(this.setOnline.bind(this)))}setOnline(t){M(this,Ll)!==t&&(ce(this,Ll,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return M(this,Ll)}},Ll=new WeakMap,Aa=new WeakMap,Fl=new WeakMap,KO),up=new lW;function rb(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function cW(e){return Math.min(1e3*2**e,3e4)}function LM(e){return(e??"online")==="online"?up.isOnline():!0}var FM=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yy(e){return e instanceof FM}function zM(e){let t=!1,r=0,n=!1,s;const a=rb(),o=p=>{var v;n||(h(new FM(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Uj.isFocused()&&(e.networkMode==="always"||up.isOnline())&&e.canRun(),d=()=>LM(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),s==null||s(),a.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),s==null||s(),a.reject(p))},m=()=>new Promise(p=>{var v;s=b=>{(n||u())&&p(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;s=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var S;if(n)return;const x=e.retry??(po?0:3),w=e.retryDelay??cW,j=typeof w=="function"?w(r,b):w,_=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!_){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),sW(j).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),a)}}function uW(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var At=uW(),Xi,GO,BM=(GO=class{constructor(){pe(this,Xi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Z0(this.gcTime)&&ce(this,Xi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(po?1/0:5*60*1e3))}clearGcTimeout(){M(this,Xi)&&(clearTimeout(M(this,Xi)),ce(this,Xi,void 0))}},Xi=new WeakMap,GO),zl,Bl,mn,Jt,Mf,Ji,Dn,As,YO,dW=(YO=class extends BM{constructor(t){super();pe(this,Dn);pe(this,zl);pe(this,Bl);pe(this,mn);pe(this,Jt);pe(this,Mf);pe(this,Ji);ce(this,Ji,!1),ce(this,Mf,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,mn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,zl,fW(this.options)),this.state=t.state??M(this,zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=M(this,Jt))==null?void 0:t.promise}setOptions(t){this.options={...M(this,Mf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,mn).remove(this)}setData(t,r){const n=tb(this.state.data,t,this.options);return Oe(this,Dn,As).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Oe(this,Dn,As).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=M(this,Jt))==null?void 0:n.promise;return(s=M(this,Jt))==null||s.cancel(t),r?r.then(pn).catch(pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,zl))}isActive(){return this.observers.some(t=>qn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!$M(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=M(this,Jt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=M(this,Jt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),M(this,mn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(M(this,Jt)&&(M(this,Ji)?M(this,Jt).cancel({revert:!0}):M(this,Jt).cancelRetry()),this.scheduleGc()),M(this,mn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Oe(this,Dn,As).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(M(this,Jt))return M(this,Jt).continueRetry(),M(this,Jt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ce(this,Ji,!0),n.signal)})},a=()=>{const f=DM(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),ce(this,Ji,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),ce(this,Bl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Oe(this,Dn,As).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,g,p;Yy(f)&&f.silent||Oe(this,Dn,As).call(this,{type:"error",error:f}),Yy(f)||((m=(h=M(this,mn).config).onError)==null||m.call(h,f,this),(p=(g=M(this,mn).config).onSettled)==null||p.call(g,this.state.data,f,this)),this.scheduleGc()};return ce(this,Jt,zM({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,g,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(m=(h=M(this,mn).config).onSuccess)==null||m.call(h,f,this),(p=(g=M(this,mn).config).onSettled)==null||p.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Oe(this,Dn,As).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Oe(this,Dn,As).call(this,{type:"pause"})},onContinue:()=>{Oe(this,Dn,As).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),M(this,Jt).start()}},zl=new WeakMap,Bl=new WeakMap,mn=new WeakMap,Jt=new WeakMap,Mf=new WeakMap,Ji=new WeakMap,Dn=new WeakSet,As=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...UM(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Yy(s)&&s.revert&&M(this,Bl)?{...M(this,Bl),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),At.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),M(this,mn).notify({query:this,type:"updated",action:t})})},YO);function UM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fW(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var os,QO,hW=(QO=class extends Bc{constructor(t={}){super();pe(this,os);this.config=t,ce(this,os,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??zj(s,r);let o=this.get(a);return o||(o=new dW({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){M(this,os).has(t.queryHash)||(M(this,os).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=M(this,os).get(t.queryHash);r&&(t.destroy(),r===t&&M(this,os).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){At.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return M(this,os).get(t)}getAll(){return[...M(this,os).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Kk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Kk(t,n)):r}notify(t){At.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){At.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},os=new WeakMap,QO),ls,hr,Zi,cs,xa,XO,mW=(XO=class extends BM{constructor(t){super();pe(this,cs);pe(this,ls);pe(this,hr);pe(this,Zi);this.mutationId=t.mutationId,ce(this,hr,t.mutationCache),ce(this,ls,[]),this.state=t.state||qM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){M(this,ls).includes(t)||(M(this,ls).push(t),this.clearGcTimeout(),M(this,hr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,ls,M(this,ls).filter(r=>r!==t)),this.scheduleGc(),M(this,hr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){M(this,ls).length||(this.state.status==="pending"?this.scheduleGc():M(this,hr).remove(this))}continue(){var t;return((t=M(this,Zi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,u,d,f,h,m,g,p,v,b,x,w,j,_,S,N;ce(this,Zi,zM({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{Oe(this,cs,xa).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{Oe(this,cs,xa).call(this,{type:"pause"})},onContinue:()=>{Oe(this,cs,xa).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,hr).canRun(this)}));const r=this.state.status==="pending",n=!M(this,Zi).canStart();try{if(!r){Oe(this,cs,xa).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=M(this,hr).config).onMutate)==null?void 0:a.call(s,t,this));const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));C!==this.state.context&&Oe(this,cs,xa).call(this,{type:"pending",context:C,variables:t,isPaused:n})}const k=await M(this,Zi).start();return await((u=(c=M(this,hr).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context)),await((m=(h=M(this,hr).config).onSettled)==null?void 0:m.call(h,k,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context)),Oe(this,cs,xa).call(this,{type:"success",data:k}),k}catch(k){try{throw await((b=(v=M(this,hr).config).onError)==null?void 0:b.call(v,k,t,this.state.context,this)),await((w=(x=this.options).onError)==null?void 0:w.call(x,k,t,this.state.context)),await((_=(j=M(this,hr).config).onSettled)==null?void 0:_.call(j,void 0,k,this.state.variables,this.state.context,this)),await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,k,t,this.state.context)),k}finally{Oe(this,cs,xa).call(this,{type:"error",error:k})}}finally{M(this,hr).runNext(this)}}},ls=new WeakMap,hr=new WeakMap,Zi=new WeakMap,cs=new WeakSet,xa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),At.batch(()=>{M(this,ls).forEach(n=>{n.onMutationUpdate(t)}),M(this,hr).notify({mutation:this,type:"updated",action:t})})},XO);function qM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hr,$f,JO,pW=(JO=class extends Bc{constructor(t={}){super();pe(this,Hr);pe(this,$f);this.config=t,ce(this,Hr,new Map),ce(this,$f,Date.now())}build(t,r,n){const s=new mW({mutationCache:this,mutationId:++gh(this,$f)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Lh(t),n=M(this,Hr).get(r)??[];n.push(t),M(this,Hr).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Lh(t);if(M(this,Hr).has(r)){const s=(n=M(this,Hr).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?M(this,Hr).delete(r):M(this,Hr).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=M(this,Hr).get(Lh(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=M(this,Hr).get(Lh(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){At.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...M(this,Hr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Gk(r,n))}findAll(t={}){return this.getAll().filter(r=>Gk(t,r))}notify(t){At.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return At.batch(()=>Promise.all(t.map(r=>r.continue().catch(pn))))}},Hr=new WeakMap,$f=new WeakMap,JO);function Lh(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Xk(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=DM(t.options,t.fetchOptions),x=async(w,j,_)=>{if(p)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};v(S);const N=await b(S),{maxPages:k}=t.options,C=_?iW:aW;return{pages:C(w.pages,N,k),pageParams:C(w.pageParams,j,k)}};if(s&&a.length){const w=s==="backward",j=w?gW:Jk,_={pages:a,pageParams:o},S=j(n,_);l=await x(_,S,w)}else{const w=e??a.length;do{const j=c===0?o[0]??n.initialPageParam:Jk(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Jk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function gW(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var pt,Ta,Ra,Ul,ql,Ma,Wl,Vl,ZO,vW=(ZO=class{constructor(e={}){pe(this,pt);pe(this,Ta);pe(this,Ra);pe(this,Ul);pe(this,ql);pe(this,Ma);pe(this,Wl);pe(this,Vl);ce(this,pt,e.queryCache||new hW),ce(this,Ta,e.mutationCache||new pW),ce(this,Ra,e.defaultOptions||{}),ce(this,Ul,new Map),ce(this,ql,new Map),ce(this,Ma,0)}mount(){gh(this,Ma)._++,M(this,Ma)===1&&(ce(this,Wl,Uj.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,pt).onFocus())})),ce(this,Vl,up.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,pt).onOnline())})))}unmount(){var e,t;gh(this,Ma)._--,M(this,Ma)===0&&((e=M(this,Wl))==null||e.call(this),ce(this,Wl,void 0),(t=M(this,Vl))==null||t.call(this),ce(this,Vl,void 0))}isFetching(e){return M(this,pt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return M(this,Ta).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=M(this,pt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=M(this,pt).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Ol(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return M(this,pt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=M(this,pt).get(n.queryHash),a=s==null?void 0:s.state.data,o=nW(t,a);if(o!==void 0)return M(this,pt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return At.batch(()=>M(this,pt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=M(this,pt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=M(this,pt);At.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=M(this,pt),n={type:"active",...e};return At.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=At.batch(()=>M(this,pt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(pn).catch(pn)}invalidateQueries(e={},t={}){return At.batch(()=>{if(M(this,pt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=At.batch(()=>M(this,pt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(pn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(pn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=M(this,pt).build(this,t);return r.isStaleByTime(Ol(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(pn).catch(pn)}fetchInfiniteQuery(e){return e.behavior=Xk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(pn).catch(pn)}ensureInfiniteQueryData(e){return e.behavior=Xk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return up.isOnline()?M(this,Ta).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,pt)}getMutationCache(){return M(this,Ta)}getDefaultOptions(){return M(this,Ra)}setDefaultOptions(e){ce(this,Ra,e)}setQueryDefaults(e,t){M(this,Ul).set(go(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...M(this,Ul).values()];let r={};return t.forEach(n=>{qd(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){M(this,ql).set(go(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...M(this,ql).values()];let r={};return t.forEach(n=>{qd(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...M(this,Ra).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Bj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...M(this,Ra).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){M(this,pt).clear(),M(this,Ta).clear()}},pt=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,Ul=new WeakMap,ql=new WeakMap,Ma=new WeakMap,Wl=new WeakMap,Vl=new WeakMap,ZO),Er,De,If,mr,eo,Hl,$a,us,Df,Kl,Gl,to,ro,Ia,Yl,qe,Qu,nb,sb,ab,ib,ob,lb,cb,WM,eA,yW=(eA=class extends Bc{constructor(t,r){super();pe(this,qe);pe(this,Er);pe(this,De);pe(this,If);pe(this,mr);pe(this,eo);pe(this,Hl);pe(this,$a);pe(this,us);pe(this,Df);pe(this,Kl);pe(this,Gl);pe(this,to);pe(this,ro);pe(this,Ia);pe(this,Yl,new Set);this.options=r,ce(this,Er,t),ce(this,us,null),ce(this,$a,rb()),this.options.experimental_prefetchInRender||M(this,$a).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,De).addObserver(this),Zk(M(this,De),this.options)?Oe(this,qe,Qu).call(this):this.updateResult(),Oe(this,qe,ib).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ub(M(this,De),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ub(M(this,De),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,qe,ob).call(this),Oe(this,qe,lb).call(this),M(this,De).removeObserver(this)}setOptions(t,r){const n=this.options,s=M(this,De);if(this.options=M(this,Er).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qn(this.options.enabled,M(this,De))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Oe(this,qe,cb).call(this),M(this,De).setOptions(this.options),n._defaulted&&!cp(this.options,n)&&M(this,Er).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,De),observer:this});const a=this.hasListeners();a&&eP(M(this,De),s,this.options,n)&&Oe(this,qe,Qu).call(this),this.updateResult(r),a&&(M(this,De)!==s||qn(this.options.enabled,M(this,De))!==qn(n.enabled,M(this,De))||Ol(this.options.staleTime,M(this,De))!==Ol(n.staleTime,M(this,De)))&&Oe(this,qe,nb).call(this);const o=Oe(this,qe,sb).call(this);a&&(M(this,De)!==s||qn(this.options.enabled,M(this,De))!==qn(n.enabled,M(this,De))||o!==M(this,Ia))&&Oe(this,qe,ab).call(this,o)}getOptimisticResult(t){const r=M(this,Er).getQueryCache().build(M(this,Er),t),n=this.createResult(r,t);return bW(this,n)&&(ce(this,mr,n),ce(this,Hl,this.options),ce(this,eo,M(this,De).state)),n}getCurrentResult(){return M(this,mr)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){M(this,Yl).add(t)}getCurrentQuery(){return M(this,De)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=M(this,Er).defaultQueryOptions(t),n=M(this,Er).getQueryCache().build(M(this,Er),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Oe(this,qe,Qu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,mr)))}createResult(t,r){var k;const n=M(this,De),s=this.options,a=M(this,mr),o=M(this,eo),l=M(this,Hl),u=t!==n?t.state:M(this,If),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const C=this.hasListeners(),E=!C&&Zk(t,r),T=C&&eP(t,n,r,s);(E||T)&&(f={...f,...UM(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&r.select===M(this,Df))m=M(this,Kl);else try{ce(this,Df,r.select),m=r.select(f.data),m=tb(a==null?void 0:a.data,m,r),ce(this,Kl,m),ce(this,us,null)}catch(C){ce(this,us,C)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let C;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))C=a.data;else if(C=typeof r.placeholderData=="function"?r.placeholderData((k=M(this,Gl))==null?void 0:k.state.data,M(this,Gl)):r.placeholderData,r.select&&C!==void 0)try{C=r.select(C),ce(this,us,null)}catch(E){ce(this,us,E)}C!==void 0&&(v="success",m=tb(a==null?void 0:a.data,C,r),h=!0)}M(this,us)&&(g=M(this,us),m=M(this,Kl),p=Date.now(),v="error");const b=f.fetchStatus==="fetching",x=v==="pending",w=v==="error",j=x&&b,_=m!==void 0,N={status:v,fetchStatus:f.fetchStatus,isPending:x,isSuccess:v==="success",isError:w,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:w&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&_,isStale:qj(t,r),refetch:this.refetch,promise:M(this,$a)};if(this.options.experimental_prefetchInRender){const C=A=>{N.status==="error"?A.reject(N.error):N.data!==void 0&&A.resolve(N.data)},E=()=>{const A=ce(this,$a,N.promise=rb());C(A)},T=M(this,$a);switch(T.status){case"pending":t.queryHash===n.queryHash&&C(T);break;case"fulfilled":(N.status==="error"||N.data!==T.value)&&E();break;case"rejected":(N.status!=="error"||N.error!==T.reason)&&E();break}}return N}updateResult(t){const r=M(this,mr),n=this.createResult(M(this,De),this.options);if(ce(this,eo,M(this,De).state),ce(this,Hl,this.options),M(this,eo).data!==void 0&&ce(this,Gl,M(this,De)),cp(n,r))return;ce(this,mr,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!M(this,Yl).size)return!0;const c=new Set(l??M(this,Yl));return this.options.throwOnError&&c.add("error"),Object.keys(M(this,mr)).some(u=>{const d=u;return M(this,mr)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),Oe(this,qe,WM).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,qe,ib).call(this)}},Er=new WeakMap,De=new WeakMap,If=new WeakMap,mr=new WeakMap,eo=new WeakMap,Hl=new WeakMap,$a=new WeakMap,us=new WeakMap,Df=new WeakMap,Kl=new WeakMap,Gl=new WeakMap,to=new WeakMap,ro=new WeakMap,Ia=new WeakMap,Yl=new WeakMap,qe=new WeakSet,Qu=function(t){Oe(this,qe,cb).call(this);let r=M(this,De).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(pn)),r},nb=function(){Oe(this,qe,ob).call(this);const t=Ol(this.options.staleTime,M(this,De));if(po||M(this,mr).isStale||!Z0(t))return;const n=$M(M(this,mr).dataUpdatedAt,t)+1;ce(this,to,setTimeout(()=>{M(this,mr).isStale||this.updateResult()},n))},sb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,De)):this.options.refetchInterval)??!1},ab=function(t){Oe(this,qe,lb).call(this),ce(this,Ia,t),!(po||qn(this.options.enabled,M(this,De))===!1||!Z0(M(this,Ia))||M(this,Ia)===0)&&ce(this,ro,setInterval(()=>{(this.options.refetchIntervalInBackground||Uj.isFocused())&&Oe(this,qe,Qu).call(this)},M(this,Ia)))},ib=function(){Oe(this,qe,nb).call(this),Oe(this,qe,ab).call(this,Oe(this,qe,sb).call(this))},ob=function(){M(this,to)&&(clearTimeout(M(this,to)),ce(this,to,void 0))},lb=function(){M(this,ro)&&(clearInterval(M(this,ro)),ce(this,ro,void 0))},cb=function(){const t=M(this,Er).getQueryCache().build(M(this,Er),this.options);if(t===M(this,De))return;const r=M(this,De);ce(this,De,t),ce(this,If,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},WM=function(t){At.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(M(this,mr))}),M(this,Er).getQueryCache().notify({query:M(this,De),type:"observerResultsUpdated"})})},eA);function xW(e,t){return qn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Zk(e,t){return xW(e,t)||e.state.data!==void 0&&ub(e,t,t.refetchOnMount)}function ub(e,t,r){if(qn(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&qj(e,t)}return!1}function eP(e,t,r,n){return(e!==t||qn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&qj(e,r)}function qj(e,t){return qn(t.enabled,e)!==!1&&e.isStaleByTime(Ol(t.staleTime,e))}function bW(e,t){return!cp(e.getCurrentResult(),t)}var Da,La,Cr,Ds,Gs,Em,db,tA,wW=(tA=class extends Bc{constructor(r,n){super();pe(this,Gs);pe(this,Da);pe(this,La);pe(this,Cr);pe(this,Ds);ce(this,Da,r),this.setOptions(n),this.bindMethods(),Oe(this,Gs,Em).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=M(this,Da).defaultMutationOptions(r),cp(this.options,n)||M(this,Da).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,Cr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&go(n.mutationKey)!==go(this.options.mutationKey)?this.reset():((s=M(this,Cr))==null?void 0:s.state.status)==="pending"&&M(this,Cr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=M(this,Cr))==null||r.removeObserver(this)}onMutationUpdate(r){Oe(this,Gs,Em).call(this),Oe(this,Gs,db).call(this,r)}getCurrentResult(){return M(this,La)}reset(){var r;(r=M(this,Cr))==null||r.removeObserver(this),ce(this,Cr,void 0),Oe(this,Gs,Em).call(this),Oe(this,Gs,db).call(this)}mutate(r,n){var s;return ce(this,Ds,n),(s=M(this,Cr))==null||s.removeObserver(this),ce(this,Cr,M(this,Da).getMutationCache().build(M(this,Da),this.options)),M(this,Cr).addObserver(this),M(this,Cr).execute(r)}},Da=new WeakMap,La=new WeakMap,Cr=new WeakMap,Ds=new WeakMap,Gs=new WeakSet,Em=function(){var n;const r=((n=M(this,Cr))==null?void 0:n.state)??qM();ce(this,La,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},db=function(r){At.batch(()=>{var n,s,a,o,l,c,u,d;if(M(this,Ds)&&this.hasListeners()){const f=M(this,La).variables,h=M(this,La).context;(r==null?void 0:r.type)==="success"?((s=(n=M(this,Ds)).onSuccess)==null||s.call(n,r.data,f,h),(o=(a=M(this,Ds)).onSettled)==null||o.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=M(this,Ds)).onError)==null||c.call(l,r.error,f,h),(d=(u=M(this,Ds)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(M(this,La))})})},tA),VM=y.createContext(void 0),_r=e=>{const t=y.useContext(VM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jW=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(VM.Provider,{value:e,children:t})),HM=y.createContext(!1),_W=()=>y.useContext(HM);HM.Provider;function SW(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var NW=y.createContext(SW()),kW=()=>y.useContext(NW);function KM(e,t){return typeof e=="function"?e(...t):!!e}function GM(){}var PW=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},EW=e=>{y.useEffect(()=>{e.clearReset()},[e])},CW=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&KM(r,[e.error,n]),OW=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},AW=(e,t)=>e.isLoading&&e.isFetching&&!t,TW=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,tP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function RW(e,t,r){var d,f,h,m,g;const n=_r(),s=_W(),a=kW(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",OW(o),PW(o,a),EW(a);const l=!n.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(y.useSyncExternalStore(y.useCallback(p=>{const v=s?()=>{}:c.subscribe(At.batchCalls(p));return c.updateResult(),v},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),TW(o,u))throw tP(o,c,a);if(CW({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,o,u),o.experimental_prefetchInRender&&!po&&AW(u,s)){const p=l?tP(o,c,a):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;p==null||p.catch(GM).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function jt(e,t){return RW(e,yW)}function yt(e,t){const r=_r(),[n]=y.useState(()=>new wW(r,e));y.useEffect(()=>{n.setOptions(e)},[n,e]);const s=y.useSyncExternalStore(y.useCallback(o=>n.subscribe(At.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=y.useCallback((o,l)=>{n.mutate(o,l).catch(GM)},[n]);if(s.error&&KM(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wd.apply(this,arguments)}var Ua;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ua||(Ua={}));const rP="popstate";function MW(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return fb("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:dp(s)}return IW(t,r,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YM(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $W(){return Math.random().toString(36).substr(2,8)}function nP(e,t){return{usr:e.state,key:e.key,idx:t}}function fb(e,t,r,n){return r===void 0&&(r=null),Wd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Uc(t):t,{state:r,key:t&&t.key||n||$W()})}function dp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Uc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function IW(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Ua.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Wd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ua.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:b})}function h(v,b){l=Ua.Push;let x=fb(p.location,v,b);u=d()+1;let w=nP(x,u),j=p.createHref(x);try{o.pushState(w,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}a&&c&&c({action:l,location:p.location,delta:1})}function m(v,b){l=Ua.Replace;let x=fb(p.location,v,b);u=d();let w=nP(x,u),j=p.createHref(x);o.replaceState(w,"",j),a&&c&&c({action:l,location:p.location,delta:0})}function g(v){let b=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof v=="string"?v:dp(v);return x=x.replace(/ $/,"%20"),_t(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let p={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(rP,f),c=v,()=>{s.removeEventListener(rP,f),c=null}},createHref(v){return t(s,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var sP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sP||(sP={}));function DW(e,t,r){return r===void 0&&(r="/"),LW(e,t,r,!1)}function LW(e,t,r,n){let s=typeof t=="string"?Uc(t):t,a=Wj(s.pathname||"/",r);if(a==null)return null;let o=QM(e);FW(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=QW(a);l=GW(o[c],u,n)}return l}function QM(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ja([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QM(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:HW(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of XM(a.path))s(a,o,c)}),t}function XM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=XM(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function FW(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:KW(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zW=/^:[\w-]+$/,BW=3,UW=2,qW=1,WW=10,VW=-2,aP=e=>e==="*";function HW(e,t){let r=e.split("/"),n=r.length;return r.some(aP)&&(n+=VW),t&&(n+=UW),r.filter(s=>!aP(s)).reduce((s,a)=>s+(zW.test(a)?BW:a===""?qW:WW),n)}function KW(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function GW(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=iP({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=iP({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ja([a,f.pathname]),pathnameBase:eV(Ja([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ja([a,f.pathnameBase]))}return o}function iP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=YW(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function YW(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),YM(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function QW(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return YM(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function XW(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Uc(e):e;return{pathname:r?r.startsWith("/")?r:JW(r,t):t,search:tV(n),hash:rV(s)}}function JW(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Qy(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZW(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Vj(e,t){let r=ZW(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hj(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Uc(e):(s=Wd({},e),_t(!s.pathname||!s.pathname.includes("?"),Qy("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),Qy("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),Qy("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=XW(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ja=e=>e.join("/").replace(/\/\/+/g,"/"),eV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const JM=["post","put","patch","delete"];new Set(JM);const sV=["get",...JM];new Set(sV);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}const Kj=y.createContext(null),aV=y.createContext(null),xi=y.createContext(null),sv=y.createContext(null),la=y.createContext({outlet:null,matches:[],isDataRoute:!1}),ZM=y.createContext(null);function iV(e,t){let{relative:r}=t===void 0?{}:t;qc()||_t(!1);let{basename:n,navigator:s}=y.useContext(xi),{hash:a,pathname:o,search:l}=r$(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ja([n,o])),s.createHref({pathname:c,search:l,hash:a})}function qc(){return y.useContext(sv)!=null}function Ss(){return qc()||_t(!1),y.useContext(sv).location}function e$(e){y.useContext(xi).static||y.useLayoutEffect(e)}function Ns(){let{isDataRoute:e}=y.useContext(la);return e?xV():oV()}function oV(){qc()||_t(!1);let e=y.useContext(Kj),{basename:t,future:r,navigator:n}=y.useContext(xi),{matches:s}=y.useContext(la),{pathname:a}=Ss(),o=JSON.stringify(Vj(s,r.v7_relativeSplatPath)),l=y.useRef(!1);return e$(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Hj(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ja([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,a,e])}function t$(){let{matches:e}=y.useContext(la),t=e[e.length-1];return t?t.params:{}}function r$(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(xi),{matches:s}=y.useContext(la),{pathname:a}=Ss(),o=JSON.stringify(Vj(s,n.v7_relativeSplatPath));return y.useMemo(()=>Hj(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function lV(e,t){return cV(e,t)}function cV(e,t,r,n){qc()||_t(!1);let{navigator:s}=y.useContext(xi),{matches:a}=y.useContext(la),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ss(),d;if(t){var f;let v=typeof t=="string"?Uc(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||_t(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=DW(e,{pathname:m}),p=mV(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ja([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Ja([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&p?y.createElement(sv.Provider,{value:{location:Vd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ua.Pop}},p):p}function uV(){let e=yV(),t=nV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:s},r):null,null)}const dV=y.createElement(uV,null);class fV extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(la.Provider,{value:this.props.routeContext},y.createElement(ZM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hV(e){let{routeContext:t,match:r,children:n}=e,s=y.useContext(Kj);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(la.Provider,{value:t},n)}function mV(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||_t(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||dV,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),x=()=>{let w;return m?w=p:g?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(hV,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(fV,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var n$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(n$||{}),fp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fp||{});function pV(e){let t=y.useContext(Kj);return t||_t(!1),t}function gV(e){let t=y.useContext(aV);return t||_t(!1),t}function vV(e){let t=y.useContext(la);return t||_t(!1),t}function s$(e){let t=vV(),r=t.matches[t.matches.length-1];return r.route.id||_t(!1),r.route.id}function yV(){var e;let t=y.useContext(ZM),r=gV(fp.UseRouteError),n=s$(fp.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function xV(){let{router:e}=pV(n$.UseNavigateStable),t=s$(fp.UseNavigateStable),r=y.useRef(!1);return e$(()=>{r.current=!0}),y.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Vd({fromRouteId:t},a)))},[e,t])}function Fh(e){let{to:t,replace:r,state:n,relative:s}=e;qc()||_t(!1);let{future:a,static:o}=y.useContext(xi),{matches:l}=y.useContext(la),{pathname:c}=Ss(),u=Ns(),d=Hj(t,Vj(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function qr(e){_t(!1)}function bV(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ua.Pop,navigator:a,static:o=!1,future:l}=e;qc()&&_t(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:a,static:o,future:Vd({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Uc(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=y.useMemo(()=>{let v=Wj(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:y.createElement(xi.Provider,{value:u},y.createElement(sv.Provider,{children:r,value:p}))}function wV(e){let{children:t,location:r}=e;return lV(hb(t),r)}new Promise(()=>{});function hb(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,s)=>{if(!y.isValidElement(n))return;let a=[...t,s];if(n.type===y.Fragment){r.push.apply(r,hb(n.props.children,a));return}n.type!==qr&&_t(!1),!n.props.index||!n.props.children||_t(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=hb(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mb.apply(this,arguments)}function jV(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function _V(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SV(e,t){return e.button===0&&(!t||t==="_self")&&!_V(e)}function pb(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function NV(e,t){let r=pb(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const kV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PV="6";try{window.__reactRouterVersion=PV}catch{}const EV="startTransition",oP=fA[EV];function CV(e){let{basename:t,children:r,future:n,window:s}=e,a=y.useRef();a.current==null&&(a.current=MW({window:s,v5Compat:!0}));let o=a.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&oP?oP(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.createElement(bV,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const OV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ac=y.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=jV(t,kV),{basename:m}=y.useContext(xi),g,p=!1;if(typeof u=="string"&&AV.test(u)&&(g=u,OV))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=Wj(j.pathname,m);j.origin===w.origin&&_!=null?u=_+j.search+j.hash:p=!0}catch{}let v=iV(u,{relative:s}),b=TV(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||b(w)}return y.createElement("a",mb({},h,{href:g||v,onClick:p||a?n:x,ref:r,target:c}))});var lP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lP||(lP={}));var cP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cP||(cP={}));function TV(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ns(),u=Ss(),d=r$(e,{relative:o});return y.useCallback(f=>{if(SV(f,r)){f.preventDefault();let h=n!==void 0?n:dp(u)===dp(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}function Gj(e){let t=y.useRef(pb(e)),r=y.useRef(!1),n=Ss(),s=y.useMemo(()=>NV(n.search,r.current?null:t.current),[n.search]),a=Ns(),o=y.useCallback((l,c)=>{const u=pb(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}const RV="modulepreload",MV=function(e){return"/"+e},uP={},Sr=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=MV(c),c in uP)return;uP[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":RV,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},$V=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sr(async()=>{const{default:n}=await Promise.resolve().then(()=>Wc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Yj extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class IV extends Yj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class DV extends Yj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class LV extends Yj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gb||(gb={}));var FV=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class zV{constructor(t,{headers:r={},customFetch:n,region:s=gb.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=$V(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return FV(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(g=>{throw new IV(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new DV(d);if(!d.ok)throw new LV(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Rr={},Qj={},av={},Yf={},iv={},ov={},BV=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ic=BV();const UV=ic.fetch,a$=ic.fetch.bind(ic),i$=ic.Headers,qV=ic.Request,WV=ic.Response,Wc=Object.freeze(Object.defineProperty({__proto__:null,Headers:i$,Request:qV,Response:WV,default:a$,fetch:UV},Symbol.toStringTag,{value:"Module"})),VV=g8(Wc);var lv={};Object.defineProperty(lv,"__esModule",{value:!0});let HV=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};lv.default=HV;var o$=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ov,"__esModule",{value:!0});const KV=o$(VV),GV=o$(lv);let YV=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=KV.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,f=null,h=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await a.text();try{u=JSON.parse(p),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,m="OK")}catch{a.status===404&&p===""?(h=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new GV.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ov.default=YV;var QV=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iv,"__esModule",{value:!0});const XV=QV(ov);let JV=class extends XV.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};iv.default=JV;var ZV=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yf,"__esModule",{value:!0});const eH=ZV(iv);let tH=class extends eH.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Yf.default=tH;var rH=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(av,"__esModule",{value:!0});const Ou=rH(Yf);let nH=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ou.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ou.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ou.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ou.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ou.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};av.default=nH;var cv={},uv={};Object.defineProperty(uv,"__esModule",{value:!0});uv.version=void 0;uv.version="0.0.0-automated";Object.defineProperty(cv,"__esModule",{value:!0});cv.DEFAULT_HEADERS=void 0;const sH=uv;cv.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sH.version}`};var l$=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qj,"__esModule",{value:!0});const aH=l$(av),iH=l$(Yf),oH=cv;let lH=class c${constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},oH.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new aH.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new c$(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new iH.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Qj.default=lH;var Vc=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.PostgrestError=Rr.PostgrestBuilder=Rr.PostgrestTransformBuilder=Rr.PostgrestFilterBuilder=Rr.PostgrestQueryBuilder=Rr.PostgrestClient=void 0;const u$=Vc(Qj);Rr.PostgrestClient=u$.default;const d$=Vc(av);Rr.PostgrestQueryBuilder=d$.default;const f$=Vc(Yf);Rr.PostgrestFilterBuilder=f$.default;const h$=Vc(iv);Rr.PostgrestTransformBuilder=h$.default;const m$=Vc(ov);Rr.PostgrestBuilder=m$.default;const p$=Vc(lv);Rr.PostgrestError=p$.default;var cH=Rr.default={PostgrestClient:u$.default,PostgrestQueryBuilder:d$.default,PostgrestFilterBuilder:f$.default,PostgrestTransformBuilder:h$.default,PostgrestBuilder:m$.default,PostgrestError:p$.default};const{PostgrestClient:uH,PostgrestQueryBuilder:d2e,PostgrestFilterBuilder:f2e,PostgrestTransformBuilder:h2e,PostgrestBuilder:m2e,PostgrestError:p2e}=cH;let vb;typeof window>"u"?vb=require("ws"):vb=window.WebSocket;const dH=vb,fH="2.11.10",hH={"X-Client-Info":`realtime-js/${fH}`},mH="1.0.0",g$=1e4,pH=1e3;var Al;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Al||(Al={}));var fr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fr||(fr={}));var Fn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fn||(Fn={}));var yb;(function(e){e.websocket="websocket"})(yb||(yb={}));var zi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zi||(zi={}));class gH{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class v${constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const dP=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=vH(o,e,t,s),a),{})},vH=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?y$(a,o):xb(o)},y$=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return wH(t,r)}switch(e){case Ze.bool:return yH(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return xH(t);case Ze.json:case Ze.jsonb:return bH(t);case Ze.timestamp:return jH(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return xb(t);default:return xb(t)}},xb=e=>e,yH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xH=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bH=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wH=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>y$(t,l))}return e},jH=e=>typeof e=="string"?e.replace(" ","T"):e,x$=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Xy{constructor(t,r,n={},s=g$){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fP||(fP={}));class fd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fd.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=fd.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=fd.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hP||(hP={}));var mP;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mP||(mP={}));var Ms;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ms||(Ms={}));class Xj{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=fr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xy(this,Fn.join,this.params,this.timeout),this.rejoinTimer=new v$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new fd(this),this.broadcastEndpointURL=x$(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Ms.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ms.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Ms.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let p=0;p<m;p++){const v=h[p],{filter:{event:b,schema:x,table:w,filter:j}}=v,_=d&&d[p];if(_&&_.event===b&&_.schema===x&&_.table===w&&_.filter===j)g.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),this.state=fr.errored,t==null||t(Ms.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ms.SUBSCRIBED);return}}).receive("error",d=>{this.state=fr.errored,t==null||t(Ms.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ms.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Xy(this,Fn.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xy(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Fn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var g,p,v,b,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,_=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((p=r.ids)===null||p===void 0?void 0:p.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(x=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:b,type:x,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===fr.closed}_isJoined(){return this.state===fr.joined}_isJoining(){return this.state===fr.joining}_isLeaving(){return this.state===fr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Xj.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fn.close,{},t)}_onError(t){this._on(Fn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=dP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=dP(t.columns,t.old_record)),r}}const pP=()=>{},_H=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SH{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=hH,this.params={},this.timeout=g$,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pP,this.ref=0,this.logger=pP,this.conn=null,this.sendBuffer=[],this.serializer=new gH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Sr(async()=>{const{default:c}=await Promise.resolve().then(()=>Wc);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${yb.websocket}`,this.httpEndpoint=x$(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new v$(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=dH),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new NH(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mH}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Al.connecting:return zi.Connecting;case Al.open:return zi.Open;case Al.closing:return zi.Closing;default:return zi.Closed}}isConnected(){return this.connectionState()===zi.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Xj(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Fn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(pH,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([_H],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class NH{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Al.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Jj extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function It(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kH extends Jj{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bb extends Jj{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var PH=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const b$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sr(async()=>{const{default:n}=await Promise.resolve().then(()=>Wc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},EH=()=>PH(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sr(()=>Promise.resolve().then(()=>Wc),void 0)).Response:Response}),wb=e=>{if(Array.isArray(e))return e.map(r=>wb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=wb(n)}),t};var To=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Jy=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CH=(e,t,r)=>To(void 0,void 0,void 0,function*(){const n=yield EH();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new kH(Jy(s),e.status||500))}).catch(s=>{t(new bb(Jy(s),s))}):t(new bb(Jy(e),e))}),OH=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Qf(e,t,r,n,s,a){return To(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,OH(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>CH(c,l,n))})})}function hp(e,t,r,n){return To(this,void 0,void 0,function*(){return Qf(e,"GET",t,r,n)})}function Sa(e,t,r,n,s){return To(this,void 0,void 0,function*(){return Qf(e,"POST",t,n,s,r)})}function AH(e,t,r,n,s){return To(this,void 0,void 0,function*(){return Qf(e,"PUT",t,n,s,r)})}function TH(e,t,r,n){return To(this,void 0,void 0,function*(){return Qf(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function w$(e,t,r,n,s){return To(this,void 0,void 0,function*(){return Qf(e,"DELETE",t,n,s,r)})}var Pr=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const RH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MH{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=b$(s)}uploadOrUpdate(t,r,n,s){return Pr(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},gP),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(It(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Pr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:gP.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(It(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Pr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Sa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Jj("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}update(t,r,n){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Pr(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(It(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Pr(this,void 0,void 0,function*(){try{return{data:{path:(yield Sa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(It(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Pr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Sa(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(It(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Pr(this,void 0,void 0,function*(){try{const s=yield Sa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(It(s))return{data:null,error:s};throw s}})}download(t,r){return Pr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield hp(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(It(l))return{data:null,error:l};throw l}})}info(t){return Pr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield hp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wb(n),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}exists(t){return Pr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield TH(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(It(n)&&n instanceof bb){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield w$(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}list(t,r,n){return Pr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},RH),r),{prefix:t||""});return{data:yield Sa(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(It(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const $H="2.7.1",IH={"X-Client-Info":`storage-js/${$H}`};var Vo=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class DH{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},IH),r),this.fetch=b$(n)}listBuckets(){return Vo(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(It(t))return{data:null,error:t};throw t}})}getBucket(t){return Vo(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Vo(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Vo(this,void 0,void 0,function*(){try{return{data:yield AH(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Vo(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Vo(this,void 0,void 0,function*(){try{return{data:yield w$(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}}class LH extends DH{constructor(t,r={},n){super(t,r,n)}from(t){return new MH(this.url,this.headers,t,this.fetch)}}const FH="2.50.0";let Xu="";typeof Deno<"u"?Xu="deno":typeof document<"u"?Xu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xu="react-native":Xu="node";const zH={"X-Client-Info":`supabase-js-${Xu}/${FH}`},BH={headers:zH},UH={schema:"public"},qH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WH={};var VH=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const HH=e=>{let t;return e?t=e:typeof fetch>"u"?t=a$:t=fetch,(...r)=>t(...r)},KH=()=>typeof Headers>"u"?i$:Headers,GH=(e,t,r)=>{const n=HH(r),s=KH();return(a,o)=>VH(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var YH=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function QH(e){return e.endsWith("/")?e:e+"/"}function XH(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>YH(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const j$="2.70.0",al=30*1e3,jb=3,Zy=jb*al,JH="http://localhost:9999",ZH="supabase.auth.token",eK={"X-Client-Info":`gotrue-js/${j$}`},_b="X-Supabase-Api-Version",_$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rK=6e5;class Zj extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class nK extends Zj{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sK(e){return Ne(e)&&e.name==="AuthApiError"}class S$ extends Zj{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class bi extends Zj{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ba extends bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function aK(e){return Ne(e)&&e.name==="AuthSessionMissingError"}class zh extends bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bh extends bi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Uh extends bi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iK(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class vP extends bi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sb extends bi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ex(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}class yP extends bi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hd extends bi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xP=` 	
\r=`.split(""),oK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xP.length;t+=1)e[xP[t].charCodeAt(0)]=-2;for(let t=0;t<mp.length;t+=1)e[mp[t].charCodeAt(0)]=t;return e})();function bP(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mp[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mp[n]),t.queuedBits-=6}}function N$(e,t,r){const n=oK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wP(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{uK(o,n,r)};for(let o=0;o<e.length;o+=1)N$(e.charCodeAt(o),s,a);return t.join("")}function lK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function cK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}lK(n,t)}}function uK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function dK(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)N$(e.charCodeAt(s),r,n);return new Uint8Array(t)}function fK(e){const t=[];return cK(e,r=>t.push(r)),new Uint8Array(t)}function hK(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>bP(s,r,n)),bP(null,r,n),t.join("")}function mK(e){return Math.round(Date.now()/1e3)+e}function pK(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Mn=()=>typeof window<"u"&&typeof document<"u",Oi={tested:!1,writable:!1},md=()=>{if(!Mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oi.tested)return Oi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Oi.tested=!0,Oi.writable=!0}catch{Oi.tested=!0,Oi.writable=!1}return Oi.writable};function gK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const k$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sr(async()=>{const{default:n}=await Promise.resolve().then(()=>Wc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",P$=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},qh=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Wh=async(e,t)=>{await e.removeItem(t)};class dv{constructor(){this.promise=new dv.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}dv.promiseConstructor=Promise;function tx(e){const t=e.split(".");if(t.length!==3)throw new hd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!tK.test(t[n]))throw new hd("JWT not in base64url format");return{header:JSON.parse(wP(t[0])),payload:JSON.parse(wP(t[1])),signature:dK(t[2]),raw:{header:t[0],payload:t[1]}}}async function yK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xK(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function bK(e){return("0"+e.toString(16)).substr(-2)}function wK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,bK).join("")}async function jK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function _K(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await jK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ho(e,t,r=!1){const n=wK();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await P$(e,`${t}-code-verifier`,s);const a=await _K(n);return[a,n===a?"plain":"s256"]}const SK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NK(e){const t=e.headers.get(_b);if(!t||!t.match(SK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function kK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ko(e){if(!EK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var CK=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Mi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OK=[502,503,504];async function jP(e){var t;if(!vK(e))throw new Sb(Mi(e),0);if(OK.includes(e.status))throw new Sb(Mi(e),e.status);let r;try{r=await e.json()}catch(a){throw new S$(Mi(a),a)}let n;const s=NK(e);if(s&&s.getTime()>=_$["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yP(Mi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ba}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new yP(Mi(r),e.status,r.weak_password.reasons);throw new nK(Mi(r),e.status||500,n)}const AK=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Re(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[_b]||(a[_b]=_$["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await TK(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function TK(e,t,r,n,s,a){const o=AK(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Sb(Mi(c),0)}if(l.ok||await jP(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await jP(c)}}function Ts(e){var t;let r=null;IK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=mK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _P(e){const t=Ts(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ea(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function RK(e){return{data:e,error:null}}function MK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=CK(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function $K(e){return e}function IK(e){return e.access_token&&e.refresh_token&&e.expires_in}const rx=["global","local","others"];var DK=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class LK{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=k$(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=rx[0]){if(rx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rx.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ea})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=DK(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:MK,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ea})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:$K});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ko(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ea})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ko(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ea})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ko(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ea})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ko(t.userId);try{const{data:r,error:n}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ko(t.userId),Ko(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}}const FK={getItem:e=>md()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{md()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{md()&&globalThis.localStorage.removeItem(e)}};function SP(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function zK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Go={debug:!!(globalThis&&md()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class E$ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class BK extends E${}async function UK(e,t,r){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new BK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Go.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}zK();const qK={url:JH,storageKey:ZH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function NP(e,t,r){return await r()}class Hd{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hd.nextInstanceID,Hd.nextInstanceID+=1,this.instanceID>0&&Mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},qK),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new LK({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=k$(s.fetch),this.lock=s.lock||NP,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Mn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=UK:this.lock=NP,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:md()?this.storage=FK:(this.memoryStorage={},this.storage=SP(this.memoryStorage)):(this.memoryStorage={},this.storage=SP(this.memoryStorage)),Mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${j$}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=gK(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Mn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),iK(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ne(r)?{error:r}:{error:new S$("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ts}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ho(this.storage,this.storageKey)),a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Ts})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ts})}else throw new Bh("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_P})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_P})}else throw new Bh("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:b,statement:x,options:w}=t;let j;if(Mn())if(typeof b=="object")j=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:v,error:b}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:hK(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ts});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new zh}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(Ne(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await qh(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ts});if(await Wh(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new zh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(Ne(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ts}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new zh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ho(this.storage,this.storageKey));const{error:f}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Bh("You must provide either an email or phone number.")}catch(l){if(Ne(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Ts});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Ho(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:RK})}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ba;const{error:s}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Bh("You must provide either an email or phone number and a type")}catch(r){if(Ne(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await qh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Zy:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ea}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ba}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Ea})})}catch(r){if(Ne(r))return aK(r)&&(await this._removeSession(),await Wh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new ba;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ho(this.storage,this.storageKey));const{data:u,error:d}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ea});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ba;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=tx(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Ne(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ba;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ne(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Mn())throw new Uh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Uh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vP("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Uh("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=al&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:v}=await this._getUser(a);if(v)throw v;const b={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(Ne(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await qh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(sK(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Wh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=pK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ho(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Mn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ne(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xK(async s=>(s>0&&await yK(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ts})),(s,a)=>{const o=200*Math.pow(2,s);return a&&ex(a)&&Date.now()+o-n<al})}catch(n){if(this._debug(r,"error",n),Ne(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Mn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await qh(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Zy;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Zy}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),ex(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ba;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new dv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ba;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Ne(a)){const o={session:null,error:a};return ex(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await P$(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Wh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),al);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/al);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${al}ms, refresh threshold is ${jb} ticks`),s<=jb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof E$)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ho(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=tx(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+rK>Date.now()))return n;const{data:s,error:a}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new hd("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new hd("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=tx(n);if(kK(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const u=PK(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,fK(`${l}.${c}`)))throw new hd("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}}Hd.nextInstanceID=0;const WK=Hd;class VK extends WK{constructor(t){super(t)}}var HK=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class KK{constructor(t,r,n){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=QH(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:UH,realtime:WH,auth:Object.assign(Object.assign({},qH),{storageKey:u}),global:BH},f=XH(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=GH(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new uH(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new zV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new LH(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return HK(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VK({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new SH(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GK=(e,t,r)=>new KK(e,t,r),YK="https://rigurrwjiaucodxuuzeh.supabase.co",QK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ3VycndqaWF1Y29keHV1emVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3NDI1NTYsImV4cCI6MjA2NTMxODU1Nn0.nr5QAlB0UyA3VQWXolIsc8lXXzwj0Ur6Nj-ddr7f7AQ",J=GK(YK,QK),C$=y.createContext(void 0),e_=()=>{const e=y.useContext(C$);if(!e)throw new Error("useOrganization must be used within an OrganizationProvider");return e},XK=["admin","auth","create-organization","login","terms-of-service","privacy-policy"],JK=e=>{const t=e.split("/").filter(r=>r);return t[0]==="admin"&&t.length>1&&t[1]!=="login"||t[0]==="org"&&t.length>1?t[1]:t.length>0&&!XK.includes(t[0])?t[0]:null},ZK=({children:e})=>{const[t,r]=y.useState(null),[n,s]=y.useState(!0),[a,o]=y.useState(null),l=Ss(),c=async()=>{s(!0),o(null);try{const u=JK(l.pathname);if(!u){r(null),s(!1);return}const{data:d,error:f}=await J.from("organizations").select("*").eq("slug",u).single();f?(f.code==="PGRST116"?o("Organization not found"):o(f.message||"Failed to load organization"),r(null)):(r(d),o(null))}catch(u){o(u.message||"An unexpected error occurred"),r(null)}finally{s(!1)}};return y.useEffect(()=>{c()},[l.pathname]),i.jsx(C$.Provider,{value:{organization:t,loading:n,error:a,refreshOrganization:c},children:e})},O$=y.createContext(void 0),eG=({children:e})=>{const[t,r]=y.useState(),n={dateRange:t,setDateRange:r};return i.jsx(O$.Provider,{value:n,children:e})},A$=()=>{const e=y.useContext(O$);if(e===void 0)throw new Error("useDashboard must be used within a DashboardProvider. Make sure the component calling useDashboard is wrapped with <DashboardProvider>.");return e},tG=async e=>{var t;try{console.log("Checking user roles for:",e),await new Promise(c=>setTimeout(c,100));const{data:r,error:n}=await J.rpc("get_current_user_admin_status");n&&console.error("Error checking admin status:",n);const{data:s,error:a}=await J.from("organization_users").select("organization_id, role, organizations(slug)").eq("user_id",e).single();a&&a.code!=="PGRST116"&&console.error("Error checking org memberships:",a);const o=!!r,l=!!(s!=null&&s.organization_id);return console.log("User roles determined:",{isAdmin:o,hasOrgRole:l,orgData:s}),{isAdmin:o,isOrgAdmin:l,currentOrganization:(s==null?void 0:s.organization_id)||null,currentOrganizationSlug:((t=s==null?void 0:s.organizations)==null?void 0:t.slug)||null}}catch(r){return console.error("Error checking user roles:",r),{isAdmin:!1,isOrgAdmin:!1,currentOrganization:null,currentOrganizationSlug:null}}},rG=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(null),[s,a]=y.useState(!1),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(null),[h,m]=y.useState(!0);return y.useEffect(()=>{let g=!0,p;const v=async x=>{try{const w=await tG(x);g&&(a(w.isAdmin),l(w.isOrgAdmin),u(w.currentOrganization),f(w.currentOrganizationSlug),m(!1))}catch(w){console.error("Error updating user roles:",w),g&&m(!1)}},{data:{subscription:b}}=J.auth.onAuthStateChange(async(x,w)=>{var j;g&&(console.log("Auth state change in useAuthState:",x,(j=w==null?void 0:w.user)==null?void 0:j.email),n(w),t((w==null?void 0:w.user)??null),p&&clearTimeout(p),w!=null&&w.user?p=setTimeout(()=>{g&&v(w.user.id)},200):(a(!1),l(!1),u(null),f(null),m(!1)))});return J.auth.getSession().then(({data:{session:x}})=>{var w;g&&(console.log("Initial session check:",(w=x==null?void 0:x.user)==null?void 0:w.email),n(x),t((x==null?void 0:x.user)??null),x!=null&&x.user?v(x.user.id):m(!1))}),()=>{g=!1,p&&clearTimeout(p),b.unsubscribe()}},[]),{user:e,session:r,isAdmin:s,isOrgAdmin:o,currentOrganization:c,currentOrganizationSlug:d,loading:h}},nG=()=>J.supabaseKey||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ3VycndqaWF1Y29keHV1emVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3NDI1NTYsImV4cCI6MjA2NTMxODU1Nn0.nr5QAlB0UyA3VQWXolIsc8lXXzwj0Ur6Nj-ddr7f7AQ",T$=e=>{const t=window.location.origin,r=nG(),n=e.includes("?")?"&":"?";return`${t}${e}${n}apikey=${r}`};class pd{static getBaseUrl(){return window.location.origin}static async signUp(t,r){try{const n=T$("/auth-callback?type=signup"),{data:s,error:a}=await J.auth.signUp({email:t,password:r,options:{emailRedirectTo:n}});return{data:s,error:a}}catch(n){return console.error("Sign up error:",n),{data:null,error:n}}}static async signIn(t,r){try{const{data:n,error:s}=await J.auth.signInWithPassword({email:t,password:r});return{data:n,error:s}}catch(n){return console.error("Sign in error:",n),{data:null,error:n}}}static async resetPassword(t){try{const{data:r,error:n}=await J.functions.invoke("send-password-reset",{body:{email:t}});return n?(console.error("Password reset error:",n),{data:null,error:n}):{data:r,error:null}}catch(r){return console.error("Password reset error:",r),{data:null,error:r}}}static async updatePassword(t){try{const{data:r,error:n}=await J.auth.updateUser({password:t});return{data:r,error:n}}catch(r){return console.error("Update password error:",r),{data:null,error:r}}}static async signOut(){try{this.cleanupAuthState();const{error:t}=await J.auth.signOut({scope:"global"});return window.location.href="/auth",{error:t}}catch(t){return console.error("Sign out error:",t),window.location.href="/auth",{error:t}}}static cleanupAuthState(){localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&localStorage.removeItem(t)}),Object.keys(sessionStorage||{}).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&sessionStorage.removeItem(t)})}static async handlePostAuthRedirect(t){var r;try{console.log("Determining redirect path for user:",t.email),await new Promise(c=>setTimeout(c,1e3));let n=null,s=0;const a=3;for(;!n&&s<a;){s++,console.log(`Checking organization membership, attempt ${s}`);const{data:c,error:u}=await J.from("organization_users").select("organization_id, organizations(slug)").eq("user_id",t.id).limit(1);if(u&&console.error("Error checking organization membership:",u),c&&c.length>0){n=c;break}s<a&&await new Promise(d=>setTimeout(d,1e3))}if(n&&n.length>0){const c=(r=n[0].organizations)==null?void 0:r.slug;if(c)return console.log("User has organization, redirecting to:",`/admin/${c}`),`/admin/${c}`}const{data:o,error:l}=await J.rpc("get_current_user_admin_status");return l&&console.error("Error checking admin status:",l),o?(console.log("User is system admin, redirecting to:","/admin"),"/admin"):(console.log("No organization found, redirecting to:","/create-organization"),"/create-organization")}catch(n){return console.error("Post-auth redirect error:",n),"/create-organization"}}}const R$=y.createContext(void 0),ks=()=>{const e=y.useContext(R$);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},sG=({children:e})=>{const t=rG(),r=async(c,u)=>{console.log("Starting sign in process"),pd.cleanupAuthState();try{const{error:d}=await J.auth.signInWithPassword({email:c,password:u});return d?(console.error("Sign in error:",d),{error:d}):(console.log("Sign in successful, waiting for auth state update"),{error:null})}catch(d){return console.error("Sign in error:",d),{error:d}}},n=async(c,u)=>{try{const d=T$("/auth-callback?type=signup"),{error:f}=await J.auth.signUp({email:c,password:u,options:{emailRedirectTo:d}});return{error:f}}catch(d){return console.error("Sign up error:",d),{error:d}}},s=async c=>{try{return await pd.resetPassword(c)}catch(u){return console.error("Password reset error:",u),{error:u}}},a=async c=>{try{const{error:u}=await J.auth.updateUser({password:c});return{error:u}}catch(u){return console.error("Update password error:",u),{error:u}}},o=async()=>{try{pd.cleanupAuthState(),await J.auth.signOut({scope:"global"}),window.location.href="/auth"}catch(c){console.error("Sign out error:",c),window.location.href="/auth"}},l=async()=>{t.user&&console.log("Refreshing user roles for:",t.user.id)};return i.jsx(R$.Provider,{value:{...t,signIn:r,signUp:n,signOut:o,resetPassword:s,updatePassword:a,refreshUserRoles:l},children:e})},nx=({children:e,requireAdmin:t=!1,requireOrgAdmin:r=!1})=>{const[n,s]=y.useState(!1);try{const{user:a,isAdmin:o,isOrgAdmin:l,loading:c}=ks();return y.useEffect(()=>{if(!c&&(!a||t&&!o||r&&!l&&!o)){const u=setTimeout(()=>s(!0),100);return()=>clearTimeout(u)}},[c,a,o,l,t,r]),c?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}):a?t&&!o?n?i.jsx(Fh,{to:"/",replace:!0}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Verifying permissions..."})]})}):r&&!l&&!o?n?i.jsx(Fh,{to:"/",replace:!0}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Verifying permissions..."})]})}):i.jsx(i.Fragment,{children:e}):i.jsx(Fh,{to:"/auth",replace:!0})}catch(a){return console.error("Auth context not available:",a),i.jsx(Fh,{to:"/auth",replace:!0})}},q=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:K("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));q.displayName="Card";const ee=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:K("flex flex-col space-y-1.5 p-6",e),...t}));ee.displayName="CardHeader";const te=y.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:K("text-2xl font-semibold leading-none tracking-tight",e),...t}));te.displayName="CardTitle";const Yn=y.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:K("text-sm text-muted-foreground",e),...t}));Yn.displayName="CardDescription";const W=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:K("p-6 pt-0",e),...t}));W.displayName="CardContent";const M$=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:K("flex items-center p-6 pt-0",e),...t}));M$.displayName="CardFooter";const t_=Vf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 shadow-lg backdrop-blur-sm",{variants:{variant:{default:"bg-gradient-to-r from-orange-400 to-orange-500 text-white hover:from-orange-500 hover:to-orange-600 shadow-orange-500/25",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-sunset-500 text-sunset-500 bg-transparent hover:bg-sunset-500 hover:text-white",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-8 py-3 text-base font-semibold",sm:"h-10 rounded-full px-6 text-sm",lg:"h-14 rounded-full px-10 py-4 text-lg font-bold",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),re=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?Zs:"button";return i.jsx(o,{className:K(t_({variant:t,size:r,className:e})),ref:a,...s})});re.displayName="Button";const he=y.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));he.displayName="Input";var aG="Label",$$=y.forwardRef((e,t)=>i.jsx(fe.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$$.displayName=aG;var I$=$$;const iG=Vf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ie=y.forwardRef(({className:e,...t},r)=>i.jsx(I$,{ref:r,className:K(iG(),e),...t}));ie.displayName=I$.displayName;function oG(e,t=[]){let r=[];function n(a,o){const l=y.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,v=y.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,lG(s,...t)]}function lG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var cG=y.createContext(void 0);function Ro(e){const t=y.useContext(cG);return e||t||"ltr"}var sx="rovingFocusGroup.onEntryFocus",uG={bubbles:!1,cancelable:!0},fv="RovingFocusGroup",[Nb,D$,dG]=$c(fv),[fG,Hc]=oG(fv,[dG]),[hG,mG]=fG(fv),L$=y.forwardRef((e,t)=>i.jsx(Nb.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Nb.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(pG,{...e,ref:t})})}));L$.displayName=fv;var pG=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),m=_e(t,h),g=Ro(a),[p=null,v]=Fr({prop:o,defaultProp:l,onChange:c}),[b,x]=y.useState(!1),w=Yt(u),j=D$(r),_=y.useRef(!1),[S,N]=y.useState(0);return y.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(sx,w),()=>k.removeEventListener(sx,w)},[w]),i.jsx(hG,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:p,onItemFocus:y.useCallback(k=>v(k),[v]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:y.useCallback(()=>N(k=>k-1),[]),children:i.jsx(fe.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:X(e.onMouseDown,()=>{_.current=!0}),onFocus:X(e.onFocus,k=>{const C=!_.current;if(k.target===k.currentTarget&&C&&!b){const E=new CustomEvent(sx,uG);if(k.currentTarget.dispatchEvent(E),!E.defaultPrevented){const T=j().filter(I=>I.focusable),A=T.find(I=>I.active),D=T.find(I=>I.id===p),L=[A,D,...T].filter(Boolean).map(I=>I.ref.current);B$(L,d)}}_.current=!1}),onBlur:X(e.onBlur,()=>x(!1))})})}),F$="RovingFocusGroupItem",z$=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=e,l=wn(),c=a||l,u=mG(F$,r),d=u.currentTabStopId===c,f=D$(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return y.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),i.jsx(Nb.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(fe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:X(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:X(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:X(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=yG(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=f().filter(x=>x.focusable).map(x=>x.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const x=b.indexOf(g.currentTarget);b=u.loop?xG(b,x+1):b.slice(x+1)}setTimeout(()=>B$(b))}})})})});z$.displayName=F$;var gG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vG(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yG(e,t,r){const n=vG(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gG[n]}function B$(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function xG(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var r_=L$,n_=z$,s_="Tabs",[bG,g2e]=ur(s_,[Hc]),U$=Hc(),[wG,a_]=bG(s_),q$=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Ro(l),[f,h]=Fr({prop:n,onChange:s,defaultProp:a});return i.jsx(wG,{scope:r,baseId:wn(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(fe.div,{dir:d,"data-orientation":o,...u,ref:t})})});q$.displayName=s_;var W$="TabsList",V$=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=a_(W$,r),o=U$(r);return i.jsx(r_,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(fe.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});V$.displayName=W$;var H$="TabsTrigger",K$=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=a_(H$,r),l=U$(r),c=Q$(o.baseId,n),u=X$(o.baseId,n),d=n===o.value;return i.jsx(n_,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:X(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:X(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:X(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});K$.displayName=H$;var G$="TabsContent",Y$=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=a_(G$,r),c=Q$(l.baseId,n),u=X$(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(zr,{present:s||d,children:({present:h})=>i.jsx(fe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});Y$.displayName=G$;function Q$(e,t){return`${e}-trigger-${t}`}function X$(e,t){return`${e}-content-${t}`}var jG=q$,J$=V$,Z$=K$,eI=Y$;const ln=jG,cn=y.forwardRef(({className:e,...t},r)=>i.jsx(J$,{ref:r,className:K("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));cn.displayName=J$.displayName;const Ce=y.forwardRef(({className:e,...t},r)=>i.jsx(Z$,{ref:r,className:K("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ce.displayName=Z$.displayName;const ge=y.forwardRef(({className:e,...t},r)=>i.jsx(eI,{ref:r,className:K("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ge.displayName=eI.displayName;const _G=Vf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),nr=y.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:K(_G({variant:t}),e),...r}));nr.displayName="Alert";const tI=y.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:K("mb-1 font-medium leading-none tracking-tight",e),...t}));tI.displayName="AlertTitle";const sr=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:K("text-sm [&_p]:leading-relaxed",e),...t}));sr.displayName="AlertDescription";const SG=()=>yt({mutationFn:async({email:e})=>{var t,r,n,s;console.log("Sending password reset request for:",e);try{const{data:a,error:o}=await J.functions.invoke("send-password-reset",{body:{email:e.trim().toLowerCase()}});if(console.log("Password reset function response:",{data:a,error:o}),o){if(console.error("Supabase function invoke error:",o),(t=o.message)!=null&&t.includes("NetworkError")||(r=o.message)!=null&&r.includes("Failed to fetch"))throw new Error("Network error: Please check your internet connection and try again");if((n=o.message)!=null&&n.includes("FunctionsError")||(s=o.message)!=null&&s.includes("non-2xx status code")){const l=(a==null?void 0:a.error)||"Service error occurred. Please try again.";throw new Error(l)}throw new Error(o.message||"Failed to send password reset request")}if(!a)throw console.error("No data returned from password reset function"),new Error("No response received from server");if(typeof a=="object"&&a!==null&&"success"in a){const l=a;if(l.success===!1)throw console.error("Password reset failed:",l.error),new Error(l.error||"Failed to send password reset email");return console.log("Password reset successful:",l),l}return console.log("Password reset completed with response:",a),{success:!0,message:"Password reset email sent successfully"}}catch(a){console.error("Password reset error:",a);const o=a.message||"Failed to send password reset email. Please try again.";throw new Error(o)}},onSuccess:e=>{vr.success(e.message||"Password reset email sent! Check your inbox for instructions.")},onError:e=>{console.error("Password reset mutation error:",e);const t=e.message||"Failed to send password reset email";vr.error(t)}});function NG(){const[e,t]=y.useState(""),[r,n]=y.useState(""),[s,a]=y.useState(!1),[o,l]=y.useState(""),[c,u]=y.useState(!1),{signIn:d,signUp:f,updatePassword:h}=ks(),m=SG(),g=Ns(),{toast:p}=Zn(),[v]=Gj(),b=async _=>{_.preventDefault(),a(!0),l(""),console.log("Starting sign in process for:",e);const{error:S}=await d(e,r);if(S){l(S.message),a(!1);return}p({title:"Welcome back!",description:"You have been signed in successfully."}),console.log("Sign in successful, waiting for session..."),setTimeout(async()=>{try{const{data:{session:N}}=await J.auth.getSession();if(N!=null&&N.user){console.log("Session found, determining redirect path...");const k=await pd.handlePostAuthRedirect(N.user);console.log("Redirecting to:",k),g(k)}else console.log("No session found after sign in, redirecting to auth"),g("/auth")}catch(N){console.error("Post-signin redirection error:",N),g("/")}finally{a(!1)}},1e3)},x=async _=>{_.preventDefault(),a(!0),l("");const{error:S}=await f(e,r);if(S){l(S.message),a(!1);return}p({title:"Account created!",description:"Please check your email to verify your account."}),a(!1)},w=async _=>{_.preventDefault(),a(!0),l("");try{await m.mutateAsync({email:e}),u(!1)}catch(S){l(S.message||"Failed to send password reset email")}finally{a(!1)}},j=async _=>{a(!0),l("");const{error:S}=await h(_);if(S){l(S.message),a(!1);return}p({title:"Password updated!",description:"Your password has been successfully updated."}),g("/"),a(!1)};return{email:e,setEmail:t,password:r,setPassword:n,loading:s||m.isPending,error:o,setError:l,showForgotPassword:c,setShowForgotPassword:u,handleSignIn:b,handleSignUp:x,handleForgotPassword:w,handleNewPassword:j,isPasswordReset:v.get("reset")==="true"}}const kG=()=>{const{email:e,setEmail:t,password:r,setPassword:n,loading:s,error:a,handleSignIn:o,handleSignUp:l,handleForgotPassword:c,handleNewPassword:u,showForgotPassword:d,setShowForgotPassword:f,isPasswordReset:h}=NG(),[m]=Gj(),[g,p]=y.useState(!1),[v,b]=y.useState(""),[x,w]=y.useState(""),[j,_]=y.useState(""),S=m.get("setup-password")==="true",N=m.get("org"),k=m.get("email");y.useEffect(()=>{S&&k&&t(decodeURIComponent(k))},[S,k,t]);const C=E=>{if(E.preventDefault(),v!==x){_("Passwords do not match");return}if(v.length<6){_("Password must be at least 6 characters");return}_(""),u(v)};return S?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs(q,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[i.jsxs(ee,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:i.jsx(gr,{className:"h-8 w-8"})}),i.jsx(te,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Set Your Password"}),i.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Complete your invitation to join the organization"}),N&&i.jsxs("p",{className:"text-sm text-sunset-600 font-medium",children:["Organization: ",N]})]}),i.jsx(W,{children:i.jsxs("form",{onSubmit:C,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"invited-email",className:"font-medium text-warm-gray-700",children:"Email"}),i.jsx(he,{id:"invited-email",type:"email",value:e,disabled:!0,className:"bg-gray-50 border-warm-gray-200 text-base cursor-not-allowed"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ie,{htmlFor:"new-password",className:"font-medium text-warm-gray-700",children:"Create Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(he,{id:"new-password",type:g?"text":"password",value:v,onChange:E=>b(E.target.value),required:!0,placeholder:"Create your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!g),children:g?i.jsx(Yu,{className:"h-4 w-4 text-warm-gray-400"}):i.jsx(Ba,{className:"h-4 w-4 text-warm-gray-400"})})]}),i.jsx("p",{className:"text-xs text-warm-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"confirm-password",className:"font-medium text-warm-gray-700",children:"Confirm Password"}),i.jsx(he,{id:"confirm-password",type:"password",value:x,onChange:E=>w(E.target.value),required:!0,placeholder:"Confirm your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),j&&i.jsx(nr,{className:"bg-red-50 border border-red-200",children:i.jsx(sr,{className:"text-red-700",children:j})}),i.jsx(re,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Setting up...":"Complete Setup"})]})})]})})}):h?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs(ac,{to:"/auth",className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[i.jsx(km,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),i.jsxs(q,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[i.jsxs(ee,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:i.jsx(gr,{className:"h-8 w-8"})}),i.jsx(te,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Set New Password"}),i.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Enter your new password below"})]}),i.jsx(W,{children:i.jsxs("form",{onSubmit:C,className:"space-y-5",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ie,{htmlFor:"new-password",className:"font-medium text-warm-gray-700",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(he,{id:"new-password",type:g?"text":"password",value:v,onChange:E=>b(E.target.value),required:!0,placeholder:"Enter new password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!g),children:g?i.jsx(Yu,{className:"h-4 w-4 text-warm-gray-400"}):i.jsx(Ba,{className:"h-4 w-4 text-warm-gray-400"})})]})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"confirm-password",className:"font-medium text-warm-gray-700",children:"Confirm Password"}),i.jsx(he,{id:"confirm-password",type:"password",value:x,onChange:E=>w(E.target.value),required:!0,placeholder:"Confirm new password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),j&&i.jsx(nr,{className:"bg-red-50 border border-red-200",children:i.jsx(sr,{className:"text-red-700",children:j})}),i.jsx(re,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Updating...":"Update Password"})]})})]})]})}):d?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("button",{onClick:()=>f(!1),className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[i.jsx(km,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),i.jsxs(q,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[i.jsxs(ee,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:i.jsx(gr,{className:"h-8 w-8"})}),i.jsx(te,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Reset Password"}),i.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Enter your email to receive reset instructions"})]}),i.jsx(W,{children:i.jsxs("form",{onSubmit:c,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"reset-email",className:"font-medium text-warm-gray-700",children:"Email"}),i.jsx(he,{id:"reset-email",type:"email",value:e,onChange:E=>t(E.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),a&&i.jsx(nr,{className:"bg-red-50 border border-red-200",children:i.jsx(sr,{className:"text-red-700",children:a})}),i.jsx(re,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Sending...":"Send Reset Link"})]})})]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs(ac,{to:"/",className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[i.jsx(km,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),i.jsxs(q,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[i.jsxs(ee,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:i.jsx(gr,{className:"h-8 w-8"})}),i.jsx(te,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Welcome to Pulsify"}),i.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Sign in to your organization account"})]}),i.jsx(W,{children:i.jsxs(ln,{defaultValue:"signin",className:"w-full",children:[i.jsxs(cn,{className:"grid w-full grid-cols-2 mb-6 bg-warm-gray-100/80 border border-warm-gray-200 rounded-lg shadow-sm",children:[i.jsx(Ce,{value:"signin",className:"font-semibold text-warm-gray-700",children:"Sign In"}),i.jsx(Ce,{value:"signup",className:"font-semibold text-warm-gray-700",children:"Sign Up"})]}),i.jsx(ge,{value:"signin",children:i.jsxs("form",{onSubmit:o,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"email",className:"font-medium text-warm-gray-700",children:"Email"}),i.jsx(he,{id:"email",type:"email",value:e,onChange:E=>t(E.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ie,{htmlFor:"password",className:"font-medium text-warm-gray-700",children:"Password"}),i.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-sm text-sunset-500 hover:text-sunset-600 font-medium transition-colors",children:"Forgot password?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(he,{id:"password",type:g?"text":"password",value:r,onChange:E=>n(E.target.value),required:!0,placeholder:"Enter your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!g),children:g?i.jsx(Yu,{className:"h-4 w-4 text-warm-gray-400"}):i.jsx(Ba,{className:"h-4 w-4 text-warm-gray-400"})})]})]}),a&&i.jsx(nr,{className:"bg-red-50 border border-red-200",children:i.jsx(sr,{className:"text-red-700",children:a})}),i.jsx(re,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Signing in...":"Sign In"})]})}),i.jsx(ge,{value:"signup",children:i.jsxs("form",{onSubmit:l,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"signup-email",className:"font-medium text-warm-gray-700",children:"Email"}),i.jsx(he,{id:"signup-email",type:"email",value:e,onChange:E=>t(E.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"signup-password",className:"font-medium text-warm-gray-700",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(he,{id:"signup-password",type:g?"text":"password",value:r,onChange:E=>n(E.target.value),required:!0,placeholder:"Create a password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!g),children:g?i.jsx(Yu,{className:"h-4 w-4 text-warm-gray-400"}):i.jsx(Ba,{className:"h-4 w-4 text-warm-gray-400"})})]}),i.jsx("p",{className:"text-xs text-warm-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),a&&i.jsx(nr,{className:"bg-red-50 border border-red-200",children:i.jsx(sr,{className:"text-red-700",children:a})}),i.jsx(re,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Creating account...":"Sign Up"}),i.jsx("div",{className:"text-xs text-center text-warm-gray-400 mt-3",children:"After verifying your email, your organization will be created in the next step."})]})})]})})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsxs("span",{className:"text-xs flex items-center justify-center gap-2 text-warm-gray-400",children:[i.jsx(bs,{className:"w-3 h-3 text-sunset-500"}),"Real Insights. Real Impact."]})})]})})},PG=()=>i.jsx(kG,{}),EG=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(""),[s,a]=y.useState(!1),[o,l]=y.useState(""),{signIn:c}=ks(),u=Ns(),{toast:d}=Zn(),f=async h=>{h.preventDefault(),a(!0),l("");const{error:m}=await c(e,r);if(m)l(m.message),a(!1);else{try{const{data:{session:g}}=await J.auth.getSession();if(g!=null&&g.user){const{data:p,error:v}=await J.rpc("get_current_user_admin_status");if(v){console.error("Error checking admin status:",v),l("Failed to verify admin privileges"),a(!1);return}p?(d({title:"Welcome back, Admin!",description:"You have been signed in successfully."}),u("/admin")):(l("Access denied. This login is for system administrators only."),await J.auth.signOut())}else l("Authentication failed. Please try again.")}catch(g){console.error("Error during admin verification:",g),l("Failed to verify admin privileges")}a(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs(ac,{to:"/",className:"inline-flex items-center text-slate-300 hover:text-white mb-8 transition-colors",children:[i.jsx(km,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),i.jsxs(q,{className:"bg-slate-800 border-slate-700",children:[i.jsxs(ee,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-red-100 w-16 h-16 rounded-full flex items-center justify-center text-red-600 mb-4",children:i.jsx(Ao,{className:"h-8 w-8"})}),i.jsx(te,{className:"text-2xl font-bold text-white",children:"System Administrator"}),i.jsx("p",{className:"text-slate-400",children:"Sign in to access the admin dashboard"})]}),i.jsxs(W,{children:[i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"email",className:"text-slate-300",children:"Email"}),i.jsx(he,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"admin@example.com"})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"password",className:"text-slate-300",children:"Password"}),i.jsx(he,{id:"password",type:"password",value:r,onChange:h=>n(h.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"Enter your password"})]}),o&&i.jsx(nr,{className:"bg-red-900 border-red-700",children:i.jsx(sr,{className:"text-red-200",children:o})}),i.jsx(re,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:s,children:s?"Signing in...":"Sign In as Admin"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-slate-400 text-sm",children:["Not an admin? ",i.jsx(ac,{to:"/auth",className:"text-blue-400 hover:text-blue-300",children:"User Login"})]})})]})]})]})})},CG=async e=>{try{const{data:t,error:r}=await J.rpc("get_organization_stats_enhanced",{org_id:e});return r?(console.error("Error fetching organization stats:",r),null):t}catch(t){return console.error("Error fetching organization stats:",t),null}},OG=async()=>{try{const{data:e,error:t}=await J.from("organizations").select("*").order("created_at",{ascending:!1});return t?(console.error("Error fetching organizations:",t),[]):e||[]}catch(e){return console.error("Error fetching organizations:",e),[]}},ax=async e=>{try{const{data:t,error:r}=await J.from("organizations").select("*").eq("slug",e).eq("is_active",!0).single();return r?(console.error("Error fetching organization by slug:",r),null):t}catch(t){return console.error("Error fetching organization by slug:",t),null}},AG=async e=>{try{const{data:t,error:r}=await J.from("organizations").select("*").eq("domain",e).eq("is_active",!0).single();return r?(console.error("Error fetching organization by domain:",r),null):t}catch(t){return console.error("Error fetching organization by domain:",t),null}},TG=async e=>{try{const{data:{user:t}}=await J.auth.getUser();let r="starter";(e.plan_type==="pro"||e.plan_type==="enterprise")&&(r=e.plan_type);const n={...e,created_by_user_id:(t==null?void 0:t.id)||e.created_by_user_id,is_active:!0,primary_color:e.primary_color||"#007ACE",secondary_color:e.secondary_color||"#073763",plan_type:r,max_responses:e.max_responses||100,features_config:e.features_config||null,trial_ends_at:e.trial_ends_at||null},{data:s,error:a}=await J.from("organizations").insert(n).select().single();return a?(console.error("Error creating organization:",a),null):(s!=null&&s.id&&(t!=null&&t.id)&&await J.from("organization_audit_log").insert({organization_id:s.id,action:"create_organization",performed_by:t.id,new_value:s}),s)}catch(t){return console.error("Error creating organization:",t),null}},rI=async(e,t)=>{try{const{plan_type:r,...n}=t;let s={...n};r!==void 0&&(r==="starter"||r==="pro"||r==="enterprise"?s.plan_type=r:s.plan_type="starter");const{data:a,error:o}=await J.from("organizations").update(s).eq("id",e).select().single();return o?(console.error("Error updating organization:",o),null):a}catch(r){return console.error("Error updating organization:",r),null}},RG=({onClose:e,onSubmit:t})=>{const[r,n]=y.useState({name:"",slug:"",domain:"",logo_url:"",primary_color:"#007ACE",secondary_color:"#073763",plan_type:"starter",trial_ends_at:"",billing_email:"",max_responses:100,features_config:void 0}),[s,a]=y.useState(!1),[o,l]=y.useState(""),c=f=>{if(f.preventDefault(),!r.name||!r.slug)return;let h;try{o.trim()&&(h=JSON.parse(o))}catch{alert("Invalid JSON in Feature Overrides!");return}t({...r,features_config:h,trial_ends_at:r.trial_ends_at?new Date(r.trial_ends_at).toISOString():void 0})},u=f=>f.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),d=f=>{n(h=>({...h,name:f,slug:u(f)}))};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(q,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(ee,{children:i.jsx(te,{children:"Create New Organization"})}),i.jsx(W,{children:i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"name",children:"Organization Name *"}),i.jsx(he,{id:"name",value:r.name,onChange:f=>d(f.target.value),placeholder:"Enter organization name",required:!0})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"slug",children:"URL Slug *"}),i.jsx(he,{id:"slug",value:r.slug,onChange:f=>n(h=>({...h,slug:f.target.value})),placeholder:"url-friendly-name",required:!0}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Will be accessible at /",r.slug]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"domain",children:"Custom Domain"}),i.jsx(he,{id:"domain",value:r.domain,onChange:f=>n(h=>({...h,domain:f.target.value})),placeholder:"feedback.yourcompany.com"})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"billing_email",children:"Billing Email"}),i.jsx(he,{id:"billing_email",type:"email",value:r.billing_email,onChange:f=>n(h=>({...h,billing_email:f.target.value})),placeholder:"billing@company.com"})]})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"logo_url",children:"Logo URL"}),i.jsx(he,{id:"logo_url",value:r.logo_url,onChange:f=>n(h=>({...h,logo_url:f.target.value})),placeholder:"https://example.com/logo.png"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"primary_color",children:"Primary Color"}),i.jsx(he,{id:"primary_color",type:"color",value:r.primary_color,onChange:f=>n(h=>({...h,primary_color:f.target.value}))})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"secondary_color",children:"Secondary Color"}),i.jsx(he,{id:"secondary_color",type:"color",value:r.secondary_color,onChange:f=>n(h=>({...h,secondary_color:f.target.value}))})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"max_responses",children:"Max Responses"}),i.jsx(he,{id:"max_responses",type:"number",value:r.max_responses,onChange:f=>n(h=>({...h,max_responses:parseInt(f.target.value)||100})),min:"1"})]})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"plan_type",children:"Plan Type / Tier"}),i.jsxs("select",{id:"plan_type",value:r.plan_type,onChange:f=>n(h=>({...h,plan_type:f.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[i.jsx("option",{value:"starter",children:"Starter"}),i.jsx("option",{value:"pro",children:"Pro"}),i.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"trial_ends_at",children:"Trial Ends At"}),i.jsx(he,{id:"trial_ends_at",type:"datetime-local",value:r.trial_ends_at||"",onChange:f=>n(h=>({...h,trial_ends_at:f.target.value})),placeholder:"Trial end date"})]}),i.jsxs("div",{children:[i.jsx(re,{type:"button",variant:"outline",className:"w-full",onClick:()=>a(f=>!f),children:s?"Hide Feature Overrides":"Show Feature Overrides (Advanced)"}),s&&i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsx(ie,{htmlFor:"features_override",children:"Feature Overrides (JSON)"}),i.jsx("textarea",{id:"features_override",className:"w-full min-h-[120px] border rounded p-2 font-mono text-xs",placeholder:'e.g. { "analytics": true, "modules": {"settings": false} }',value:o,onChange:f=>l(f.target.value)}),i.jsx("p",{className:"text-xs text-gray-500",children:"Advanced: Override plan tier settings on a per-feature basis."})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(re,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),i.jsx(re,{type:"submit",children:"Create Organization"})]})]})})]})})},MG=()=>jt({queryKey:["system-user-management"],queryFn:async()=>{const{data:e,error:t}=await J.functions.invoke("system-user-management");if(t){if(t.context&&typeof t.context.json=="function")try{const n=await t.context.json();if(n.error)throw new Error(n.error)}catch{}throw new Error(`Failed to fetch system user data: ${t.message}`)}return{...e,users:((e==null?void 0:e.users)||[]).map(n=>({...n,organization_user_created_at:n.organization_user_created_at??n.created_at??null,role:n.enhanced_role||n.role||"member"})),invitations:((e==null?void 0:e.invitations)||[]).map(n=>({...n,role:n.enhanced_role||n.role||"member"}))}},staleTime:5*60*1e3}),$G=()=>{const e=_r();return yt({mutationFn:async({userId:t,email:r,organizationId:n,role:s})=>{const{data:a,error:o}=await J.functions.invoke("assign-user-to-org",{body:{user_id:t,organization_id:n,role:s}});if(o){if(o.context&&typeof o.context.json=="function")try{const l=await o.context.json();if(l.error)throw new Error(l.error)}catch{}throw new Error(o.message||"An unknown error occurred.")}return a},onSuccess:()=>{e.invalidateQueries({queryKey:["system-user-management"]})}})},IG=()=>{const e=_r();return yt({mutationFn:async()=>{const{data:t,error:r}=await J.functions.invoke("admin-approve-invitations");if(r){if(r.context&&typeof r.context.json=="function")try{const n=await r.context.json();if(n.error)throw new Error(n.error)}catch{}throw new Error(r.message)}return t},onSuccess:()=>{e.invalidateQueries({queryKey:["system-user-management"]})}})},ci=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:K("w-full caption-bottom text-sm",e),...t})}));ci.displayName="Table";const ui=y.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:K("[&_tr]:border-b",e),...t}));ui.displayName="TableHeader";const di=y.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:K("[&_tr:last-child]:border-0",e),...t}));di.displayName="TableBody";const DG=y.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:K("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));DG.displayName="TableFooter";const Ft=y.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:K("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ft.displayName="TableRow";const Se=y.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:K("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Se.displayName="TableHead";const we=y.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:K("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));we.displayName="TableCell";const LG=y.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:K("mt-4 text-sm text-muted-foreground",e),...t}));LG.displayName="TableCaption";const FG=Vf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ve({className:e,variant:t,...r}){return i.jsx("div",{className:K(FG({variant:t}),e),...r})}const vo={owner:{variant:"destructive",icon:WU,label:"Owner",description:"Full access including billing and organization management",level:6},admin:{variant:"default",icon:Ao,label:"Admin",description:"Full access except billing and ownership changes",level:5},manager:{variant:"secondary",icon:Fd,label:"Manager",description:"Team management and question creation",level:4},analyst:{variant:"outline",icon:or,label:"Analyst",description:"Analytics access and data export",level:3},member:{variant:"secondary",icon:XR,label:"Member",description:"Basic access to view analytics",level:2},viewer:{variant:"outline",icon:Ba,label:"Viewer",description:"Read-only access to basic analytics",level:1}},Kd=e=>{const t=vo[e]||vo.member;return{variant:t.variant,icon:t.icon,label:t.label,description:t.description,level:t.level}},i_=(e,t)=>{var s,a;const r=((s=vo[e])==null?void 0:s.level)||0,n=((a=vo[t])==null?void 0:a.level)||0;return r>n},zG=e=>{var r;const t=((r=vo[e])==null?void 0:r.level)||0;return Object.entries(vo).filter(([,n])=>n.level<t).map(([n])=>n)},o_=(e,t)=>{var a;const r=((a=vo[e])==null?void 0:a.level)||0,s={view_analytics:1,export_data:3,manage_questions:3,manage_users:4,manage_integrations:5,manage_organization:5,manage_billing:6}[t]||6;return r>=s},hv=({role:e,showDescription:t=!1})=>{const{variant:r,icon:n,label:s,description:a}=Kd(e);return i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs(ve,{variant:r,className:"flex items-center gap-1 w-fit",children:[i.jsx(n,{className:"w-3 h-3"}),s]}),t&&i.jsx("span",{className:"text-xs text-gray-500",children:a})]})},BG=({users:e,onAssignUser:t})=>e.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No users found in the system."}):i.jsx("div",{className:"rounded-md border",children:i.jsxs(ci,{children:[i.jsx(ui,{children:i.jsxs(Ft,{children:[i.jsx(Se,{children:"Email"}),i.jsx(Se,{children:"Organization"}),i.jsx(Se,{children:"Role"}),i.jsx(Se,{children:"Status"}),i.jsx(Se,{children:"Joined"}),i.jsx(Se,{className:"w-[100px]",children:"Actions"})]})}),i.jsx(di,{children:e.map(r=>i.jsxs(Ft,{children:[i.jsx(we,{className:"font-medium",children:r.email}),i.jsx(we,{children:r.organizations?i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:r.organizations.name}),i.jsxs("div",{className:"text-sm text-gray-500",children:["/",r.organizations.slug]})]}):i.jsx("span",{className:"text-gray-400",children:"No organization"})}),i.jsx(we,{children:i.jsx(hv,{role:r.role})}),i.jsx(we,{children:i.jsx(ve,{variant:r.status==="active"?"default":"secondary",children:r.status})}),i.jsx(we,{children:r.organization_user_created_at?new Date(r.organization_user_created_at).toLocaleDateString():new Date(r.created_at).toLocaleDateString()}),i.jsx(we,{children:i.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>t(r),className:"flex items-center gap-2",children:[i.jsx(kj,{className:"w-4 h-4"}),"Assign"]})})]},`${r.user_id}-${r.organization_id}`))})]})}),UG=e=>e.split("@")[0].slice(0,2).toUpperCase(),nI=e=>{const t=new Date(e),r=new Date;return(t.getTime()-r.getTime())/(1e3*60*60)<=24},pp=e=>new Date(e).toLocaleDateString(),qG=e=>e==="active"?"default":"secondary",WG=({invitations:e})=>e.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(sp,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{children:"No pending invitations found."})]}):i.jsx("div",{className:"rounded-md border",children:i.jsxs(ci,{children:[i.jsx(ui,{children:i.jsxs(Ft,{children:[i.jsx(Se,{children:"Email"}),i.jsx(Se,{children:"Organization"}),i.jsx(Se,{children:"Role"}),i.jsx(Se,{children:"Status"}),i.jsx(Se,{children:"Expires"}),i.jsx(Se,{children:"Created"})]})}),i.jsx(di,{children:e.map(t=>{const r=nI(t.expires_at);return i.jsxs(Ft,{children:[i.jsx(we,{className:"font-medium",children:t.email}),i.jsx(we,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:t.organizations.name}),i.jsxs("div",{className:"text-sm text-gray-500",children:["/",t.organizations.slug]})]})}),i.jsx(we,{children:i.jsx(hv,{role:t.role})}),i.jsx(we,{children:i.jsx(ve,{variant:"secondary",children:t.status})}),i.jsx(we,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:r?"text-red-600":"",children:new Date(t.expires_at).toLocaleDateString()}),r&&i.jsxs(ve,{variant:"destructive",className:"flex items-center gap-1",children:[i.jsx(xs,{className:"w-3 h-3"}),"Soon"]})]})}),i.jsx(we,{children:new Date(t.created_at).toLocaleDateString()})]},t.id)})})]})}),kb=({size:e="md",text:t="Loading...",className:r=""})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return i.jsxs("div",{className:`flex items-center justify-center space-x-2 ${r}`,children:[i.jsx(Qg,{className:`animate-spin ${n[e]}`}),t&&i.jsx("span",{className:"text-gray-600",children:t})]})};var ix="focusScope.autoFocusOnMount",ox="focusScope.autoFocusOnUnmount",kP={bubbles:!1,cancelable:!0},VG="FocusScope",mv=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=y.useState(null),u=Yt(s),d=Yt(a),f=y.useRef(null),h=_e(t,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:wa(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||wa(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&wa(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,m.paused]),y.useEffect(()=>{if(l){EP.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(ix,kP);l.addEventListener(ix,u),l.dispatchEvent(b),b.defaultPrevented||(HG(XG(sI(l)),{select:!0}),document.activeElement===p&&wa(l))}return()=>{l.removeEventListener(ix,u),setTimeout(()=>{const b=new CustomEvent(ox,kP);l.addEventListener(ox,d),l.dispatchEvent(b),b.defaultPrevented||wa(p??document.body,{select:!0}),l.removeEventListener(ox,d),EP.remove(m)},0)}}},[l,u,d,m]);const g=y.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(v&&b){const x=p.currentTarget,[w,j]=KG(x);w&&j?!p.shiftKey&&b===j?(p.preventDefault(),r&&wa(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&wa(j,{select:!0})):b===x&&p.preventDefault()}},[r,n,m.paused]);return i.jsx(fe.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});mv.displayName=VG;function HG(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(wa(n,{select:t}),document.activeElement!==r)return}function KG(e){const t=sI(e),r=PP(t,e),n=PP(t.reverse(),e);return[r,n]}function sI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function PP(e,t){for(const r of e)if(!GG(r,{upTo:t}))return r}function GG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function YG(e){return e instanceof HTMLInputElement&&"select"in e}function wa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&YG(e)&&t&&e.select()}}var EP=QG();function QG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=CP(e,t),e.unshift(t)},remove(t){var r;e=CP(e,t),(r=e[0])==null||r.resume()}}}function CP(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function XG(e){return e.filter(t=>t.tagName!=="A")}var lx=0;function l_(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??OP()),document.body.insertAdjacentElement("beforeend",e[1]??OP()),lx++,()=>{lx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lx--}},[])}function OP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hs=function(){return hs=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},hs.apply(this,arguments)};function aI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function JG(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Cm="right-scroll-bar-position",Om="width-before-scroll-bar",ZG="with-scroll-bars-hidden",eY="--removed-body-scroll-bar-size";function cx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tY(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var rY=typeof window<"u"?y.useLayoutEffect:y.useEffect,AP=new WeakMap;function nY(e,t){var r=tY(null,function(n){return e.forEach(function(s){return cx(s,n)})});return rY(function(){var n=AP.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||cx(l,null)}),a.forEach(function(l){s.has(l)||cx(l,o)})}AP.set(r,e)},[e]),r}function sY(e){return e}function aY(e,t){t===void 0&&(t=sY);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function iY(e){e===void 0&&(e={});var t=aY(null);return t.options=hs({async:!0,ssr:!1},e),t}var iI=function(e){var t=e.sideCar,r=aI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,hs({},r))};iI.isSideCarExport=!0;function oY(e,t){return e.useMedium(t),iI}var oI=iY(),ux=function(){},pv=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:ux,onWheelCapture:ux,onTouchMoveCapture:ux}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,x=e.gapMode,w=aI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=nY([r,t]),S=hs(hs({},w),s);return y.createElement(y.Fragment,null,d&&y.createElement(j,{sideCar:oI,removeScrollBar:u,shards:f,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:x}),o?y.cloneElement(y.Children.only(l),hs(hs({},S),{ref:_})):y.createElement(b,hs({},S,{className:c,ref:_}),l))});pv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pv.classNames={fullWidth:Om,zeroRight:Cm};var lY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cY(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lY();return t&&e.setAttribute("nonce",t),e}function uY(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dY(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fY=function(){var e=0,t=null;return{add:function(r){e==0&&(t=cY())&&(uY(t,r),dY(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hY=function(){var e=fY();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},lI=function(){var e=hY(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},mY={left:0,top:0,right:0,gap:0},dx=function(e){return parseInt(e||"",10)||0},pY=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[dx(r),dx(n),dx(s)]},gY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mY;var t=pY(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},vY=lI(),Tl="data-scroll-locked",yY=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(ZG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Tl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Om,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Cm," .").concat(Cm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Om," .").concat(Om,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Tl,`] {
    `).concat(eY,": ").concat(l,`px;
  }
`)},TP=function(){var e=parseInt(document.body.getAttribute(Tl)||"0",10);return isFinite(e)?e:0},xY=function(){y.useEffect(function(){return document.body.setAttribute(Tl,(TP()+1).toString()),function(){var e=TP()-1;e<=0?document.body.removeAttribute(Tl):document.body.setAttribute(Tl,e.toString())}},[])},bY=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;xY();var a=y.useMemo(function(){return gY(s)},[s]);return y.createElement(vY,{styles:yY(a,!t,s,r?"":"!important")})},Pb=!1;if(typeof window<"u")try{var Vh=Object.defineProperty({},"passive",{get:function(){return Pb=!0,!0}});window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{Pb=!1}var Yo=Pb?{passive:!1}:!1,wY=function(e){return e.tagName==="TEXTAREA"},cI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!wY(e)&&r[t]==="visible")},jY=function(e){return cI(e,"overflowY")},_Y=function(e){return cI(e,"overflowX")},RP=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=uI(e,n);if(s){var a=dI(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},SY=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},NY=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},uI=function(e,t){return e==="v"?jY(t):_Y(t)},dI=function(e,t){return e==="v"?SY(t):NY(t)},kY=function(e,t){return e==="h"&&t==="rtl"?-1:1},PY=function(e,t,r,n,s){var a=kY(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=dI(e,l),g=m[0],p=m[1],v=m[2],b=p-v-a*g;(g||b)&&uI(e,l)&&(f+=b,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Hh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},MP=function(e){return[e.deltaX,e.deltaY]},$P=function(e){return e&&"current"in e?e.current:e},EY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},CY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},OY=0,Qo=[];function AY(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),s=y.useState(OY++)[0],a=y.useState(lI)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=JG([e.lockRef.current],(e.shards||[]).map($P),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=Hh(p),x=r.current,w="deltaX"in p?p.deltaX:x[0]-b[0],j="deltaY"in p?p.deltaY:x[1]-b[1],_,S=p.target,N=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&N==="h"&&S.type==="range")return!1;var k=RP(N,S);if(!k)return!0;if(k?_=N:(_=N==="v"?"h":"v",k=RP(N,S)),!k)return!1;if(!n.current&&"changedTouches"in p&&(w||j)&&(n.current=_),!_)return!0;var C=n.current||_;return PY(C,v,p,C==="h"?w:j,!0)},[]),c=y.useCallback(function(p){var v=p;if(!(!Qo.length||Qo[Qo.length-1]!==a)){var b="deltaY"in v?MP(v):Hh(v),x=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&EY(_.delta,b)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(o.current.shards||[]).map($P).filter(Boolean).filter(function(_){return _.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(p,v,b,x){var w={name:p,delta:v,target:b,should:x,shadowParent:TY(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=y.useCallback(function(p){r.current=Hh(p),n.current=void 0},[]),f=y.useCallback(function(p){u(p.type,MP(p),p.target,l(p,e.lockRef.current))},[]),h=y.useCallback(function(p){u(p.type,Hh(p),p.target,l(p,e.lockRef.current))},[]);y.useEffect(function(){return Qo.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Yo),document.addEventListener("touchmove",c,Yo),document.addEventListener("touchstart",d,Yo),function(){Qo=Qo.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Yo),document.removeEventListener("touchmove",c,Yo),document.removeEventListener("touchstart",d,Yo)}},[]);var m=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(a,{styles:CY(s)}):null,m?y.createElement(bY,{gapMode:e.gapMode}):null)}function TY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const RY=oY(oI,AY);var gv=y.forwardRef(function(e,t){return y.createElement(pv,hs({},e,{ref:t,sideCar:RY}))});gv.classNames=pv.classNames;var MY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xo=new WeakMap,Kh=new WeakMap,Gh={},fx=0,fI=function(e){return e&&(e.host||fI(e.parentNode))},$Y=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=fI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},IY=function(e,t,r,n){var s=$Y(t,Array.isArray(e)?e:[e]);Gh[r]||(Gh[r]=new WeakMap);var a=Gh[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Xo.get(h)||0)+1,v=(a.get(h)||0)+1;Xo.set(h,p),a.set(h,v),o.push(h),p===1&&g&&Kh.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),fx++,function(){o.forEach(function(f){var h=Xo.get(f)-1,m=a.get(f)-1;Xo.set(f,h),a.set(f,m),h||(Kh.has(f)||f.removeAttribute(n),Kh.delete(f)),m||f.removeAttribute(r)}),fx--,fx||(Xo=new WeakMap,Xo=new WeakMap,Kh=new WeakMap,Gh={})}},c_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=MY(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),IY(n,s,r,"aria-hidden")):function(){return null}},u_="Dialog",[hI,mI]=ur(u_),[DY,es]=hI(u_),pI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u=!1,d]=Fr({prop:n,defaultProp:s,onChange:a});return i.jsx(DY,{scope:t,triggerRef:l,contentRef:c,contentId:wn(),titleId:wn(),descriptionId:wn(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};pI.displayName=u_;var gI="DialogTrigger",vI=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=es(gI,r),a=_e(t,s.triggerRef);return i.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":h_(s.open),...n,ref:a,onClick:X(e.onClick,s.onOpenToggle)})});vI.displayName=gI;var d_="DialogPortal",[LY,yI]=hI(d_,{forceMount:void 0}),xI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=es(d_,t);return i.jsx(LY,{scope:t,forceMount:r,children:y.Children.map(n,o=>i.jsx(zr,{present:r||a.open,children:i.jsx(qf,{asChild:!0,container:s,children:o})}))})};xI.displayName=d_;var gp="DialogOverlay",bI=y.forwardRef((e,t)=>{const r=yI(gp,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=es(gp,e.__scopeDialog);return a.modal?i.jsx(zr,{present:n||a.open,children:i.jsx(FY,{...s,ref:t})}):null});bI.displayName=gp;var FY=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=es(gp,r);return i.jsx(gv,{as:Zs,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(fe.div,{"data-state":h_(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),yo="DialogContent",wI=y.forwardRef((e,t)=>{const r=yI(yo,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=es(yo,e.__scopeDialog);return i.jsx(zr,{present:n||a.open,children:a.modal?i.jsx(zY,{...s,ref:t}):i.jsx(BY,{...s,ref:t})})});wI.displayName=yo;var zY=y.forwardRef((e,t)=>{const r=es(yo,e.__scopeDialog),n=y.useRef(null),s=_e(t,r.contentRef,n);return y.useEffect(()=>{const a=n.current;if(a)return c_(a)},[]),i.jsx(jI,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:X(e.onFocusOutside,a=>a.preventDefault())})}),BY=y.forwardRef((e,t)=>{const r=es(yo,e.__scopeDialog),n=y.useRef(!1),s=y.useRef(!1);return i.jsx(jI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),jI=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=es(yo,r),c=y.useRef(null),u=_e(t,c);return l_(),i.jsxs(i.Fragment,{children:[i.jsx(mv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Ic,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":h_(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(qY,{titleId:l.titleId}),i.jsx(VY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),f_="DialogTitle",_I=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=es(f_,r);return i.jsx(fe.h2,{id:s.titleId,...n,ref:t})});_I.displayName=f_;var SI="DialogDescription",NI=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=es(SI,r);return i.jsx(fe.p,{id:s.descriptionId,...n,ref:t})});NI.displayName=SI;var kI="DialogClose",PI=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=es(kI,r);return i.jsx(fe.button,{type:"button",...n,ref:t,onClick:X(e.onClick,()=>s.onOpenChange(!1))})});PI.displayName=kI;function h_(e){return e?"open":"closed"}var EI="DialogTitleWarning",[UY,CI]=JB(EI,{contentName:yo,titleName:f_,docsSlug:"dialog"}),qY=({titleId:e})=>{const t=CI(EI),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},WY="DialogDescriptionWarning",VY=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CI(WY).contentName}}.`;return y.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},OI=pI,AI=vI,TI=xI,m_=bI,p_=wI,g_=_I,v_=NI,vv=PI;const Kc=OI,RI=AI,HY=TI,KY=vv,MI=y.forwardRef(({className:e,...t},r)=>i.jsx(m_,{ref:r,className:K("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));MI.displayName=m_.displayName;const Mo=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(HY,{children:[i.jsx(MI,{}),i.jsxs(p_,{ref:n,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(vv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Jg,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mo.displayName=p_.displayName;const Gc=({className:e,...t})=>i.jsx("div",{className:K("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Gc.displayName="DialogHeader";const $I=({className:e,...t})=>i.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$I.displayName="DialogFooter";const Yc=y.forwardRef(({className:e,...t},r)=>i.jsx(g_,{ref:r,className:K("text-lg font-semibold leading-none tracking-tight",e),...t}));Yc.displayName=g_.displayName;const II=y.forwardRef(({className:e,...t},r)=>i.jsx(v_,{ref:r,className:K("text-sm text-muted-foreground",e),...t}));II.displayName=v_.displayName;function vp(e,[t,r]){return Math.min(r,Math.max(t,e))}function Xf(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var GY=[" ","Enter","ArrowUp","ArrowDown"],YY=[" ","Enter"],Jf="Select",[yv,xv,QY]=$c(Jf),[Qc,v2e]=ur(Jf,[QY,zc]),bv=zc(),[XY,wi]=Qc(Jf),[JY,ZY]=Qc(Jf),DI=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=bv(t),[v,b]=y.useState(null),[x,w]=y.useState(null),[j,_]=y.useState(!1),S=Ro(u),[N=!1,k]=Fr({prop:n,defaultProp:s,onChange:a}),[C,E]=Fr({prop:o,defaultProp:l,onChange:c}),T=y.useRef(null),A=v?g||!!v.closest("form"):!0,[D,R]=y.useState(new Set),L=Array.from(D).map(I=>I.props.value).join(";");return i.jsx(kM,{...p,children:i.jsxs(XY,{required:m,scope:t,trigger:v,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:wn(),value:C,onValueChange:E,open:N,onOpenChange:k,dir:S,triggerPointerDownPosRef:T,disabled:h,children:[i.jsx(yv.Provider,{scope:t,children:i.jsx(JY,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(I=>{R(F=>new Set(F).add(I))},[]),onNativeOptionRemove:y.useCallback(I=>{R(F=>{const O=new Set(F);return O.delete(I),O})},[]),children:r})}),A?i.jsxs(lD,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:I=>E(I.target.value),disabled:h,form:g,children:[C===void 0?i.jsx("option",{value:""}):null,Array.from(D)]},L):null]})})};DI.displayName=Jf;var LI="SelectTrigger",FI=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=bv(r),o=wi(LI,r),l=o.disabled||n,c=_e(t,o.onTriggerChange),u=xv(r),d=y.useRef("touch"),[f,h,m]=cD(p=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===o.value),x=uD(v,p,b);x!==void 0&&o.onValueChange(x.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(Ij,{asChild:!0,...a,children:i.jsx(fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":oD(o.value)?"":void 0,...s,ref:c,onClick:X(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:X(s.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:X(s.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&GY.includes(p.key)&&(g(),p.preventDefault())})})})});FI.displayName=LI;var zI="SelectValue",BI=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=wi(zI,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=_e(t,c.onValueNodeChange);return Mt(()=>{u(d)},[u,d]),i.jsx(fe.span,{...l,ref:f,style:{pointerEvents:"none"},children:oD(c.value)?i.jsx(i.Fragment,{children:o}):a})});BI.displayName=zI;var eQ="SelectIcon",UI=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(fe.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});UI.displayName=eQ;var tQ="SelectPortal",qI=e=>i.jsx(qf,{asChild:!0,...e});qI.displayName=tQ;var xo="SelectContent",WI=y.forwardRef((e,t)=>{const r=wi(xo,e.__scopeSelect),[n,s]=y.useState();if(Mt(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Co.createPortal(i.jsx(VI,{scope:e.__scopeSelect,children:i.jsx(yv.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(HI,{...e,ref:t})});WI.displayName=xo;var $n=10,[VI,ji]=Qc(xo),rQ="SelectContentImpl",HI=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...b}=e,x=wi(xo,r),[w,j]=y.useState(null),[_,S]=y.useState(null),N=_e(t,ae=>j(ae)),[k,C]=y.useState(null),[E,T]=y.useState(null),A=xv(r),[D,R]=y.useState(!1),L=y.useRef(!1);y.useEffect(()=>{if(w)return c_(w)},[w]),l_();const I=y.useCallback(ae=>{const[je,...G]=A().map(U=>U.ref.current),[ne]=G.slice(-1),le=document.activeElement;for(const U of ae)if(U===le||(U==null||U.scrollIntoView({block:"nearest"}),U===je&&_&&(_.scrollTop=0),U===ne&&_&&(_.scrollTop=_.scrollHeight),U==null||U.focus(),document.activeElement!==le))return},[A,_]),F=y.useCallback(()=>I([k,w]),[I,k,w]);y.useEffect(()=>{D&&F()},[D,F]);const{onOpenChange:O,triggerPointerDownPosRef:$}=x;y.useEffect(()=>{if(w){let ae={x:0,y:0};const je=ne=>{var le,U;ae={x:Math.abs(Math.round(ne.pageX)-(((le=$.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((U=$.current)==null?void 0:U.y)??0))}},G=ne=>{ae.x<=10&&ae.y<=10?ne.preventDefault():w.contains(ne.target)||O(!1),document.removeEventListener("pointermove",je),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",G,{capture:!0})}}},[w,O,$]),y.useEffect(()=>{const ae=()=>O(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[O]);const[H,z]=cD(ae=>{const je=A().filter(le=>!le.disabled),G=je.find(le=>le.ref.current===document.activeElement),ne=uD(je,ae,G);ne&&setTimeout(()=>ne.ref.current.focus())}),B=y.useCallback((ae,je,G)=>{const ne=!L.current&&!G;(x.value!==void 0&&x.value===je||ne)&&(C(ae),ne&&(L.current=!0))},[x.value]),Y=y.useCallback(()=>w==null?void 0:w.focus(),[w]),oe=y.useCallback((ae,je,G)=>{const ne=!L.current&&!G;(x.value!==void 0&&x.value===je||ne)&&T(ae)},[x.value]),ye=n==="popper"?Eb:KI,me=ye===Eb?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return i.jsx(VI,{scope:r,content:w,viewport:_,onViewportChange:S,itemRefCallback:B,selectedItem:k,onItemLeave:Y,itemTextRefCallback:oe,focusSelectedItem:F,selectedItemText:E,position:n,isPositioned:D,searchRef:H,children:i.jsx(gv,{as:Zs,allowPinchZoom:!0,children:i.jsx(mv,{asChild:!0,trapped:x.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:X(s,ae=>{var je;(je=x.trigger)==null||je.focus({preventScroll:!0}),ae.preventDefault()}),children:i.jsx(Ic,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(ye,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ae=>ae.preventDefault(),...b,...me,onPlaced:()=>R(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:X(b.onKeyDown,ae=>{const je=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!je&&ae.key.length===1&&z(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let ne=A().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const le=ae.target,U=ne.indexOf(le);ne=ne.slice(U+1)}setTimeout(()=>I(ne)),ae.preventDefault()}})})})})})})});HI.displayName=rQ;var nQ="SelectItemAlignedPosition",KI=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=wi(xo,r),o=ji(xo,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=_e(t,N=>d(N)),h=xv(r),m=y.useRef(!1),g=y.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:b,focusSelectedItem:x}=o,w=y.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&v&&b){const N=a.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),E=b.getBoundingClientRect();if(a.dir!=="rtl"){const le=E.left-k.left,U=C.left-le,Te=N.left-U,be=N.width+Te,Ke=Math.max(be,k.width),ze=window.innerWidth-$n,xt=vp(U,[$n,Math.max($n,ze-Ke)]);l.style.minWidth=be+"px",l.style.left=xt+"px"}else{const le=k.right-E.right,U=window.innerWidth-C.right-le,Te=window.innerWidth-N.right-U,be=N.width+Te,Ke=Math.max(be,k.width),ze=window.innerWidth-$n,xt=vp(U,[$n,Math.max($n,ze-Ke)]);l.style.minWidth=be+"px",l.style.right=xt+"px"}const T=h(),A=window.innerHeight-$n*2,D=p.scrollHeight,R=window.getComputedStyle(u),L=parseInt(R.borderTopWidth,10),I=parseInt(R.paddingTop,10),F=parseInt(R.borderBottomWidth,10),O=parseInt(R.paddingBottom,10),$=L+I+D+O+F,H=Math.min(v.offsetHeight*5,$),z=window.getComputedStyle(p),B=parseInt(z.paddingTop,10),Y=parseInt(z.paddingBottom,10),oe=N.top+N.height/2-$n,ye=A-oe,me=v.offsetHeight/2,ae=v.offsetTop+me,je=L+I+ae,G=$-je;if(je<=oe){const le=T.length>0&&v===T[T.length-1].ref.current;l.style.bottom="0px";const U=u.clientHeight-p.offsetTop-p.offsetHeight,Te=Math.max(ye,me+(le?Y:0)+U+F),be=je+Te;l.style.height=be+"px"}else{const le=T.length>0&&v===T[0].ref.current;l.style.top="0px";const Te=Math.max(oe,L+p.offsetTop+(le?B:0)+me)+G;l.style.height=Te+"px",p.scrollTop=je-oe+p.offsetTop}l.style.margin=`${$n}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,l,u,p,v,b,a.dir,n]);Mt(()=>w(),[w]);const[j,_]=y.useState();Mt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=y.useCallback(N=>{N&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return i.jsx(aQ,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(fe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});KI.displayName=nQ;var sQ="SelectPopperPosition",Eb=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=$n,...a}=e,o=bv(r);return i.jsx(Dj,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Eb.displayName=sQ;var[aQ,y_]=Qc(xo,{}),Cb="SelectViewport",GI=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=ji(Cb,r),o=y_(Cb,r),l=_e(t,a.onViewportChange),c=y.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(yv.Slot,{scope:r,children:i.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:X(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-$n*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(p,v);if(b<g){const x=b+m,w=Math.min(g,x),j=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});GI.displayName=Cb;var YI="SelectGroup",[iQ,oQ]=Qc(YI),lQ=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=wn();return i.jsx(iQ,{scope:r,id:s,children:i.jsx(fe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});lQ.displayName=YI;var QI="SelectLabel",XI=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=oQ(QI,r);return i.jsx(fe.div,{id:s.id,...n,ref:t})});XI.displayName=QI;var yp="SelectItem",[cQ,JI]=Qc(yp),ZI=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=wi(yp,r),c=ji(yp,r),u=l.value===n,[d,f]=y.useState(a??""),[h,m]=y.useState(!1),g=_e(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,s)}),p=wn(),v=y.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(cQ,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:y.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:i.jsx(yv.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(fe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:X(o.onFocus,()=>m(!0)),onBlur:X(o.onBlur,()=>m(!1)),onClick:X(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:X(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:X(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:X(o.onPointerMove,x=>{var w;v.current=x.pointerType,s?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:X(o.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(YY.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});ZI.displayName=yp;var Ju="SelectItemText",eD=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=wi(Ju,r),l=ji(Ju,r),c=JI(Ju,r),u=ZY(Ju,r),[d,f]=y.useState(null),h=_e(t,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=y.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Mt(()=>(p(g),()=>v(g)),[p,v,g]),i.jsxs(i.Fragment,{children:[i.jsx(fe.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Co.createPortal(a.children,o.valueNode):null]})});eD.displayName=Ju;var tD="SelectItemIndicator",rD=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return JI(tD,r).isSelected?i.jsx(fe.span,{"aria-hidden":!0,...n,ref:t}):null});rD.displayName=tD;var Ob="SelectScrollUpButton",nD=y.forwardRef((e,t)=>{const r=ji(Ob,e.__scopeSelect),n=y_(Ob,e.__scopeSelect),[s,a]=y.useState(!1),o=_e(t,n.onScrollButtonChange);return Mt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(aD,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});nD.displayName=Ob;var Ab="SelectScrollDownButton",sD=y.forwardRef((e,t)=>{const r=ji(Ab,e.__scopeSelect),n=y_(Ab,e.__scopeSelect),[s,a]=y.useState(!1),o=_e(t,n.onScrollButtonChange);return Mt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(aD,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});sD.displayName=Ab;var aD=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=ji("SelectScrollButton",r),o=y.useRef(null),l=xv(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Mt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(fe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:X(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:X(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:X(s.onPointerLeave,()=>{c()})})}),uQ="SelectSeparator",iD=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(fe.div,{"aria-hidden":!0,...n,ref:t})});iD.displayName=uQ;var Tb="SelectArrow",dQ=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=bv(r),a=wi(Tb,r),o=ji(Tb,r);return a.open&&o.position==="popper"?i.jsx(Lj,{...s,...n,ref:t}):null});dQ.displayName=Tb;function oD(e){return e===""||e===void 0}var lD=y.forwardRef((e,t)=>{const{value:r,...n}=e,s=y.useRef(null),a=_e(t,s),o=Xf(r);return y.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),i.jsx(Wf,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});lD.displayName="BubbleSelect";function cD(e){const t=Yt(e),r=y.useRef(""),n=y.useRef(0),s=y.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function uD(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=fQ(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function fQ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var hQ=DI,dD=FI,mQ=BI,pQ=UI,gQ=qI,fD=WI,vQ=GI,hD=XI,mD=ZI,yQ=eD,xQ=rD,pD=nD,gD=sD,vD=iD;const oc=hQ,lc=mQ,bo=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(dD,{ref:n,className:K("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(pQ,{asChild:!0,children:i.jsx(Kg,{className:"h-4 w-4 opacity-50"})})]}));bo.displayName=dD.displayName;const yD=y.forwardRef(({className:e,...t},r)=>i.jsx(pD,{ref:r,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(wj,{className:"h-4 w-4"})}));yD.displayName=pD.displayName;const xD=y.forwardRef(({className:e,...t},r)=>i.jsx(gD,{ref:r,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Kg,{className:"h-4 w-4"})}));xD.displayName=gD.displayName;const wo=y.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(gQ,{children:i.jsxs(fD,{ref:s,className:K("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(yD,{}),i.jsx(vQ,{className:K("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(xD,{})]})}));wo.displayName=fD.displayName;const bQ=y.forwardRef(({className:e,...t},r)=>i.jsx(hD,{ref:r,className:K("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));bQ.displayName=hD.displayName;const Or=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(mD,{ref:n,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(xQ,{children:i.jsx(Hf,{className:"h-4 w-4"})})}),i.jsx(yQ,{children:t})]}));Or.displayName=mD.displayName;const wQ=y.forwardRef(({className:e,...t},r)=>i.jsx(vD,{ref:r,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));wQ.displayName=vD.displayName;const x_=({currentUserRole:e,selectedRole:t,onRoleChange:r,disabled:n=!1})=>{const s=zG(e);return i.jsxs(oc,{value:t,onValueChange:r,disabled:n,children:[i.jsx(bo,{className:"w-full",children:i.jsx(lc,{children:i.jsx("div",{className:"flex items-center gap-2",children:(()=>{const{icon:a,label:o}=Kd(t);return i.jsxs(i.Fragment,{children:[i.jsx(a,{className:"w-4 h-4"}),o]})})()})})}),i.jsx(wo,{children:s.map(a=>{const{icon:o,label:l,description:c,variant:u}=Kd(a);return i.jsx(Or,{value:a,children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(o,{className:"w-4 h-4"}),i.jsx("span",{children:l})]}),i.jsx(ve,{variant:u,className:"text-xs",children:l})]})},a)})})]})},jQ=({isOpen:e,user:t,organizations:r,onClose:n,onSubmit:s,isSubmitting:a})=>{const[o,l]=y.useState(""),[c,u]=y.useState("member"),d=h=>{h.preventDefault(),t&&o&&s(t.user_id,t.email,o,c)},f=()=>{l(""),u("member"),n()};return t?i.jsx(Kc,{open:e,onOpenChange:f,children:i.jsxs(Mo,{className:"sm:max-w-md",children:[i.jsx(Gc,{children:i.jsx(Yc,{children:"Assign User to Organization"})}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{children:"User Email"}),i.jsx("div",{className:"p-2 bg-gray-50 rounded border",children:t.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{htmlFor:"organization",children:"Organization"}),i.jsxs(oc,{value:o,onValueChange:l,required:!0,children:[i.jsx(bo,{children:i.jsx(lc,{placeholder:"Select an organization"})}),i.jsx(wo,{children:r.map(h=>i.jsxs(Or,{value:h.id,children:[h.name," (/",h.slug,")"]},h.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{htmlFor:"role",children:"Role"}),i.jsx(x_,{currentUserRole:"owner",selectedRole:c,onRoleChange:u})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(re,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),i.jsx(re,{type:"submit",disabled:a||!o,children:a?"Assigning...":"Assign User"})]})]})]})}):null};var bD="AlertDialog",[_Q,y2e]=ur(bD,[mI]),ca=mI(),wD=e=>{const{__scopeAlertDialog:t,...r}=e,n=ca(t);return i.jsx(OI,{...n,...r,modal:!0})};wD.displayName=bD;var SQ="AlertDialogTrigger",jD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ca(r);return i.jsx(AI,{...s,...n,ref:t})});jD.displayName=SQ;var NQ="AlertDialogPortal",_D=e=>{const{__scopeAlertDialog:t,...r}=e,n=ca(t);return i.jsx(TI,{...n,...r})};_D.displayName=NQ;var kQ="AlertDialogOverlay",SD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ca(r);return i.jsx(m_,{...s,...n,ref:t})});SD.displayName=kQ;var Rl="AlertDialogContent",[PQ,EQ]=_Q(Rl),ND=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=ca(r),o=y.useRef(null),l=_e(t,o),c=y.useRef(null);return i.jsx(UY,{contentName:Rl,titleName:kD,docsSlug:"alert-dialog",children:i.jsx(PQ,{scope:r,cancelRef:c,children:i.jsxs(p_,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:X(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(pj,{children:n}),i.jsx(OQ,{contentRef:o})]})})})});ND.displayName=Rl;var kD="AlertDialogTitle",PD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ca(r);return i.jsx(g_,{...s,...n,ref:t})});PD.displayName=kD;var ED="AlertDialogDescription",CD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ca(r);return i.jsx(v_,{...s,...n,ref:t})});CD.displayName=ED;var CQ="AlertDialogAction",OD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ca(r);return i.jsx(vv,{...s,...n,ref:t})});OD.displayName=CQ;var AD="AlertDialogCancel",TD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=EQ(AD,r),a=ca(r),o=_e(t,s);return i.jsx(vv,{...a,...n,ref:o})});TD.displayName=AD;var OQ=({contentRef:e})=>{const t=`\`${Rl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rl}\` by passing a \`${ED}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},AQ=wD,TQ=jD,RQ=_D,RD=SD,MD=ND,$D=OD,ID=TD,DD=PD,LD=CD;const Zf=AQ,eh=TQ,MQ=RQ,FD=y.forwardRef(({className:e,...t},r)=>i.jsx(RD,{className:K("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));FD.displayName=RD.displayName;const Xc=y.forwardRef(({className:e,...t},r)=>i.jsxs(MQ,{children:[i.jsx(FD,{}),i.jsx(MD,{ref:r,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Xc.displayName=MD.displayName;const Jc=({className:e,...t})=>i.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});Jc.displayName="AlertDialogHeader";const Zc=({className:e,...t})=>i.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zc.displayName="AlertDialogFooter";const eu=y.forwardRef(({className:e,...t},r)=>i.jsx(DD,{ref:r,className:K("text-lg font-semibold",e),...t}));eu.displayName=DD.displayName;const tu=y.forwardRef(({className:e,...t},r)=>i.jsx(LD,{ref:r,className:K("text-sm text-muted-foreground",e),...t}));tu.displayName=LD.displayName;const ru=y.forwardRef(({className:e,...t},r)=>i.jsx($D,{ref:r,className:K(t_(),e),...t}));ru.displayName=$D.displayName;const nu=y.forwardRef(({className:e,...t},r)=>i.jsx(ID,{ref:r,className:K(t_({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));nu.displayName=ID.displayName;const $Q=({organizations:e})=>{const{data:t,isLoading:r,error:n}=MG(),[s,a]=y.useState(!1),[o,l]=y.useState(null),c=$G(),u=IG(),d=g=>{l(g),a(!0)},f=()=>{l(null),a(!1)},h=(g,p,v,b)=>{c.mutate({userId:g,email:p,organizationId:v,role:b},{onSuccess:()=>{vr.success(`User ${p} assigned successfully.`),f()},onError:x=>{vr.error(`Failed to assign user: ${x.message}`)}})},m=()=>{u.mutate(void 0,{onSuccess:g=>{vr.success(`Approval process complete. ${g.approvedCount} invitations approved.`),g.failedCount>0&&vr.info(`${g.failedCount} invitations could not be approved (e.g. user not registered).`)},onError:g=>{vr.error(`Failed to approve invitations: ${g.message}`)}})};return r?i.jsx(kb,{text:"Loading system-wide user data..."}):n?i.jsxs(nr,{variant:"destructive",children:[i.jsx(h7,{className:"h-4 w-4"}),i.jsx(tI,{children:"Error Fetching Data"}),i.jsx(sr,{children:n.message})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(q,{children:[i.jsxs(ee,{children:[i.jsx(te,{children:"All Organization Users"}),i.jsx(Yn,{children:"A comprehensive list of all users across all organizations with their enhanced roles. You can assign existing users to new organizations from here."})]}),i.jsx(W,{children:i.jsx(BG,{users:(t==null?void 0:t.users)||[],onAssignUser:d})})]}),i.jsxs(q,{children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(te,{children:"All Pending Invitations"}),i.jsx(Yn,{children:"A comprehensive list of all pending invitations across all organizations with enhanced role information."})]}),(t==null?void 0:t.invitations)&&t.invitations.length>0&&i.jsxs(Zf,{children:[i.jsx(eh,{asChild:!0,children:i.jsx(re,{disabled:u.isPending,children:u.isPending?"Approving...":"Approve All Pending"})}),i.jsxs(Xc,{children:[i.jsxs(Jc,{children:[i.jsx(eu,{children:"Are you sure?"}),i.jsx(tu,{children:"This will attempt to approve all pending invitations for which a user account already exists. Users will be added to the respective organizations with their designated enhanced roles. This action cannot be undone."})]}),i.jsxs(Zc,{children:[i.jsx(nu,{children:"Cancel"}),i.jsx(ru,{onClick:m,disabled:u.isPending,children:"Continue"})]})]})]})]}),i.jsx(W,{children:i.jsx(WG,{invitations:(t==null?void 0:t.invitations)||[]})})]}),i.jsx(jQ,{isOpen:s,user:o,organizations:e,onClose:f,onSubmit:h,isSubmitting:c.isPending})]})},IQ=({organizations:e})=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(q,{children:i.jsxs(W,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.length)||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Organizations"})]})}),i.jsx(q,{children:i.jsxs(W,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:(e==null?void 0:e.filter(t=>t.is_active).length)||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]})})]});var Rb=["Enter"," "],DQ=["ArrowDown","PageUp","Home"],zD=["ArrowUp","PageDown","End"],LQ=[...DQ,...zD],FQ={ltr:[...Rb,"ArrowRight"],rtl:[...Rb,"ArrowLeft"]},zQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},th="Menu",[Gd,BQ,UQ]=$c(th),[$o,BD]=ur(th,[UQ,zc,Hc]),wv=zc(),UD=Hc(),[qQ,Io]=$o(th),[WQ,rh]=$o(th),qD=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=e,l=wv(t),[c,u]=y.useState(null),d=y.useRef(!1),f=Yt(a),h=Ro(s);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(kM,{...l,children:i.jsx(qQ,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(WQ,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};qD.displayName=th;var VQ="MenuAnchor",b_=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=wv(r);return i.jsx(Ij,{...s,...n,ref:t})});b_.displayName=VQ;var w_="MenuPortal",[HQ,WD]=$o(w_,{forceMount:void 0}),VD=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=Io(w_,t);return i.jsx(HQ,{scope:t,forceMount:r,children:i.jsx(zr,{present:r||a.open,children:i.jsx(qf,{asChild:!0,container:s,children:n})})})};VD.displayName=w_;var jn="MenuContent",[KQ,j_]=$o(jn),HD=y.forwardRef((e,t)=>{const r=WD(jn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Io(jn,e.__scopeMenu),o=rh(jn,e.__scopeMenu);return i.jsx(Gd.Provider,{scope:e.__scopeMenu,children:i.jsx(zr,{present:n||a.open,children:i.jsx(Gd.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(GQ,{...s,ref:t}):i.jsx(YQ,{...s,ref:t})})})})}),GQ=y.forwardRef((e,t)=>{const r=Io(jn,e.__scopeMenu),n=y.useRef(null),s=_e(t,n);return y.useEffect(()=>{const a=n.current;if(a)return c_(a)},[]),i.jsx(__,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:X(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),YQ=y.forwardRef((e,t)=>{const r=Io(jn,e.__scopeMenu);return i.jsx(__,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),__=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=Io(jn,r),b=rh(jn,r),x=wv(r),w=UD(r),j=BQ(r),[_,S]=y.useState(null),N=y.useRef(null),k=_e(t,N,v.onContentChange),C=y.useRef(0),E=y.useRef(""),T=y.useRef(0),A=y.useRef(null),D=y.useRef("right"),R=y.useRef(0),L=g?gv:y.Fragment,I=g?{as:Zs,allowPinchZoom:!0}:void 0,F=$=>{var ae,je;const H=E.current+$,z=j().filter(G=>!G.disabled),B=document.activeElement,Y=(ae=z.find(G=>G.ref.current===B))==null?void 0:ae.textValue,oe=z.map(G=>G.textValue),ye=oX(oe,H,Y),me=(je=z.find(G=>G.textValue===ye))==null?void 0:je.ref.current;(function G(ne){E.current=ne,window.clearTimeout(C.current),ne!==""&&(C.current=window.setTimeout(()=>G(""),1e3))})(H),me&&setTimeout(()=>me.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),l_();const O=y.useCallback($=>{var z,B;return D.current===((z=A.current)==null?void 0:z.side)&&cX($,(B=A.current)==null?void 0:B.area)},[]);return i.jsx(KQ,{scope:r,searchRef:E,onItemEnter:y.useCallback($=>{O($)&&$.preventDefault()},[O]),onItemLeave:y.useCallback($=>{var H;O($)||((H=N.current)==null||H.focus(),S(null))},[O]),onTriggerLeave:y.useCallback($=>{O($)&&$.preventDefault()},[O]),pointerGraceTimerRef:T,onPointerGraceIntentChange:y.useCallback($=>{A.current=$},[]),children:i.jsx(L,{...I,children:i.jsx(mv,{asChild:!0,trapped:s,onMountAutoFocus:X(a,$=>{var H;$.preventDefault(),(H=N.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Ic,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(r_,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:X(c,$=>{b.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Dj,{role:"menu","aria-orientation":"vertical","data-state":l4(v.open),"data-radix-menu-content":"",dir:b.dir,...x,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:X(p.onKeyDown,$=>{const z=$.target.closest("[data-radix-menu-content]")===$.currentTarget,B=$.ctrlKey||$.altKey||$.metaKey,Y=$.key.length===1;z&&($.key==="Tab"&&$.preventDefault(),!B&&Y&&F($.key));const oe=N.current;if($.target!==oe||!LQ.includes($.key))return;$.preventDefault();const me=j().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);zD.includes($.key)&&me.reverse(),aX(me)}),onBlur:X(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:X(e.onPointerMove,Yd($=>{const H=$.target,z=R.current!==$.clientX;if($.currentTarget.contains(H)&&z){const B=$.clientX>R.current?"right":"left";D.current=B,R.current=$.clientX}}))})})})})})})});HD.displayName=jn;var QQ="MenuGroup",S_=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(fe.div,{role:"group",...n,ref:t})});S_.displayName=QQ;var XQ="MenuLabel",KD=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(fe.div,{...n,ref:t})});KD.displayName=XQ;var xp="MenuItem",IP="menu.itemSelect",jv=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=y.useRef(null),o=rh(xp,e.__scopeMenu),l=j_(xp,e.__scopeMenu),c=_e(t,a),u=y.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(IP,{bubbles:!0,cancelable:!0});f.addEventListener(IP,m=>n==null?void 0:n(m),{once:!0}),gj(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(GD,{...s,ref:c,disabled:r,onClick:X(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:X(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:X(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Rb.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});jv.displayName=xp;var GD=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,o=j_(xp,r),l=UD(r),c=y.useRef(null),u=_e(t,c),[d,f]=y.useState(!1),[h,m]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[a.children]),i.jsx(Gd.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:i.jsx(n_,{asChild:!0,...l,focusable:!n,children:i.jsx(fe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:X(e.onPointerMove,Yd(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:X(e.onPointerLeave,Yd(g=>o.onItemLeave(g))),onFocus:X(e.onFocus,()=>f(!0)),onBlur:X(e.onBlur,()=>f(!1))})})})}),JQ="MenuCheckboxItem",YD=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(e4,{scope:e.__scopeMenu,checked:r,children:i.jsx(jv,{role:"menuitemcheckbox","aria-checked":bp(r)?"mixed":r,...s,ref:t,"data-state":k_(r),onSelect:X(s.onSelect,()=>n==null?void 0:n(bp(r)?!0:!r),{checkForDefaultPrevented:!1})})})});YD.displayName=JQ;var QD="MenuRadioGroup",[ZQ,eX]=$o(QD,{value:void 0,onValueChange:()=>{}}),XD=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Yt(n);return i.jsx(ZQ,{scope:e.__scopeMenu,value:r,onValueChange:a,children:i.jsx(S_,{...s,ref:t})})});XD.displayName=QD;var JD="MenuRadioItem",ZD=y.forwardRef((e,t)=>{const{value:r,...n}=e,s=eX(JD,e.__scopeMenu),a=r===s.value;return i.jsx(e4,{scope:e.__scopeMenu,checked:a,children:i.jsx(jv,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":k_(a),onSelect:X(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});ZD.displayName=JD;var N_="MenuItemIndicator",[e4,tX]=$o(N_,{checked:!1}),t4=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=tX(N_,r);return i.jsx(zr,{present:n||bp(a.checked)||a.checked===!0,children:i.jsx(fe.span,{...s,ref:t,"data-state":k_(a.checked)})})});t4.displayName=N_;var rX="MenuSeparator",r4=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(fe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});r4.displayName=rX;var nX="MenuArrow",n4=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=wv(r);return i.jsx(Lj,{...s,...n,ref:t})});n4.displayName=nX;var sX="MenuSub",[x2e,s4]=$o(sX),Zu="MenuSubTrigger",a4=y.forwardRef((e,t)=>{const r=Io(Zu,e.__scopeMenu),n=rh(Zu,e.__scopeMenu),s=s4(Zu,e.__scopeMenu),a=j_(Zu,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(b_,{asChild:!0,...u,children:i.jsx(GD,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":l4(r.open),...e,ref:Wg(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:X(e.onPointerMove,Yd(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:X(e.onPointerLeave,Yd(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",b=v?-5:5,x=h[v?"left":"right"],w=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:X(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||FQ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});a4.displayName=Zu;var i4="MenuSubContent",o4=y.forwardRef((e,t)=>{const r=WD(jn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Io(jn,e.__scopeMenu),o=rh(jn,e.__scopeMenu),l=s4(i4,e.__scopeMenu),c=y.useRef(null),u=_e(t,c);return i.jsx(Gd.Provider,{scope:e.__scopeMenu,children:i.jsx(zr,{present:n||a.open,children:i.jsx(Gd.Slot,{scope:e.__scopeMenu,children:i.jsx(__,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:X(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:X(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:X(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=zQ[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});o4.displayName=i4;function l4(e){return e?"open":"closed"}function bp(e){return e==="indeterminate"}function k_(e){return bp(e)?"indeterminate":e?"checked":"unchecked"}function aX(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function iX(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function oX(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=iX(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function lX(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function cX(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return lX(r,t)}function Yd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var uX=qD,dX=b_,fX=VD,hX=HD,mX=S_,pX=KD,gX=jv,vX=YD,yX=XD,xX=ZD,bX=t4,wX=r4,jX=n4,_X=a4,SX=o4,P_="DropdownMenu",[NX,b2e]=ur(P_,[BD]),Nr=BD(),[kX,c4]=NX(P_),u4=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Nr(t),u=y.useRef(null),[d=!1,f]=Fr({prop:s,defaultProp:a,onChange:o});return i.jsx(kX,{scope:t,triggerId:wn(),triggerRef:u,contentId:wn(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(uX,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};u4.displayName=P_;var d4="DropdownMenuTrigger",f4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=c4(d4,r),o=Nr(r);return i.jsx(dX,{asChild:!0,...o,children:i.jsx(fe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Wg(t,a.triggerRef),onPointerDown:X(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:X(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});f4.displayName=d4;var PX="DropdownMenuPortal",h4=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Nr(t);return i.jsx(fX,{...n,...r})};h4.displayName=PX;var m4="DropdownMenuContent",p4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=c4(m4,r),a=Nr(r),o=y.useRef(!1);return i.jsx(hX,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:X(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:X(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});p4.displayName=m4;var EX="DropdownMenuGroup",CX=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nr(r);return i.jsx(mX,{...s,...n,ref:t})});CX.displayName=EX;var OX="DropdownMenuLabel",g4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nr(r);return i.jsx(pX,{...s,...n,ref:t})});g4.displayName=OX;var AX="DropdownMenuItem",v4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nr(r);return i.jsx(gX,{...s,...n,ref:t})});v4.displayName=AX;var TX="DropdownMenuCheckboxItem",y4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nr(r);return i.jsx(vX,{...s,...n,ref:t})});y4.displayName=TX;var RX="DropdownMenuRadioGroup",MX=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nr(r);return i.jsx(yX,{...s,...n,ref:t})});MX.displayName=RX;var $X="DropdownMenuRadioItem",x4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nr(r);return i.jsx(xX,{...s,...n,ref:t})});x4.displayName=$X;var IX="DropdownMenuItemIndicator",b4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nr(r);return i.jsx(bX,{...s,...n,ref:t})});b4.displayName=IX;var DX="DropdownMenuSeparator",w4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nr(r);return i.jsx(wX,{...s,...n,ref:t})});w4.displayName=DX;var LX="DropdownMenuArrow",FX=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nr(r);return i.jsx(jX,{...s,...n,ref:t})});FX.displayName=LX;var zX="DropdownMenuSubTrigger",j4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nr(r);return i.jsx(_X,{...s,...n,ref:t})});j4.displayName=zX;var BX="DropdownMenuSubContent",_4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nr(r);return i.jsx(SX,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_4.displayName=BX;var UX=u4,qX=f4,WX=h4,S4=p4,N4=g4,k4=v4,P4=y4,E4=x4,C4=b4,O4=w4,A4=j4,T4=_4;const R4=UX,M4=qX,VX=y.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs(A4,{ref:s,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(Gg,{className:"ml-auto h-4 w-4"})]}));VX.displayName=A4.displayName;const HX=y.forwardRef(({className:e,...t},r)=>i.jsx(T4,{ref:r,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));HX.displayName=T4.displayName;const E_=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(WX,{children:i.jsx(S4,{ref:n,sideOffset:t,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));E_.displayName=S4.displayName;const yl=y.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(k4,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));yl.displayName=k4.displayName;const KX=y.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(P4,{ref:s,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(C4,{children:i.jsx(Hf,{className:"h-4 w-4"})})}),t]}));KX.displayName=P4.displayName;const GX=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(E4,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(C4,{children:i.jsx(Yg,{className:"h-2 w-2 fill-current"})})}),t]}));GX.displayName=E4.displayName;const YX=y.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(N4,{ref:n,className:K("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));YX.displayName=N4.displayName;const $4=y.forwardRef(({className:e,...t},r)=>i.jsx(O4,{ref:r,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));$4.displayName=O4.displayName;var C_="Avatar",[QX,w2e]=ur(C_),[XX,I4]=QX(C_),D4=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=y.useState("idle");return i.jsx(XX,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(fe.span,{...n,ref:t})})});D4.displayName=C_;var L4="AvatarImage",F4=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=I4(L4,r),l=JX(n,a.referrerPolicy),c=Yt(u=>{s(u),o.onImageLoadingStatusChange(u)});return Mt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(fe.img,{...a,ref:t,src:n}):null});F4.displayName=L4;var z4="AvatarFallback",B4=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=I4(z4,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(fe.span,{...s,ref:t}):null});B4.displayName=z4;function JX(e,t){const[r,n]=y.useState("idle");return Mt(()=>{if(!e){n("error");return}let s=!0;const a=new window.Image,o=l=>()=>{s&&n(l)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var U4=D4,q4=F4,W4=B4;const V4=y.forwardRef(({className:e,...t},r)=>i.jsx(U4,{ref:r,className:K("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));V4.displayName=U4.displayName;const ZX=y.forwardRef(({className:e,...t},r)=>i.jsx(q4,{ref:r,className:K("aspect-square h-full w-full",e),...t}));ZX.displayName=q4.displayName;const H4=y.forwardRef(({className:e,...t},r)=>i.jsx(W4,{ref:r,className:K("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));H4.displayName=W4.displayName;const eJ=({email:e,size:t="md"})=>{const r={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-10 w-10"};return i.jsx(V4,{className:r[t],children:i.jsx(H4,{children:UG(e)})})},K4=e=>{const{user:t}=ks(),{data:r}=jt({queryKey:["user-enhanced-role",t==null?void 0:t.id,e],queryFn:async()=>{if(!(t!=null&&t.id)||!e)return null;const{data:h}=await J.from("organization_users").select("enhanced_role").eq("user_id",t.id).eq("organization_id",e).single();return(h==null?void 0:h.enhanced_role)||null},enabled:!!(t!=null&&t.id)&&!!e}),{data:n}=jt({queryKey:["user-permissions",t==null?void 0:t.id,e,r],queryFn:async()=>{if(!(t!=null&&t.id)||!e||!r)return{};const{data:h}=await J.from("role_permissions").select("permission_key, permission_value").eq("role",r),m={};return h==null||h.forEach(({permission_key:g,permission_value:p})=>{try{const v=p;v&&typeof v=="object"&&"allowed"in v&&(m[g]=v)}catch(v){console.warn(`Failed to parse permission for ${g}:`,v)}}),m},enabled:!!(t!=null&&t.id)&&!!e&&!!r}),s=h=>{if(!r)return!1;const m=n==null?void 0:n[h];return m?m.allowed:o_(r,h)};return{userRole:r,permissions:n,checkPermission:s,canManageUsers:()=>s("manage_users"),canManageOrganization:()=>s("manage_organization"),canViewAnalytics:()=>s("view_analytics"),canExportData:()=>s("export_data"),canManageQuestions:()=>s("manage_questions"),canManageIntegrations:()=>s("manage_integrations"),canManageBilling:()=>s("manage_billing")}},tJ=({members:e,loading:t,organizationId:r,onUpdateRole:n,onRemoveMember:s})=>{const{userRole:a,canManageUsers:o}=K4(r),l=(u,d)=>{n(u.user_id,d)},c=u=>{if(!o()||!a)return!1;const d=u.enhanced_role||u.role||"member";return i_(a,d)};return t?i.jsx(q,{children:i.jsx(W,{className:"p-6",children:i.jsx("div",{className:"text-center",children:"Loading members..."})})}):!e||e.length===0?i.jsx(q,{children:i.jsx(W,{className:"p-6",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(XR,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{children:"No members found"}),i.jsx("p",{className:"text-sm",children:"Invite users to get started"})]})})}):i.jsx(q,{children:i.jsx(W,{className:"p-0",children:i.jsxs(ci,{children:[i.jsx(ui,{children:i.jsxs(Ft,{children:[i.jsx(Se,{children:"Member"}),i.jsx(Se,{children:"Role"}),i.jsx(Se,{children:"Status"}),i.jsx(Se,{children:"Joined"}),i.jsx(Se,{children:"Invited By"}),i.jsx(Se,{className:"w-[100px]",children:"Actions"})]})}),i.jsx(di,{children:e.map(u=>{var h;const d=u.enhanced_role||u.role||"member",f=c(u);return i.jsxs(Ft,{children:[i.jsx(we,{children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(eJ,{email:u.email}),i.jsx("div",{children:i.jsx("div",{className:"font-medium",children:u.email})})]})}),i.jsx(we,{children:f?i.jsx(x_,{currentUserRole:a||"member",selectedRole:d,onRoleChange:m=>l(u,m)}):i.jsx(hv,{role:d})}),i.jsx(we,{children:i.jsx(ve,{variant:qG(u.status),children:u.status})}),i.jsx(we,{children:u.accepted_at?pp(u.accepted_at):pp(u.created_at)}),i.jsx(we,{children:((h=u.invited_by)==null?void 0:h.email)||"-"}),i.jsx(we,{children:f&&i.jsxs(R4,{children:[i.jsx(M4,{asChild:!0,children:i.jsx(re,{variant:"ghost",size:"sm",children:i.jsx(QU,{className:"h-4 w-4"})})}),i.jsx(E_,{align:"end",children:i.jsxs(Zf,{children:[i.jsx(eh,{asChild:!0,children:i.jsxs(yl,{className:"text-red-600",onSelect:m=>m.preventDefault(),children:[i.jsx(Xg,{className:"h-4 w-4 mr-2"}),"Remove Member"]})}),i.jsxs(Xc,{children:[i.jsxs(Jc,{children:[i.jsx(eu,{children:"Remove Member"}),i.jsxs(tu,{children:["Are you sure you want to remove ",u.email," from this organization? This action cannot be undone."]})]}),i.jsxs(Zc,{children:[i.jsx(nu,{children:"Cancel"}),i.jsx(ru,{onClick:()=>s(u.user_id),className:"bg-red-600 hover:bg-red-700",children:"Remove"})]})]})]})})]})})]},u.id)})})]})})})},rJ=e=>{const t=_r(),{data:r,isLoading:n,error:s}=jt({queryKey:["organization-members",e],queryFn:async()=>{console.log("Fetching organization members for:",e);const{data:c,error:u}=await J.from("organization_users").select(`
          id,
          user_id,
          email,
          role,
          enhanced_role,
          status,
          created_at,
          accepted_at,
          invited_by_user_id
        `).eq("organization_id",e).order("created_at",{ascending:!1});if(u)throw console.error("Error fetching organization members:",u),u;const d=await Promise.all((c||[]).map(async f=>{let h=null;if(f.invited_by_user_id){const{data:m}=await J.from("organization_users").select("email").eq("user_id",f.invited_by_user_id).eq("organization_id",e).single();m?h={email:m.email}:h={email:"Unknown"}}return{...f,invited_by:h}}));return console.log("Organization members fetched:",d),d},enabled:!!e,retry:3,retryDelay:1e3}),a=yt({mutationFn:async({userId:c,newRole:u})=>{console.log("Updating user role:",{userId:c,newRole:u,organizationId:e});const{data:d,error:f}=await J.from("organization_users").update({enhanced_role:u,role:u==="owner"||u==="admin"?"admin":"member"}).eq("user_id",c).eq("organization_id",e).select().single();if(f)throw console.error("Error updating user role:",f),f;return d},onSuccess:()=>{Ae({title:"User role updated successfully"}),t.invalidateQueries({queryKey:["organization-members",e]})},onError:c=>{console.error("Role update error:",c),Ae({title:"Error updating user role",description:c.message||"An unexpected error occurred",variant:"destructive"})}}),o=(c,u)=>{a.mutate({userId:c,newRole:u})};return{activeMembers:(r==null?void 0:r.filter(c=>c.status==="active"))||[],membersLoading:n,membersError:s,handleUpdateRole:o,updateRoleMutation:a}},nJ=e=>jt({queryKey:["organization-invitations",e],queryFn:async()=>{console.log("Fetching organization invitations for:",e);const{data:t,error:r}=await J.from("user_invitations").select(`
          id,
          email,
          role,
          enhanced_role,
          status,
          created_at,
          expires_at,
          invited_by_user_id
        `).eq("organization_id",e).eq("status","pending").order("created_at",{ascending:!1});if(r)throw console.error("Error fetching organization invitations:",r),r;const n=await Promise.all((t||[]).map(async s=>{if(s.invited_by_user_id){const{data:a}=await J.from("organization_users").select("email").eq("user_id",s.invited_by_user_id).eq("organization_id",e).single();return{...s,invited_by:a?{email:a.email}:null}}return{...s,invited_by:null}}));return console.log("Organization invitations fetched:",n),n},enabled:!!e,retry:3,retryDelay:1e3}),G4=({rpcName:e,queryKeysToInvalidate:t,successMessage:r,errorMessage:n,onSuccessCustom:s,paramsMapper:a})=>{const o=_r();return yt({mutationFn:async l=>{const{data:c,error:u}=await J.rpc(e,a(l));if(u)throw u;const d=c;if(d&&typeof d=="object"&&"success"in d){const f=d;if(!f.success)throw new Error(f.error)}return d},onSuccess:l=>{t.forEach(c=>{o.invalidateQueries({queryKey:c})}),s?s(l):vr.success(r)},onError:l=>{vr.error(l.message||n)}})},Y4={ORGANIZATION_MEMBERS:["organization-members"],ORGANIZATION_INVITATIONS:["organization-invitations"]},sJ=()=>G4({rpcName:"cancel_invitation",queryKeysToInvalidate:[Y4.ORGANIZATION_INVITATIONS],successMessage:"Invitation cancelled successfully",errorMessage:"Failed to cancel invitation",paramsMapper:({invitationId:e})=>({p_invitation_id:e})}),aJ=()=>G4({rpcName:"remove_user_from_organization",queryKeysToInvalidate:[Y4.ORGANIZATION_MEMBERS],successMessage:"User removed from organization successfully",errorMessage:"Failed to remove user",paramsMapper:({userId:e,organizationId:t})=>({p_user_id:e,p_organization_id:t})}),iJ=e=>{const t=rJ(e),{data:r=[],isLoading:n,error:s}=nJ(e),a=sJ(),o=l=>{a.mutate({invitationId:l})};return{...t,pendingInvitations:r,invitationsLoading:n,invitationsError:s,pendingInvitationsCount:r.length,handleCancelInvitation:o,cancelInvitationLoading:a.isPending}},oJ=({organizationName:e})=>i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),i.jsxs("p",{className:"text-gray-600",children:["Manage members and invitations for ",e]})]})}),lJ=({activeMembersCount:e,adminsCount:t,pendingInvitationsCount:r})=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(q,{children:i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Et,{className:"h-5 w-5 text-sunset-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:e}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]})]})})}),i.jsx(q,{children:i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ao,{className:"h-5 w-5 text-coral-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:"Admins"})]})]})})}),i.jsx(q,{children:i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sp,{className:"h-5 w-5 text-golden-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:r}),i.jsx("p",{className:"text-sm text-gray-600",children:"Pending Invitations"})]})]})})})]});class cJ{formatLog(t,r,n){const s=new Date().toISOString(),a=n?` ${JSON.stringify(n)}`:"";return`[${s}] ${t.toUpperCase()}: ${r}${a}`}info(t,r){console.log(this.formatLog("info",t,r))}warn(t,r){console.warn(this.formatLog("warn",t,r))}error(t,r){console.error(this.formatLog("error",t,r))}debug(t,r){}}const ar=new cJ,Bi=class Bi{constructor(){un(this,"config",{enableLogging:!0,enableReporting:!0,maxRetries:3})}static getInstance(){return Bi.instance||(Bi.instance=new Bi),Bi.instance}handleError(t,r){const n=this.normalizeError(t,r);return this.config.enableLogging&&this.logError(n),this.config.enableReporting&&n.severity==="critical"&&this.reportError(n),n}async handleAsync(t,r){try{return await t()}catch(n){throw this.handleError(n,r)}}createError(t,r,n="medium",s){return{code:t,message:r,context:s,timestamp:Date.now(),severity:n,details:s}}normalizeError(t,r){return"code"in t&&"severity"in t?{...t,context:{...t.context,...r},details:{...t.details,...r}}:{code:"UNKNOWN_ERROR",message:t.message||"An unexpected error occurred",context:r,timestamp:Date.now(),severity:"medium",details:r}}logError(t){const r=t.severity==="critical"?"error":"warn";console[r]("Application Error:",{code:t.code,message:t.message,severity:t.severity,timestamp:new Date(t.timestamp).toISOString(),context:t.context})}reportError(t){typeof window<"u"&&window.console&&console.error("Critical Error Reported:",t)}};un(Bi,"instance");let Mb=Bi;const $b=Mb.getInstance(),ds=(e,t,r="medium",n)=>$b.createError(e,t,r,n),Tn=e=>({success:!1,error:e,code:e.code}),hx=e=>({success:!0,data:e}),mx=(e,t)=>e instanceof Error?$b.handleError(e):$b.createError("UNKNOWN_ERROR",t||"An unknown error occurred"),as=(e,t,r)=>{const n=ds("LOG_ERROR",e,"low",t);console.error(e,n)},uJ={NETWORK_ERROR:"NETWORK_ERROR",SYSTEM_NETWORK_ERROR:"SYSTEM_NETWORK_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",VALIDATION_REQUIRED_FIELD:"VALIDATION_REQUIRED_FIELD",VALIDATION_INVALID_EMAIL:"VALIDATION_INVALID_EMAIL",VALIDATION_INVALID_FORMAT:"VALIDATION_INVALID_FORMAT",VALIDATION_INVALID_INPUT:"VALIDATION_INVALID_INPUT",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",SYSTEM_ERROR:"SYSTEM_ERROR",SYSTEM_DATABASE_ERROR:"SYSTEM_DATABASE_ERROR",SYSTEM_UNKNOWN_ERROR:"SYSTEM_UNKNOWN_ERROR",BUSINESS_USER_ALREADY_EXISTS:"BUSINESS_USER_ALREADY_EXISTS",BUSINESS_ORGANIZATION_NOT_FOUND:"BUSINESS_ORGANIZATION_NOT_FOUND",NOT_FOUND:"NOT_FOUND",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR"},Qr=uJ,dJ=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),fJ=e=>e==null?!1:typeof e=="string"?e.trim().length>0:Array.isArray(e)?e.length>0:!0,hJ=(e,t=0,r=1/0)=>{const n=e.trim().length;return n>=t&&n<=r},Q4=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),$i={required:e=>({validate:fJ,message:`${e} is required`,code:Qr.VALIDATION_REQUIRED_FIELD}),email:()=>({validate:dJ,message:"Please provide a valid email address",code:Qr.VALIDATION_INVALID_EMAIL}),length:(e,t,r)=>({validate:n=>hJ(n,e,t),message:`${r} must be between ${e} and ${t} characters`,code:Qr.VALIDATION_INVALID_FORMAT}),uuid:e=>({validate:Q4,message:`${e} must be a valid UUID`,code:Qr.VALIDATION_INVALID_FORMAT})},X4=(e,t)=>{const r=[];for(const n of t)n.validate(e)||r.push(ds(n.code,n.message,"medium"));return{isValid:r.length===0,errors:r}},DP=(e,t)=>{const r=[];for(const[n,s]of Object.entries(t)){const a=e[n],o=X4(a,s);r.push(...o.errors)}return{isValid:r.length===0,errors:r}},mJ=e=>e.trim().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),pJ=e=>{const t=mJ(e).toLowerCase(),r=X4(t,[$i.email()]);return{...r,sanitizedEmail:r.isValid?t:void 0}};class O_{constructor(t){un(this,"_value");this._value=t}static create(t){const r=pJ(t);if(!r.isValid){const n=r.errors[0]||ds(Qr.VALIDATION_INVALID_EMAIL,"Invalid email format","medium");throw new Error(n.message)}return new O_(r.sanitizedEmail)}get value(){return this._value}equals(t){return this._value===t._value}toString(){return this._value}}class A_{constructor(t){un(this,"_value");this._value=t}static create(t){if(!Q4(t)){const r=ds(Qr.VALIDATION_INVALID_FORMAT,"Invalid organization ID format","medium");throw new Error(r.message)}return new A_(t)}get value(){return this._value}equals(t){return this._value===t._value}toString(){return this._value}}class gJ{validateInvitationRequest(t){const r={organizationId:t.organizationId,role:t.role,email:t.email,enhancedRole:t.enhancedRole};return DP(r,{organizationId:[$i.required("Organization ID"),$i.uuid("Organization ID")],role:[$i.required("Role"),$i.length(1,50,"Role")]})}processSupabaseResponse(t,r){var n;if(r){const s=r instanceof Error?r.message:String(r);if(s.includes("NetworkError")||s.includes("Failed to fetch")){const o=ds(Qr.SYSTEM_NETWORK_ERROR,"Network connection failed. Please check your internet connection.","high");return as("Network error in invitation service",{originalError:s}),Tn(o)}if(s.includes("FunctionsError")){const o=typeof t=="object"&&t!==null&&"error"in t?String(t.error):"Service temporarily unavailable. Please try again.",l=ds(Qr.SYSTEM_DATABASE_ERROR,o,"high");return as("Database error in invitation service",{originalError:s}),Tn(l)}const a=mx(r,"Failed to process invitation");return as("Unknown error in invitation process"),Tn(a)}if(!t){const s=ds(Qr.SYSTEM_UNKNOWN_ERROR,"No response received from invitation service","high");return as("No data received from invitation service"),Tn(s)}if(typeof t=="object"&&t!==null&&"success"in t){const s=t;if(s.success===!1){const a=(n=s.message)!=null&&n.includes("already exists")?Qr.BUSINESS_USER_ALREADY_EXISTS:Qr.BUSINESS_ORGANIZATION_NOT_FOUND,o=ds(a,s.message||"Invitation failed","medium");return as("Business logic error in invitation",{response:s}),Tn(o)}return hx(s)}return hx({success:!0,message:"Invitation processed successfully",type:"invitation_sent"})}async inviteUser(t){ar.info("UserInvitationService: Processing invitation request",{email:t.email,organizationId:t.organizationId,role:t.role});const r=this.validateInvitationRequest(t);if(!r.isValid){const n=r.errors[0];return as("Validation failed for invitation request",{...t}),Tn(n)}try{const n={email:t.email,organizationId:t.organizationId,role:t.role,enhancedRole:t.enhancedRole||t.role},{data:s,error:a}=await J.functions.invoke("enhanced-invite-user",{body:n});return ar.debug("UserInvitationService: Received response from edge function",{hasData:!!s,hasError:!!a}),this.processSupabaseResponse(s,a)}catch(n){const s=mx(n,"Failed to send invitation. Please try again.");return as("Exception in invitation service",{...t}),Tn(s)}}async cancelInvitation(t){ar.info("UserInvitationService: Cancelling invitation",{invitationId:t.invitationId});const r={invitationId:t.invitationId},n=DP(r,{invitationId:[$i.required("Invitation ID"),$i.uuid("Invitation ID")]});if(!n.isValid){const s=n.errors[0];return as("Validation failed for cancel invitation",{...t}),Tn(s)}try{const{error:s}=await J.from("user_invitations").update({status:"cancelled"}).eq("id",t.invitationId);if(s){const a=ds(Qr.SYSTEM_DATABASE_ERROR,"Failed to cancel invitation","medium",{supabaseError:s});return as("Database error cancelling invitation",{...t}),Tn(a)}return ar.info("UserInvitationService: Invitation cancelled successfully",{invitationId:t.invitationId}),hx(void 0)}catch(s){const a=mx(s,"Failed to cancel invitation");return as("Exception cancelling invitation",{...t}),Tn(a)}}async resendInvitation(t){ar.info("UserInvitationService: Resending invitation",{invitationId:t.invitationId});const r=ds(Qr.SYSTEM_UNKNOWN_ERROR,"Resend invitation feature not yet implemented","low");return Tn(r)}}class vJ{constructor(t=new gJ){this.invitationService=t}async inviteUser(t){ar.info("UserInvitationApplicationService: Processing invitation request",{email:t.email,organizationId:t.organizationId,role:t.role});try{const r=O_.create(t.email),n=A_.create(t.organizationId),s={email:r.value,organizationId:n.value,role:t.role,enhancedRole:t.enhancedRole},a=await this.invitationService.inviteUser(s);return ar.info("UserInvitationApplicationService: Invitation processed successfully",{success:a.success}),a}catch(r){throw ar.error("UserInvitationApplicationService: Invitation failed",{error:r instanceof Error?r.message:String(r),request:t}),r}}async cancelInvitation(t){return ar.info("UserInvitationApplicationService: Cancelling invitation",{invitationId:t}),this.invitationService.cancelInvitation({invitationId:t})}async resendInvitation(t){return ar.info("UserInvitationApplicationService: Resending invitation",{invitationId:t}),this.invitationService.resendInvitation({invitationId:t})}}const yJ=new vJ,xJ=()=>{const e=_r();return yt({mutationFn:async t=>{var r;ar.info("useEnhancedInviteUser: Starting invitation process",{email:t.email,organizationId:t.organizationId,role:t.role,enhancedRole:t.enhancedRole});try{const n=await yJ.inviteUser(t);if(!n.success){const s=n;throw new Error(((r=s.error)==null?void 0:r.message)||"Invitation failed")}return n.data}catch(n){ar.error("useEnhancedInviteUser: Invitation failed",{error:n instanceof Error?n.message:String(n),params:t});const s=n instanceof Error?n.message:"Failed to invite user. Please try again.";throw new Error(s)}},onSuccess:t=>{[{queryKey:["organization-members"]},{queryKey:["organization-invitations"]}].forEach(({queryKey:s})=>{e.invalidateQueries({queryKey:s})});const n=t.type==="direct_add"?"User added to organization successfully!":"Invitation sent successfully! The user will receive an email with instructions to join.";vr.success(n),ar.info("useEnhancedInviteUser: Invitation completed successfully",{type:t.type,message:t.message})},onError:t=>{ar.error("useEnhancedInviteUser: Invitation mutation failed",{error:t.message}),vr.error(t.message||"Failed to invite user")}})},LP={email:"",role:"member"},bJ=({organizationId:e,trigger:t})=>{const[r,n]=y.useState(!1),[s,a]=y.useState(LP),[o,l]=y.useState(""),{userRole:c}=K4(e),u=xJ(),d=()=>{a(LP),l("")},f=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.trim()),h=v=>{v.preventDefault(),l("");const b=s.email.trim();if(!b){l("Email address is required");return}if(!f(b)){l("Please enter a valid email address");return}console.log("Submitting invitation:",{email:b,organizationId:e,role:s.role}),u.mutate({email:b,organizationId:e,role:s.role,enhancedRole:s.role},{onSuccess:()=>{d(),n(!1)},onError:x=>{console.error("Invitation failed:",x),l(x.message||"Failed to send invitation")}})},m=(v,b)=>{a(x=>({...x,[v]:b})),o&&l("")},g=s.email.trim().length>0&&f(s.email.trim()),p=i.jsxs(re,{children:[i.jsx(kj,{className:"w-4 h-4 mr-2"}),"Invite User"]});return i.jsxs(Kc,{open:r,onOpenChange:v=>{n(v),v||d()},children:[i.jsx(RI,{asChild:!0,children:t||p}),i.jsxs(Mo,{className:"sm:max-w-md",children:[i.jsx(Gc,{children:i.jsx(Yc,{children:"Invite User to Organization"})}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o&&i.jsxs(nr,{variant:"destructive",children:[i.jsx(Oo,{className:"h-4 w-4"}),i.jsx(sr,{children:o})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{htmlFor:"email",children:"Email Address"}),i.jsx(he,{id:"email",type:"email",placeholder:"user@example.com",value:s.email,onChange:v=>m("email",v.target.value),required:!0,className:o&&o.includes("email")?"border-red-500":""}),i.jsx("p",{className:"text-sm text-gray-500",children:"The user will receive an email invitation to join your organization and set up their account."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{htmlFor:"role",children:"Role"}),i.jsx(x_,{currentUserRole:c||"member",selectedRole:s.role,onRoleChange:v=>m("role",v)})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(re,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:u.isPending,children:"Cancel"}),i.jsx(re,{type:"submit",disabled:u.isPending||!g,children:u.isPending?"Sending Invitation...":"Send Invitation"})]})]})]})]})},wJ=({expiresAt:e})=>{const t=nI(e);return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:t?"text-red-600":"",children:pp(e)}),t&&i.jsxs(ve,{variant:"destructive",className:"flex items-center gap-1",children:[i.jsx(xs,{className:"w-3 h-3"}),"Expiring Soon"]})]})},jJ=({invitation:e,onCancel:t})=>i.jsxs(Zf,{children:[i.jsx(eh,{asChild:!0,children:i.jsx(re,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:i.jsx(Jg,{className:"h-4 w-4"})})}),i.jsxs(Xc,{children:[i.jsxs(Jc,{children:[i.jsx(eu,{children:"Cancel Invitation"}),i.jsxs(tu,{children:["Are you sure you want to cancel the invitation for ",e.email,"? They will no longer be able to join using this invitation."]})]}),i.jsxs(Zc,{children:[i.jsx(nu,{children:"Keep Invitation"}),i.jsx(ru,{onClick:()=>t(e.id),className:"bg-red-600 hover:bg-red-700",children:"Cancel Invitation"})]})]})]}),_J=({invitations:e,loading:t,onCancelInvitation:r})=>t?i.jsx(q,{children:i.jsx(W,{className:"p-6",children:i.jsx("div",{className:"text-center",children:"Loading invitations..."})})}):e.length===0?i.jsx(q,{children:i.jsx(W,{className:"p-6",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(sp,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{children:"No pending invitations"}),i.jsx("p",{className:"text-sm",children:"All invitations have been processed"})]})})}):i.jsx(q,{children:i.jsx(W,{className:"p-0",children:i.jsxs(ci,{children:[i.jsx(ui,{children:i.jsxs(Ft,{children:[i.jsx(Se,{children:"Email"}),i.jsx(Se,{children:"Role"}),i.jsx(Se,{children:"Invited"}),i.jsx(Se,{children:"Expires"}),i.jsx(Se,{children:"Invited By"}),i.jsx(Se,{className:"w-[100px]",children:"Actions"})]})}),i.jsx(di,{children:e.map(n=>{var a;const s=n.enhanced_role||n.role;return i.jsxs(Ft,{children:[i.jsx(we,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sp,{className:"h-4 w-4 text-gray-500"}),i.jsx("span",{className:"font-medium",children:n.email})]})}),i.jsx(we,{children:i.jsx(hv,{role:s})}),i.jsx(we,{children:pp(n.created_at)}),i.jsx(we,{children:i.jsx(wJ,{expiresAt:n.expires_at})}),i.jsx(we,{children:((a=n.invited_by)==null?void 0:a.email)||"-"}),i.jsx(we,{children:i.jsx(jJ,{invitation:n,onCancel:r})})]},n.id)})})]})})});function SJ(e,t=[]){let r=[];function n(a,o){const l=y.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,v=y.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,NJ(s,...t)]}function NJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var T_="Progress",R_=100,[kJ,j2e]=SJ(T_),[PJ,EJ]=kJ(T_),J4=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=CJ,...o}=e;(s||s===0)&&!FP(s)&&console.error(OJ(`${s}`,"Progress"));const l=FP(s)?s:R_;n!==null&&!zP(n,l)&&console.error(AJ(`${n}`,"Progress"));const c=zP(n,l)?n:null,u=wp(c)?a(c,l):void 0;return i.jsx(PJ,{scope:r,value:c,max:l,children:i.jsx(fe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":wp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":t5(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});J4.displayName=T_;var Z4="ProgressIndicator",e5=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=EJ(Z4,r);return i.jsx(fe.div,{"data-state":t5(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});e5.displayName=Z4;function CJ(e,t){return`${Math.round(e/t*100)}%`}function t5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function wp(e){return typeof e=="number"}function FP(e){return wp(e)&&!isNaN(e)&&e>0}function zP(e,t){return wp(e)&&!isNaN(e)&&e<=t&&e>=0}function OJ(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${R_}\`.`}function AJ(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${R_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var r5=J4,TJ=e5;const _n=y.forwardRef(({className:e,value:t,...r},n)=>i.jsx(r5,{ref:n,className:K("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(TJ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));_n.displayName=r5.displayName;class RJ{constructor(){un(this,"metrics",[]);un(this,"components",[])}recordMetric(t){this.metrics.push(t)}addComponentMetric(t){this.components.push(t)}getPerformanceSummary(){const t={};return this.metrics.forEach(r=>{t[r.name]=(t[r.name]||0)+r.value}),{summary:t,totalMetrics:this.metrics.length,components:[...this.components]}}generateReport(){const t={averages:{},totals:{},counts:{},percentiles:{}};this.metrics.forEach(s=>{t.totals[s.name]=(t.totals[s.name]||0)+s.value,t.counts[s.name]=(t.counts[s.name]||0)+1}),Object.keys(t.totals).forEach(s=>{const a=t.totals[s],o=t.counts[s];t.averages[s]=o>0?a/o:0});const r=this.generateAlerts(t),n=this.generateRecommendations(r);return{timestamp:Date.now(),summary:t,components:[...this.components],alerts:r,recommendations:n}}generateAlerts(t){const r=[],n=this.components.filter(a=>a.renderTime>16);n.length>0&&r.push({severity:"medium",message:`${n.length} components are rendering slowly`,metric:"component-render-time",value:n.length,threshold:1});const s=t.totals["long-task"]||0;return s>50&&r.push({severity:"high",message:"Detected blocking long tasks that may cause UI freezing",metric:"long-task",value:s,threshold:50}),r}generateRecommendations(t){const r=[];return t.some(n=>n.metric==="component-render-time")&&r.push("Consider using React.memo, useMemo, or useCallback for expensive computations"),t.some(n=>n.metric==="long-task")&&r.push("Consider breaking down long-running operations using time slicing or web workers"),r}clearMetrics(){this.metrics=[],this.components=[]}}const Au=new RJ,Ui=class Ui{constructor(){un(this,"thresholds",{longTask:50,renderTime:16,totalLoad:3e3,firstPaint:1e3,memoryUsage:50*1024*1024})}static getInstance(){return Ui.instance||(Ui.instance=new Ui),Ui.instance}generateReport(t,r,n){const s=this.generateAlerts(t,r,n),a=this.generateRecommendations(s,r),o={timestamp:Date.now(),summary:t,components:r,alerts:s,recommendations:a},l=s.filter(c=>c.severity==="critical");return l.length>0&&ar.error("Critical performance issues detected",{alertCount:l.length,alerts:l}),o}generateAlerts(t,r,n){const s=[],a=t.totals["long-task"]||0;a>this.thresholds.longTask&&s.push({severity:"high",message:"Detected blocking long tasks that may cause UI freezing",metric:"long-task",value:a,threshold:this.thresholds.longTask});const o=r.filter(u=>u.renderTime>this.thresholds.renderTime);o.length>0&&s.push({severity:"medium",message:`${o.length} components are rendering slowly`,metric:"component-render-time",value:o.length,threshold:1});const l=t.averages["total-load"]||0;l>this.thresholds.totalLoad&&s.push({severity:"high",message:"Page load time exceeds recommended threshold",metric:"total-load",value:l,threshold:this.thresholds.totalLoad});const c=t.averages["first-paint"]||0;return c>this.thresholds.firstPaint&&s.push({severity:"medium",message:"First paint time is slower than optimal",metric:"first-paint",value:c,threshold:this.thresholds.firstPaint}),s}generateRecommendations(t,r){const n=[];t.some(a=>a.metric==="long-task")&&n.push("Consider breaking down long-running operations using time slicing or web workers");const s=r.filter(a=>a.renderTime>this.thresholds.renderTime);return s.length>0&&(n.push(`Optimize slow components: ${s.map(a=>a.componentName).join(", ")}`),n.push("Consider using React.memo, useMemo, or useCallback for expensive computations")),t.some(a=>a.metric==="total-load")&&(n.push("Optimize bundle size with code splitting and lazy loading"),n.push("Consider implementing resource preloading for critical assets")),t.some(a=>a.metric==="first-paint")&&(n.push("Minimize critical rendering path by inlining critical CSS"),n.push("Optimize images and use next-gen formats (WebP, AVIF)")),n}exportReport(t){return JSON.stringify(t,null,2)}calculateScore(t){let r=100;return t.alerts.forEach(n=>{switch(n.severity){case"critical":r-=25;break;case"high":r-=15;break;case"medium":r-=10;break;case"low":r-=5;break}}),Math.max(0,r)}};un(Ui,"instance");let Ib=Ui;const BP=Ib.getInstance(),Yh=(e,t)=>`${e.toFixed(1)}ms`,Tu={FIRST_PAINT:1e3,TOTAL_LOAD:3e3,LONG_TASK:50,RENDER_TIME:16,MEMORY_LIMIT:50*1024*1024},MJ=()=>jt({queryKey:["invitation-performance-stats"],queryFn:async()=>{try{return{cacheSize:Math.floor(Math.random()*100),cacheHitRate:Math.random()*100,totalInvitations:Math.floor(Math.random()*1e3),lastUpdated:Date.now()}}catch(e){throw ar.error("Failed to fetch invitation performance stats",{error:e}),e}},refetchInterval:3e4}),$J=()=>{var h;const[e,t]=y.useState(Au.getPerformanceSummary()),[r,n]=y.useState(null),[s,a]=y.useState(!1),{data:o,refetch:l}=MJ();y.useEffect(()=>{const m=setInterval(()=>{t(Au.getPerformanceSummary())},2e3);return()=>clearInterval(m)},[]);const c=async()=>{a(!0);try{const m=Au.generateReport();n(m)}catch(m){console.error("Failed to generate performance report:",m)}finally{a(!1)}},u=()=>{if(!r)return;const m=BP.exportReport(r),g=new Blob([m],{type:"application/json"}),p=URL.createObjectURL(g),v=document.createElement("a");v.href=p,v.download=`performance-report-${new Date().toISOString()}.json`,v.click(),URL.revokeObjectURL(p)},d=(m,g)=>m<g*.5?i.jsx(ve,{className:"bg-green-100 text-green-800",children:"Excellent"}):m<g?i.jsx(ve,{className:"bg-yellow-100 text-yellow-800",children:"Good"}):i.jsx(ve,{className:"bg-red-100 text-red-800",children:"Needs Attention"}),f=r?BP.calculateScore(r):0;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"System Performance Console"}),i.jsx("p",{className:"text-muted-foreground",children:"Comprehensive performance monitoring and optimization tools"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(re,{variant:"outline",size:"sm",onClick:()=>{t(Au.getPerformanceSummary()),l()},children:[i.jsx(V0,{className:"h-4 w-4 mr-2"}),"Refresh"]}),i.jsxs(re,{variant:"outline",size:"sm",onClick:c,disabled:s,children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),s?"Generating...":"Generate Report"]}),r&&i.jsxs(re,{variant:"outline",size:"sm",onClick:u,children:[i.jsx(GU,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),r&&i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center",children:[i.jsx(St,{className:"h-5 w-5 mr-2"}),"Performance Score"]})}),i.jsxs(W,{children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"text-4xl font-bold",children:[f,i.jsx("span",{className:"text-xl text-muted-foreground",children:"/100"})]}),i.jsx(_n,{value:f,className:"flex-1"}),i.jsxs("div",{children:[f>=90&&i.jsx(ve,{className:"bg-green-100 text-green-800",children:"Excellent"}),f>=70&&f<90&&i.jsx(ve,{className:"bg-yellow-100 text-yellow-800",children:"Good"}),f<70&&i.jsx(ve,{className:"bg-red-100 text-red-800",children:"Needs Improvement"})]})]}),r.alerts.length>0&&i.jsx("div",{className:"mt-4 space-y-2",children:r.alerts.slice(0,3).map((m,g)=>i.jsxs(nr,{variant:m.severity==="critical"?"destructive":"default",children:[i.jsx(lr,{className:"h-4 w-4"}),i.jsx(sr,{children:m.message})]},g))})]})]}),i.jsxs(ln,{defaultValue:"overview",className:"space-y-4",children:[i.jsxs(cn,{className:"grid w-full grid-cols-5",children:[i.jsx(Ce,{value:"overview",children:"Overview"}),i.jsx(Ce,{value:"components",children:"Components"}),i.jsx(Ce,{value:"invitations",children:"Invitations"}),i.jsx(Ce,{value:"system",children:"System"}),i.jsx(Ce,{value:"reports",children:"Reports"})]}),i.jsx(ge,{value:"overview",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(q,{children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(te,{className:"text-sm font-medium",children:"First Paint"}),i.jsx(zd,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(W,{children:[i.jsx("div",{className:"text-2xl font-bold",children:Yh(e.summary["first-paint"]||0)}),d(e.summary["first-paint"]||0,Tu.FIRST_PAINT)]})]}),i.jsxs(q,{children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(te,{className:"text-sm font-medium",children:"Total Load Time"}),i.jsx(gr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(W,{children:[i.jsx("div",{className:"text-2xl font-bold",children:Yh(e.summary["total-load"]||0)}),d(e.summary["total-load"]||0,Tu.TOTAL_LOAD)]})]}),i.jsxs(q,{children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(te,{className:"text-sm font-medium",children:"Long Tasks"}),i.jsx(lr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(W,{children:[i.jsx("div",{className:"text-2xl font-bold",children:Yh(e.summary["long-task"]||0)}),d(e.summary["long-task"]||0,Tu.LONG_TASK)]})]}),i.jsxs(q,{children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(te,{className:"text-sm font-medium",children:"Components"}),i.jsx(Ok,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(W,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.components.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracked components"})]})]})]})}),i.jsx(ge,{value:"components",className:"space-y-4",children:i.jsxs(q,{children:[i.jsxs(ee,{children:[i.jsx(te,{children:"Component Performance"}),i.jsx(Yn,{children:"Render times and optimization opportunities for React components"})]}),i.jsx(W,{children:i.jsxs("div",{className:"space-y-4",children:[e.components.map(m=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:m.componentName}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ve,{variant:m.renderTime>Tu.RENDER_TIME?"destructive":"secondary",children:Yh(m.renderTime)}),i.jsxs(ve,{variant:"outline",children:[m.rerenderCount," renders"]})]})]}),i.jsx(_n,{value:Math.min(m.renderTime/32*100,100),className:"h-2"}),m.renderTime>Tu.RENDER_TIME&&i.jsx("p",{className:"text-xs text-orange-600",children:"Consider optimization - render time exceeds 16ms threshold"})]},m.componentName)),e.components.length===0&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Ok,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No component performance data available yet."}),i.jsx("p",{className:"text-sm",children:"Component tracking will appear as the application is used."})]})]})})]})}),i.jsx(ge,{value:"invitations",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(q,{children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(te,{className:"text-sm font-medium",children:"Cache Size"}),i.jsx(HU,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(W,{children:[i.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.cacheSize)||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Cached entries"})]})]}),i.jsxs(q,{children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(te,{className:"text-sm font-medium",children:"Cache Hit Rate"}),i.jsx(St,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(W,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[((h=o==null?void 0:o.cacheHitRate)==null?void 0:h.toFixed(1))||0,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Cache efficiency"})]})]}),i.jsxs(q,{children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(te,{className:"text-sm font-medium",children:"Total Processed"}),i.jsx(gr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(W,{children:[i.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.totalInvitations)||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Invitations processed"})]})]})]})}),i.jsx(ge,{value:"system",className:"space-y-4",children:i.jsxs(q,{children:[i.jsxs(ee,{children:[i.jsxs(te,{className:"flex items-center",children:[i.jsx(Fd,{className:"h-5 w-5 mr-2"}),"System Performance Settings"]}),i.jsx(Yn,{children:"Configure performance monitoring and optimization settings"})]}),i.jsxs(W,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(re,{onClick:()=>Au.clearMetrics(),variant:"outline",children:"Clear Performance Data"}),i.jsx(re,{onClick:()=>{window.gc&&window.gc()},variant:"outline",children:"Force Memory Cleanup"})]}),i.jsxs(nr,{children:[i.jsx(Ck,{className:"h-4 w-4"}),i.jsx(sr,{children:"Performance monitoring is active and collecting data in real-time. Data is automatically cleaned up to prevent memory issues."})]})]})]})}),i.jsx(ge,{value:"reports",className:"space-y-4",children:r?i.jsx("div",{className:"space-y-4",children:i.jsxs(q,{children:[i.jsxs(ee,{children:[i.jsx(te,{children:"Performance Report Summary"}),i.jsxs(Yn,{children:["Generated on ",new Date(r.timestamp).toLocaleString()]})]}),i.jsx(W,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-2",children:["Alerts (",r.alerts.length,")"]}),i.jsx("div",{className:"space-y-1",children:r.alerts.slice(0,5).map((m,g)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ve,{variant:m.severity==="critical"||m.severity==="high"?"destructive":m.severity==="medium"?"secondary":"outline",children:m.severity}),i.jsx("span",{className:"text-sm",children:m.message})]},g))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),i.jsx("ul",{className:"text-sm space-y-1",children:r.recommendations.slice(0,5).map((m,g)=>i.jsxs("li",{className:"flex items-start space-x-2",children:[i.jsx(Ck,{className:"h-3 w-3 mt-0.5 text-green-600"}),i.jsx("span",{children:m})]},g))})]})]})})]})}):i.jsx(q,{children:i.jsxs(W,{className:"text-center py-8",children:[i.jsx(gr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"No performance report generated yet."}),i.jsxs(re,{onClick:c,disabled:s,children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"Generate Performance Report"]})]})})})]})]})},IJ=()=>i.jsx($J,{});class xl{static async getUserRole(t,r){const n=`${t}-${r}`,s=this.roleCache.get(n);if(s&&Date.now()-s.timestamp<this.CACHE_TTL)return s.role;try{const{data:a,error:o}=await J.from("organization_users").select("enhanced_role").eq("user_id",t).eq("organization_id",r).single();if(o||!a)return null;const l=a.enhanced_role;return this.roleCache.set(n,{role:l,timestamp:Date.now()}),l}catch(a){return console.error("Error fetching user role:",a),null}}static async checkPermission(t,r,n){if(t.isAdmin)return{allowed:!0,reason:"System admin access"};let s=t.userRole;if(!s&&(s=await this.getUserRole(t.userId,t.organizationId),!s))return{allowed:!1,reason:"User role not found"};if(!o_(s,r))return{allowed:!1,reason:`Role '${s}' lacks permission '${r}'`,requiredRole:this.getMinimumRoleForPermission(r)};if(r==="manage_users"&&n){const o=await this.getUserRole(n,t.organizationId);if(o&&!i_(s,o))return{allowed:!1,reason:`Cannot manage user with role '${o}'`,requiredRole:o}}return{allowed:!0}}static async requirePermission(t,r,n){const s=await this.checkPermission(t,r,n);if(!s.allowed)throw new DJ(s.reason||"Access denied",s.requiredRole)}static getMinimumRoleForPermission(t){return{view_analytics:"viewer",export_data:"analyst",manage_questions:"analyst",manage_users:"manager",manage_integrations:"admin",manage_organization:"admin",manage_billing:"owner"}[t]||"admin"}static clearCache(t,r){t&&r?this.roleCache.delete(`${t}-${r}`):this.roleCache.clear()}}un(xl,"roleCache",new Map),un(xl,"CACHE_TTL",5*60*1e3);class DJ extends Error{constructor(t,r){super(t),this.requiredRole=r,this.name="RBACError"}}const M_=e=>{const{user:t,isAdmin:r}=ks(),n=y.useMemo(()=>!(t!=null&&t.id)||!e?null:{userId:t.id,organizationId:e,isAdmin:r},[t==null?void 0:t.id,e,r]),{data:s,isLoading:a,error:o}=jt({queryKey:["user-role-rbac",t==null?void 0:t.id,e],queryFn:async()=>{if(!n)return null;try{const f=await xl.getUserRole(n.userId,n.organizationId);return console.log("User role fetched:",f,"for user:",n.userId),f}catch(f){return console.error("Error fetching user role:",f),null}},enabled:!!n,staleTime:5*60*1e3,retry:3}),l=y.useCallback(async(f,h)=>n?xl.checkPermission({...n,userRole:s||void 0},f,h):{allowed:!1,reason:"No valid context"},[n,s]),c=y.useCallback(async(f,h)=>{if(!n)throw new Error("No valid RBAC context");return xl.requirePermission({...n,userRole:s||void 0},f,h)},[n,s]),u=y.useCallback(f=>{if(!n||!s)return console.log("Permission check failed: no context or role",{context:!!n,userRole:s}),!1;if(r)return console.log("Permission granted: system admin"),!0;const h=o_(s,f);return console.log("Permission check:",{permission:f,userRole:s,allowed:h}),h},[n,s,r]),d=y.useCallback(async f=>{if(!n||!s)return!1;if(r)return!0;try{const h=await xl.getUserRole(f,n.organizationId);return h?i_(s,h):!1}catch(h){return console.error("Error checking user management permission:",h),!1}},[n,s,r]);return{userRole:s,isLoading:a,error:o,checkPermission:l,requirePermission:c,hasPermission:u,canManageUser:d,isAdmin:r||!1}},n5=({organizationId:e,organizationName:t})=>{const{membersLoading:r,handleUpdateRole:n,activeMembers:s,pendingInvitations:a,invitationsLoading:o,pendingInvitationsCount:l,handleCancelInvitation:c}=iJ(e),u=aJ(),{hasPermission:d,userRole:f,isLoading:h}=M_(e),m=v=>{if(!d("manage_users")){console.warn("User attempted to remove member without permission");return}u.mutate({userId:v,organizationId:e})},g=(v,b)=>{if(!d("manage_users")){console.warn("User attempted to update role without permission");return}n(v,b)};if(h||r)return i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading user management..."})]})});if(!d("manage_users"))return i.jsxs(nr,{variant:"destructive",children:[i.jsx(lr,{className:"h-4 w-4"}),i.jsx(sr,{children:"You don't have permission to manage users. Contact your organization administrator for access."})]});const p=s.filter(v=>{const b=v.enhanced_role||v.role;return["admin","owner"].includes(b||"")}).length;return console.log("UserManagement rendered with:",{userRole:f,hasManageUsersPermission:d("manage_users"),activeMembersCount:s.length,pendingInvitationsCount:l}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(oJ,{organizationName:t}),i.jsx(bJ,{organizationId:e})]}),i.jsx(lJ,{activeMembersCount:s.length,adminsCount:p,pendingInvitationsCount:l}),i.jsxs(ln,{defaultValue:"members",className:"w-full",children:[i.jsxs(cn,{children:[i.jsxs(Ce,{value:"members",children:["Active Members (",s.length,")"]}),i.jsxs(Ce,{value:"invitations",children:["Pending Invitations (",l,")"]}),i.jsx(Ce,{value:"performance",children:"Performance"})]}),i.jsx(ge,{value:"members",children:i.jsx(tJ,{members:s,loading:r,organizationId:e,onUpdateRole:g,onRemoveMember:m})}),i.jsx(ge,{value:"invitations",children:i.jsx(_J,{invitations:a,loading:o,onCancelInvitation:c})}),i.jsx(ge,{value:"performance",children:i.jsx(IJ,{})})]})]})},LJ=async e=>{try{const{data:t,error:r}=await J.from("organization_assets").select("*").eq("organization_id",e).eq("is_active",!0).order("display_order").order("created_at");return r?(console.error("Error fetching organization assets:",r),[]):t||[]}catch(t){return console.error("Error fetching organization assets:",t),[]}},FJ=async e=>{try{const{data:t,error:r}=await J.from("organization_themes").select("*").eq("organization_id",e).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();return r?(console.error("Error fetching organization theme:",r),null):t}catch(t){return console.error("Error fetching organization theme:",t),null}},zJ=({open:e,onClose:t,organization:r,onSave:n})=>{const[s,a]=y.useState("basic"),[o,l]=y.useState({name:r.name||"",slug:r.slug||"",domain:r.domain||"",logo_url:r.logo_url||"",primary_color:r.primary_color||"#007ACE",secondary_color:r.secondary_color||"#073763",billing_email:r.billing_email||"",max_responses:r.max_responses||100,plan_type:r.plan_type||"starter",trial_ends_at:r.trial_ends_at?r.trial_ends_at.substring(0,16):"",features_config:r.features_config?JSON.stringify(r.features_config,null,2):""}),[c,u]=y.useState(!1),{toast:d}=Zn();function f(m,g){l(p=>({...p,[m]:g}))}async function h(m){m.preventDefault(),u(!0);let g;try{o.features_config.trim()&&(g=JSON.parse(o.features_config))}catch{d({title:"Invalid JSON in Features Config",variant:"destructive"}),u(!1);return}const p={name:o.name,slug:o.slug,domain:o.domain,logo_url:o.logo_url,primary_color:o.primary_color,secondary_color:o.secondary_color,billing_email:o.billing_email,max_responses:Number(o.max_responses),plan_type:o.plan_type,trial_ends_at:o.trial_ends_at?new Date(o.trial_ends_at).toISOString():void 0,features_config:g},v=await rI(r.id,p);u(!1),v?(d({title:"Organization updated!"}),n(v),t()):d({title:"Failed to update organization",variant:"destructive"})}return i.jsx(Kc,{open:e,onOpenChange:m=>!m&&t(),children:i.jsxs(Mo,{className:"max-w-xl",children:[i.jsx(Gc,{children:i.jsx(Yc,{children:"Edit Organization"})}),i.jsxs(ln,{value:s,onValueChange:a,className:"mt-2",children:[i.jsxs(cn,{className:"w-full grid grid-cols-3 mb-4",children:[i.jsx(Ce,{value:"basic",children:"Basic Info"}),i.jsx(Ce,{value:"plan",children:"Plan & Limits"}),i.jsx(Ce,{value:"features",children:"Features"})]}),i.jsxs("form",{onSubmit:h,children:[i.jsxs(ge,{value:"basic",className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(ie,{children:"Name"}),i.jsx(he,{value:o.name,onChange:m=>f("name",m.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(ie,{children:"Slug"}),i.jsx(he,{value:o.slug,onChange:m=>f("slug",m.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(ie,{children:"Domain"}),i.jsx(he,{value:o.domain,onChange:m=>f("domain",m.target.value)})]}),i.jsxs("div",{children:[i.jsx(ie,{children:"Logo URL"}),i.jsx(he,{value:o.logo_url,onChange:m=>f("logo_url",m.target.value)})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{children:[i.jsx(ie,{children:"Primary Color"}),i.jsx(he,{type:"color",value:o.primary_color,onChange:m=>f("primary_color",m.target.value)})]}),i.jsxs("div",{children:[i.jsx(ie,{children:"Secondary Color"}),i.jsx(he,{type:"color",value:o.secondary_color,onChange:m=>f("secondary_color",m.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(ie,{children:"Billing Email"}),i.jsx(he,{value:o.billing_email,onChange:m=>f("billing_email",m.target.value),type:"email"})]})]}),i.jsxs(ge,{value:"plan",className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(ie,{children:"Plan Type"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2",value:o.plan_type,onChange:m=>f("plan_type",m.target.value),children:[i.jsx("option",{value:"starter",children:"Starter"}),i.jsx("option",{value:"pro",children:"Pro"}),i.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),i.jsxs("div",{children:[i.jsx(ie,{children:"Trial Ends At"}),i.jsx(he,{type:"datetime-local",value:o.trial_ends_at,onChange:m=>f("trial_ends_at",m.target.value)})]}),i.jsxs("div",{children:[i.jsx(ie,{children:"Max Responses"}),i.jsx(he,{type:"number",value:o.max_responses,min:1,onChange:m=>f("max_responses",m.target.value)})]})]}),i.jsx(ge,{value:"features",className:"space-y-3",children:i.jsxs("div",{children:[i.jsx(ie,{children:"Features Config Override (JSON)"}),i.jsx("textarea",{className:"w-full font-mono border rounded min-h-[120px] p-2 text-xs",value:o.features_config,onChange:m=>f("features_config",m.target.value),placeholder:'{ "analytics": true, "modules": {"settings": false} }'}),i.jsx("p",{className:"text-xs text-gray-500",children:"Advanced: Override default plan features."})]})}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(re,{type:"button",variant:"outline",onClick:t,disabled:c,children:"Cancel"}),i.jsx(re,{type:"submit",disabled:c,children:c?"Saving...":"Save Changes"})]})]})]})]})})},BJ=({org:e,onToggleActive:t,onUpdatePlan:r})=>{const[n,s]=y.useState(!1),[a,o]=y.useState(!1),[l,c]=y.useState(e);return i.jsxs(i.Fragment,{children:[i.jsx(q,{className:`transition-all ${l.is_active?"border-green-200":"border-red-200 opacity-75"}`,children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold",children:l.name}),i.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold ${l.is_active?"bg-green-100 text-green-800":"bg-gray-200 text-gray-600"}`,children:l.is_active?"Active":"Inactive"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rp,{className:"w-4 h-4"}),i.jsxs("span",{children:["Slug: ",l.slug]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(BR,{className:"w-4 h-4"}),i.jsxs("span",{children:["Created: ",new Date(l.created_at).toLocaleDateString()]})]}),l.domain&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rp,{className:"w-4 h-4"}),i.jsxs("span",{children:["Domain: ",l.domain]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Et,{className:"w-4 h-4"}),i.jsxs("span",{children:["Max Responses: ",l.max_responses||100]})]})]})]})]}),i.jsx("div",{className:"flex flex-col space-y-2",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(re,{variant:l.is_active?"destructive":"default",size:"sm",onClick:()=>t(l.id,l.is_active),children:l.is_active?"Deactivate":"Activate"}),i.jsx(re,{variant:"outline",size:"sm",onClick:()=>o(!0),children:"Edit"}),i.jsxs(Kc,{open:n,onOpenChange:s,children:[i.jsx(RI,{asChild:!0,children:i.jsxs(re,{variant:"outline",size:"sm",children:[i.jsx(kj,{className:"w-4 h-4 mr-1"}),"Users"]})}),i.jsxs(Mo,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Gc,{children:i.jsxs(Yc,{children:["User Management - ",l.name]})}),i.jsx(n5,{organizationId:l.id,organizationName:l.name})]})]})]})})]}),!1]})}),a&&i.jsx(zJ,{open:a,onClose:()=>o(!1),organization:l,onSave:d=>c(d)})]})},UJ=({organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Organizations"}),i.jsx("p",{className:"text-gray-600",children:"Manage all organizations in the system"})]}),i.jsxs(re,{onClick:t,children:[i.jsx(si,{className:"w-4 h-4 mr-2"}),"Add Organization"]})]}),i.jsx(IQ,{organizations:e}),i.jsx("div",{className:"grid gap-4",children:e==null?void 0:e.map(s=>i.jsx(BJ,{org:s,onToggleActive:r,onUpdatePlan:n},s.id))})]}),qJ=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(!1),[s,a]=y.useState(!1),[o,l]=y.useState(!0);y.useEffect(()=>{c()},[]);const c=async()=>{try{console.log("Loading Flask wrapper URL...");const{data:f,error:h}=await J.from("system_settings").select("setting_value").eq("setting_key","flask_sms_wrapper_base_url").single();if(h&&h.code!=="PGRST116"){console.error("Error loading Flask URL:",h),Ae({title:"Error",description:"Failed to load Flask wrapper URL",variant:"destructive"});return}console.log("Flask URL loaded:",f==null?void 0:f.setting_value),t((f==null?void 0:f.setting_value)||"")}catch(f){console.error("Error loading Flask URL:",f)}finally{l(!1)}},u=async()=>{n(!0);try{console.log("Saving Flask wrapper URL:",e);const{error:f}=await J.from("system_settings").upsert({setting_key:"flask_sms_wrapper_base_url",setting_value:e.trim(),description:"Base URL for the Flask SMS wrapper API"},{onConflict:"setting_key"});if(f)throw console.error("Error saving Flask URL:",f),f;console.log("Flask URL saved successfully"),Ae({title:"Success",description:"Flask wrapper URL saved successfully"})}catch(f){console.error("Error saving Flask URL:",f),Ae({title:"Error",description:`Failed to save Flask wrapper URL: ${f.message}`,variant:"destructive"})}finally{n(!1)}},d=async()=>{if(!e.trim()){Ae({title:"Error",description:"Please enter a Flask wrapper URL first",variant:"destructive"});return}a(!0);try{const f=e.trim().replace(/\/$/,"")+"/health";console.log("Testing Flask connection to:",f);const h=await fetch(f,{method:"GET",headers:{"Content-Type":"application/json"}});console.log("Flask test response:",h.status,h.statusText),h.ok?Ae({title:"Success",description:"Flask wrapper API is reachable"}):Ae({title:"Warning",description:`Flask wrapper returned status: ${h.status}`,variant:"destructive"})}catch(f){console.error("Error testing Flask connection:",f),Ae({title:"Error",description:"Failed to connect to Flask wrapper API. Check the URL and try again.",variant:"destructive"})}finally{a(!1)}};return o?i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(Fd,{className:"w-5 h-5"}),"Flask SMS Wrapper Settings"]})}),i.jsx(W,{children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),i.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"})]})})]}):i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(Fd,{className:"w-5 h-5"}),"Flask SMS Wrapper Settings"]})}),i.jsxs(W,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{htmlFor:"flask-url",children:"Flask Wrapper Base URL"}),i.jsx(he,{id:"flask-url",type:"url",placeholder:"http://localhost:5000 or https://your-flask-api.com",value:e,onChange:f=>t(f.target.value)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"The base URL for your Flask SMS wrapper API (without trailing slash)"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(re,{onClick:u,disabled:r,className:"flex-1",children:[i.jsx(Sj,{className:"w-4 h-4 mr-2"}),r?"Saving...":"Save URL"]}),i.jsxs(re,{onClick:d,disabled:s||!e.trim(),variant:"outline",children:[i.jsx(m7,{className:"w-4 h-4 mr-2"}),s?"Testing...":"Test Connection"]})]}),e&&i.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-lg",children:[i.jsx("p",{className:"font-medium",children:"Expected endpoints:"}),i.jsxs("ul",{className:"mt-1 space-y-1",children:[i.jsxs("li",{children:["• POST ",e,"/send-sms - Send SMS messages"]}),i.jsxs("li",{children:["• GET ",e,"/health - Health check (optional)"]})]}),i.jsx("p",{className:"mt-2 font-medium",children:"Required headers:"}),i.jsxs("ul",{className:"mt-1 space-y-1",children:[i.jsx("li",{children:"• Content-Type: application/json"}),i.jsx("li",{children:"• X-Signature: HMAC-SHA256 signature for verification"})]})]})]})]})},WJ=({organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})=>i.jsxs(ln,{defaultValue:"organizations",className:"w-full",children:[i.jsxs(cn,{className:"grid w-full grid-cols-4",children:[i.jsxs(Ce,{value:"organizations",className:"flex items-center gap-2",children:[i.jsx(rp,{className:"w-4 h-4"}),"Organizations"]}),i.jsxs(Ce,{value:"users",className:"flex items-center gap-2",children:[i.jsx(Et,{className:"w-4 h-4"}),"Users"]}),i.jsxs(Ce,{value:"system",className:"flex items-center gap-2",children:[i.jsx(Fd,{className:"w-4 h-4"}),"System Settings"]}),i.jsxs(Ce,{value:"integrations",className:"flex items-center gap-2",children:[i.jsx(qR,{className:"w-4 h-4"}),"API Settings"]})]}),i.jsx(ge,{value:"organizations",className:"mt-6",children:i.jsx(UJ,{organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})}),i.jsx(ge,{value:"users",className:"mt-6",children:i.jsx($Q,{organizations:e})}),i.jsx(ge,{value:"system",className:"mt-6",children:i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"System Settings"}),i.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and integrations."})]})})}),i.jsx(ge,{value:"integrations",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"API Settings"}),i.jsx("p",{className:"text-muted-foreground",children:"Configure external API integrations and wrapper services."})]}),i.jsx(qJ,{})]})})]}),VJ=()=>{const[e,t]=y.useState(!1),r=_r(),{data:n=[],isLoading:s}=jt({queryKey:["organizations"],queryFn:OG}),a=yt({mutationFn:({id:u,updates:d})=>rI(u,d),onSuccess:()=>{r.invalidateQueries({queryKey:["organizations"]}),vr.success("Organization updated successfully")},onError:()=>{vr.error("Failed to update organization")}}),o=yt({mutationFn:u=>TG(u),onSuccess:()=>{r.invalidateQueries({queryKey:["organizations"]}),t(!1),vr.success("Organization created successfully")},onError:()=>{vr.error("Failed to create organization")}}),l=(u,d)=>{a.mutate({id:u,updates:{is_active:!d}})},c=(u,d)=>{a.mutate({id:u,updates:{plan_type:d}})};return s?i.jsx("div",{className:"p-8",children:"Loading admin dashboard..."}):i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Admin Dashboard"}),i.jsx("p",{className:"text-gray-600",children:"Manage organizations, view statistics, and configure system settings"})]}),i.jsx(WJ,{organizations:n,onCreateClick:()=>t(!0),onToggleActive:l,onUpdatePlan:c}),e&&i.jsx(RG,{onClose:()=>t(!1),onSubmit:u=>o.mutate(u)})]})})},HJ=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(!1),[s,a]=y.useState(""),[o,l]=y.useState(!1),c=Ns(),{toast:u}=Zn(),{user:d,refreshUserRoles:f}=ks();return y.useEffect(()=>{(async()=>{if(!d){a("You must be logged in to create an organization");return}n(!0),a("");try{console.log("Creating organization for user:",d.email);const m=d.email?`${d.email.split("@")[0][0].toUpperCase()}${d.email.split("@")[0].slice(1)}'s Organization`:"My Organization";t(m);let g=m.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim().substring(0,50),p=g,v=1,{data:b}=await J.from("organizations").select("slug").eq("slug",p).single();for(;b;)if(p=`${g}-${v}`,{data:b}=await J.from("organizations").select("slug").eq("slug",p).single(),v++,v>100)throw new Error("Unable to generate unique slug");console.log("Creating organization with slug:",p);const{data:x,error:w}=await J.from("organizations").insert({name:m,slug:p,created_by_user_id:d.id,is_active:!0,billing_email:d.email,plan_type:"starter"}).select().single();if(w)throw w;console.log("Organization created:",x.id);const{error:j}=await J.from("organization_users").insert({user_id:d.id,organization_id:x.id,email:d.email,role:"admin",status:"active",accepted_at:new Date().toISOString()});if(j)throw j;console.log("User added to organization as admin"),l(!0),u({title:"Organization Created!",description:`Welcome to ${m}. Redirecting to your dashboard...`}),await f(),setTimeout(()=>{console.log("Redirecting to organization dashboard:",p),c(`/admin/${p}`)},2e3)}catch(m){console.error("Error creating organization:",m),a(m.message||"Failed to create organization")}finally{n(!1)}})()},[d]),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs(q,{className:"shadow-lg",children:[i.jsxs(ee,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center text-blue-600 mb-4",children:i.jsx(gr,{className:"h-8 w-8"})}),i.jsx(te,{className:"text-2xl font-bold",children:o?"You're all set!":"Creating Your Organization"}),i.jsx("p",{className:"text-gray-600",children:o?"Welcome to your dashboard.":"Please wait while we set up your organization..."})]}),i.jsxs(W,{children:[s&&i.jsx(nr,{children:i.jsx(sr,{children:s})}),!o&&i.jsx("div",{className:"flex justify-center mt-6",children:i.jsx(re,{variant:"ghost",disabled:!0,className:"pointer-events-none select-none",children:r?"Creating organization...":"Preparing..."})})]})]})})})},$_=()=>{Ns();const[e,t]=y.useState(!0),[r,n]=y.useState(0),s=()=>{typeof window<"u"&&(window.scrollY>r&&window.scrollY>100?t(!1):t(!0),n(window.scrollY))};return y.useEffect(()=>{if(typeof window<"u")return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[r]),i.jsx("header",{className:`fixed top-0 w-full bg-transparent backdrop-blur-lg border-b border-warm-gray-100/20 dark:border-dark-warm-200/20 z-50 transition-transform duration-300 ${e?"translate-y-0":"-translate-y-full"}`,children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"flex justify-between items-center py-4",children:i.jsxs(ac,{to:"/",className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(gr,{className:"w-8 h-8 text-sunset-500","aria-label":"Pulsify pulse icon"}),i.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-sunset-500 rounded-full opacity-20 animate-ping"})]}),i.jsx("span",{className:"text-2xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:"Pulsify"})]})})})})},cc=({variant:e="light"})=>{const t=e==="dark";return i.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:`absolute -top-40 -right-40 w-96 h-96 ${t?"bg-gradient-to-br from-sunset-500/20 via-coral-500/15 to-golden-400/10":"bg-gradient-to-br from-sunset-200/40 via-coral-200/30 to-golden-200/20"} rounded-full blur-3xl animate-blob`,style:{borderRadius:"60% 40% 30% 70% / 60% 30% 70% 40%",animationDelay:"0s"}}),i.jsx("div",{className:`absolute top-1/3 -left-32 w-80 h-80 ${t?"bg-gradient-to-tr from-golden-400/15 via-sunset-500/20 to-coral-500/10":"bg-gradient-to-tr from-golden-300/30 via-sunset-300/40 to-coral-300/20"} rounded-full blur-2xl animate-flow`,style:{borderRadius:"30% 60% 70% 40% / 50% 60% 30% 60%",animationDelay:"2s"}}),i.jsx("div",{className:`absolute bottom-20 right-1/4 w-64 h-64 ${t?"bg-gradient-to-bl from-coral-500/20 via-golden-400/15 to-sunset-500/10":"bg-gradient-to-bl from-coral-200/35 via-golden-200/25 to-sunset-200/15"} rounded-full blur-2xl animate-float`,style:{borderRadius:"70% 30% 60% 40% / 40% 50% 60% 50%",animationDelay:"4s"}}),i.jsx("div",{className:`absolute top-1/2 left-1/3 w-32 h-32 ${t?"bg-gradient-to-r from-sunset-400/25 to-golden-400/20":"bg-gradient-to-r from-sunset-200/50 to-golden-200/40"} rounded-full blur-xl animate-morph`,style:{animationDelay:"1s"}}),i.jsx("div",{className:`absolute bottom-1/3 left-2/3 w-24 h-24 ${t?"bg-gradient-to-l from-coral-400/20 to-sunset-400/15":"bg-gradient-to-l from-coral-200/45 to-sunset-200/35"} rounded-full blur-lg animate-fluid-move`,style:{animationDelay:"3s"}}),i.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-br from-transparent via-dark-warm-50/10 to-dark-warm-100/20":"bg-gradient-to-br from-transparent via-white/10 to-warm-gray-50/20"}`})]})},KJ=()=>{const e=[{icon:i.jsx(St,{className:"w-4 h-4"}),value:"94%",label:"Satisfaction Rate",position:"top-20 right-20",delay:"0s"},{icon:i.jsx(Et,{className:"w-4 h-4"}),value:"2,000+",label:"Happy Customers",position:"top-1/3 left-16",delay:"1s"},{icon:i.jsx(HR,{className:"w-4 h-4"}),value:"15M+",label:"Feedback Collected",position:"bottom-1/3 right-16",delay:"2s"},{icon:i.jsx(or,{className:"w-4 h-4"}),value:"40%",label:"Growth Increase",position:"bottom-32 left-1/4",delay:"3s"}];return i.jsx("div",{className:"absolute inset-0 pointer-events-none hidden lg:block",children:e.map((t,r)=>i.jsx("div",{className:`absolute ${t.position} bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm border border-warm-gray-200/50 dark:border-dark-warm-300/50 rounded-2xl p-4 shadow-lg shadow-warm-gray-900/5 dark:shadow-dark-warm-50/20 animate-float`,style:{animationDelay:t.delay},children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-lg text-white",children:t.icon}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:t.value}),i.jsx("div",{className:"text-xs text-warm-gray-600 dark:text-dark-warm-600",children:t.label})]})]})},r))})},GJ=()=>{const e=Ns();return i.jsxs("section",{className:"relative min-h-screen bg-white dark:bg-dark-warm-50 overflow-hidden flex flex-col",children:[i.jsx(cc,{}),i.jsx(cc,{variant:"dark"}),i.jsx(KJ,{}),i.jsx("div",{className:"relative w-full flex-grow flex items-center max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 sm:pt-32",children:i.jsxs("div",{className:"text-center space-y-12 animate-fade-in w-full",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600",children:[i.jsxs("div",{className:"flex -space-x-1",children:[i.jsx("div",{className:"w-6 h-6 bg-sunset-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle"}),i.jsx("div",{className:"w-6 h-6 bg-golden-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"w-6 h-6 bg-coral-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle",style:{animationDelay:"1s"}})]}),i.jsx("span",{className:"text-sm font-medium",children:"Trusted by 2,000+ businesses worldwide"})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(gr,{className:"w-12 h-12 text-sunset-500 animate-pulse-gentle"}),i.jsx("div",{className:"absolute inset-0 w-12 h-12 bg-sunset-500 rounded-full opacity-20 animate-ping"})]}),i.jsx("h1",{className:"text-6xl lg:text-8xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 tracking-tight",children:"Pulsify"})]}),i.jsx("div",{className:"relative",children:i.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-bold text-warm-gray-800 dark:text-dark-warm-800 leading-tight max-w-5xl mx-auto",children:["Turn feedback into"," ",i.jsxs("span",{className:"relative",children:[i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"revenue"}),i.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full animate-scale-in"})]}),".",i.jsx("span",{className:"block text-2xl lg:text-4xl mt-4 font-medium text-warm-gray-600 dark:text-dark-warm-600",children:"Get insights 10x faster. Reduce churn by 30%."})]})})]}),i.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed max-w-4xl mx-auto font-medium",children:"Our AI-powered platform unifies and analyzes customer feedback, delivering actionable insights to help you build better products and prevent customer churn."}),i.jsx("div",{className:"flex justify-center pt-8",children:i.jsx(re,{onClick:()=>e("/auth"),className:"bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white font-semibold shadow-lg shadow-sunset-500/25 px-10 py-4 rounded-full text-xl h-auto transition-all duration-300 hover:scale-105",children:i.jsxs("span",{className:"flex items-center justify-center space-x-3",children:[i.jsx("span",{children:"Start Free Trial"}),i.jsx(bj,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})})})]})}),i.jsx("div",{className:"relative w-full flex justify-center pb-8 px-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-8 text-sm text-warm-gray-500 dark:text-dark-warm-500",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"font-medium",children:"No credit card required"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),i.jsx("span",{className:"font-medium",children:"14-day free trial"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",style:{animationDelay:"1s"}}),i.jsx("span",{className:"font-medium",children:"Setup in under 5 minutes"})]})]})})]})},YJ=()=>{const e=[{icon:i.jsx(rp,{className:"h-6 w-6"}),title:"Small Businesses",description:"Restaurant owners, retail stores, and service providers looking to understand customer satisfaction"},{icon:i.jsx(Et,{className:"h-6 w-6"}),title:"Growing Companies",description:"Mid-size businesses scaling operations and needing structured feedback management"},{icon:i.jsx(St,{className:"h-6 w-6"}),title:"Enterprise Teams",description:"Large organizations requiring advanced analytics and team collaboration features"}],t=[{step:"01",title:"Collect",description:"Deploy feedback forms across touchpoints or send SMS surveys to gather customer insights",icon:i.jsx(Bt,{className:"h-8 w-8"})},{step:"02",title:"Analyze",description:"AI automatically categorizes and analyzes sentiment in real-time with machine learning",icon:i.jsx(or,{className:"h-8 w-8"})},{step:"03",title:"Act",description:"Get actionable insights and track improvements with intelligent recommendations",icon:i.jsx(ea,{className:"h-8 w-8"})}];return i.jsxs("section",{className:"relative py-24 bg-warm-gray-50 dark:bg-dark-warm-50 overflow-hidden",children:[i.jsx(cc,{}),i.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-20",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[i.jsx(Et,{className:"w-5 h-5 text-sunset-500"}),i.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Who It's For"})]}),i.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Built for"," ",i.jsxs("span",{className:"relative",children:[i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"every business"}),i.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})]}),i.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-3xl mx-auto leading-relaxed font-medium mb-12",children:"Whether you're starting out or scaling up, Pulsify helps you understand and improve customer satisfaction"}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((r,n)=>i.jsxs("div",{className:"group relative bg-white/95 dark:bg-dark-warm-100/95 rounded-2xl p-8 border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sunset-500/5 via-coral-500/5 to-golden-400/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-xl flex items-center justify-center text-white mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:r.icon}),i.jsx("h3",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-3",children:r.title}),i.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed text-sm",children:r.description})]})]},n))})]}),i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[i.jsx("div",{className:"w-2 h-2 bg-sunset-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"How It Works"}),i.jsx("div",{className:"w-2 h-2 bg-coral-500 rounded-full animate-pulse",style:{animationDelay:"1s"}})]}),i.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Simple."," ",i.jsx("span",{className:"relative",children:i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"Powerful."})})," ","Effective."]}),i.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-3xl mx-auto leading-relaxed font-medium",children:"Three simple steps to transform feedback into growth"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-12",children:t.map((r,n)=>i.jsxs("div",{className:"text-center group relative",children:[n<2&&i.jsx("div",{className:"hidden md:block absolute top-16 left-3/4 w-1/2 h-0.5 bg-gradient-to-r from-sunset-300 to-coral-300 dark:from-sunset-600 dark:to-coral-600 opacity-30"}),i.jsxs("div",{className:"relative mb-8 group-hover:scale-110 transition-transform duration-300",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-400 rounded-2xl flex items-center justify-center text-white mx-auto shadow-xl group-hover:shadow-2xl transition-shadow duration-300",children:r.icon}),i.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-400 rounded-2xl mx-auto opacity-20 animate-pulse"})]}),i.jsx("div",{className:"absolute -top-3 -right-3 w-12 h-12 bg-white dark:bg-dark-warm-100 rounded-full border-4 border-sunset-500 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:i.jsx("span",{className:"text-lg font-space font-black text-sunset-600",children:r.step})})]}),i.jsx("h3",{className:"text-xl lg:text-2xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-4",children:r.title}),i.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium",children:r.description})]},n))})]})]})},QJ=()=>i.jsxs("section",{className:"relative py-24 bg-white dark:bg-background overflow-hidden",children:[i.jsx(cc,{variant:"dark"}),i.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"grid lg:grid-cols-12 gap-16 items-center",children:[i.jsxs("div",{className:"lg:col-span-5 text-center lg:text-left",children:[i.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[i.jsx(or,{className:"w-5 h-5 text-sunset-500"}),i.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Platform Overview"})]}),i.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Your"," ",i.jsxs("span",{className:"relative",children:[i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"complete"}),i.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})," ","customer feedback platform"]}),i.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium mb-8",children:"Pulsify is an AI-powered feedback management system that helps businesses collect, analyze, and act on customer insights to drive growth and improve satisfaction"}),i.jsx("div",{className:"space-y-4",children:["Real-time sentiment analysis","Multi-channel feedback collection","Automated insights & recommendations"].map((e,t)=>i.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-3",children:[i.jsx("div",{className:"w-2 h-2 bg-sunset-500 rounded-full"}),i.jsx("span",{className:"text-warm-gray-700 dark:text-dark-warm-700 font-medium",children:e})]},t))})]}),i.jsx("div",{className:"lg:col-span-7",children:i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"bg-white/95 dark:bg-dark-warm-100/95 rounded-3xl shadow-xl border border-warm-gray-200 dark:border-dark-warm-200 p-8 transition-all duration-500 hover:shadow-2xl hover:-translate-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:"Analytics Dashboard"}),i.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 mt-1",children:"Real-time insights"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),i.jsx("div",{className:"w-3 h-3 bg-sunset-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"w-3 h-3 bg-coral-500 rounded-full animate-pulse",style:{animationDelay:"1s"}})]})]}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{icon:i.jsx(Et,{className:"w-5 h-5"}),value:"2.8k+",label:"Responses",color:"from-sunset-500 to-coral-500"},{icon:i.jsx(HR,{className:"w-5 h-5"}),value:"94%",label:"Satisfaction",color:"from-coral-500 to-golden-400"},{icon:i.jsx(St,{className:"w-5 h-5"}),value:"+23%",label:"Growth",color:"from-golden-400 to-sunset-500"},{icon:i.jsx(or,{className:"w-5 h-5"}),value:"4.8",label:"Avg Rating",color:"from-sunset-500 to-coral-500"}].map((e,t)=>i.jsxs("div",{className:"bg-white/90 dark:bg-dark-warm-200/90 rounded-xl p-4 border border-warm-gray-200/50 dark:border-dark-warm-300/50 hover:-translate-y-1 transition-transform duration-300",children:[i.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${e.color} rounded-lg flex items-center justify-center text-white mb-2`,children:e.icon}),i.jsx("div",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:e.value}),i.jsx("div",{className:"text-xs text-warm-gray-600 dark:text-dark-warm-600",children:e.label})]},t))}),i.jsx("div",{className:"bg-warm-gray-50 dark:bg-dark-warm-200 rounded-xl p-6 min-h-32 flex items-center justify-center border border-warm-gray-200 dark:border-dark-warm-300",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-xl flex items-center justify-center text-white mx-auto mb-3",children:i.jsx(or,{className:"w-6 h-6"})}),i.jsx("p",{className:"text-lg font-space font-bold text-warm-gray-700 dark:text-dark-warm-700",children:"Interactive Analytics"})]})})]}),i.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 bg-gradient-to-br from-sunset-400 to-coral-400 rounded-xl opacity-20 animate-float"}),i.jsx("div",{className:"absolute -bottom-4 -right-4 w-16 h-16 bg-gradient-to-br from-golden-400 to-sunset-400 rounded-2xl opacity-20 animate-float",style:{animationDelay:"2s"}})]})})]})})]}),XJ=()=>{const e=[{problem:"Lost customers due to poor experiences",solution:"Get real-time alerts when issues arise",icon:i.jsx(Et,{className:"h-6 w-6"}),gradient:"from-sunset-500 to-coral-500"},{problem:"Making decisions without customer insights",solution:"AI-powered analytics reveal hidden patterns",icon:i.jsx(or,{className:"h-6 w-6"}),gradient:"from-coral-500 to-golden-400"},{problem:"Scattered feedback across multiple channels",solution:"Unified platform for all customer touchpoints",icon:i.jsx(Bt,{className:"h-6 w-6"}),gradient:"from-golden-400 to-sunset-500"}],t=[{icon:i.jsx(Bt,{className:"h-6 w-6"}),title:"Multi-Channel Collection",description:"Forms, SMS, QR codes - collect feedback everywhere customers are",gradient:"from-sunset-500 to-coral-500",benefits:["Email & SMS surveys","Web forms & QR codes","Social media integration"]},{icon:i.jsx(or,{className:"h-6 w-6"}),title:"AI-Powered Analysis",description:"Automatic sentiment analysis and categorization for instant insights",gradient:"from-coral-500 to-golden-400",benefits:["Real-time sentiment analysis","Automated categorization","Trend identification"]},{icon:i.jsx(zd,{className:"h-6 w-6"}),title:"Real-Time Alerts",description:"Get notified immediately when feedback requires urgent attention",gradient:"from-golden-400 to-sunset-500",benefits:["Instant notifications","Priority flagging","Custom alert rules"]},{icon:i.jsx(Ao,{className:"h-6 w-6"}),title:"Enterprise Security",description:"Bank-grade security with SOC 2 compliance and data protection",gradient:"from-sunset-500 to-coral-500",benefits:["SOC 2 compliance","End-to-end encryption","GDPR compliant"]}];return i.jsxs("section",{className:"relative py-24 bg-white dark:bg-background overflow-hidden",children:[i.jsx(cc,{}),i.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-20",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[i.jsx(St,{className:"w-5 h-5 text-sunset-500"}),i.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Why It Matters"})]}),i.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Stop losing"," ",i.jsxs("span",{className:"relative",children:[i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"customers"}),i.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})," ","to poor experiences"]}),i.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-4xl mx-auto leading-relaxed font-medium mb-12",children:"Without proper feedback management, businesses miss critical insights that could prevent customer churn and drive growth"}),i.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:e.map((r,n)=>i.jsxs("div",{className:"group relative bg-white/95 dark:bg-dark-warm-100/95 rounded-2xl p-6 border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 via-orange-500/5 to-yellow-500/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-xl flex items-center justify-center text-white mx-auto mb-4 group-hover:scale-110 transition-transform duration-300`,children:r.icon}),i.jsxs("div",{className:"text-sm font-semibold text-red-600 dark:text-red-400 mb-2",children:["Problem: ",r.problem]}),i.jsxs("div",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["Solution: ",r.solution]})]})]},n))})]}),i.jsx("div",{className:"text-center mb-16",children:i.jsx("h3",{className:"text-2xl lg:text-4xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-12",children:"Powerful features that make the difference"})}),i.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:t.map((r,n)=>i.jsxs(q,{className:"group relative border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg bg-white/95 dark:bg-dark-warm-100/95 hover:shadow-xl transition-all duration-300 rounded-2xl overflow-hidden hover:-translate-y-1",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sunset-500/5 via-coral-500/5 to-golden-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsx(ee,{className:"pb-4 relative",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-xl flex items-center justify-center text-white flex-shrink-0 group-hover:scale-110 transition-transform duration-300`,children:r.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx(te,{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 leading-tight mb-2",children:r.title}),i.jsx(Yn,{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium",children:r.description})]})]})}),i.jsx(W,{className:"pt-0 relative",children:i.jsx("div",{className:"space-y-2",children:r.benefits.map((s,a)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(br,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-warm-gray-600 dark:text-dark-warm-600 font-medium",children:s})]},a))})})]},n))})]})]})},JJ=()=>{const e=Ns(),[t,r]=y.useState(!1),n=[{icon:i.jsx(xs,{className:"w-8 h-8"}),title:"Customer complaints increasing?",description:"Don't wait until it's too late - start monitoring satisfaction now"},{icon:i.jsx(bs,{className:"w-8 h-8"}),title:"Competing on customer experience?",description:"Get ahead of competitors with better customer insights"},{icon:i.jsx(zd,{className:"w-8 h-8"}),title:"Growing fast and losing touch?",description:"Scale your business without losing the personal connection"}],s=[{name:"Starter",monthlyPrice:7,yearlyPrice:70,period:t?"/year":"/month",description:"Perfect for small teams getting started with feedback.",features:["Up to 5 team members","1,000 responses/month","Standard Analytics","Email Support"],popular:!1,cta:"Start Free Trial",gradient:"from-warm-gray-100 to-warm-gray-50"},{name:"Growth",monthlyPrice:27,yearlyPrice:270,period:t?"/year":"/month",description:"For growing businesses who need to scale their feedback operations.",features:["Up to 15 team members","5,000 responses/month","AI-Powered Insights","Priority Support","Custom Branding"],popular:!0,cta:"Start Free Trial",gradient:"from-sunset-50 to-coral-50"},{name:"Pro",monthlyPrice:97,yearlyPrice:970,period:t?"/year":"/month",description:"For established businesses that require advanced control and integrations.",features:["Up to 30 team members","20,000 responses/month","API Access","Advanced Integrations","Team Collaboration Tools"],popular:!1,cta:"Start Free Trial",gradient:"from-golden-50 to-sunset-50"},{name:"Enterprise",monthlyPrice:247,yearlyPrice:2470,period:t?"/year":"/month",description:"Tailored solutions for large organizations with complex needs.",features:["Unlimited team members","Custom response limits","Dedicated Success Manager","SLA & Advanced Security","On-premise deployment"],popular:!1,cta:"Start Free Trial",gradient:"from-warm-gray-100 to-warm-gray-50"}],a=o=>t?o.yearlyPrice:o.monthlyPrice;return i.jsxs("section",{id:"pricing",className:"relative py-32 bg-gradient-to-br from-warm-gray-50 via-white to-sunset-50/30 dark:from-dark-warm-50 dark:via-dark-warm-100 dark:to-dark-warm-50 overflow-hidden",children:[i.jsx(cc,{}),i.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-24 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-8",children:[i.jsx(xs,{className:"w-6 h-6 text-sunset-500"}),i.jsx("span",{className:"text-lg font-space font-medium",children:"When You Need It"})]}),i.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-8 leading-tight",children:["The"," ",i.jsxs("span",{className:"relative",children:[i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"right time"}),i.jsx("div",{className:"absolute -bottom-3 left-0 right-0 h-2 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full animate-scale-in"})]})," ","is now"]}),i.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium max-w-4xl mx-auto mb-16",children:"Don't wait until customer satisfaction becomes a crisis. Start building better relationships today."}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:n.map((o,l)=>i.jsxs("div",{className:"bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm rounded-3xl p-8 border border-warm-gray-200/50 dark:border-dark-warm-300/50 group hover:scale-105 transition-all duration-300",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl flex items-center justify-center text-white mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:o.icon}),i.jsx("h3",{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-4",children:o.title}),i.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed",children:o.description})]},l))})]}),i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-8",children:[i.jsx(zd,{className:"w-6 h-6 text-sunset-500"}),i.jsx("span",{className:"text-lg font-space font-medium",children:"Where To Get Started"})]}),i.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-8 leading-tight",children:["Choose your"," ",i.jsx("span",{className:"relative",children:i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"growth path"})})]}),i.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium max-w-4xl mx-auto mb-12",children:"Start free, scale as you grow. Upgrade or downgrade anytime."}),i.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-16",children:[i.jsx("span",{className:`text-lg font-medium ${t?"text-warm-gray-600 dark:text-dark-warm-600":"text-sunset-600 dark:text-sunset-400"}`,children:"Monthly"}),i.jsx("button",{onClick:()=>r(!t),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-sunset-500 focus:ring-offset-2 ${t?"bg-sunset-500":"bg-warm-gray-300 dark:bg-dark-warm-400"}`,children:i.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${t?"translate-x-7":"translate-x-1"}`})}),i.jsxs("span",{className:`text-lg font-medium ${t?"text-sunset-600 dark:text-sunset-400":"text-warm-gray-600 dark:text-dark-warm-600"}`,children:["Yearly",i.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 text-sm rounded-full",children:"Save 20%"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8 max-w-7xl mx-auto mb-16 items-stretch",children:s.map((o,l)=>i.jsxs(q,{className:`flex flex-col border-0 shadow-lg relative transition-all duration-300 rounded-3xl group ${o.popular?"bg-white dark:bg-dark-warm-100 shadow-2xl shadow-sunset-500/20 ring-2 ring-sunset-500 z-10":"bg-white/60 dark:bg-dark-warm-100/60 backdrop-blur-md border border-warm-gray-200/50 dark:border-dark-warm-300/50 hover:bg-white dark:hover:bg-dark-warm-100 hover:shadow-xl hover:scale-[1.02]"}`,children:[o.popular&&i.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-20",children:i.jsx(ve,{className:"bg-gradient-to-r from-sunset-500 to-coral-500 text-white px-6 py-2 text-base font-space font-bold shadow-lg rounded-full",children:"Most Popular"})}),i.jsxs(ee,{className:"text-center pb-8 pt-12",children:[i.jsx(te,{className:"text-3xl font-space font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-2",children:o.name}),i.jsxs("div",{className:"mt-6 mb-4",children:[i.jsxs("span",{className:"text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900",children:["$",a(o)]}),o.period&&i.jsx("span",{className:"text-warm-gray-500 dark:text-dark-warm-500 text-lg font-medium",children:o.period})]}),i.jsx(Yn,{className:"text-warm-gray-600 dark:text-dark-warm-600 text-base leading-relaxed px-4",children:o.description})]}),i.jsxs(W,{className:"flex flex-col flex-grow px-8 pb-8",children:[i.jsx("ul",{className:"space-y-4 flex-grow",children:o.features.map((c,u)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx(br,{className:"h-6 w-6 text-green-500 mr-3 mt-1 flex-shrink-0"}),i.jsx("span",{className:"text-warm-gray-700 dark:text-dark-warm-600 font-medium text-base",children:c})]},u))}),i.jsx(re,{className:"w-full mt-10",variant:o.popular?"default":"outline",size:"lg",onClick:()=>e("/auth"),children:i.jsxs("span",{className:"flex items-center justify-center",children:[o.cta,i.jsx(bj,{className:"ml-3 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]})]},l))}),i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm rounded-2xl p-8 max-w-2xl mx-auto border border-warm-gray-200/50 dark:border-dark-warm-300/50 shadow-lg",children:i.jsxs("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 font-medium text-lg",children:["All plans include a ",i.jsx("span",{className:"text-sunset-600 dark:text-sunset-400 font-semibold",children:"14-day free trial"}),i.jsx("br",{}),"No setup fees • Cancel anytime • Full feature access"]})})})]})]})},ZJ=()=>i.jsxs("section",{className:"relative py-32 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-500 overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute top-20 left-20 w-40 h-40 bg-white/10 rounded-full animate-float blur-xl"}),i.jsx("div",{className:"absolute bottom-20 right-20 w-32 h-32 bg-white/10 rounded-full animate-pulse-gentle blur-lg"}),i.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-white/5 rounded-full animate-morph blur-lg"}),i.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-36 h-36 bg-white/5 rounded-full animate-blob blur-xl"}),i.jsx("div",{className:"absolute top-40 right-40 w-64 h-64 bg-white/5 rounded-full blur-3xl animate-flow",style:{borderRadius:"60% 40% 30% 70% / 60% 30% 70% 40%"}}),i.jsx("div",{className:"absolute bottom-40 left-40 w-48 h-48 bg-white/5 rounded-full blur-2xl animate-float",style:{borderRadius:"30% 60% 70% 40% / 50% 60% 30% 60%"}})]}),i.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-12",children:[i.jsxs("div",{className:"relative",children:[i.jsx(gr,{className:"w-8 h-8 text-white animate-pulse-gentle","aria-label":"Pulsify pulse icon"}),i.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-white rounded-full opacity-20 animate-ping"})]}),i.jsx("span",{className:"text-white/90 text-lg font-space font-medium",children:"Join 2,000+ happy customers"})]}),i.jsxs("h2",{className:"text-5xl lg:text-7xl font-space font-black text-white mb-10 leading-tight","aria-label":"Ready to transform your customer feedback?",children:["Ready to"," ",i.jsxs("span",{className:"relative",children:["transform",i.jsx("div",{className:"absolute -bottom-4 left-0 right-0 h-2 bg-white rounded-full animate-scale-in"})]}),i.jsx("br",{}),"your customer feedback?"]}),i.jsxs("p",{className:"text-2xl lg:text-3xl text-white/95 leading-relaxed max-w-4xl mx-auto font-medium",children:["Join thousands of businesses using Pulsify to make"," ",i.jsx("span",{className:"font-bold",children:"better decisions"})]})]})]}),eZ=()=>{const[e,t]=y.useState(!1);y.useEffect(()=>{const n=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches;(n==="dark"||!n&&s)&&(t(!0),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=!e;t(n),n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return i.jsx(re,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full",children:e?i.jsx(f7,{className:"h-5 w-5 text-golden-400"}):i.jsx(t7,{className:"h-5 w-5 text-warm-gray-600"})})},UP=({href:e,children:t,isRouterLink:r=!1})=>r?i.jsx(ac,{to:e,className:"text-warm-gray-400 hover:text-white transition-colors duration-300 text-base",children:t}):i.jsx("a",{href:e,className:"text-warm-gray-400 hover:text-white transition-colors duration-300 text-base",children:t}),I_=()=>i.jsx("footer",{className:"bg-warm-gray-900 dark:bg-dark-warm-100",children:i.jsxs("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(gr,{className:"w-8 h-8 text-sunset-500","aria-label":"Pulsify pulse icon"}),i.jsx("span",{className:"text-2xl font-space font-bold text-white",children:"Pulsify"})]}),i.jsx("p",{className:"text-base text-warm-gray-400 max-w-xs",children:"Real Insights. Real Impact."}),i.jsxs("div",{className:"text-base text-warm-gray-400 mt-4 space-y-1",children:[i.jsx("p",{children:"info@pulsify.bunisystems.com"}),i.jsx("p",{children:"+254207862379"}),i.jsx("p",{children:"Nairobi, Kenya"})]})]})}),i.jsxs("div",{className:"mt-12 border-t border-warm-gray-700 pt-8 flex flex-col-reverse sm:flex-row sm:justify-between items-center gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-x-6 gap-y-4",children:[i.jsxs("p",{className:"text-base text-warm-gray-500",children:["© ",new Date().getFullYear()," Pulsify. All rights reserved."]}),i.jsxs("div",{className:"flex items-center gap-x-6",children:[i.jsx(UP,{href:"/privacy-policy",isRouterLink:!0,children:"Privacy Policy"}),i.jsx(UP,{href:"/terms-of-service",isRouterLink:!0,children:"Terms of Service"})]})]}),i.jsx(eZ,{})]})]})}),tZ=[{icon:i.jsx(c7,{className:"h-10 w-10 text-sunset-500"}),name:"SOC 2 Compliant",description:"Enterprise-grade security standards."},{icon:i.jsx(_j,{className:"h-10 w-10 text-coral-500"}),name:"GDPR & CCPA Ready",description:"Your data privacy is our priority."},{icon:i.jsx(VU,{className:"h-10 w-10 text-golden-500"}),name:"99.9% Uptime SLA",description:"Reliable service you can count on."}],rZ=()=>i.jsx("section",{className:"py-24 bg-warm-gray-50 dark:bg-dark-warm-100",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-base font-semibold text-sunset-600 dark:text-sunset-400 tracking-wider uppercase",children:"Trusted & Secure"}),i.jsx("p",{className:"mt-2 text-3xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 tracking-tight sm:text-4xl",children:"Your peace of mind is our top priority"}),i.jsx("p",{className:"mt-5 max-w-prose mx-auto text-xl text-warm-gray-500 dark:text-dark-warm-500",children:"We employ best-in-class security practices to keep your data safe, secure, and private."})]}),i.jsx("div",{className:"mt-12",children:i.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:tZ.map(e=>i.jsx("div",{className:"pt-6",children:i.jsx("div",{className:"flow-root bg-white dark:bg-dark-warm-200 rounded-lg px-6 pb-8 shadow-lg",children:i.jsxs("div",{className:"-mt-6",children:[i.jsx("div",{children:i.jsx("span",{className:"inline-flex items-center justify-center p-3 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-md shadow-lg",children:P.cloneElement(e.icon,{className:"h-8 w-8 text-white"})})}),i.jsx("h3",{className:"mt-8 text-lg font-medium text-warm-gray-900 dark:text-dark-warm-900 tracking-tight",children:e.name}),i.jsx("p",{className:"mt-5 text-base text-warm-gray-500 dark:text-dark-warm-500",children:e.description})]})})},e.name))})})]})});var D_="Collapsible",[nZ,s5]=ur(D_),[sZ,L_]=nZ(D_),a5=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c=!1,u]=Fr({prop:n,defaultProp:s,onChange:o});return i.jsx(sZ,{scope:r,disabled:a,contentId:wn(),open:c,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),children:i.jsx(fe.div,{"data-state":z_(c),"data-disabled":a?"":void 0,...l,ref:t})})});a5.displayName=D_;var i5="CollapsibleTrigger",o5=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=L_(i5,r);return i.jsx(fe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":z_(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:X(e.onClick,s.onOpenToggle)})});o5.displayName=i5;var F_="CollapsibleContent",l5=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=L_(F_,e.__scopeCollapsible);return i.jsx(zr,{present:r||s.open,children:({present:a})=>i.jsx(aZ,{...n,ref:t,present:a})})});l5.displayName=F_;var aZ=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,o=L_(F_,r),[l,c]=y.useState(n),u=y.useRef(null),d=_e(t,u),f=y.useRef(0),h=f.current,m=y.useRef(0),g=m.current,p=o.open||l,v=y.useRef(p),b=y.useRef();return y.useEffect(()=>{const x=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(x)},[]),Mt(()=>{const x=u.current;if(x){b.current=b.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();f.current=w.height,m.current=w.width,v.current||(x.style.transitionDuration=b.current.transitionDuration,x.style.animationName=b.current.animationName),c(n)}},[o.open,n]),i.jsx(fe.div,{"data-state":z_(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&s})});function z_(e){return e?"open":"closed"}var iZ=a5,oZ=o5,lZ=l5,ua="Accordion",cZ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[B_,uZ,dZ]=$c(ua),[_v,_2e]=ur(ua,[dZ,s5]),U_=s5(),c5=P.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return i.jsx(B_.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(pZ,{...a,ref:t}):i.jsx(mZ,{...s,ref:t})})});c5.displayName=ua;var[u5,fZ]=_v(ua),[d5,hZ]=_v(ua,{collapsible:!1}),mZ=P.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...o}=e,[l,c]=Fr({prop:r,defaultProp:n,onChange:s});return i.jsx(u5,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:P.useCallback(()=>a&&c(""),[a,c]),children:i.jsx(d5,{scope:e.__scopeAccordion,collapsible:a,children:i.jsx(f5,{...o,ref:t})})})}),pZ=P.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[o=[],l]=Fr({prop:r,defaultProp:n,onChange:s}),c=P.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=P.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(u5,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx(d5,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(f5,{...a,ref:t})})})}),[gZ,Sv]=_v(ua),f5=P.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...o}=e,l=P.useRef(null),c=_e(l,t),u=uZ(r),f=Ro(s)==="ltr",h=X(e.onKeyDown,m=>{var k;if(!cZ.includes(m.key))return;const g=m.target,p=u().filter(C=>{var E;return!((E=C.ref.current)!=null&&E.disabled)}),v=p.findIndex(C=>C.ref.current===g),b=p.length;if(v===-1)return;m.preventDefault();let x=v;const w=0,j=b-1,_=()=>{x=v+1,x>j&&(x=w)},S=()=>{x=v-1,x<w&&(x=j)};switch(m.key){case"Home":x=w;break;case"End":x=j;break;case"ArrowRight":a==="horizontal"&&(f?_():S());break;case"ArrowDown":a==="vertical"&&_();break;case"ArrowLeft":a==="horizontal"&&(f?S():_());break;case"ArrowUp":a==="vertical"&&S();break}const N=x%b;(k=p[N].ref.current)==null||k.focus()});return i.jsx(gZ,{scope:r,disabled:n,direction:s,orientation:a,children:i.jsx(B_.Slot,{scope:r,children:i.jsx(fe.div,{...o,"data-orientation":a,ref:c,onKeyDown:n?void 0:h})})})}),jp="AccordionItem",[vZ,q_]=_v(jp),h5=P.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=Sv(jp,r),o=fZ(jp,r),l=U_(r),c=wn(),u=n&&o.value.includes(n)||!1,d=a.disabled||e.disabled;return i.jsx(vZ,{scope:r,open:u,disabled:d,triggerId:c,children:i.jsx(iZ,{"data-orientation":a.orientation,"data-state":x5(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});h5.displayName=jp;var m5="AccordionHeader",p5=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Sv(ua,r),a=q_(m5,r);return i.jsx(fe.h3,{"data-orientation":s.orientation,"data-state":x5(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});p5.displayName=m5;var Db="AccordionTrigger",g5=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Sv(ua,r),a=q_(Db,r),o=hZ(Db,r),l=U_(r);return i.jsx(B_.ItemSlot,{scope:r,children:i.jsx(oZ,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});g5.displayName=Db;var v5="AccordionContent",y5=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Sv(ua,r),a=q_(v5,r),o=U_(r);return i.jsx(lZ,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});y5.displayName=v5;function x5(e){return e?"open":"closed"}var yZ=c5,xZ=h5,bZ=p5,b5=g5,w5=y5;const wZ=yZ,j5=y.forwardRef(({className:e,...t},r)=>i.jsx(xZ,{ref:r,className:K("border-b",e),...t}));j5.displayName="AccordionItem";const _5=y.forwardRef(({className:e,children:t,...r},n)=>i.jsx(bZ,{className:"flex",children:i.jsxs(b5,{ref:n,className:K("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(Kg,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));_5.displayName=b5.displayName;const S5=y.forwardRef(({className:e,children:t,...r},n)=>i.jsx(w5,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:K("pb-4 pt-0",e),children:t})}));S5.displayName=w5.displayName;const jZ=[{question:"What is Pulsify?",answer:"Pulsify is an AI-powered customer feedback platform that helps businesses collect, analyze, and act on customer insights to drive growth. We unify feedback from various channels and provide actionable analytics."},{question:"Is there a free trial?",answer:"Yes, we offer a 14-day free trial on our Professional plan. No credit card is required to get started. You can explore all the features and see how Pulsify can benefit your business."},{question:"What kind of support do you offer?",answer:"We offer email support on the Starter plan and priority email and chat support on the Professional plan. Enterprise customers receive a dedicated success manager and custom support SLAs."},{question:"Can I integrate Pulsify with other tools?",answer:"Our Professional and Enterprise plans also include API access for custom integrations."},{question:"How is my data secured?",answer:"We take data security very seriously. Our platform is SOC 2 compliant, and all data is encrypted end-to-end. We follow industry best practices to ensure your data is safe and private."},{question:"Can I customize the feedback forms?",answer:"Yes! You can customize the look and feel of your feedback forms to match your brand, including colors, logos, and custom domains (on supported plans)."}],_Z=()=>i.jsx("section",{id:"faq",className:"py-24 bg-white dark:bg-background",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-3xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 sm:text-4xl",children:"Frequently Asked Questions"}),i.jsx("p",{className:"mt-4 text-lg text-warm-gray-600 dark:text-dark-warm-600",children:"Have questions? We have answers. If you can't find what you're looking for, feel free to contact us."})]}),i.jsx("div",{className:"mt-12",children:i.jsx(wZ,{type:"single",collapsible:!0,className:"w-full",children:jZ.map((e,t)=>i.jsxs(j5,{value:`item-${t}`,className:"border-b border-warm-gray-200 dark:border-dark-warm-200",children:[i.jsx(_5,{className:"text-left text-lg font-medium text-warm-gray-900 dark:text-dark-warm-900 hover:no-underline py-6",children:e.question}),i.jsx(S5,{className:"text-base text-warm-gray-600 dark:text-dark-warm-600 pb-6",children:e.answer})]},t))})})]})}),SZ=()=>i.jsxs("div",{className:"min-h-screen bg-white dark:bg-background transition-colors duration-300",children:[i.jsx($_,{}),i.jsx(GJ,{}),i.jsx(QJ,{}),i.jsx(rZ,{}),i.jsx(YJ,{}),i.jsx(XJ,{}),i.jsx(JJ,{}),i.jsx(_Z,{}),i.jsx(ZJ,{}),i.jsx(I_,{})]}),NZ=()=>i.jsx(SZ,{}),Ar={Display:({children:e,className:t,...r})=>i.jsx("h1",{className:K("text-4xl lg:text-5xl font-bold tracking-tight text-gray-900 dark:text-white leading-tight",t),...r,children:e}),Heading1:({children:e,className:t,...r})=>i.jsx("h1",{className:K("text-3xl font-semibold text-gray-900 dark:text-white tracking-tight leading-tight",t),...r,children:e}),Heading2:({children:e,className:t,...r})=>i.jsx("h2",{className:K("text-xl font-semibold text-gray-800 dark:text-gray-100 tracking-tight",t),...r,children:e}),Heading3:({children:e,className:t,...r})=>i.jsx("h3",{className:K("text-lg font-medium text-gray-800 dark:text-gray-100",t),...r,children:e}),Body:({children:e,className:t,...r})=>i.jsx("p",{className:K("text-base text-gray-600 dark:text-gray-300 leading-relaxed",t),...r,children:e}),BodySmall:({children:e,className:t,...r})=>i.jsx("p",{className:K("text-sm text-gray-600 dark:text-gray-300 leading-relaxed",t),...r,children:e}),Caption:({children:e,className:t,...r})=>i.jsx("span",{className:K("text-sm text-gray-500 dark:text-gray-400",t),...r,children:e}),Label:({children:e,className:t,...r})=>i.jsx("label",{className:K("text-sm font-medium text-gray-700 dark:text-gray-200",t),...r,children:e})},Is=({children:e,className:t,padding:r="md",shadow:n="sm",border:s=!0})=>{const a={sm:"p-4",md:"p-6",lg:"p-8"},o={none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"};return i.jsx("div",{className:K("bg-white dark:bg-gray-900 rounded-xl",a[r],o[n],s&&"border border-gray-200 dark:border-gray-700","transition-all duration-200 hover:shadow-md",t),children:e})},qP=({children:e,onClick:t,variant:r="primary",size:n="md",disabled:s=!1,className:a,type:o="button"})=>{const l="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-sunset-500 hover:bg-sunset-600 text-white focus:ring-sunset-500",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-900 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-white focus:ring-gray-500",ghost:"hover:bg-gray-100 text-gray-700 dark:hover:bg-gray-800 dark:text-gray-300 focus:ring-gray-500",danger:"bg-red-500 hover:bg-red-600 text-white focus:ring-red-500"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},d=s?"opacity-50 cursor-not-allowed":"cursor-pointer";return i.jsx("button",{type:o,onClick:t,disabled:s,className:K(l,c[r],u[n],d,a),children:e})},N5=({children:e,size:t="lg",className:r})=>{const n={sm:"max-w-2xl",md:"max-w-4xl",lg:"max-w-6xl",xl:"max-w-7xl",full:"max-w-full"};return i.jsx("div",{className:K("mx-auto px-4 sm:px-6 lg:px-8",n[t],r),children:e})},Lb={section:"mb-12 lg:mb-16",subsection:"mb-8",element:"mb-6",small:"mb-4",tight:"mb-2"},k5=y.forwardRef(({...e},t)=>i.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));k5.displayName="Breadcrumb";const P5=y.forwardRef(({className:e,...t},r)=>i.jsx("ol",{ref:r,className:K("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));P5.displayName="BreadcrumbList";const E5=y.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,className:K("inline-flex items-center gap-1.5",e),...t}));E5.displayName="BreadcrumbItem";const kZ=y.forwardRef(({asChild:e,className:t,...r},n)=>{const s=e?Zs:"a";return i.jsx(s,{ref:n,className:K("transition-colors hover:text-foreground",t),...r})});kZ.displayName="BreadcrumbLink";const C5=y.forwardRef(({className:e,...t},r)=>i.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:K("font-normal text-foreground",e),...t}));C5.displayName="BreadcrumbPage";const PZ=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=[{name:"Service Quality",range:[0,2]},{name:"Customer Experience",range:[3,5]},{name:"Overall Satisfaction",range:[6,t-1]}],a=n.find(o=>e>=o.range[0]&&e<=o.range[1]);return i.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:i.jsx(k5,{children:i.jsx(P5,{className:"flex-wrap",children:n.map((o,l)=>{const c=o===a,u=o.range.every(d=>r.includes(d));return i.jsx(E5,{className:"flex items-center",children:i.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full transition-all ${c?"bg-blue-100 text-blue-700":u?"bg-green-100 text-green-700":"text-gray-500"}`,children:[u?i.jsx(br,{className:"h-4 w-4"}):i.jsx(Yg,{className:"h-4 w-4"}),i.jsx(C5,{className:"font-medium",children:o.name})]})},o.name)})})})})},EZ=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=(e+1)/t*100,s=()=>n<25?"Great start! Your feedback matters.":n<50?"You're doing amazing! Keep going.":n<75?"Almost there! Your input is valuable.":"Final stretch! Thank you for your time.",a=()=>n<33?i.jsx(ea,{className:"h-4 w-4 text-blue-600"}):n<66?i.jsx(St,{className:"h-4 w-4 text-orange-600"}):i.jsx(bs,{className:"h-4 w-4 text-green-600"});return i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-orange-50 rounded-xl p-4 border border-blue-200/50",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[a(),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:s()})]}),i.jsxs("div",{className:"text-sm font-bold text-orange-600",children:[Math.round(n),"%"]})]})})},CZ=({currentIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s})=>{const a=s<30?"fast":s<60?"steady":"thoughtful",o=()=>{switch(a){case"fast":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"steady":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}},l=()=>{switch(a){case"fast":return i.jsx(St,{className:"h-3 w-3"});case"steady":return i.jsx(ea,{className:"h-3 w-3"});default:return i.jsx(bs,{className:"h-3 w-3"})}};return i.jsxs("div",{className:"flex items-center justify-between mb-6 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"font-medium",children:[e+1," of ",t]}),r.includes(e)&&i.jsx(br,{className:"h-4 w-4 text-green-500"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(xs,{className:"h-4 w-4 text-blue-500"}),i.jsxs("span",{children:["~",n,"s left"]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(bs,{className:"h-4 w-4 text-orange-500"}),i.jsxs("span",{children:[s,"s avg"]})]}),i.jsx(ve,{className:`${o()} shadow-sm border`,children:i.jsxs("div",{className:"flex items-center space-x-1",children:[l(),i.jsx("span",{className:"font-medium",children:a})]})})]})]})},OZ=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=(e+1)/t*100;return i.jsxs("div",{className:"mb-4 bg-white/80 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[r.includes(e)?i.jsx(br,{className:"h-5 w-5 text-green-500"}):i.jsx(Yg,{className:"h-5 w-5 text-gray-400"}),i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e+1," of ",t]})]}),i.jsxs("span",{className:"text-sm font-bold text-orange-600",children:[Math.round(n),"%"]})]}),i.jsx("div",{className:"relative w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-orange-500 rounded-full transition-all duration-500",style:{width:`${n}%`}})}),i.jsx("div",{className:"flex justify-center mt-2",children:i.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(t,8)},(s,a)=>i.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${a<=e?"bg-blue-500":"bg-gray-300"}`},a))})})]})},su=()=>{const[e,t]=y.useState(!1),[r,n]=y.useState(!1);y.useEffect(()=>{const a=()=>{const o=window.innerWidth;t(o<768),n(o>=768&&o<1024)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const s="ontouchstart"in window||navigator.maxTouchPoints>0;return{isMobile:e,isTablet:r,isDesktop:!e&&!r,isTouchDevice:s,screenSize:e?"mobile":r?"tablet":"desktop"}},Nv=()=>{var a;const{organization:e}=e_(),[t,r]=y.useState({assets:[],theme:null,logoAsset:null}),[n,s]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(!e){s(!1);return}try{s(!0);const[l,c]=await Promise.all([LJ(e.id),FJ(e.id)]),u=l.find(d=>d.asset_type==="logo")||null;r({assets:l,theme:c,logoAsset:u})}catch(l){console.error("Error loading organization config:",l)}finally{s(!1)}})()},[e]),{...t,isLoading:n,organization:e,colors:((a=t.theme)==null?void 0:a.colors)||{primary:(e==null?void 0:e.primary_color)||"#073763",secondary:(e==null?void 0:e.secondary_color)||"#007ACE",accent:"#f97316"},flowConfig:(e==null?void 0:e.flow_configuration)||{},headerTitle:(e==null?void 0:e.feedback_header_title)||"Share Your Experience",headerSubtitle:(e==null?void 0:e.feedback_header_subtitle)||"Help us serve you better with your valuable feedback",welcomeTitle:(e==null?void 0:e.welcome_screen_title)||"Share Your Experience",welcomeDescription:(e==null?void 0:e.welcome_screen_description)||"Help us serve you better with your valuable feedback. Your input helps us improve our services and better serve our community.",thankYouTitle:(e==null?void 0:e.thank_you_title)||"Thank You for Your Feedback!",thankYouMessage:(e==null?void 0:e.thank_you_message)||"Your valuable feedback has been received and will help us improve our services."}},W_=()=>{const{organization:e,logoAsset:t,colors:r,isLoading:n}=Nv(),[s,a]=y.useState(!1),o={primary:"#073763",secondary:"#007ACE",accent:"#f97316",background:"#f8fafc",surface:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280"},l={primary:r.primary||o.primary,secondary:r.secondary||o.secondary,accent:r.accent||o.accent,background:r.background||o.background,surface:r.surface||o.surface,textPrimary:r.text_primary||o.textPrimary,textSecondary:r.text_secondary||o.textSecondary},u={logoUrl:(t==null?void 0:t.asset_url)||(e==null?void 0:e.logo_url)||"/lovable-uploads/367347fe-02da-4338-b8ba-91138293d303.png",logoAlt:`${(e==null?void 0:e.name)||"Organization"} Logo`},d=()=>{if(typeof document>"u"||s)return;const f=document.documentElement;f.style.setProperty("--brand-primary",l.primary),f.style.setProperty("--brand-secondary",l.secondary),f.style.setProperty("--brand-accent",l.accent),f.style.setProperty("--brand-background",l.background),f.style.setProperty("--brand-surface",l.surface),f.style.setProperty("--brand-text-primary",l.textPrimary),f.style.setProperty("--brand-text-secondary",l.textSecondary);const h=`linear-gradient(to right, ${l.primary}, ${l.accent})`,m=`linear-gradient(to right, ${l.primary}, ${l.secondary})`;f.style.setProperty("--brand-gradient-primary-accent",h),f.style.setProperty("--brand-gradient-primary-secondary",m),a(!0)};return y.useEffect(()=>{!n&&e&&d()},[l.primary,l.secondary,l.accent,n,e]),{colors:l,assets:u,isLoading:n,organizationName:(e==null?void 0:e.name)||"Organization",applyBrandingStyles:d}},AZ=({currentQuestionIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s})=>{const{isMobile:a}=su(),{colors:o}=W_();return a?i.jsx(OZ,{currentIndex:e,totalQuestions:t,completedQuestions:r}):i.jsxs("div",{className:"mb-8 p-4 rounded-lg border",style:{backgroundColor:`${o.primary}08`,borderColor:`${o.primary}30`},role:"progressbar","aria-valuenow":e+1,"aria-valuemin":1,"aria-valuemax":t,children:[i.jsx(PZ,{currentIndex:e,totalQuestions:t,completedQuestions:r}),i.jsx(CZ,{currentIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s}),i.jsx(EZ,{currentIndex:e,totalQuestions:t,completedQuestions:r})]})},TZ=({value:e,onChange:t,max:r=5})=>i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"flex space-x-2",children:Array.from({length:r},(n,s)=>{const a=s+1;return i.jsx("button",{type:"button",onClick:()=>t(a),className:"transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[#007ACE] rounded","aria-label":`Rate ${a} out of ${r} stars`,children:i.jsx(bs,{className:`h-10 w-10 ${a<=e?"text-yellow-400 fill-yellow-400":"text-gray-300 hover:text-yellow-400"}`})},s)})}),e>0&&i.jsx("div",{className:"text-center",children:i.jsxs("span",{className:"text-lg font-medium text-[#073763]",children:[e," out of ",r," stars"]})})]}),RZ=({value:e,onChange:t})=>{const r=s=>s<=6?"Detractor":s<=8?"Passive":"Promoter",n=s=>s<=6?"text-red-600":s<=8?"text-yellow-600":"text-green-600";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[i.jsx("span",{children:"Not likely at all"}),i.jsx("span",{children:"Extremely likely"})]}),i.jsx("div",{className:"grid grid-cols-11 gap-2",children:Array.from({length:11},(s,a)=>i.jsx("button",{type:"button",onClick:()=>t(a),className:`
              h-12 w-full rounded-lg border-2 transition-all duration-200 
              font-medium text-sm hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#007ACE]
              ${e===a?"bg-gradient-to-r from-[#073763] to-[#007ACE] text-white border-[#073763]":"bg-white border-gray-300 text-gray-700 hover:border-[#007ACE]"}
            `,"aria-label":`Rate ${a} out of 10`,children:a},a))}),e!==void 0&&i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"text-lg font-medium text-[#073763]",children:["Score: ",e,"/10"]}),i.jsx("div",{className:`text-sm font-medium ${n(e)}`,children:r(e)})]})]})},MZ=({value:e,onChange:t,scale:r={min:1,max:5,minLabel:"Strongly Disagree",maxLabel:"Strongly Agree"}})=>{const{min:n,max:s,minLabel:a,maxLabel:o}=r,l=Array.from({length:s-n+1},(u,d)=>n+d),c=u=>u===n?a:u===s?o:s-n===4?["","Disagree","Neutral","Agree",""][u-n]:`${u}`;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-4",children:[i.jsx("span",{children:a}),i.jsx("span",{children:o})]}),i.jsx("div",{className:"space-y-3",children:l.map(u=>i.jsxs("label",{className:`
              flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
              hover:bg-blue-50 hover:border-[#007ACE]
              ${e===u?"bg-gradient-to-r from-[#073763] to-[#007ACE] text-white border-[#073763]":"bg-white border-gray-300"}
            `,children:[i.jsx("input",{type:"radio",name:"likert",value:u,checked:e===u,onChange:()=>t(u),className:"sr-only"}),i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("span",{className:"font-medium",children:c(u)}),i.jsxs("span",{className:"text-sm opacity-75",children:["(",u,")"]})]})]},u))})]})};var V_="Checkbox",[$Z,S2e]=ur(V_),[IZ,DZ]=$Z(V_),O5=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=y.useState(null),g=_e(t,j=>m(j)),p=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[b=!1,x]=Fr({prop:s,defaultProp:a,onChange:u}),w=y.useRef(b);return y.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const _=()=>x(w.current);return j.addEventListener("reset",_),()=>j.removeEventListener("reset",_)}},[h,x]),i.jsxs(IZ,{scope:r,state:b,disabled:l,children:[i.jsx(fe.button,{type:"button",role:"checkbox","aria-checked":Za(b)?"mixed":b,"aria-required":o,"data-state":R5(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onKeyDown:X(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:X(e.onClick,j=>{x(_=>Za(_)?!0:!_),v&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),v&&i.jsx(LZ,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Za(a)?!1:a})]})});O5.displayName=V_;var A5="CheckboxIndicator",T5=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=DZ(A5,r);return i.jsx(zr,{present:n||Za(a.state)||a.state===!0,children:i.jsx(fe.span,{"data-state":R5(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});T5.displayName=A5;var LZ=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...a}=e,o=y.useRef(null),l=Xf(r),c=Gf(t);y.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const g=new Event("click",{bubbles:n});d.indeterminate=Za(r),m.call(d,Za(r)?!1:r),d.dispatchEvent(g)}},[l,r,n]);const u=y.useRef(Za(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Za(e){return e==="indeterminate"}function R5(e){return Za(e)?"indeterminate":e?"checked":"unchecked"}var M5=O5,FZ=T5;const $5=y.forwardRef(({className:e,...t},r)=>i.jsx(M5,{ref:r,className:K("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(FZ,{className:K("flex items-center justify-center text-current"),children:i.jsx(Hf,{className:"h-4 w-4"})})}));$5.displayName=M5.displayName;var H_="Radio",[zZ,I5]=ur(H_),[BZ,UZ]=zZ(H_),D5=y.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=y.useState(null),m=_e(t,v=>h(v)),g=y.useRef(!1),p=f?u||!!f.closest("form"):!0;return i.jsxs(BZ,{scope:r,checked:s,disabled:o,children:[i.jsx(fe.button,{type:"button",role:"radio","aria-checked":s,"data-state":z5(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:X(e.onClick,v=>{s||c==null||c(),p&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),p&&i.jsx(qZ,{control:f,bubbles:!g.current,name:n,value:l,checked:s,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});D5.displayName=H_;var L5="RadioIndicator",F5=y.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=UZ(L5,r);return i.jsx(zr,{present:n||a.checked,children:i.jsx(fe.span,{"data-state":z5(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});F5.displayName=L5;var qZ=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=y.useRef(null),o=Xf(r),l=Gf(t);return y.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function z5(e){return e?"checked":"unchecked"}var WZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],K_="RadioGroup",[VZ,N2e]=ur(K_,[Hc,I5]),B5=Hc(),U5=I5(),[HZ,KZ]=VZ(K_),q5=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=B5(r),g=Ro(u),[p,v]=Fr({prop:a,defaultProp:s,onChange:f});return i.jsx(HZ,{scope:r,name:n,required:o,disabled:l,value:p,onValueChange:v,children:i.jsx(r_,{asChild:!0,...m,orientation:c,dir:g,loop:d,children:i.jsx(fe.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});q5.displayName=K_;var W5="RadioGroupItem",V5=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=KZ(W5,r),o=a.disabled||n,l=B5(r),c=U5(r),u=y.useRef(null),d=_e(t,u),f=a.value===s.value,h=y.useRef(!1);return y.useEffect(()=>{const m=p=>{WZ.includes(p.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),i.jsx(n_,{asChild:!0,...l,focusable:!o,active:f,children:i.jsx(D5,{disabled:o,required:a.required,checked:f,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:X(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:X(s.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});V5.displayName=W5;var GZ="RadioGroupIndicator",H5=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=U5(r);return i.jsx(F5,{...s,...n,ref:t})});H5.displayName=GZ;var K5=q5,G5=V5,YZ=H5;const G_=y.forwardRef(({className:e,...t},r)=>i.jsx(K5,{className:K("grid gap-2",e),...t,ref:r}));G_.displayName=K5.displayName;const Y_=y.forwardRef(({className:e,...t},r)=>i.jsx(G5,{ref:r,className:K("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(YZ,{className:"flex items-center justify-center",children:i.jsx(Yg,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Y_.displayName=G5.displayName;const QZ=({options:e,value:t,onChange:r,multiple:n})=>{const s=o=>{r(o)},a=(o,l)=>{const c=Array.isArray(t)?t:[];r(l?[...c,o]:c.filter(u=>u!==o))};return n?i.jsx("div",{className:"space-y-3",children:e.map((o,l)=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-blue-50 transition-colors",children:[i.jsx($5,{id:`option-${l}`,checked:Array.isArray(t)&&t.includes(o),onCheckedChange:c=>a(o,c),className:"data-[state=checked]:bg-[#073763] data-[state=checked]:border-[#073763]"}),i.jsx("label",{htmlFor:`option-${l}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:o})]},l))}):i.jsx(G_,{value:t,onValueChange:s,children:i.jsx("div",{className:"space-y-3",children:e.map((o,l)=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-blue-50 transition-colors",children:[i.jsx(Y_,{value:o,id:`option-${l}`,className:"border-[#073763] text-[#073763]"}),i.jsx("label",{htmlFor:`option-${l}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:o})]},l))})})},jo=y.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:K("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));jo.displayName="Textarea";const XZ=({value:e,onChange:t,placeholder:r="Please share your thoughts...",maxLength:n=500})=>i.jsxs("div",{className:"space-y-3",children:[i.jsx(jo,{value:e,onChange:s=>t(s.target.value),placeholder:r,maxLength:n,className:"min-h-[120px] resize-none border-gray-300 focus:border-[#007ACE] focus:ring-[#007ACE]"}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[i.jsx("span",{children:"Share any additional thoughts or suggestions"}),i.jsxs("span",{children:[e.length,"/",n]})]})]}),JZ=({value:e,onChange:t,options:r})=>{const n=r.filter(a=>a&&a.trim()),s=n.length>0?n:["😞","😐","😊"];return i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"flex space-x-4",children:s.map((a,o)=>i.jsx("button",{type:"button",onClick:()=>t(a),className:`text-6xl p-4 rounded-full transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[#f97316] ${e===a?"bg-orange-100 scale-110":"hover:bg-gray-100"}`,"aria-label":`Select ${a} rating`,children:a},o))}),e&&i.jsx("div",{className:"text-center",children:i.jsxs("span",{className:"text-lg font-medium text-[#073763]",children:["You selected: ",e]})})]})},ZZ=({value:e,onChange:t,options:r})=>{const[n,s]=y.useState(e||[...r]);y.useEffect(()=>{e&&e.length>0?s(e):s([...r])},[e,r]);const a=(c,u)=>{c.dataTransfer.setData("text/plain",u.toString())},o=c=>{c.preventDefault()},l=(c,u)=>{c.preventDefault();const d=parseInt(c.dataTransfer.getData("text/plain")),f=[...n],h=f[d];f.splice(d,1),f.splice(u,0,h),s(f),t(f)};return i.jsxs("div",{className:"space-y-2",children:[n.map((c,u)=>i.jsxs("div",{draggable:!0,onDragStart:d=>a(d,u),onDragOver:o,onDrop:d=>l(d,u),className:"flex items-center p-3 bg-white border border-gray-200 rounded-lg cursor-move hover:shadow-md transition-shadow",children:[i.jsx("span",{className:"flex items-center justify-center w-8 h-8 bg-[#f97316] text-white rounded-full text-sm font-medium mr-3",children:u+1}),i.jsx(JU,{className:"h-5 w-5 text-gray-400 mr-3"}),i.jsx("span",{className:"flex-1 text-gray-800",children:c})]},c)),i.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Drag and drop to reorder items by importance (1 = most important)"})]})},eee=({value:e={},onChange:t,options:r,scale:n={min:1,max:5}})=>{const s=(a,o)=>{t({...e,[a]:o})};return i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-3 border-b border-gray-200",children:"Aspect"}),Array.from({length:n.max-n.min+1},(a,o)=>i.jsx("th",{className:"text-center p-3 border-b border-gray-200 min-w-[60px]",children:n.min+o},o))]})}),i.jsx("tbody",{children:r.map(a=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"p-3 border-b border-gray-100 font-medium",children:a}),Array.from({length:n.max-n.min+1},(o,l)=>{var u;const c=n.min+l;return i.jsx("td",{className:"p-3 border-b border-gray-100 text-center",children:i.jsx(G_,{value:((u=e[a])==null?void 0:u.toString())||"",onValueChange:d=>s(a,parseInt(d)),children:i.jsx(Y_,{value:c.toString()})})},c)})]},a))})]}),i.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[i.jsx("span",{children:n.minLabel||`${n.min} - Poor`}),i.jsx("span",{children:n.maxLabel||`${n.max} - Excellent`})]})]})};var Y5=["PageUp","PageDown"],Q5=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],X5={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},au="Slider",[Fb,tee,ree]=$c(au),[J5,k2e]=ur(au,[ree]),[nee,kv]=J5(au),Z5=y.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:g,...p}=e,v=y.useRef(new Set),b=y.useRef(0),w=o==="horizontal"?see:aee,[j=[],_]=Fr({prop:d,defaultProp:u,onChange:T=>{var D;(D=[...v.current][b.current])==null||D.focus(),f(T)}}),S=y.useRef(j);function N(T){const A=uee(j,T);E(T,A)}function k(T){E(T,b.current)}function C(){const T=S.current[b.current];j[b.current]!==T&&h(j)}function E(T,A,{commit:D}={commit:!1}){const R=mee(a),L=pee(Math.round((T-n)/a)*a+n,R),I=vp(L,[n,s]);_((F=[])=>{const O=lee(F,I,A);if(hee(O,c*a)){b.current=O.indexOf(I);const $=String(O)!==String(F);return $&&D&&h(O),$?O:F}else return F})}return i.jsx(nee,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:b,thumbs:v.current,values:j,orientation:o,form:g,children:i.jsx(Fb.Provider,{scope:e.__scopeSlider,children:i.jsx(Fb.Slot,{scope:e.__scopeSlider,children:i.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:X(p.onPointerDown,()=>{l||(S.current=j)}),min:n,max:s,inverted:m,onSlideStart:l?void 0:N,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&E(n,0,{commit:!0}),onEndKeyDown:()=>!l&&E(s,j.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:A})=>{if(!l){const L=Y5.includes(T.key)||T.shiftKey&&Q5.includes(T.key)?10:1,I=b.current,F=j[I],O=a*L*A;E(F+O,I,{commit:!0})}}})})})})});Z5.displayName=au;var[eL,tL]=J5(au,{startEdge:"left",endEdge:"right",size:"width",direction:1}),see=y.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=y.useState(null),m=_e(t,w=>h(w)),g=y.useRef(),p=Ro(s),v=p==="ltr",b=v&&!a||!v&&a;function x(w){const j=g.current||f.getBoundingClientRect(),_=[0,j.width],N=Q_(_,b?[r,n]:[n,r]);return g.current=j,N(w-j.left)}return i.jsx(eL,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:i.jsx(rL,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=x(w.clientX);o==null||o(j)},onSlideMove:w=>{const j=x(w.clientX);l==null||l(j)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:w=>{const _=X5[b?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:_?-1:1})}})})}),aee=y.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=y.useRef(null),f=_e(t,d),h=y.useRef(),m=!s;function g(p){const v=h.current||d.current.getBoundingClientRect(),b=[0,v.height],w=Q_(b,m?[n,r]:[r,n]);return h.current=v,w(p-v.top)}return i.jsx(eL,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:i.jsx(rL,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const v=g(p.clientY);a==null||a(v)},onSlideMove:p=>{const v=g(p.clientY);o==null||o(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const b=X5[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:b?-1:1})}})})}),rL=y.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=kv(au,r);return i.jsx(fe.span,{...u,ref:t,onKeyDown:X(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Y5.concat(Q5).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:X(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:X(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:X(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),nL="SliderTrack",sL=y.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=kv(nL,r);return i.jsx(fe.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});sL.displayName=nL;var zb="SliderRange",aL=y.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=kv(zb,r),a=tL(zb,r),o=y.useRef(null),l=_e(t,o),c=s.values.length,u=s.values.map(h=>oL(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(fe.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});aL.displayName=zb;var Bb="SliderThumb",iL=y.forwardRef((e,t)=>{const r=tee(e.__scopeSlider),[n,s]=y.useState(null),a=_e(t,l=>s(l)),o=y.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(iee,{...e,ref:a,index:o})}),iee=y.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,o=kv(Bb,r),l=tL(Bb,r),[c,u]=y.useState(null),d=_e(t,x=>u(x)),f=c?o.form||!!c.closest("form"):!0,h=Gf(c),m=o.values[n],g=m===void 0?0:oL(m,o.min,o.max),p=cee(n,o.values.length),v=h==null?void 0:h[l.size],b=v?dee(v,g,l.direction):0;return y.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${b}px)`},children:[i.jsx(Fb.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(fe.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:X(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&i.jsx(oee,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});iL.displayName=Bb;var oee=e=>{const{value:t,...r}=e,n=y.useRef(null),s=Xf(t);return y.useEffect(()=>{const a=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(u)}},[s,t]),i.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function lee(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function oL(e,t,r){const a=100/(r-t)*(e-t);return vp(a,[0,100])}function cee(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function uee(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function dee(e,t,r){const n=e/2,a=Q_([0,50],[0,n]);return(n-a(t)*r)*r}function fee(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function hee(e,t){if(t>0){const r=fee(e);return Math.min(...r)>=t}return!0}function Q_(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function mee(e){return(String(e).split(".")[1]||"").length}function pee(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var lL=Z5,gee=sL,vee=aL,yee=iL;const cL=y.forwardRef(({className:e,...t},r)=>i.jsxs(lL,{ref:r,className:K("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(gee,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(vee,{className:"absolute h-full bg-primary"})}),i.jsx(yee,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));cL.displayName=lL.displayName;const xee=({value:e,onChange:t,scale:r={min:1,max:10}})=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"px-3",children:i.jsx(cL,{value:[e||r.min],onValueChange:n=>t(n[0]),min:r.min,max:r.max,step:1,className:"w-full"})}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsx("span",{children:r.minLabel||`${r.min}`}),i.jsx("span",{className:"text-lg font-medium text-[#f97316]",children:e||r.min}),i.jsx("span",{children:r.maxLabel||`${r.max}`})]}),i.jsx("div",{className:"flex justify-between text-xs text-gray-500",children:Array.from({length:r.max-r.min+1},(n,s)=>i.jsx("span",{className:"text-center",children:r.min+s},s))})]}),bee=({children:e,title:t,required:r,isAnswered:n,className:s=""})=>i.jsxs(q,{className:`
      mb-6 shadow-lg border-0 
      animate-fade-in
      transition-all duration-300 ease-out
      hover:shadow-xl hover:scale-[1.02]
      ${n?"ring-2 ring-green-400 ring-opacity-50":""}
      ${s}
    `,children:[i.jsxs(ee,{className:`
        bg-gradient-to-r from-[#f97316] to-[#fb923c] text-white rounded-t-lg 
        relative overflow-hidden
        ${n?"bg-gradient-to-r from-green-500 to-green-600":""}
      `,children:[i.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(te,{className:"text-xl pr-4 animate-fade-in",children:t}),r&&i.jsxs("span",{className:"text-orange-200 text-sm flex items-center mt-1 animate-fade-in",children:[i.jsx("span",{className:"text-red-300 mr-1",children:"*"}),"Required"]})]}),n&&i.jsx(br,{className:"h-6 w-6 text-green-300 flex-shrink-0 animate-scale-in"})]}),n&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 to-green-600/20 animate-fade-in"})]}),i.jsx(W,{className:"p-6 transition-all duration-200",children:e})]}),wee=({children:e,title:t,required:r,isAnswered:n})=>i.jsxs(q,{className:`
      mb-20 shadow-lg border-0 mx-2
      animate-fade-in
      transition-all duration-300 ease-out
      ${n?"ring-2 ring-green-400 ring-opacity-50":""}
    `,children:[i.jsx(ee,{className:`
        bg-gradient-to-r from-[#f97316] to-[#fb923c] text-white rounded-t-lg 
        relative overflow-hidden p-4
        ${n?"bg-gradient-to-r from-green-500 to-green-600":""}
      `,children:i.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[i.jsxs("div",{className:"flex-1 pr-2",children:[i.jsx(te,{className:"text-lg leading-tight animate-fade-in",children:t}),r&&i.jsxs("span",{className:"text-orange-200 text-xs flex items-center mt-1",children:[i.jsx("span",{className:"text-red-300 mr-1",children:"*"}),"Required"]})]}),n&&i.jsx(br,{className:"h-6 w-6 text-green-300 flex-shrink-0 animate-scale-in"})]})}),i.jsx(W,{className:"p-4",children:e})]}),jee=({children:e,className:t=""})=>{const{isMobile:r,isTouchDevice:n}=su(),s=`
    ${r&&n?"touch-manipulation":""}
    ${r?"min-h-[44px]":"min-h-[40px]"}
    ${t}
  `;return i.jsx("div",{className:s,style:{WebkitTapHighlightColor:"transparent"},children:e})},_ee=({question:e,value:t,onChange:r,validation:n})=>{const{isMobile:s}=su(),a=t!=null&&t!=="",o=(n==null?void 0:n.isValid)!==!1,l=()=>{const u={value:t,onChange:r};switch(e.type){case"star":return i.jsx(TZ,{...u});case"nps":return i.jsx(RZ,{...u});case"likert":return i.jsx(MZ,{...u,scale:e.scale});case"emoji":return i.jsx(JZ,{...u,options:e.options||[]});case"ranking":return i.jsx(ZZ,{...u,options:e.options||[]});case"matrix":return i.jsx(eee,{...u,options:e.options||[],scale:e.scale});case"slider":return i.jsx(xee,{...u,scale:e.scale});case"single-choice":case"multi-choice":return i.jsx(QZ,{options:e.options||[],...u,multiple:e.type==="multi-choice"});case"text":return i.jsx(XZ,{value:t||"",onChange:r,placeholder:"Please share your thoughts..."});default:return null}},c=s?wee:bee;return i.jsxs(c,{title:e.question,required:e.required,isAnswered:a&&o,children:[(n==null?void 0:n.errors)&&n.errors.length>0&&i.jsxs(nr,{className:"mb-4 border-red-200 bg-red-50 animate-fade-in",children:[i.jsx(Oo,{className:"h-4 w-4 text-red-600"}),i.jsx(sr,{className:"text-red-700",children:n.errors[0]})]}),(n==null?void 0:n.warnings)&&n.warnings.length>0&&i.jsxs(nr,{className:"mb-4 border-yellow-200 bg-yellow-50 animate-fade-in",children:[i.jsx(ZU,{className:"h-4 w-4 text-yellow-600"}),i.jsx(sr,{className:"text-yellow-700",children:n.warnings[0]})]}),i.jsx(jee,{children:i.jsx("div",{role:"group","aria-labelledby":`question-${e.id}`,className:"animate-fade-in",children:l()})})]})},_p=({children:e,onClick:t,size:r="lg",variant:n="primary",className:s,disabled:a=!1})=>{const{colors:o}=W_(),c=(()=>{switch(n){case"primary":return{background:`linear-gradient(to right, ${o.primary}, ${o.accent})`,"&:hover":{background:`linear-gradient(to right, ${o.primary}dd, ${o.accent}dd)`}};case"secondary":return{backgroundColor:o.secondary,"&:hover":{backgroundColor:`${o.secondary}dd`}};case"outline":return{borderColor:o.primary,color:o.primary,"&:hover":{backgroundColor:o.primary,color:"white"}};default:return{}}})();return i.jsx(re,{onClick:t,size:r,disabled:a,className:K("text-white font-semibold transform transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl",n==="primary"&&"text-white",n==="outline"&&"bg-transparent border-2",s),style:c,children:e})},See=({currentQuestionIndex:e,totalQuestions:t,canGoNext:r,onPrevious:n,onNext:s})=>{const a=e===t-1;return i.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:i.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-3",children:i.jsxs("div",{className:"flex justify-between items-center gap-3",children:[i.jsxs(re,{variant:"outline",size:"lg",onClick:n,disabled:e===0,className:"flex-1 border-[#073763] text-[#073763] hover:bg-[#073763] hover:text-white disabled:opacity-30",children:[i.jsx(UR,{className:"h-5 w-5 mr-1"}),"Previous"]}),i.jsx(re,{size:"lg",onClick:s,disabled:!r,className:"flex-1 bg-gradient-to-r from-[#073763] to-[#007ACE] hover:from-[#062c52] hover:to-[#0066a6] text-white disabled:opacity-30",children:a?i.jsxs(i.Fragment,{children:[i.jsx(l7,{className:"h-5 w-5 mr-1"}),"Submit"]}):i.jsxs(i.Fragment,{children:["Next",i.jsx(Gg,{className:"h-5 w-5 ml-1"})]})})]})})})},Nee=e=>{const{isMobile:t}=su();if(t)return i.jsx(See,{...e});const{currentQuestionIndex:r,totalQuestions:n,canGoNext:s,onPrevious:a,onNext:o}=e,l=r===n-1;return i.jsxs("div",{className:"flex justify-between items-center animate-fade-in",children:[i.jsxs(_p,{variant:"outline",onClick:a,disabled:r===0,className:"flex items-center gap-2",children:[i.jsx(UR,{size:16}),"Previous"]}),i.jsxs(_p,{onClick:o,disabled:!s,className:"flex items-center gap-2",children:[l?"Submit":"Next",!l&&i.jsx(Gg,{size:16})]})]})},kee=({currentQuestion:e,responses:t,onSuggestionClick:r})=>{const s=(()=>{var l;const a=Object.values(t),o=a.filter(c=>typeof c=="number"&&c>=4||typeof c=="string"&&c.includes("good")).length/a.length;switch(e.type){case"star":return o>.6?[5,4]:[3,4];case"text":return o>.6?["Great service overall!","Very satisfied with the experience"]:["Could be improved","Good but has room for enhancement"];case"single-choice":return((l=e.options)==null?void 0:l.slice(0,2))||[];default:return[]}})();return s.length===0?null:i.jsxs(q,{className:"mt-4 bg-blue-50 border-blue-200 animate-fade-in",children:[i.jsx(ee,{className:"pb-3",children:i.jsxs(te,{className:"text-sm flex items-center gap-2 text-blue-700",children:[i.jsx(jj,{className:"h-4 w-4"}),"Smart Suggestions"]})}),i.jsx(W,{className:"pt-0",children:i.jsx("div",{className:"space-y-2",children:s.slice(0,2).map((a,o)=>i.jsxs(re,{variant:"outline",size:"sm",className:"w-full justify-between text-left h-auto p-3 hover:bg-blue-100",onClick:()=>r(a),children:[i.jsx("span",{className:"truncate",children:String(a)}),i.jsx(bj,{className:"h-3 w-3 ml-2 flex-shrink-0"})]},o))})})]})},Pee=({questions:e,currentQuestionIndex:t,responses:r,completedQuestions:n,hasConsented:s,canGoNext:a,estimatedTimeRemaining:o,averageResponseTime:l,onQuestionResponse:c,onNext:u,onPrevious:d,getValidationResult:f})=>{const{isMobile:h}=su(),m=e[t];return!s||!m?null:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:i.jsxs(N5,{size:"md",className:"py-8 lg:py-12",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(Ar.Heading1,{className:"mb-4",children:"Share Your Feedback"}),i.jsx(Ar.Body,{className:"max-w-2xl mx-auto",children:"Your insights help us improve. This should take just a few minutes."})]}),i.jsxs(Is,{padding:"lg",shadow:"lg",className:"mb-8 backdrop-blur-sm bg-white/95 dark:bg-gray-900/95",children:[i.jsx("div",{className:"mb-8",children:i.jsx(AZ,{currentQuestionIndex:t,totalQuestions:e.length,completedQuestions:n,estimatedTimeRemaining:o,averageResponseTime:l})}),i.jsx("div",{className:"mb-8",children:i.jsx(_ee,{question:m,value:r[m.id],onChange:g=>c(m.id,g),validation:f(m.id)})}),!h&&i.jsx("div",{className:"mb-8",children:i.jsx(kee,{currentQuestion:m,responses:r,onSuggestionClick:g=>c(m.id,g)})}),i.jsx(Nee,{currentQuestionIndex:t,totalQuestions:e.length,canGoNext:a,onPrevious:d,onNext:u})]}),i.jsx("div",{className:"text-center",children:i.jsxs(Ar.Caption,{children:["Question ",t+1," of ",e.length]})})]})})},uL=({title:e,subtitle:t,showSecureIndicator:r=!1})=>{const{colors:n,logoAsset:s,organization:a}=Nv(),o={background:`linear-gradient(to right, ${n.primary}, ${n.accent})`},l=(a==null?void 0:a.name)||"Pulsify";return i.jsxs("div",{className:"p-8 text-white text-center",style:o,children:[(s==null?void 0:s.asset_url)&&i.jsx("img",{src:s.asset_url,alt:s.asset_name||`${l} Logo`,className:"h-20 mx-auto mb-6 drop-shadow-lg object-contain",onError:c=>{c.target.src="/lovable-uploads/pulse-favicon-64.png",c.target.alt="Pulsify Logo"}}),i.jsx("h1",{className:"text-4xl font-bold mb-3",children:e==="Pulselify"?"Pulsify":e}),i.jsx("p",{className:"text-xl text-blue-100",children:t==="Turn Customer Feedback Into Growth"?"Real Insights. Real Impact.":t}),r&&i.jsx("div",{className:"flex items-center justify-center mt-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-green-300",children:[i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),i.jsx("span",{className:"text-sm",children:"Secure & Confidential"})]})})]})},Eee=({onStart:e})=>{const{colors:t,welcomeTitle:r,welcomeDescription:n}=Nv(),s={background:`linear-gradient(135deg, ${t.primary}22 0%, ${t.secondary}22 50%, ${t.accent}22 100%)`};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:s,children:i.jsxs(q,{className:"max-w-2xl w-full shadow-2xl border-0 overflow-hidden",children:[i.jsx(uL,{title:r,subtitle:n}),i.jsxs(W,{className:"p-8",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.secondary}20`},children:i.jsx(xs,{className:"h-6 w-6",style:{color:t.secondary}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Quick & Easy"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Takes only 3-5 minutes"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.accent}20`},children:i.jsx(Ao,{className:"h-6 w-6",style:{color:t.accent}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Confidential"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Your privacy is protected"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.primary}20`},children:i.jsx(Et,{className:"h-6 w-6",style:{color:t.primary}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Your Voice Matters"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Every response helps improve our services"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.accent}20`},children:i.jsx(bs,{className:"h-6 w-6",style:{color:t.accent}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Make a Difference"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Shape the future of our services"})]})]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx(_p,{onClick:e,size:"lg",className:"px-12 py-4 text-lg",children:"Start Feedback Survey"}),i.jsx("p",{className:"text-sm mt-4 text-gray-600",children:"Your responses are anonymous and help us improve our services"})]})]})]})})},Cee=({responses:e})=>{const t=e.reduce((r,n)=>r+n.score,0);return i.jsx(q,{className:"bg-gray-50",children:i.jsxs(W,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-[#1e3a8a]",children:"Total Points Earned:"}),i.jsxs("span",{className:"text-2xl font-bold text-[#f97316]",children:[t," pts"]})]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Based on ",e.length," answered question",e.length!==1?"s":""]})]})})},Oee=({averageScore:e})=>{const r=(s=>s>=80?{icon:g7,label:"Excellent!",color:"bg-green-100 text-green-800"}:s>=60?{icon:bs,label:"Good!",color:"bg-yellow-100 text-yellow-800"}:{icon:VR,label:"Thanks!",color:"bg-blue-100 text-blue-800"})(e),n=r.icon;return i.jsx(q,{className:"bg-gradient-to-r from-[#073763] to-[#007ACE] text-white",children:i.jsxs(W,{className:"p-6 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-4",children:[i.jsx(n,{className:"h-12 w-12 mr-3"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-3xl font-bold",children:e}),i.jsx("p",{className:"text-blue-200",children:"Average Score"})]})]}),i.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${r.color} bg-white`,children:r.label})]})})},Aee=({responses:e,questions:t})=>{const r=s=>{const a=t.find(o=>o.id===s);return(a==null?void 0:a.question)||"Unknown Question"},n=s=>s>=80?"text-green-600":s>=60?"text-yellow-600":"text-red-600";return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-[#073763] mb-4",children:"Your Question Scores:"}),e.map((s,a)=>i.jsx(q,{className:"border-l-4 border-l-[#007ACE]",children:i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1 pr-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Question ",a+1]}),i.jsx("p",{className:"font-medium text-gray-900",children:r(s.questionId)}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Your answer: ",Array.isArray(s.value)?s.value.join(", "):String(s.value)]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:`text-2xl font-bold ${n(s.score)}`,children:s.score}),i.jsx("div",{className:"text-xs text-gray-500",children:"points"})]})]})})},s.questionId))]})},Tee=({responses:e,questions:t})=>{const r=()=>{const o={};return e.forEach(l=>{const c=t.find(u=>u.id===l.questionId);c&&c.category&&(o[c.category]||(o[c.category]={scores:[],name:n(c.category)}),o[c.category].scores.push(l.score))}),Object.entries(o).map(([l,c])=>({category:l,name:c.name,averageScore:Math.round(c.scores.reduce((u,d)=>u+d,0)/c.scores.length),count:c.scores.length}))},n=o=>({QualityCommunication:"Communication Quality",QualityStaff:"Staff Quality",ValueForMoney:"Value for Money",QualityService:"Service Quality",LikeliRecommend:"Likelihood to Recommend",DidWeMakeEasy:"Ease of Business",Comments:"Additional Comments"})[o]||o,s=o=>o>=80?"text-green-600 bg-green-50":o>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",a=r();return a.length===0?null:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-[#073763] mb-4",children:"Category Breakdown:"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(({category:o,name:l,averageScore:c,count:u})=>i.jsxs(q,{className:"border-l-4 border-l-[#007ACE]",children:[i.jsx(ee,{className:"pb-3",children:i.jsx(te,{className:"text-sm font-medium text-gray-700",children:l})}),i.jsx(W,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-bold ${s(c)}`,children:[c," points"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[u," question",u!==1?"s":""]})]})})]},o))})]})},dL=e=>{const t=["good","great","excellent","amazing","satisfied","happy","love","perfect","wonderful","fantastic"],r=["bad","terrible","awful","disappointed","hate","poor","worst","horrible","frustrating","annoying"],n=e.toLowerCase().split(/\s+/);let s=0,a=0;n.forEach(c=>{t.some(u=>c.includes(u))&&s++,r.some(u=>c.includes(u))&&a++});const o=s+a,l=o>0?(s-a)/o:0;return{overall:l>.1?"positive":l<-.1?"negative":"neutral",score:Math.max(-1,Math.min(1,l)),confidence:Math.min(1,o/10),themes:Ree(e)}},Ree=e=>[{keywords:["staff","employee","service","help"],theme:"Staff Quality"},{keywords:["price","cost","expensive","cheap","value"],theme:"Pricing"},{keywords:["wait","time","quick","fast","slow"],theme:"Service Speed"},{keywords:["easy","difficult","simple","complex","user"],theme:"Ease of Use"},{keywords:["quality","product","feature"],theme:"Product Quality"}].filter(n=>n.keywords.some(s=>e.toLowerCase().includes(s))).map(n=>({theme:n.theme,frequency:1,sentiment:"neutral"})),Mee=e=>{const t=e.reduce((r,n)=>(r[n.category]||(r[n.category]=[]),r[n.category].push(n),r),{});return Object.entries(t).map(([r,n])=>{const s=n.reduce((d,f)=>d+f.score,0)/n.length,a=n.filter(d=>typeof d.value=="string").map(d=>d.value),o=a.map(d=>dL(d)),l=o.length>0?o.reduce((d,f)=>d+f.score,0)/o.length:0,c=$ee(a,o),u=Iee(r,s,c);return{category:Ub(r),sentiment:l>.1?"positive":l<-.1?"negative":"neutral",averageScore:Math.round(s*20),responseCount:n.length,trend:"stable",keyIssues:c,recommendations:u}})},$ee=(e,t)=>{const r=[];return t.forEach((n,s)=>{if(n.overall==="negative"){const a=n.themes.map(o=>o.theme);r.push(...a)}}),[...new Set(r)].slice(0,3)},Iee=(e,t,r)=>{const n=[];return t<60&&n.push(`Immediate attention needed for ${Ub(e)} - score below 60%`),r.includes("Staff Quality")&&n.push("Consider additional staff training programs"),r.includes("Service Speed")&&n.push("Review and optimize service delivery processes"),r.includes("Pricing")&&n.push("Analyze pricing strategy and communicate value proposition better"),t>80&&n.push(`Maintain excellent performance in ${Ub(e)}`),n},Dee=e=>{const t=[];return e.forEach(r=>{(r.sentiment==="negative"||r.averageScore<60)&&t.push({priority:r.averageScore<50?"high":"medium",category:r.category,issue:`Low satisfaction in ${r.category} (${r.averageScore}%)`,suggestion:`Focus on ${r.keyIssues.join(", ")} to improve customer experience`,impact:"Could increase overall satisfaction by 15-25%",effort:r.keyIssues.length>2?"high":"medium"}),r.sentiment==="positive"&&r.averageScore>85&&t.push({priority:"low",category:r.category,issue:"Opportunity to leverage strength",suggestion:`Use ${r.category} as a competitive advantage in marketing`,impact:"Could help attract new customers",effort:"low"})}),t.sort((r,n)=>{const s={high:3,medium:2,low:1};return s[n.priority]-s[r.priority]})},Ub=e=>({QualityCommunication:"Communication Quality",QualityStaff:"Staff Quality",ValueForMoney:"Value for Money",QualityService:"Service Quality",LikeliRecommend:"Likelihood to Recommend",DidWeMakeEasy:"Ease of Business",Comments:"General Feedback"})[e]||e,Lee=({responses:e,questions:t})=>{const r=Mee(e),n=Dee(r),s=c=>{switch(c){case"positive":return i.jsx(br,{className:"w-4 h-4 text-green-600"});case"negative":return i.jsx(lr,{className:"w-4 h-4 text-red-600"});default:return i.jsx(Bt,{className:"w-4 h-4 text-yellow-600"})}},a=c=>{switch(c){case"positive":return"bg-green-100 text-green-800";case"negative":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},o=c=>{switch(c){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},l=c=>c>=80?"text-green-600":c>=60?"text-yellow-600":"text-red-600";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[i.jsx(ea,{className:"w-6 h-6 text-blue-600"}),i.jsx("h2",{className:"text-2xl font-bold text-[#073763]",children:"Customer Insights Dashboard"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsx(q,{children:i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Responses"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.length})]}),i.jsx(Et,{className:"h-8 w-8 text-blue-500"})]})})}),i.jsx(q,{children:i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Categories Analyzed"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.length})]}),i.jsx(Bt,{className:"h-8 w-8 text-green-500"})]})})}),i.jsx(q,{children:i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Improvement Areas"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.filter(c=>c.priority==="high").length})]}),i.jsx(lr,{className:"h-8 w-8 text-orange-500"})]})})})]}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(ea,{className:"w-5 h-5"}),"Category Performance Analysis"]})}),i.jsx(W,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((c,u)=>i.jsx(q,{className:"border-l-4 border-l-blue-500",children:i.jsxs(W,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:c.category}),i.jsxs("div",{className:"flex items-center gap-2",children:[s(c.sentiment),i.jsx(ve,{className:a(c.sentiment),children:c.sentiment})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Average Score:"}),i.jsxs("span",{className:`font-bold ${l(c.averageScore)}`,children:[c.averageScore,"%"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Responses:"}),i.jsx("span",{className:"font-medium",children:c.responseCount})]}),c.keyIssues.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Key Issues:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:c.keyIssues.map((d,f)=>i.jsx(ve,{variant:"outline",className:"text-xs",children:d},f))})]}),c.recommendations.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Recommendations:"}),i.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:c.recommendations.slice(0,2).map((d,f)=>i.jsxs("li",{className:"flex items-start gap-1",children:[i.jsx("span",{className:"text-blue-500",children:"•"}),d]},f))})]})]})]})},u))})})]}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(jj,{className:"w-5 h-5"}),"AI-Generated Improvement Suggestions"]})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-4",children:n.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(br,{className:"w-12 h-12 mx-auto mb-3 text-green-500"}),i.jsx("p",{className:"text-lg font-medium",children:"Great job! No critical issues found."}),i.jsx("p",{className:"text-sm",children:"Your customers seem satisfied with the current service quality."})]}):n.map((c,u)=>i.jsx(q,{className:"border-l-4 border-l-orange-500",children:i.jsx(W,{className:"p-4",children:i.jsx("div",{className:"flex items-start justify-between mb-2",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs(ve,{className:o(c.priority),children:[c.priority," priority"]}),i.jsx("span",{className:"text-sm text-gray-600",children:c.category})]}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:c.issue}),i.jsx("p",{className:"text-sm text-gray-700 mb-2",children:c.suggestion}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["Impact: ",c.impact]}),i.jsxs("span",{children:["Effort: ",c.effort]})]})]})})})},u))})})]})]})},Fee=({responses:e})=>{const r=e.filter(m=>typeof m.value=="string").map(m=>({...m,sentiment:dL(m.value)})),n=r.filter(m=>m.sentiment.overall==="positive"),s=r.filter(m=>m.sentiment.overall==="negative"),a=r.filter(m=>m.sentiment.overall==="neutral"),o=r.length>0?r.reduce((m,g)=>m+g.sentiment.score,0)/r.length:0,c=r.flatMap(m=>m.sentiment.themes).reduce((m,g)=>(m[g.theme]=(m[g.theme]||0)+1,m),{}),u=Object.entries(c).sort(([,m],[,g])=>g-m).slice(0,5),d=m=>m>.2?i.jsx(St,{className:"w-5 h-5 text-green-600"}):m<-.2?i.jsx(Nj,{className:"w-5 h-5 text-red-600"}):i.jsx(W0,{className:"w-5 h-5 text-yellow-600"}),f=m=>m>.2?"bg-green-100 text-green-800":m<-.2?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",h=m=>m>.2?"Positive":m<-.2?"Negative":"Neutral";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[d(o),"Overall Customer Sentiment"]})}),i.jsx(W,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[d(o),i.jsx(ve,{className:f(o),children:h(o)})]}),i.jsxs("p",{className:"text-2xl font-bold",children:[Math.round((o+1)*50),"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Sentiment Score"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx(Rk,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.length}),i.jsx("p",{className:"text-sm text-gray-600",children:"Positive Reviews"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx(p7,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.length}),i.jsx("p",{className:"text-sm text-gray-600",children:"Negative Reviews"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx(W0,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),i.jsx("p",{className:"text-2xl font-bold text-gray-600",children:a.length}),i.jsx("p",{className:"text-sm text-gray-600",children:"Neutral Reviews"})]})]})})]}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Most Discussed Topics"})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-3",children:u.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"Not enough text feedback to analyze themes."}):u.map(([m,g],p)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold",children:p+1}),i.jsx("span",{className:"font-medium",children:m})]}),i.jsxs(ve,{variant:"outline",children:[g," mentions"]})]},m))})})]}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Recent Feedback Highlights"})}),i.jsx(W,{children:i.jsxs("div",{className:"space-y-4",children:[n.slice(0,2).map((m,g)=>i.jsxs("div",{className:"border-l-4 border-green-500 pl-4 py-2 bg-green-50",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Rk,{className:"w-4 h-4 text-green-600"}),i.jsx(ve,{className:"bg-green-100 text-green-800",children:"Positive"})]}),i.jsxs("p",{className:"text-sm text-gray-700",children:['"',String(m.value),'"']})]},`positive-${g}`)),s.slice(0,2).map((m,g)=>i.jsxs("div",{className:"border-l-4 border-red-500 pl-4 py-2 bg-red-50",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Oo,{className:"w-4 h-4 text-red-600"}),i.jsx(ve,{className:"bg-red-100 text-red-800",children:"Needs Attention"})]}),i.jsxs("p",{className:"text-sm text-gray-700",children:['"',String(m.value),'"']})]},`negative-${g}`)),r.length===0&&i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No text feedback available for sentiment analysis."})]})})]})]})},zee=({analytics:e})=>{const t=r=>{switch(r){case"positive":return"bg-green-100 text-green-800";case"neutral":return"bg-yellow-100 text-yellow-800";default:return"bg-red-100 text-red-800"}};return i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsx(q,{className:"border-l-4 border-l-blue-500",children:i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Response Time"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[e.responseTime,"s"]})]}),i.jsx(xs,{className:"h-8 w-8 text-blue-500"})]})})}),i.jsx(q,{className:"border-l-4 border-l-green-500",children:i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Engagement"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Math.round(e.engagementScore),"%"]})]}),i.jsx(ea,{className:"h-8 w-8 text-green-500"})]})})}),i.jsx(q,{className:"col-span-2",children:i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(dd,{className:"h-5 w-5 text-purple-600"}),i.jsx("span",{className:"font-medium",children:"Satisfaction Trend"}),i.jsx(ve,{className:t(e.satisfactionTrend),children:e.satisfactionTrend.replace("_"," ")})]})})})]})},fL=e=>{const t={delighted:{keywords:["amazing","fantastic","excellent","outstanding","perfect","love","impressed","exceeded expectations"],multipliers:["very","extremely","absolutely","completely"]},satisfied:{keywords:["good","satisfied","pleased","happy","nice","fine","okay","decent"],multipliers:["quite","pretty","fairly"]},neutral:{keywords:["average","okay","fine","standard","normal","typical"],multipliers:[]},frustrated:{keywords:["slow","confusing","difficult","annoying","disappointing","unclear","complicated"],multipliers:["very","quite","extremely"]},angry:{keywords:["terrible","horrible","awful","worst","hate","furious","unacceptable","disgusting"],multipliers:["absolutely","completely","totally"]},confused:{keywords:["confused","unclear","unsure","lost","complicated","hard to understand"],multipliers:["very","quite","really"]}},r=e.toLowerCase(),n=r.split(/\s+/);let s={emotion:"neutral",confidence:0,indicators:[]};return Object.entries(t).forEach(([a,o])=>{let l=0;const c=[];o.keywords.forEach(d=>{if(r.includes(d)){l+=1,c.push(d);const f=n.indexOf(d);if(f>0){const h=n[f-1];o.multipliers.includes(h)&&(l+=.5,c.push(`${h} ${d}`))}}});const u=Math.min(l/3,1);u>s.confidence&&(s={emotion:a,confidence:u,indicators:c})}),s},Bee=e=>{const t=e.filter(s=>typeof s.value=="string").map(s=>s.value);if(t.length===0)return[];const r={"Staff Service":["staff","employee","worker","team","person","service","help","support"],"Product Quality":["product","quality","item","goods","merchandise","feature","functionality"],Pricing:["price","cost","expensive","cheap","value","money","fee","charge"],"Speed & Efficiency":["fast","slow","quick","wait","time","speed","efficient","delay"],"User Experience":["easy","difficult","user","interface","design","navigation","experience"],Communication:["communication","information","clear","explain","understand","confusing"],"Location & Facilities":["location","place","facility","building","parking","access","clean"],Technology:["website","app","system","technology","digital","online","mobile"]},n=[];return Object.entries(r).forEach(([s,a])=>{const o=[];let l=0;if(t.forEach(c=>{if(a.filter(d=>c.toLowerCase().includes(d)).length>0){o.push(c);const d=fL(c);["delighted","satisfied"].includes(d.emotion)?l+=1:["frustrated","angry"].includes(d.emotion)&&(l-=1)}}),o.length>0){const c=l>0?"positive":l<0?"negative":"neutral";n.push({topic:s,keywords:a.filter(u=>o.some(d=>d.toLowerCase().includes(u))),frequency:o.length,sentiment:c,responses:o.slice(0,3)})}}),n.sort((s,a)=>a.frequency-s.frequency)},Uee=e=>{const t=e.length>0?e.reduce((n,s)=>n+s.score,0)/e.length:0;return[{period:"Last 7 days",averageScore:Math.round(t*10)/10,sentimentTrend:t>3.5?"improving":t<2.5?"declining":"stable",changePercentage:Math.round((Math.random()-.5)*20),sampleSize:e.length},{period:"Last 30 days",averageScore:Math.round((t+(Math.random()-.5)*.5)*10)/10,sentimentTrend:"stable",changePercentage:Math.round((Math.random()-.5)*15),sampleSize:Math.max(e.length,Math.floor(e.length*1.5))}]},qee=e=>{const t=e.reduce((s,a)=>(s[a.category]||(s[a.category]=[]),s[a.category].push(a.score),s),{}),r={},n=Object.keys(t);for(let s=0;s<n.length;s++)for(let a=s+1;a<n.length;a++){const o=n[s],l=n[a],c=t[o],u=t[l];if(c.length>1&&u.length>1){const d=Math.min(c.length,u.length),f=c.slice(0,d),h=u.slice(0,d),m=Wee(f,h);r[`${o} vs ${l}`]=Math.round(m*100)/100}}return r},Wee=(e,t)=>{const r=e.length;if(r===0)return 0;const n=e.reduce((d,f)=>d+f,0),s=t.reduce((d,f)=>d+f,0),a=e.reduce((d,f,h)=>d+f*t[h],0),o=e.reduce((d,f)=>d+f*f,0),l=t.reduce((d,f)=>d+f*f,0),c=r*a-n*s,u=Math.sqrt((r*o-n*n)*(r*l-s*s));return u===0?0:c/u},hL=e=>{const t=e.filter(h=>typeof h.value=="string"),r=t.map(h=>fL(h.value)),n=Bee(e),s=Uee(e),a=qee(e),o=[],l=[];return r.filter(h=>["frustrated","angry"].includes(h.emotion)&&h.confidence>.5).length>t.length*.2&&o.push("High negative emotion detected in customer feedback"),e.filter(h=>h.score<3).length>e.length*.3&&o.push("30%+ of responses have low satisfaction scores"),n.filter(h=>h.sentiment==="positive"&&h.frequency>2).forEach(h=>{l.push(`Leverage strength in ${h.topic} as competitive advantage`)}),e.filter(h=>h.score>=4).length>e.length*.6&&l.push("Strong overall satisfaction - opportunity for referral programs"),{emotionBreakdown:r,topicClusters:n,trendAnalysis:s,correlationMatrix:a,riskFactors:o,opportunityAreas:l}},mL=(e,t)=>{const r=[];return t.riskFactors.forEach((n,s)=>{n.includes("negative emotion")&&r.push({id:`risk-emotion-${s}`,title:"Implement Immediate Customer Recovery Program",description:"High levels of negative emotions detected. Implement proactive outreach to dissatisfied customers.",category:"Customer Recovery",priority:"critical",impactEffort:{impact:"high",effort:"medium",score:8.5},roi:{estimatedCost:"$5,000 - $15,000",expectedBenefit:"25-40% reduction in churn, improved brand reputation",timeToRealize:"2-4 weeks",riskLevel:"low"},actionItems:["Set up automated alerts for negative feedback","Create customer recovery email templates","Train staff on handling dissatisfied customers","Implement follow-up calling program"],kpis:["Customer retention rate","Net Promoter Score improvement","Response time to negative feedback","Resolution rate"],timeline:"30 days",confidence:.85,reasoning:["Negative emotions strongly correlate with churn","Proactive recovery programs show 60%+ success rates","Early intervention costs 5x less than customer acquisition"]}),n.includes("low satisfaction scores")&&r.push({id:`risk-scores-${s}`,title:"Service Quality Improvement Initiative",description:"Address systematic issues causing low satisfaction scores across multiple touchpoints.",category:"Service Quality",priority:"high",impactEffort:{impact:"high",effort:"high",score:7.5},roi:{estimatedCost:"$20,000 - $50,000",expectedBenefit:"15-30% increase in satisfaction scores",timeToRealize:"8-12 weeks",riskLevel:"medium"},actionItems:["Conduct root cause analysis of low scores","Implement service quality training program","Review and optimize key customer touchpoints","Establish quality monitoring system"],kpis:["Average satisfaction score","Service quality metrics","Customer complaint volume","First-call resolution rate"],timeline:"90 days",confidence:.78,reasoning:["Multiple low scores indicate systematic issues","Service quality directly impacts customer loyalty","Investment in training shows measurable ROI"]})}),t.opportunityAreas.forEach((n,s)=>{var a;if(n.includes("competitive advantage")){const o=((a=n.match(/strength in (.+?) as/))==null?void 0:a[1])||"service area";r.push({id:`opportunity-${s}`,title:`Leverage ${o} Excellence in Marketing`,description:`Use proven strength in ${o} to attract new customers and differentiate from competitors.`,category:"Marketing & Growth",priority:"medium",impactEffort:{impact:"medium",effort:"low",score:6.5},roi:{estimatedCost:"$3,000 - $10,000",expectedBenefit:"10-20% increase in new customer acquisition",timeToRealize:"4-6 weeks",riskLevel:"low"},actionItems:[`Create case studies highlighting ${o} excellence`,"Develop targeted marketing campaigns","Collect and showcase customer testimonials","Train sales team on key differentiators"],kpis:["Lead generation increase","Conversion rate improvement","Brand awareness metrics","Customer acquisition cost"],timeline:"45 days",confidence:.72,reasoning:["Positive feedback indicates genuine strength","Authentic testimonials drive 35% higher conversion","Low-cost marketing leverages existing assets"]})}n.includes("referral programs")&&r.push({id:`referral-program-${s}`,title:"Launch Customer Referral Program",description:"High satisfaction levels indicate customers are likely to refer others. Implement structured referral program.",category:"Customer Growth",priority:"medium",impactEffort:{impact:"medium",effort:"medium",score:7},roi:{estimatedCost:"$8,000 - $20,000",expectedBenefit:"20-35% of new customers from referrals",timeToRealize:"6-8 weeks",riskLevel:"low"},actionItems:["Design referral reward structure","Create referral tracking system","Develop referral request email campaigns","Set up referral landing pages"],kpis:["Referral conversion rate","Number of referral participants","Customer acquisition cost reduction","Referral customer lifetime value"],timeline:"60 days",confidence:.68,reasoning:["High satisfaction correlates with referral likelihood","Referred customers have 37% higher retention","Referral programs reduce acquisition costs by 50%"]})}),t.topicClusters.forEach(n=>{n.sentiment==="negative"&&n.frequency>2&&r.push({id:`topic-${n.topic.toLowerCase().replace(/\s+/g,"-")}`,title:`Address ${n.topic} Issues`,description:`Multiple customers have expressed concerns about ${n.topic.toLowerCase()}. Immediate attention required.`,category:"Issue Resolution",priority:n.frequency>5?"critical":"high",impactEffort:{impact:"high",effort:"medium",score:8},roi:{estimatedCost:"$5,000 - $25,000",expectedBenefit:`Resolve ${n.frequency} customer concerns, prevent negative reviews`,timeToRealize:"2-6 weeks",riskLevel:"low"},actionItems:[`Analyze specific ${n.topic.toLowerCase()} feedback`,"Identify root causes and quick wins","Implement immediate improvements","Follow up with affected customers"],kpis:[`${n.topic} satisfaction score`,"Related complaint volume","Customer retention in affected segment","Issue recurrence rate"],timeline:"30-45 days",confidence:.82,reasoning:[`${n.frequency} customers mentioned this issue`,"Addressing specific concerns shows immediate impact","Proactive resolution prevents escalation"]})}),r.sort((n,s)=>{const a={critical:4,high:3,medium:2,low:1},o=a[s.priority]-a[n.priority];return o!==0?o:s.impactEffort.score-n.impactEffort.score})},pL=(e,t)=>{const r=[],n=e.filter(l=>l.score<3),s=Math.min(n.length/e.length*100,85);s>20&&r.push({type:"churn_risk",title:"Customer Churn Risk Alert",description:`${Math.round(s)}% probability of increased customer churn in the next 30 days based on current feedback patterns.`,probability:s/100,timeframe:"30 days",preventiveActions:["Implement immediate customer outreach program","Offer service recovery incentives","Address top complaint categories first","Increase customer success touchpoints"],indicators:[`${n.length} low satisfaction scores`,"Declining sentiment trend","Negative emotion patterns detected"]});const a=e.reduce((l,c)=>l+c.score,0)/e.length,o=a>3.5?"improving":a<2.5?"declining":"stable";return r.push({type:"satisfaction_forecast",title:"Satisfaction Score Forecast",description:`Customer satisfaction is predicted to be ${o} over the next quarter based on current trends.`,probability:.75,timeframe:"90 days",preventiveActions:o==="declining"?["Implement service improvement initiatives","Increase customer feedback frequency","Focus on top dissatisfaction drivers"]:["Maintain current service levels","Capitalize on positive momentum","Expand successful practices"],indicators:[`Current average score: ${a.toFixed(1)}`,`Trend direction: ${o}`,"Historical pattern analysis"]}),t.topicClusters.forEach(l=>{l.sentiment==="negative"&&l.frequency>1&&r.push({type:"early_warning",title:`${l.topic} Issue Escalation Warning`,description:`Rising complaints about ${l.topic.toLowerCase()} may lead to broader service issues if not addressed.`,probability:Math.min(l.frequency*.15,.8),timeframe:"2-4 weeks",preventiveActions:[`Review ${l.topic.toLowerCase()} processes immediately`,"Implement temporary workarounds","Communicate improvements to customers","Monitor feedback closely"],indicators:[`${l.frequency} related complaints`,"Negative sentiment trend","Customer keyword analysis"]})}),t.opportunityAreas.length>0&&r.push({type:"opportunity",title:"Customer Advocacy Opportunity",description:"High satisfaction levels indicate strong potential for customer advocacy and referral programs.",probability:.65,timeframe:"60 days",preventiveActions:["Launch customer testimonial campaign","Implement referral reward program","Create case studies from positive feedback","Develop customer success stories"],indicators:["High satisfaction scores detected","Positive emotion patterns","Strong service area performance"]}),r.sort((l,c)=>c.probability-l.probability)},Vee=e=>{const t={critical:10,high:7,medium:5,low:2},r={high:3,medium:2,low:1},n={low:3,medium:2,high:1},s=t[e.priority],a=r[e.impactEffort.impact],o=n[e.impactEffort.effort],l=e.confidence*5;return s+a+o+l},Hee=({responses:e,questions:t})=>{const[r,n]=y.useState("insights"),[s,a]=y.useState(null),o=hL(e),l=mL(e,o),c=pL(e,o),u=h=>({delighted:i.jsx(bs,{className:"w-4 h-4 text-yellow-500"}),satisfied:i.jsx(St,{className:"w-4 h-4 text-green-500"}),neutral:i.jsx(Et,{className:"w-4 h-4 text-gray-500"}),frustrated:i.jsx(lr,{className:"w-4 h-4 text-orange-500"}),angry:i.jsx(lr,{className:"w-4 h-4 text-red-500"}),confused:i.jsx(dd,{className:"w-4 h-4 text-purple-500"})})[h],d=h=>({critical:"bg-red-100 text-red-800 border-red-200",high:"bg-orange-100 text-orange-800 border-orange-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-blue-100 text-blue-800 border-blue-200"})[h],f=h=>({churn_risk:i.jsx(lr,{className:"w-5 h-5 text-red-500"}),satisfaction_forecast:i.jsx(St,{className:"w-5 h-5 text-blue-500"}),early_warning:i.jsx(Ao,{className:"w-5 h-5 text-orange-500"}),opportunity:i.jsx(ea,{className:"w-5 h-5 text-green-500"})})[h];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[i.jsx(dd,{className:"w-6 h-6 text-purple-600"}),i.jsx("h2",{className:"text-2xl font-bold text-[#073763]",children:"Advanced Customer Intelligence"}),i.jsx(ve,{variant:"outline",className:"ml-2",children:"AI-Powered"})]}),i.jsxs(ln,{value:r,onValueChange:n,className:"w-full",children:[i.jsxs(cn,{className:"grid w-full grid-cols-4",children:[i.jsx(Ce,{value:"insights",children:"Deep Insights"}),i.jsx(Ce,{value:"recommendations",children:"Smart Actions"}),i.jsx(Ce,{value:"predictions",children:"Predictions"}),i.jsx(Ce,{value:"trends",children:"Trends"})]}),i.jsxs(ge,{value:"insights",className:"space-y-6",children:[i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(dd,{className:"w-5 h-5"}),"Emotion Intelligence"]})}),i.jsx(W,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:o.emotionBreakdown.reduce((h,m)=>{const g=h.find(p=>p.emotion===m.emotion);return g?(g.count++,g.avgConfidence=(g.avgConfidence+m.confidence)/2):h.push({emotion:m.emotion,count:1,avgConfidence:m.confidence}),h},[]).map(({emotion:h,count:m,avgConfidence:g})=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u(h),i.jsx("span",{className:"text-sm font-medium capitalize",children:h})]}),i.jsx("div",{className:"text-lg font-bold",children:m}),i.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(g*100),"% confidence"]})]},h))})})]}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(or,{className:"w-5 h-5"}),"Topic Analysis"]})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-4",children:o.topicClusters.map((h,m)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium",children:h.topic}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ve,{className:h.sentiment==="positive"?"bg-green-100 text-green-800":h.sentiment==="negative"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:h.sentiment}),i.jsxs("span",{className:"text-sm text-gray-500",children:[h.frequency," mentions"]})]})]}),i.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Keywords: ",h.keywords.join(", ")]}),h.responses.length>0&&i.jsxs("div",{className:"text-xs text-gray-500",children:['Example: "',h.responses[0],'"']})]},m))})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(lr,{className:"w-5 h-5"}),"Risk Factors"]})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-2",children:o.riskFactors.length===0?i.jsx("p",{className:"text-gray-500 text-sm",children:"No significant risks detected"}):o.riskFactors.map((h,m)=>i.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded text-sm",children:h},m))})})]}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2 text-green-600",children:[i.jsx(ea,{className:"w-5 h-5"}),"Opportunities"]})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-2",children:o.opportunityAreas.length===0?i.jsx("p",{className:"text-gray-500 text-sm",children:"No opportunities identified"}):o.opportunityAreas.map((h,m)=>i.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded text-sm",children:h},m))})})]})]})]}),i.jsx(ge,{value:"recommendations",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-4",children:l.map(h=>i.jsx(q,{className:`cursor-pointer transition-all hover:shadow-md ${(s==null?void 0:s.id)===h.id?"ring-2 ring-blue-500":""}`,onClick:()=>a(h),children:i.jsxs(W,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ve,{className:d(h.priority),children:h.priority}),i.jsx("span",{className:"text-sm text-gray-600",children:h.category})]}),i.jsx("h4",{className:"font-semibold mb-1",children:h.title}),i.jsx("p",{className:"text-sm text-gray-600",children:h.description})]}),i.jsxs("div",{className:"text-right ml-4",children:[i.jsx("div",{className:"text-lg font-bold text-blue-600",children:Vee(h).toFixed(1)}),i.jsx("div",{className:"text-xs text-gray-500",children:"Priority Score"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Impact:"}),i.jsx("span",{className:"ml-1 font-medium",children:h.impactEffort.impact})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Effort:"}),i.jsx("span",{className:"ml-1 font-medium",children:h.impactEffort.effort})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Timeline:"}),i.jsx("span",{className:"ml-1 font-medium",children:h.timeline})]})]})]})},h.id))}),i.jsx("div",{className:"lg:col-span-1",children:s&&i.jsxs(q,{className:"sticky top-4",children:[i.jsx(ee,{children:i.jsx(te,{className:"text-lg",children:s.title})}),i.jsxs(W,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("h5",{className:"font-medium mb-2 flex items-center gap-2",children:[i.jsx(KU,{className:"w-4 h-4"}),"ROI Analysis"]}),i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Cost:"})," ",s.roi.estimatedCost]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Benefit:"})," ",s.roi.expectedBenefit]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Timeline:"})," ",s.roi.timeToRealize]})]})]}),i.jsxs("div",{children:[i.jsxs("h5",{className:"font-medium mb-2 flex items-center gap-2",children:[i.jsx(jj,{className:"w-4 h-4"}),"Action Items"]}),i.jsx("ul",{className:"text-sm space-y-1",children:s.actionItems.map((h,m)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),h]},m))})]}),i.jsxs("div",{children:[i.jsxs("h5",{className:"font-medium mb-2 flex items-center gap-2",children:[i.jsx(or,{className:"w-4 h-4"}),"Key Metrics"]}),i.jsx("div",{className:"text-sm space-y-1",children:s.kpis.map((h,m)=>i.jsxs("div",{className:"text-gray-600",children:["• ",h]},m))})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Reasoning"}),i.jsx("div",{className:"text-sm space-y-1",children:s.reasoning.map((h,m)=>i.jsxs("div",{className:"text-gray-600",children:["• ",h]},m))})]}),i.jsxs("div",{className:"pt-4",children:[i.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Confidence: ",Math.round(s.confidence*100),"%"]}),i.jsx(re,{className:"w-full",children:"Start Implementation"})]})]})]})})]})}),i.jsx(ge,{value:"predictions",className:"space-y-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map((h,m)=>i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[f(h.type),h.title]})}),i.jsxs(W,{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-700",children:h.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Probability:"}),i.jsxs(ve,{variant:"outline",children:[Math.round(h.probability*100),"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Timeframe:"}),i.jsx("span",{className:"text-sm text-gray-600",children:h.timeframe})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Preventive Actions:"}),i.jsx("ul",{className:"text-sm space-y-1",children:h.preventiveActions.map((g,p)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(zd,{className:"w-3 h-3 text-yellow-500 mt-1 flex-shrink-0"}),g]},p))})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Key Indicators:"}),i.jsx("div",{className:"text-sm space-y-1",children:h.indicators.map((g,p)=>i.jsxs("div",{className:"text-gray-600",children:["• ",g]},p))})]})]})]},m))})}),i.jsxs(ge,{value:"trends",className:"space-y-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.trendAnalysis.map((h,m)=>i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(xs,{className:"w-5 h-5"}),h.period]})}),i.jsx(W,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600",children:h.averageScore.toFixed(1)}),i.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Trend:"}),i.jsx(ve,{className:h.sentimentTrend==="improving"?"bg-green-100 text-green-800":h.sentimentTrend==="declining"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:h.sentimentTrend})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Change:"}),i.jsxs("span",{className:`text-sm font-medium ${h.changePercentage>0?"text-green-600":h.changePercentage<0?"text-red-600":"text-gray-600"}`,children:[h.changePercentage>0?"+":"",h.changePercentage,"%"]})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Based on ",h.sampleSize," responses"]})]})})]},m))}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Category Correlations"})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-2",children:Object.entries(o.correlationMatrix).map(([h,m])=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[i.jsx("span",{className:"text-sm",children:h}),i.jsxs("span",{className:`text-sm font-medium ${m>.5?"text-green-600":m<-.5?"text-red-600":"text-gray-600"}`,children:[m>0?"+":"",m]})]},h))})})]})]})]})]})},Kee=({show:e,message:t="Success!"})=>e?i.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:i.jsxs("div",{className:"animate-scale-in",children:[i.jsx("div",{className:"bg-white rounded-full p-4 shadow-lg border-4 border-green-500 animate-pulse-success",children:i.jsx(br,{className:"h-12 w-12 text-green-500"})}),i.jsx("p",{className:"text-center mt-2 text-green-600 font-medium animate-fade-in",children:t})]})}):null,Gee=({onClose:e})=>i.jsxs("div",{className:"text-center space-y-4 pt-4",children:[i.jsx("p",{className:"text-gray-600",children:"Your feedback helps us improve our services. Thank you for taking the time to share your thoughts!"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[i.jsxs(re,{className:"bg-gradient-to-r from-[#073763] to-[#007ACE] hover:from-[#062c52] hover:to-[#0066a6] text-white",onClick:()=>{console.log("Navigate to rewards page")},children:[i.jsx(VR,{className:"mr-2 h-4 w-4"}),"View Your Rewards"]}),i.jsx(re,{variant:"outline",onClick:e,className:"border-[#073763] text-[#073763] hover:bg-[#073763] hover:text-white",children:"Submit Another Response"})]})]}),Yee=({isOpen:e,responses:t,questions:r,analytics:n,onReset:s})=>{const[a,o]=y.useState("summary"),l=t.length>0?Math.round(t.reduce((f,h)=>f+h.score,0)/t.length):0,c=hL(t),u=mL(t,c),d=pL(t,c);return i.jsx(Kc,{open:e,onOpenChange:()=>{},children:i.jsx(Mo,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(Kee,{show:!0}),i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-3xl font-bold text-[#073763] mb-2",children:"Thank You for Your Feedback!"}),i.jsx("p",{className:"text-gray-600",children:"Your responses help us understand and improve our services. Here are your personalized insights:"})]}),i.jsxs(ln,{value:a,onValueChange:o,className:"w-full",children:[i.jsxs(cn,{className:"grid w-full grid-cols-6",children:[i.jsx(Ce,{value:"summary",children:"Summary"}),i.jsx(Ce,{value:"insights",children:"Customer Insights"}),i.jsx(Ce,{value:"sentiment",children:"Sentiment Analysis"}),i.jsx(Ce,{value:"analytics",children:"Performance Analytics"}),i.jsx(Ce,{value:"intelligence",children:"AI Intelligence"}),i.jsx(Ce,{value:"recommendations",children:"Smart Recommendations"})]}),i.jsxs(ge,{value:"summary",className:"space-y-6",children:[i.jsx(Oee,{averageScore:l}),i.jsx(Cee,{responses:t}),i.jsx(Tee,{responses:t,questions:r}),i.jsx(Aee,{responses:t,questions:r})]}),i.jsx(ge,{value:"insights",className:"space-y-6",children:i.jsx(Lee,{responses:t,questions:r})}),i.jsx(ge,{value:"sentiment",className:"space-y-6",children:i.jsx(Fee,{responses:t})}),i.jsx(ge,{value:"analytics",className:"space-y-6",children:n?i.jsx(zee,{analytics:n}):i.jsx("div",{className:"text-center py-8 text-gray-500",children:i.jsx("p",{children:"Analytics data not available"})})}),i.jsx(ge,{value:"intelligence",className:"space-y-6",children:i.jsx(Hee,{responses:t,questions:r})}),i.jsx(ge,{value:"recommendations",className:"space-y-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Priority Recommendations"}),u.slice(0,3).map((f,h)=>i.jsx("div",{className:`p-4 rounded-lg border-l-4 ${f.priority==="critical"?"border-l-red-500 bg-red-50":f.priority==="high"?"border-l-orange-500 bg-orange-50":"border-l-blue-500 bg-blue-50"}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:f.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description}),i.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[i.jsxs("span",{children:["ROI: ",f.roi.expectedBenefit]}),i.jsxs("span",{children:["Timeline: ",f.timeline]}),i.jsxs("span",{children:["Confidence: ",Math.round(f.confidence*100),"%"]})]})]}),i.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${f.priority==="critical"?"bg-red-100 text-red-800":f.priority==="high"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:f.priority})]})},f.id))]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Predictive Insights"}),d.map((f,h)=>i.jsx("div",{className:`p-4 rounded-lg border ${f.type==="churn_risk"?"border-red-200 bg-red-50":f.type==="early_warning"?"border-yellow-200 bg-yellow-50":f.type==="opportunity"?"border-green-200 bg-green-50":"border-blue-200 bg-blue-50"}`,children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:f.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["Probability: ",Math.round(f.probability*100),"%"]}),i.jsxs("span",{className:"ml-4",children:["Timeframe: ",f.timeframe]})]})]})})},h))]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Next Steps"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Recommendations Generated"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.filter(f=>f.priority==="critical"||f.priority==="high").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"High Priority Actions"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Future Predictions"})]})]})]})]})})]}),i.jsx(Gee,{onClose:s})]})})})},Qee=()=>{const{colors:e}=Nv(),t={background:`linear-gradient(135deg, ${e.primary}1A 0%, ${e.secondary}1A 50%, ${e.accent}1A 100%)`};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:t,children:i.jsxs("div",{className:"text-center animate-fade-in",children:[i.jsx("div",{className:"relative mb-6",children:i.jsx(Qg,{className:"h-16 w-16 animate-spin mx-auto",style:{color:e.accent}})}),i.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:e.primary},children:"Loading Your Feedback Form"}),i.jsx("p",{className:"text-gray-600 animate-pulse",children:"Preparing your personalized experience..."}),i.jsx("div",{className:"mt-4 flex justify-center space-x-1",children:[0,1,2].map(r=>i.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:e.accent,animationDelay:`${r*.1}s`}},r))})]})})},WP=({orgLoading:e,orgError:t,organization:r})=>e?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}):t||!r?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center max-w-md",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Organization Not Found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:t||"The requested organization could not be found or is not active."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):null,px="https://rigurrwjiaucodxuuzeh.supabase.co/functions/v1/questions-crud",gx=async()=>{const{data:{session:e},error:t}=await J.auth.getSession();if(t||!(e!=null&&e.access_token))throw new Error("Authentication required");return{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"}},vx=async e=>{if(!e.ok){let t;try{t=await e.json()}catch{t={error:`HTTP ${e.status}: ${e.statusText}`}}console.error("API Error Response:",{status:e.status,statusText:e.statusText,error:t});const r=t.error||t.message||`HTTP ${e.status}: ${e.statusText}`;throw new Error(r)}try{return await e.json()}catch(t){throw console.error("Error parsing response JSON:",t),new Error("Invalid response format from server")}},Xee=e=>{var t,r;return{id:e.id,type:e.question_type,question:e.question_text,required:e.is_required||!1,category:e.category,options:((t=e.question_options)==null?void 0:t.map(n=>n.option_text))||[],scale:(r=e.question_scale_config)!=null&&r[0]?{min:e.question_scale_config[0].min_value,max:e.question_scale_config[0].max_value,minLabel:e.question_scale_config[0].min_label,maxLabel:e.question_scale_config[0].max_label}:void 0}},Jee=async e=>{if(!e)return console.warn("fetchQuestions called without organizationSlug"),[];try{const{data:t,error:r}=await J.functions.invoke("public-questions",{body:{organizationSlug:e}});if(r)throw console.error("Error fetching questions for form:",r),r;return t.map(Xee)}catch(t){throw console.error("Error fetching questions for form:",t),t}},Jo={async getQuestions(){try{const e=await gx(),t=await fetch(px,{method:"GET",headers:e}),r=await vx(t);return console.log("Successfully fetched questions:",(r==null?void 0:r.length)||0),r}catch(e){throw console.error("Error fetching questions:",e),e}},async createQuestion(e){try{console.log("Creating question:",e);const t=await gx(),r=await fetch(px,{method:"POST",headers:t,body:JSON.stringify(e)}),n=await vx(r);return console.log("Successfully created question:",n==null?void 0:n.id),n}catch(t){throw console.error("Error creating question:",t),t}},async updateQuestion(e,t){try{console.log("Updating question:",e,t);const r=await gx(),n=await fetch(px,{method:"PUT",headers:r,body:JSON.stringify({id:e,...t})}),s=await vx(n);return console.log("Successfully updated question:",s==null?void 0:s.id),s}catch(r){throw console.error("Error updating question:",r),r}},async deleteQuestion(e){try{console.log("Deleting question:",e);const{data:t,error:r}=await J.rpc("safe_delete_question",{question_uuid:e});if(r)throw console.error("Error deleting question:",r),r;const n={deleted:t,archived:!t};return console.log("Question deletion result:",n),n}catch(t){throw console.error("Error deleting question:",t),t}},async getQuestionTypes(){try{const{data:e,error:t}=await J.from("question_types").select("*").order("name");if(t)throw console.error("Error fetching question types:",t),t;return console.log("Successfully fetched question types:",(e==null?void 0:e.length)||0),e||[]}catch(e){return console.error("Error fetching question types:",e),[]}},async getQuestionCategories(){try{const{data:e,error:t}=await J.from("question_categories").select("*").order("name");if(t)throw console.error("Error fetching question categories:",t),t;return console.log("Successfully fetched question categories:",(e==null?void 0:e.length)||0),e||[]}catch(e){return console.error("Error fetching question categories:",e),[]}}},Zee=e=>{const[t,r]=y.useState(0);return{currentQuestionIndex:t,goToNext:()=>{t<e-1&&r(o=>o+1)},goToPrevious:()=>{t>0&&r(o=>o-1)},resetNavigation:()=>{r(0)},isLastQuestion:t===e-1,isFirstQuestion:t===0}},ete=()=>{const[e,t]=y.useState({}),[r,n]=y.useState(!1),{organization:s}=e_(),{toast:a}=Zn();return{responses:e,isSubmitting:r,handleResponse:(f,h)=>{t(m=>({...m,[f]:h}))},loadResponses:f=>{t(f)},generateFinalResponses:()=>Object.entries(e).map(([f,h])=>({questionId:f,value:h,score:Math.floor(Math.random()*5)+1,category:"QualityService"})),submitResponses:async(f,h)=>{if(!(s!=null&&s.id))throw new Error("Organization not found");n(!0);try{console.log("Submitting feedback via Edge Function...");const{data:m,error:g}=await J.functions.invoke("submit-feedback",{body:{responses:e,organizationId:s.id,questions:f,timingData:h}});if(g)throw g;if(!m.success)throw new Error(m.error||"Failed to submit feedback");return a({title:"Feedback submitted successfully!",description:`${m.responseCount} responses recorded`}),console.log("Feedback submitted successfully:",m),{id:m.sessionId,total_score:m.totalScore}}catch(m){throw console.error("Error submitting feedback:",m),a({title:"Error submitting feedback",description:"Please try again later",variant:"destructive"}),m}finally{n(!1)}},resetResponses:()=>{t({})},organizationId:s==null?void 0:s.id}},tte=(e,t,r=2e3)=>{Zn();const n=y.useRef();return y.useEffect(()=>(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{try{localStorage.setItem(t,JSON.stringify(e)),console.log("Auto-saved form data")}catch(o){console.error("Failed to auto-save:",o)}},r),()=>{n.current&&clearTimeout(n.current)}),[e,t,r]),{loadSavedData:()=>{try{const o=localStorage.getItem(t);return o?JSON.parse(o):null}catch(o){return console.error("Failed to load saved data:",o),null}},clearSavedData:()=>{try{localStorage.removeItem(t),console.log("Cleared saved form data")}catch(o){console.error("Failed to clear saved data:",o)}}}},rte=()=>{const[e,t]=y.useState({}),r=y.useCallback((a,o)=>{const l=[],c=[];switch(a.required&&((o==null||o==="")&&l.push("This field is required"),(a.type==="multi-choice"||a.type==="ranking")&&Array.isArray(o)&&o.length===0&&l.push("Please select at least one option"),a.type==="matrix"&&(!o||Object.keys(o).length===0)&&l.push("Please rate all aspects")),a.type){case"text":o&&typeof o=="string"&&(o.length<3&&a.required&&c.push("Consider providing more detailed feedback"),o.length>500&&l.push("Response is too long (maximum 500 characters)"));break;case"star":o!==void 0&&(o<1||o>5)&&l.push("Rating must be between 1 and 5 stars");break;case"nps":o!==void 0&&(o<0||o>10)&&l.push("NPS score must be between 0 and 10");break;case"slider":const u=a.scale||{min:1,max:10};o!==void 0&&(o<u.min||o>u.max)&&l.push(`Value must be between ${u.min} and ${u.max}`);break;case"matrix":if(o&&a.options){const d=a.options.filter(f=>!o[f]);d.length>0&&a.required&&l.push(`Please rate: ${d.join(", ")}`)}break}return{isValid:l.length===0,errors:l,warnings:c}},[]),n=y.useCallback((a,o)=>{const l={};return a.forEach(c=>{l[c.id]=r(c,o[c.id])}),t(l),l},[r]),s=y.useCallback(a=>e[a]||{isValid:!0,errors:[],warnings:[]},[e]);return{validateQuestion:r,validateAllQuestions:n,getValidationResult:s,validationResults:e}},Do=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(!0),[s,a]=y.useState(null),o=t$(),l=Ss();return y.useEffect(()=>{(async()=>{const u=l.pathname;console.log("useOrganization - Starting detection for path:",u),n(!0),a(null),t(null);let d=null;const f=o.orgSlug||o.slug,h=["admin","auth","login","create-organization","terms-of-service","privacy-policy"];if(f&&h.includes(f)){console.log(`useOrganization - Path matched special route "${f}", skipping org detection.`),n(!1);return}const g=new URL(window.location.href).hostname;if(g!=="localhost"&&!g.includes("lovable.app")&&!g.includes("lovableproject.com")){console.log("useOrganization - Checking domain:",g);try{d=await AG(g),console.log("useOrganization - Domain result:",d)}catch(v){console.warn("useOrganization - Domain check failed:",v)}}if(!d&&g.includes(".")){const v=g.split(".")[0];if(v!=="www"&&v!=="feedback"&&!v.includes("preview--")){console.log("useOrganization - Checking subdomain:",v);try{d=await ax(v),console.log("useOrganization - Subdomain result:",d)}catch(b){console.warn("useOrganization - Subdomain check failed:",b)}}}if(!d&&f){console.log("useOrganization - Checking slug from params:",f);try{d=await ax(f),console.log("useOrganization - Slug result:",d)}catch(v){console.error("useOrganization - Slug check failed:",v)}}if(!d&&u==="/"){console.log("useOrganization - No org found, defaulting to police-sacco for root path");try{d=await ax("police-sacco"),console.log("useOrganization - Default police-sacco result:",d)}catch(v){console.error("useOrganization - Default police-sacco failed:",v)}}t(d);const p=f&&!h.includes(f);!d&&p&&(console.log("useOrganization - No organization found for slug:",f),a("Organization not found")),n(!1),console.log("useOrganization - Detection finished. Final org:",(d==null?void 0:d.name)||"none")})()},[o.slug,o.orgSlug,l.pathname]),{organization:e,isLoading:r,error:s}};let Qh;const nte=new Uint8Array(16);function ste(){if(!Qh&&(Qh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qh(nte)}const qt=[];for(let e=0;e<256;++e)qt.push((e+256).toString(16).slice(1));function ate(e,t=0){return qt[e[t+0]]+qt[e[t+1]]+qt[e[t+2]]+qt[e[t+3]]+"-"+qt[e[t+4]]+qt[e[t+5]]+"-"+qt[e[t+6]]+qt[e[t+7]]+"-"+qt[e[t+8]]+qt[e[t+9]]+"-"+qt[e[t+10]]+qt[e[t+11]]+qt[e[t+12]]+qt[e[t+13]]+qt[e[t+14]]+qt[e[t+15]]}const ite=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),VP={randomUUID:ite};function HP(e,t,r){if(VP.randomUUID&&!t&&!e)return VP.randomUUID();e=e||{};const n=e.random||(e.rng||ste)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ate(n)}class ote{constructor(){un(this,"sessionTimes",new Map)}startSession(t){this.sessionTimes.set(t,{sessionId:t,startTime:Date.now(),questionTimes:[]})}startQuestion(t,r){const n=this.sessionTimes.get(t);if(!n)return;const s=n.questionTimes[n.questionTimes.length-1];s&&!s.endTime&&(s.endTime=Date.now(),s.responseTime=s.endTime-s.startTime),n.questionTimes.push({questionId:r,startTime:Date.now(),endTime:0,responseTime:0})}endQuestion(t,r){const n=this.sessionTimes.get(t);if(!n)return 0;const s=n.questionTimes.find(a=>a.questionId===r);return!s||s.endTime?(s==null?void 0:s.responseTime)||0:(s.endTime=Date.now(),s.responseTime=s.endTime-s.startTime,s.responseTime)}endSession(t){const r=this.sessionTimes.get(t);if(!r)return 0;const n=r.questionTimes[r.questionTimes.length-1];return n&&!n.endTime&&(n.endTime=Date.now(),n.responseTime=n.endTime-n.startTime),r.endTime=Date.now(),r.totalResponseTime=r.endTime-r.startTime,r.totalResponseTime}getSessionTime(t){return this.sessionTimes.get(t)}calculateCategoryAverages(t){const r=new Map;return t.forEach(n=>{const s=this.sessionTimes.get(n.sessionId);if(!s)return;const a=s.questionTimes.find(o=>o.questionId===n.questionId);!a||!a.responseTime||(r.has(n.category)||r.set(n.category,[]),r.get(n.category).push(a.responseTime))}),Array.from(r.entries()).map(([n,s])=>({category:n,averageTime:s.reduce((a,o)=>a+o,0)/s.length,totalResponses:s.length,minTime:Math.min(...s),maxTime:Math.max(...s)}))}clearSession(t){this.sessionTimes.delete(t)}}const Zo=new ote,lte=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!1),[s,a]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState([]),[d,f]=y.useState(null),{organization:h,isLoading:m}=Do(),{toast:g}=Zn(),{responses:p,isSubmitting:v,handleResponse:b,generateFinalResponses:x,submitResponses:w,resetResponses:j,loadResponses:_}=ete(),{currentQuestionIndex:S,goToNext:N,goToPrevious:k,resetNavigation:C}=Zee(e.length),{validateQuestion:E,getValidationResult:T}=rte(),A=y.useRef(!1),D=y.useRef(null),R=y.useRef(HP()),{loadSavedData:L,clearSavedData:I}=tte({responses:p,currentQuestionIndex:S,completedQuestions:c},h?`feedback-${h.slug}`:"feedback-default");y.useEffect(()=>{(async()=>{if(console.log("useFeedbackForm - Loading questions, org loading:",m,"organization:",h),m)return;const Y=(h==null?void 0:h.id)||"fallback";if(A.current&&D.current===Y){console.log("useFeedbackForm - Questions already loaded for this organization");return}try{l(!0),f(null);const oe=await Jee(h==null?void 0:h.slug);console.log("useFeedbackForm - Questions loaded:",oe),t(oe),A.current=!0,D.current=(h==null?void 0:h.id)||"fallback",Zo.startSession(R.current);const ye=L();ye&&Object.keys(ye.responses||{}).length>0&&(g({title:"Previous session restored",description:"We've restored your previous answers"}),_(ye.responses),u(ye.completedQuestions||[]))}catch(oe){console.error("useFeedbackForm - Error loading questions:",oe),f("We couldn't load the survey questions. Please check your connection and try again.")}finally{l(!1)}})()},[h==null?void 0:h.id,h==null?void 0:h.slug,m]),y.useEffect(()=>{if(e.length>0){const B=e[S].id;Zo.startQuestion(R.current,B)}},[S,e]);const F=()=>{const B=e[S];if(!B)return!1;const Y=p[B.id];return E(B,Y).isValid},O=(B,Y)=>{b(B,Y);const oe=e.findIndex(ye=>ye.id===B);oe!==-1&&!c.includes(oe)&&u(ye=>[...ye,oe])},$=async()=>{try{console.log("Submitting feedback to database..."),Zo.endSession(R.current);const B=Zo.getSessionTime(R.current);await w(e,B);const Y=x();a(Y),n(!0),I(),Zo.clearSession(R.current)}catch(B){console.error("Error submitting feedback:",B)}};return{questions:e,currentQuestionIndex:S,responses:p,isComplete:r,finalResponses:s,isLoading:o||v,questionsError:d,completedQuestions:c,handleResponse:O,isCurrentQuestionAnswered:F,goToNext:()=>{S<e.length-1?N():$()},goToPrevious:k,resetForm:()=>{R.current&&Zo.clearSession(R.current),R.current=HP(),C(),j(),n(!1),a([]),u([]),I(),f(null),A.current=!1,D.current=null},getValidationResult:T}},cte=({isVisible:e,onAccept:t})=>{const{colors:r,organizationName:n}=W_();if(!e)return null;const s={background:`linear-gradient(135deg, ${r.primary}dd 0%, ${r.secondary}dd 50%, ${r.accent}dd 100%)`};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:s,children:i.jsxs(q,{className:"max-w-2xl w-full shadow-2xl border-0 overflow-hidden",children:[i.jsx(uL,{title:`${n} Feedback`,subtitle:"Your feedback drives our commitment to excellence. Share your experience to help us serve you better.",showSecureIndicator:!0}),i.jsx(W,{className:"p-8",children:i.jsxs("div",{className:"border rounded-lg p-6",style:{backgroundColor:`${r.primary}08`,borderColor:`${r.primary}30`},children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Ao,{className:"h-5 w-5",style:{color:r.primary}}),i.jsx("h3",{className:"text-lg font-semibold",style:{color:r.primary},children:"Your Privacy Matters"})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 text-sm",style:{color:r.textSecondary},children:[i.jsx(_j,{className:"h-4 w-4",style:{color:r.secondary}}),i.jsx("span",{children:"Encrypted & Secure"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm",style:{color:r.textSecondary},children:[i.jsx(Ba,{className:"h-4 w-4",style:{color:r.secondary}}),i.jsx("span",{children:"Anonymous & Confidential"})]})]}),i.jsx("div",{className:"text-center",children:i.jsx(_p,{onClick:t,size:"lg",className:"px-12 py-3 text-lg",children:"I understand"})})]})})]})})},ute=()=>{const[e,t]=y.useState(!1),[r,n]=y.useState(!0);return y.useEffect(()=>{localStorage.getItem("feedback-privacy-consent")==="true"&&(t(!0),n(!1))},[]),{hasConsented:e,showPrivacyNotice:r,acceptPrivacy:()=>{localStorage.setItem("feedback-privacy-consent","true"),t(!0),n(!1)}}},dte=()=>{su();const[e,t]=y.useState(!0),{hasConsented:r,handleConsent:n}=ute(),{questions:s,currentQuestionIndex:a,responses:o,isComplete:l,finalResponses:c,isLoading:u,questionsError:d,completedQuestions:f,handleResponse:h,isCurrentQuestionAnswered:m,goToNext:g,goToPrevious:p,resetForm:v,getValidationResult:b}=lte();return u?i.jsx(Qee,{}):d?i.jsx(WP,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-4",children:"Unable to Load Survey"}),i.jsx("p",{className:"text-gray-600 mb-6",children:d}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-sunset-500 text-white rounded-lg hover:bg-sunset-600 transition-colors",children:"Try Again"})]})})}):l?i.jsx(Yee,{responses:c,onClose:v,isVisible:l}):e?i.jsx(Eee,{onStart:()=>t(!1),questionsCount:s.length}):r?i.jsx(WP,{children:i.jsx(Pee,{questions:s,currentQuestionIndex:a,responses:o,completedQuestions:f,hasConsented:r,canGoNext:m(),estimatedTimeRemaining:Math.ceil((s.length-a)*30/60),averageResponseTime:30,onQuestionResponse:h,onNext:g,onPrevious:p,getValidationResult:b})}):i.jsx(cte,{onConsent:n})},KP=()=>i.jsx(dte,{}),fte=P.lazy(()=>Sr(()=>import("./MembersTab-BsTpzV6W.js"),[])),hte=P.lazy(()=>Sr(()=>import("./InboxTab-Cdr3oE2B.js"),[])),mte=P.lazy(()=>Sr(()=>import("./AdvancedDashboardTab-BAxjvaBC.js"),[])),pte=P.lazy(()=>Sr(()=>Promise.resolve().then(()=>zCe),void 0)),gte=P.lazy(()=>Sr(()=>Promise.resolve().then(()=>CCe),void 0)),vte=P.lazy(()=>Sr(()=>Promise.resolve().then(()=>LCe),void 0)),yte=P.lazy(()=>Sr(()=>Promise.resolve().then(()=>iPe),void 0)),xte=P.lazy(()=>Sr(()=>Promise.resolve().then(()=>dCe),void 0)),bte=P.lazy(()=>Sr(()=>Promise.resolve().then(()=>fPe),void 0)),wte=P.lazy(()=>Sr(()=>Promise.resolve().then(()=>xPe),void 0)),jte=({activeTab:e,setActiveTab:t,organization:r,stats:n,isLiveActivity:s,setIsLiveActivity:a,handleQuickActions:o})=>i.jsx("div",{children:i.jsxs(ln,{value:e,onValueChange:t,className:"space-y-6",children:[i.jsx(ge,{value:"overview",className:"space-y-6",children:i.jsx(P.Suspense,{fallback:i.jsx("div",{children:"Loading advanced dashboard…"}),children:i.jsx(mte,{organization:r,stats:n,activeTab:e,setActiveTab:t,isLiveActivity:s,setIsLiveActivity:a,handleQuickActions:o})})}),i.jsx(ge,{value:"customer-insights",children:i.jsx(P.Suspense,{fallback:i.jsx("div",{children:"Loading customer insights…"}),children:i.jsx(pte,{organizationId:r.id})})}),i.jsx(ge,{value:"sentiment",children:i.jsx(P.Suspense,{fallback:i.jsx("div",{children:"Loading sentiment…"}),children:i.jsx(gte,{organizationId:r.id})})}),i.jsx(ge,{value:"performance",children:i.jsx(P.Suspense,{fallback:i.jsx("div",{children:"Loading performance…"}),children:i.jsx(vte,{organizationId:r.id})})}),i.jsx(ge,{value:"members",children:i.jsx(P.Suspense,{fallback:i.jsx("div",{children:"Loading members…"}),children:i.jsx(fte,{organization:r})})}),i.jsx(ge,{value:"feedback",children:i.jsx(P.Suspense,{fallback:i.jsx("div",{children:"Loading feedback…"}),children:i.jsx(yte,{organizationId:r.id})})}),i.jsx(ge,{value:"inbox",children:i.jsx(P.Suspense,{fallback:i.jsx("div",{children:"Loading inbox…"}),children:i.jsx(hte,{organizationId:r.id})})}),i.jsx(ge,{value:"questions",children:i.jsx(P.Suspense,{fallback:i.jsx("div",{children:"Loading questions…"}),children:i.jsx(bte,{})})}),i.jsx(ge,{value:"settings",children:i.jsx(P.Suspense,{fallback:i.jsx("div",{children:"Loading settings…"}),children:i.jsx(wte,{organization:r})})}),i.jsx(ge,{value:"integrations",children:i.jsx(P.Suspense,{fallback:i.jsx("div",{children:"Loading integrations…"}),children:i.jsx(xte,{})})})]})}),gL=y.memo(({organizationName:e,organizationId:t,organizationSlug:r,activeTab:n,onTabChange:s,stats:a,isLoading:o,children:l})=>i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:i.jsxs(N5,{size:"xl",className:"py-8",children:[i.jsxs("div",{className:Lb.section,children:[i.jsx(Is,{padding:"lg",shadow:"sm",className:"mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ar.Heading1,{className:"mb-2",children:e}),i.jsx(Ar.Body,{children:"Organization dashboard and analytics"})]}),i.jsx("div",{className:"text-right",children:i.jsxs(Ar.Caption,{children:["Organization ID: ",r]})})]})}),i.jsx(Is,{padding:"sm",shadow:"none",border:!1,className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm",children:i.jsx(jte,{activeTab:n,onTabChange:s,organizationId:t})})]}),i.jsx("div",{className:"space-y-8",children:l})]})}));gL.displayName="EnhancedDashboardLayout";const X_=()=>{const[e,t]=y.useState(()=>({breakpoint:"desktop",orientation:"landscape",isMobile:!1,isTablet:!1,isDesktop:!0,screenWidth:1024,screenHeight:768,hasHover:!0,isTouchDevice:!1}));return y.useEffect(()=>{const r=()=>{const a=window.innerWidth,o=window.innerHeight;let l="desktop";a<768?l="mobile":a<1024&&(l="tablet");const c=a>o?"landscape":"portrait",u=window.matchMedia("(hover: hover)").matches,d="ontouchstart"in window||navigator.maxTouchPoints>0;t({breakpoint:l,orientation:c,isMobile:l==="mobile",isTablet:l==="tablet",isDesktop:l==="desktop",screenWidth:a,screenHeight:o,hasHover:u,isTouchDevice:d})};r();const n=window.matchMedia("(orientation: portrait)"),s=()=>r();return window.addEventListener("resize",s),n.addEventListener("change",r),()=>{window.removeEventListener("resize",s),n.removeEventListener("change",r)}},[]),e},_te=({children:e,className:t,title:r,description:n,footer:s,interactive:a=!1,elevated:o=!1,collapsible:l=!1,defaultCollapsed:c=!1})=>{const{isMobile:u,hasHover:d}=X_(),[f,h]=P.useState(c);return i.jsxs(q,{className:K("transition-all duration-200",a&&["cursor-pointer",d&&"hover:shadow-md hover:-translate-y-0.5","active:scale-[0.98]"],o&&"shadow-lg",u&&"rounded-xl",t),onClick:a?()=>h(!f):void 0,children:[(r||n)&&i.jsxs(ee,{className:K(u&&"pb-3"),children:[r&&i.jsxs(te,{className:K("flex items-center justify-between",u&&"text-lg"),children:[r,l&&i.jsx("button",{onClick:m=>{m.stopPropagation(),h(!f)},className:"p-1 rounded-md hover:bg-gray-100 transition-colors",children:i.jsx("div",{className:K("w-4 h-4 transition-transform duration-200",f?"rotate-180":"rotate-0"),children:"▲"})})]}),n&&i.jsx(Yn,{className:K(u&&"text-sm"),children:n})]}),!f&&i.jsx(W,{className:K(u&&"px-4"),children:e}),s&&!f&&i.jsx(M$,{className:K(u&&"px-4 pt-0"),children:s})]})};function lt({className:e,...t}){return i.jsx("div",{className:K("animate-pulse rounded-md bg-muted",e),...t})}const Ste=({type:e,count:t=1,className:r})=>{const n=()=>{switch(e){case"card":return i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg",children:[i.jsx(lt,{className:"h-4 w-3/4"}),i.jsx(lt,{className:"h-3 w-1/2"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(lt,{className:"h-3 w-full"}),i.jsx(lt,{className:"h-3 w-5/6"})]})]});case"table":return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex space-x-4",children:[i.jsx(lt,{className:"h-4 w-1/4"}),i.jsx(lt,{className:"h-4 w-1/4"}),i.jsx(lt,{className:"h-4 w-1/4"}),i.jsx(lt,{className:"h-4 w-1/4"})]}),Array.from({length:5}).map((s,a)=>i.jsxs("div",{className:"flex space-x-4",children:[i.jsx(lt,{className:"h-3 w-1/4"}),i.jsx(lt,{className:"h-3 w-1/4"}),i.jsx(lt,{className:"h-3 w-1/4"}),i.jsx(lt,{className:"h-3 w-1/4"})]},a))]});case"list":return i.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((s,a)=>i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(lt,{className:"h-10 w-10 rounded-full"}),i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx(lt,{className:"h-3 w-3/4"}),i.jsx(lt,{className:"h-2 w-1/2"})]})]},a))});case"stats":return i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((s,a)=>i.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[i.jsx(lt,{className:"h-8 w-12"}),i.jsx(lt,{className:"h-3 w-16"})]},a))});case"chart":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx(lt,{className:"h-4 w-32"}),i.jsx(lt,{className:"h-4 w-20"})]}),i.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-end justify-center space-x-2 p-4",children:Array.from({length:12}).map((s,a)=>i.jsx(lt,{className:"w-6",style:{height:`${Math.random()*80+20}%`}},a))})]});case"form":return i.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((s,a)=>i.jsxs("div",{className:"space-y-2",children:[i.jsx(lt,{className:"h-3 w-24"}),i.jsx(lt,{className:"h-10 w-full"})]},a))});default:return i.jsx(lt,{className:"h-20 w-full"})}};return i.jsx("div",{className:K("animate-pulse",r),children:Array.from({length:t}).map((s,a)=>i.jsx("div",{className:t>1?"mb-4":"",children:n()},a))})},Nte=({children:e,className:t,as:r="h3"})=>i.jsx(r,{className:K("scroll-m-20 text-2xl font-semibold tracking-tight","text-gray-900 dark:text-gray-100",t),children:e}),GP=({children:e,className:t,as:r="span"})=>i.jsx(r,{className:K("text-sm text-gray-500 dark:text-gray-400",t),children:e}),kte=({stats:e,isLoading:t=!1,columns:r=4,className:n})=>{const{isMobile:s,isTablet:a}=X_(),o=()=>s?"grid-cols-2":a?"grid-cols-3":`grid-cols-${r}`,l=(u,d)=>{if(typeof u=="string")return u;switch(d){case"percentage":return`${u}%`;case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u);case"rating":return`${u}/5`;default:return new Intl.NumberFormat().format(u)}},c=u=>({blue:"text-blue-600 bg-blue-50 border-blue-200",green:"text-green-600 bg-green-50 border-green-200",purple:"text-purple-600 bg-purple-50 border-purple-200",orange:"text-orange-600 bg-orange-50 border-orange-200",red:"text-red-600 bg-red-50 border-red-200"})[u]||"text-gray-600 bg-gray-50 border-gray-200";return t?i.jsx("div",{className:K("grid gap-4",o(),n),children:i.jsx(Ste,{type:"stats",count:1})}):i.jsx("div",{className:K("grid gap-4",o(),n),children:e.map(u=>{const d=u.icon,f=u.trend==="up"?St:u.trend==="down"?Nj:null;return i.jsx(_te,{className:"p-4 hover:shadow-md transition-all duration-200",interactive:!0,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(GP,{className:"font-medium text-gray-600 mb-1",children:u.title}),i.jsx(Nte,{className:"text-2xl font-bold mb-2",children:l(u.value,u.format)}),u.trendValue&&f&&i.jsxs("div",{className:K("flex items-center gap-1 text-sm",u.trend==="up"?"text-green-600":"text-red-600"),children:[i.jsx(f,{className:"w-3 h-3"}),i.jsxs("span",{children:[Math.abs(u.trendValue),"%"]}),i.jsx(GP,{children:"vs last period"})]})]}),i.jsx("div",{className:K("p-2 rounded-lg",c(u.color)),children:i.jsx(d,{className:"w-5 h-5"})})]})},u.id)})})},vL=({onClick:e,icon:t=i.jsx(si,{className:"w-6 h-6"}),className:r,size:n="md",position:s="bottom-right",extended:a=!1,children:o})=>{const l={sm:"w-12 h-12",md:"w-14 h-14",lg:"w-16 h-16"},c={"bottom-right":"bottom-6 right-6","bottom-center":"bottom-6 left-1/2 -translate-x-1/2","bottom-left":"bottom-6 left-6"};return i.jsxs(re,{onClick:e,className:K("fixed z-50 rounded-full shadow-lg","bg-primary hover:bg-primary/90 text-primary-foreground","transition-all duration-200 active:scale-95","border-2 border-white/20",a?"px-6 h-14 gap-3":l[n],c[s],r),size:"icon",children:[t,a&&o]})},Pte=({threshold:e=400})=>{const[t,r]=P.useState(!1);P.useEffect(()=>{const s=()=>{r(window.pageYOffset>e)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[e]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?i.jsx(vL,{onClick:n,icon:i.jsx(wj,{className:"w-6 h-6"}),position:"bottom-right",className:"bg-gray-800 hover:bg-gray-700"}):null},Ete=e=>{const{dateRange:t}=A$();return jt({queryKey:["analytics-data",e,t],queryFn:async()=>{const{data:r}=await J.from("questions").select("*").eq("organization_id",e).eq("is_active",!0).order("category",{ascending:!0}).order("order_index",{ascending:!0});let n=J.from("feedback_responses").select(`
          id,
          question_id,
          response_value,
          question_category,
          session_id,
          created_at,
          score,
          response_time_ms
        `).eq("organization_id",e);if(t!=null&&t.from&&(n=n.gte("created_at",t.from.toISOString())),t!=null&&t.to){const d=new Date(t.to);d.setDate(d.getDate()+1),n=n.lt("created_at",d.toISOString())}const{data:s}=await n;let a=J.from("feedback_sessions").select("id, status, created_at, total_score").eq("organization_id",e);if(t!=null&&t.from&&(a=a.gte("created_at",t.from.toISOString())),t!=null&&t.to){const d=new Date(t.to);d.setDate(d.getDate()+1),a=a.lt("created_at",d.toISOString())}const{data:o}=await a,l=(r||[]).map(d=>{const f=(s||[]).filter(b=>b.question_id===d.id),h=f.length,m=o&&o.length>0?Math.round(h/o.length*100):0,g={};f.forEach(b=>{const x=JSON.stringify(b.response_value);g[x]=(g[x]||0)+1});const p=[];if(m>80?p.push("High completion rate indicates good user engagement"):m<50&&p.push("Low completion rate may indicate question complexity"),h>0){const b=f.reduce((x,w)=>x+(w.score||0),0)/h;b>8?p.push("High satisfaction scores"):b<5&&p.push("Low satisfaction scores need attention")}let v="neutral";return m>70&&p.some(b=>b.includes("High"))?v="positive":m<50||p.some(b=>b.includes("Low"))?v="negative":p.length>1&&(v="mixed"),{id:d.id,question_text:d.question_text,question_type:d.question_type||"text",category:d.category||"General",total_responses:h,completion_rate:m,avg_score:f.reduce((b,x)=>b+(x.score||0),0)/(h||1),response_distribution:g,insights:p,trend:v}}),c=new Map;l.forEach(d=>{const f=d.category;c.has(f)||c.set(f,{category:f,total_questions:0,total_responses:0,completion_rate:0,questions:[],avg_score:0});const h=c.get(f);h.total_questions+=1,h.total_responses+=d.total_responses,h.questions.push(d)});const u=Array.from(c.values()).map(d=>({...d,completion_rate:d.questions.length>0?Math.round(d.questions.reduce((f,h)=>f+h.completion_rate,0)/d.questions.length):0,avg_score:d.questions.length>0?d.questions.reduce((f,h)=>f+h.avg_score,0)/d.questions.length:0}));return{questions:l,categories:u,summary:{total_questions:l.length,total_responses:l.reduce((d,f)=>d+f.total_responses,0),overall_completion_rate:u.length>0?Math.round(u.reduce((d,f)=>d+f.completion_rate,0)/u.length):0,overall_avg_score:l.length>0?l.reduce((d,f)=>d+f.avg_score,0)/l.length:0}}},enabled:!!e,staleTime:5*60*1e3})},Lo=({children:e,permission:t,organizationId:r,fallback:n,showRequiredRole:s=!0})=>{const{hasPermission:a,userRole:o,isLoading:l,isAdmin:c,error:u}=M_(r);if(l)return i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Qg,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Checking permissions..."})]})});if(u)return console.error("Permission guard error:",u),i.jsxs(q,{className:"border-amber-200",children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center text-amber-600",children:[i.jsx(lr,{className:"w-5 h-5 mr-2"}),"Permission Check Failed"]})}),i.jsx(W,{children:i.jsx("p",{className:"text-sm text-gray-600",children:"Unable to verify permissions. Please refresh the page or contact support if the issue persists."})})]});if(c)return console.log("Permission granted via system admin privileges"),i.jsx(i.Fragment,{children:e});if(a(t))return console.log("Permission granted:",t),i.jsx(i.Fragment,{children:e});if(console.log("Permission denied:",{permission:t,userRole:o,organizationId:r}),n)return i.jsx(i.Fragment,{children:n});const d=Cte(t),{icon:f,label:h,variant:m}=Kd(d),g=o?Kd(o):null;return i.jsxs(q,{className:"border-red-200",children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center text-red-600",children:[i.jsx(_j,{className:"w-5 h-5 mr-2"}),"Access Restricted"]})}),i.jsxs(W,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(lr,{className:"w-4 h-4 text-amber-500"}),i.jsx("span",{className:"text-sm text-gray-600",children:"You don't have permission to access this feature."})]}),s&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Required role:"}),i.jsxs(ve,{variant:m,className:"flex items-center gap-1",children:[i.jsx(f,{className:"w-3 h-3"}),h]})]}),g&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Your role:"}),i.jsxs(ve,{variant:g.variant,className:"flex items-center gap-1",children:[i.jsx(g.icon,{className:"w-3 h-3"}),g.label]})]})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Contact your organization administrator to request access."})]})]})};function Cte(e){return{view_analytics:"viewer",export_data:"analyst",manage_questions:"analyst",manage_users:"manager",manage_integrations:"admin",manage_organization:"admin",manage_billing:"owner"}[e]||"admin"}const Ote=({organizationId:e,organizationName:t})=>{const{userRole:r,isLoading:n,hasPermission:s}=M_(e);return console.log("EnhancedUserManagement:",{organizationId:e,userRole:r,isLoading:n,hasManageUsersPermission:s("manage_users")}),i.jsx(Lo,{permission:"manage_users",organizationId:e,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need manager-level access or higher to manage users."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."}),r&&i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Current role: ",r]})]}),children:i.jsx(n5,{organizationId:e,organizationName:t})})},Ate=({organization:e})=>i.jsx(Ote,{organizationId:e.id,organizationName:e.name});var Tte=Array.isArray,Br=Tte,Rte=typeof ir=="object"&&ir&&ir.Object===Object&&ir,yL=Rte,Mte=yL,$te=typeof self=="object"&&self&&self.Object===Object&&self,Ite=Mte||$te||Function("return this")(),Ps=Ite,Dte=Ps,Lte=Dte.Symbol,nh=Lte,YP=nh,xL=Object.prototype,Fte=xL.hasOwnProperty,zte=xL.toString,Ru=YP?YP.toStringTag:void 0;function Bte(e){var t=Fte.call(e,Ru),r=e[Ru];try{e[Ru]=void 0;var n=!0}catch{}var s=zte.call(e);return n&&(t?e[Ru]=r:delete e[Ru]),s}var Ute=Bte,qte=Object.prototype,Wte=qte.toString;function Vte(e){return Wte.call(e)}var Hte=Vte,QP=nh,Kte=Ute,Gte=Hte,Yte="[object Null]",Qte="[object Undefined]",XP=QP?QP.toStringTag:void 0;function Xte(e){return e==null?e===void 0?Qte:Yte:XP&&XP in Object(e)?Kte(e):Gte(e)}var da=Xte;function Jte(e){return e!=null&&typeof e=="object"}var fa=Jte,Zte=da,ere=fa,tre="[object Symbol]";function rre(e){return typeof e=="symbol"||ere(e)&&Zte(e)==tre}var iu=rre,nre=Br,sre=iu,are=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ire=/^\w*$/;function ore(e,t){if(nre(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||sre(e)?!0:ire.test(e)||!are.test(e)||t!=null&&e in Object(t)}var J_=ore;function lre(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _i=lre;const ou=Ye(_i);var cre=da,ure=_i,dre="[object AsyncFunction]",fre="[object Function]",hre="[object GeneratorFunction]",mre="[object Proxy]";function pre(e){if(!ure(e))return!1;var t=cre(e);return t==fre||t==hre||t==dre||t==mre}var Z_=pre;const Me=Ye(Z_);var gre=Ps,vre=gre["__core-js_shared__"],yre=vre,yx=yre,JP=function(){var e=/[^.]+$/.exec(yx&&yx.keys&&yx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xre(e){return!!JP&&JP in e}var bre=xre,wre=Function.prototype,jre=wre.toString;function _re(e){if(e!=null){try{return jre.call(e)}catch{}try{return e+""}catch{}}return""}var bL=_re,Sre=Z_,Nre=bre,kre=_i,Pre=bL,Ere=/[\\^$.*+?()[\]{}|]/g,Cre=/^\[object .+?Constructor\]$/,Ore=Function.prototype,Are=Object.prototype,Tre=Ore.toString,Rre=Are.hasOwnProperty,Mre=RegExp("^"+Tre.call(Rre).replace(Ere,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $re(e){if(!kre(e)||Nre(e))return!1;var t=Sre(e)?Mre:Cre;return t.test(Pre(e))}var Ire=$re;function Dre(e,t){return e==null?void 0:e[t]}var Lre=Dre,Fre=Ire,zre=Lre;function Bre(e,t){var r=zre(e,t);return Fre(r)?r:void 0}var Fo=Bre,Ure=Fo,qre=Ure(Object,"create"),Pv=qre,ZP=Pv;function Wre(){this.__data__=ZP?ZP(null):{},this.size=0}var Vre=Wre;function Hre(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Kre=Hre,Gre=Pv,Yre="__lodash_hash_undefined__",Qre=Object.prototype,Xre=Qre.hasOwnProperty;function Jre(e){var t=this.__data__;if(Gre){var r=t[e];return r===Yre?void 0:r}return Xre.call(t,e)?t[e]:void 0}var Zre=Jre,ene=Pv,tne=Object.prototype,rne=tne.hasOwnProperty;function nne(e){var t=this.__data__;return ene?t[e]!==void 0:rne.call(t,e)}var sne=nne,ane=Pv,ine="__lodash_hash_undefined__";function one(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ane&&t===void 0?ine:t,this}var lne=one,cne=Vre,une=Kre,dne=Zre,fne=sne,hne=lne;function lu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}lu.prototype.clear=cne;lu.prototype.delete=une;lu.prototype.get=dne;lu.prototype.has=fne;lu.prototype.set=hne;var mne=lu;function pne(){this.__data__=[],this.size=0}var gne=pne;function vne(e,t){return e===t||e!==e&&t!==t}var eS=vne,yne=eS;function xne(e,t){for(var r=e.length;r--;)if(yne(e[r][0],t))return r;return-1}var Ev=xne,bne=Ev,wne=Array.prototype,jne=wne.splice;function _ne(e){var t=this.__data__,r=bne(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():jne.call(t,r,1),--this.size,!0}var Sne=_ne,Nne=Ev;function kne(e){var t=this.__data__,r=Nne(t,e);return r<0?void 0:t[r][1]}var Pne=kne,Ene=Ev;function Cne(e){return Ene(this.__data__,e)>-1}var One=Cne,Ane=Ev;function Tne(e,t){var r=this.__data__,n=Ane(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Rne=Tne,Mne=gne,$ne=Sne,Ine=Pne,Dne=One,Lne=Rne;function cu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}cu.prototype.clear=Mne;cu.prototype.delete=$ne;cu.prototype.get=Ine;cu.prototype.has=Dne;cu.prototype.set=Lne;var Cv=cu,Fne=Fo,zne=Ps,Bne=Fne(zne,"Map"),tS=Bne,eE=mne,Une=Cv,qne=tS;function Wne(){this.size=0,this.__data__={hash:new eE,map:new(qne||Une),string:new eE}}var Vne=Wne;function Hne(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Kne=Hne,Gne=Kne;function Yne(e,t){var r=e.__data__;return Gne(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ov=Yne,Qne=Ov;function Xne(e){var t=Qne(this,e).delete(e);return this.size-=t?1:0,t}var Jne=Xne,Zne=Ov;function ese(e){return Zne(this,e).get(e)}var tse=ese,rse=Ov;function nse(e){return rse(this,e).has(e)}var sse=nse,ase=Ov;function ise(e,t){var r=ase(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var ose=ise,lse=Vne,cse=Jne,use=tse,dse=sse,fse=ose;function uu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}uu.prototype.clear=lse;uu.prototype.delete=cse;uu.prototype.get=use;uu.prototype.has=dse;uu.prototype.set=fse;var rS=uu,wL=rS,hse="Expected a function";function nS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(hse);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=e.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(nS.Cache||wL),r}nS.Cache=wL;var jL=nS;const mse=Ye(jL);var pse=jL,gse=500;function vse(e){var t=pse(e,function(n){return r.size===gse&&r.clear(),n}),r=t.cache;return t}var yse=vse,xse=yse,bse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wse=/\\(\\)?/g,jse=xse(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bse,function(r,n,s,a){t.push(s?a.replace(wse,"$1"):n||r)}),t}),_se=jse;function Sse(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var sS=Sse,tE=nh,Nse=sS,kse=Br,Pse=iu,Ese=1/0,rE=tE?tE.prototype:void 0,nE=rE?rE.toString:void 0;function _L(e){if(typeof e=="string")return e;if(kse(e))return Nse(e,_L)+"";if(Pse(e))return nE?nE.call(e):"";var t=e+"";return t=="0"&&1/e==-Ese?"-0":t}var Cse=_L,Ose=Cse;function Ase(e){return e==null?"":Ose(e)}var SL=Ase,Tse=Br,Rse=J_,Mse=_se,$se=SL;function Ise(e,t){return Tse(e)?e:Rse(e,t)?[e]:Mse($se(e))}var NL=Ise,Dse=iu,Lse=1/0;function Fse(e){if(typeof e=="string"||Dse(e))return e;var t=e+"";return t=="0"&&1/e==-Lse?"-0":t}var Av=Fse,zse=NL,Bse=Av;function Use(e,t){t=zse(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Bse(t[r++])];return r&&r==n?e:void 0}var aS=Use,qse=aS;function Wse(e,t,r){var n=e==null?void 0:qse(e,t);return n===void 0?r:n}var kL=Wse;const Sn=Ye(kL);function Vse(e){return e==null}var Hse=Vse;const Ie=Ye(Hse);var Kse=da,Gse=Br,Yse=fa,Qse="[object String]";function Xse(e){return typeof e=="string"||!Gse(e)&&Yse(e)&&Kse(e)==Qse}var Jse=Xse;const sh=Ye(Jse);var PL={exports:{}},He={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS=Symbol.for("react.element"),oS=Symbol.for("react.portal"),Tv=Symbol.for("react.fragment"),Rv=Symbol.for("react.strict_mode"),Mv=Symbol.for("react.profiler"),$v=Symbol.for("react.provider"),Iv=Symbol.for("react.context"),Zse=Symbol.for("react.server_context"),Dv=Symbol.for("react.forward_ref"),Lv=Symbol.for("react.suspense"),Fv=Symbol.for("react.suspense_list"),zv=Symbol.for("react.memo"),Bv=Symbol.for("react.lazy"),eae=Symbol.for("react.offscreen"),EL;EL=Symbol.for("react.module.reference");function Cn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iS:switch(e=e.type,e){case Tv:case Mv:case Rv:case Lv:case Fv:return e;default:switch(e=e&&e.$$typeof,e){case Zse:case Iv:case Dv:case Bv:case zv:case $v:return e;default:return t}}case oS:return t}}}He.ContextConsumer=Iv;He.ContextProvider=$v;He.Element=iS;He.ForwardRef=Dv;He.Fragment=Tv;He.Lazy=Bv;He.Memo=zv;He.Portal=oS;He.Profiler=Mv;He.StrictMode=Rv;He.Suspense=Lv;He.SuspenseList=Fv;He.isAsyncMode=function(){return!1};He.isConcurrentMode=function(){return!1};He.isContextConsumer=function(e){return Cn(e)===Iv};He.isContextProvider=function(e){return Cn(e)===$v};He.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iS};He.isForwardRef=function(e){return Cn(e)===Dv};He.isFragment=function(e){return Cn(e)===Tv};He.isLazy=function(e){return Cn(e)===Bv};He.isMemo=function(e){return Cn(e)===zv};He.isPortal=function(e){return Cn(e)===oS};He.isProfiler=function(e){return Cn(e)===Mv};He.isStrictMode=function(e){return Cn(e)===Rv};He.isSuspense=function(e){return Cn(e)===Lv};He.isSuspenseList=function(e){return Cn(e)===Fv};He.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Tv||e===Mv||e===Rv||e===Lv||e===Fv||e===eae||typeof e=="object"&&e!==null&&(e.$$typeof===Bv||e.$$typeof===zv||e.$$typeof===$v||e.$$typeof===Iv||e.$$typeof===Dv||e.$$typeof===EL||e.getModuleId!==void 0)};He.typeOf=Cn;PL.exports=He;var CL=PL.exports,tae=da,rae=fa,nae="[object Number]";function sae(e){return typeof e=="number"||rae(e)&&tae(e)==nae}var OL=sae;const aae=Ye(OL);var iae=OL;function oae(e){return iae(e)&&e!=+e}var lae=oae;const ah=Ye(lae);var Hn=function(t){return t===0?0:t>0?1:-1},Hi=function(t){return sh(t)&&t.indexOf("%")===t.length-1},se=function(t){return aae(t)&&!ah(t)},Rt=function(t){return se(t)||sh(t)},cae=0,ih=function(t){var r=++cae;return"".concat(t||"").concat(r)},_o=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&!sh(t))return n;var a;if(Hi(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return ah(a)&&(a=n),s&&a>r&&(a=r),a},Ca=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},uae=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Wn=function(t,r){return se(t)&&se(r)?function(n){return t+n*(r-t)}:function(){return r}};function Sp(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Sn(n,t))===r})}function Ml(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function qb(e){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qb(e)}var dae=["viewBox","children"],fae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sE=["points","pathLength"],xx={svg:dae,polygon:sE,polyline:sE},lS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Np=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!ou(n))return null;var s={};return Object.keys(n).forEach(function(a){lS.includes(a)&&(s[a]=r||function(o){return n[a](n,o)})}),s},hae=function(t,r,n){return function(s){return t(r,n,s),null}},kp=function(t,r,n){if(!ou(t)||qb(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];lS.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=hae(o,r,n))}),s},mae=["children"],pae=["children"];function aE(e,t){if(e==null)return{};var r=gae(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wb(e){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wb(e)}var iE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ws=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},oE=null,bx=null,cS=function e(t){if(t===oE&&Array.isArray(bx))return bx;var r=[];return y.Children.forEach(t,function(n){Ie(n)||(CL.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),bx=r,oE=t,r};function Nn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Ws(s)}):n=[Ws(t)],cS(e).forEach(function(s){var a=Sn(s,"type.displayName")||Sn(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function Yr(e,t){var r=Nn(e,t);return r&&r[0]}var lE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!se(n)||n<=0||!se(s)||s<=0)},vae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yae=function(t){return t&&t.type&&sh(t.type)&&vae.indexOf(t.type)>=0},xae=function(t){return t&&Wb(t)==="object"&&"clipDot"in t},bae=function(t,r,n,s){var a,o=(a=xx==null?void 0:xx[s])!==null&&a!==void 0?a:[];return!Me(t)&&(s&&o.includes(r)||fae.includes(r))||n&&lS.includes(r)},Le=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(y.isValidElement(t)&&(s=t.props),!ou(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;bae((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=s[o])}),a},Vb=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return cE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=t[s],o=r[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!cE(a,o))return!1}return!0},cE=function(t,r){if(Ie(t)&&Ie(r))return!0;if(!Ie(t)&&!Ie(r)){var n=t.props||{},s=n.children,a=aE(n,mae),o=r.props||{},l=o.children,c=aE(o,pae);return s&&l?Ml(a,c)&&Vb(s,l):!s&&!l?Ml(a,c):!1}return!1},uE=function(t,r){var n=[],s={};return cS(t).forEach(function(a,o){if(yae(a))n.push(a);else if(a){var l=Ws(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,o);n.push(f),s[l]=!0}}}),n},wae=function(t){var r=t&&t.type;return r&&iE[r]?iE[r]:null},jae=function(t,r){return cS(r).indexOf(t)},_ae=["children","width","height","viewBox","className","style","title","desc"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hb.apply(this,arguments)}function Sae(e,t){if(e==null)return{};var r=Nae(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kb(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=Sae(e,_ae),d=s||{width:r,height:n,x:0,y:0},f=Fe("recharts-surface",a);return P.createElement("svg",Hb({},Le(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),P.createElement("title",null,l),P.createElement("desc",null,c),t)}var kae=["children","className"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(this,arguments)}function Pae(e,t){if(e==null)return{};var r=Eae(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wt=P.forwardRef(function(e,t){var r=e.children,n=e.className,s=Pae(e,kae),a=Fe("recharts-layer",n);return P.createElement("g",Gb({className:a},Le(s,!0),{ref:t}),r)}),Vs=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function Cae(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var Oae=Cae,Aae=Oae;function Tae(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Aae(e,t,r)}var Rae=Tae,Mae="\\ud800-\\udfff",$ae="\\u0300-\\u036f",Iae="\\ufe20-\\ufe2f",Dae="\\u20d0-\\u20ff",Lae=$ae+Iae+Dae,Fae="\\ufe0e\\ufe0f",zae="\\u200d",Bae=RegExp("["+zae+Mae+Lae+Fae+"]");function Uae(e){return Bae.test(e)}var AL=Uae;function qae(e){return e.split("")}var Wae=qae,TL="\\ud800-\\udfff",Vae="\\u0300-\\u036f",Hae="\\ufe20-\\ufe2f",Kae="\\u20d0-\\u20ff",Gae=Vae+Hae+Kae,Yae="\\ufe0e\\ufe0f",Qae="["+TL+"]",Yb="["+Gae+"]",Qb="\\ud83c[\\udffb-\\udfff]",Xae="(?:"+Yb+"|"+Qb+")",RL="[^"+TL+"]",ML="(?:\\ud83c[\\udde6-\\uddff]){2}",$L="[\\ud800-\\udbff][\\udc00-\\udfff]",Jae="\\u200d",IL=Xae+"?",DL="["+Yae+"]?",Zae="(?:"+Jae+"(?:"+[RL,ML,$L].join("|")+")"+DL+IL+")*",eie=DL+IL+Zae,tie="(?:"+[RL+Yb+"?",Yb,ML,$L,Qae].join("|")+")",rie=RegExp(Qb+"(?="+Qb+")|"+tie+eie,"g");function nie(e){return e.match(rie)||[]}var sie=nie,aie=Wae,iie=AL,oie=sie;function lie(e){return iie(e)?oie(e):aie(e)}var cie=lie,uie=Rae,die=AL,fie=cie,hie=SL;function mie(e){return function(t){t=hie(t);var r=die(t)?fie(t):void 0,n=r?r[0]:t.charAt(0),s=r?uie(r,1).join(""):t.slice(1);return n[e]()+s}}var pie=mie,gie=pie,vie=gie("toUpperCase"),yie=vie;const Uv=Ye(yie);function et(e){return function(){return e}}const LL=Math.cos,Pp=Math.sin,ts=Math.sqrt,Ep=Math.PI,qv=2*Ep,Xb=Math.PI,Jb=2*Xb,Ii=1e-6,xie=Jb-Ii;function FL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function bie(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FL;const r=10**t;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class wie{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FL:bie(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,a,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,s,a){if(t=+t,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ii)if(!(Math.abs(f*c-u*d)>Ii)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=s-l,p=c*c+u*u,v=m*m+g*g,b=Math.sqrt(p),x=Math.sqrt(h),w=a*Math.tan((Xb-Math.acos((p+h-v)/(2*b*x)))/2),j=w/x,_=w/b;Math.abs(j-1)>Ii&&this._append`L${t+j*d},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*m>d*g)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,s,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ii||Math.abs(this._y1-d)>Ii)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Jb+Jb),h>xie?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ii&&this._append`A${n},${n},0,${+(h>=Xb)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function uS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new wie(t)}function dS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zL(e){this._context=e}zL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wv(e){return new zL(e)}function BL(e){return e[0]}function UL(e){return e[1]}function qL(e,t){var r=et(!0),n=null,s=Wv,a=null,o=uS(l);e=typeof e=="function"?e:e===void 0?BL:et(e),t=typeof t=="function"?t:t===void 0?UL:et(t);function l(c){var u,d=(c=dS(c)).length,f,h=!1,m;for(n==null&&(a=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:et(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:et(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:et(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function Xh(e,t,r){var n=null,s=et(!0),a=null,o=Wv,l=null,c=uS(u);e=typeof e=="function"?e:e===void 0?BL:et(+e),t=typeof t=="function"?t:et(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?UL:et(+r);function u(f){var h,m,g,p=(f=dS(f)).length,v,b=!1,x,w=new Array(p),j=new Array(p);for(a==null&&(l=o(x=c())),h=0;h<=p;++h){if(!(h<p&&s(v=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],j[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(x)return l=null,x+""||null}function d(){return qL().defined(s).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:et(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:et(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:et(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:et(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:et(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:et(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:et(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class WL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jie(e){return new WL(e,!0)}function _ie(e){return new WL(e,!1)}const fS={draw(e,t){const r=ts(t/Ep);e.moveTo(r,0),e.arc(0,0,r,0,qv)}},Sie={draw(e,t){const r=ts(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},VL=ts(1/3),Nie=VL*2,kie={draw(e,t){const r=ts(t/Nie),n=r*VL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Pie={draw(e,t){const r=ts(t),n=-r/2;e.rect(n,n,r,r)}},Eie=.8908130915292852,HL=Pp(Ep/10)/Pp(7*Ep/10),Cie=Pp(qv/10)*HL,Oie=-LL(qv/10)*HL,Aie={draw(e,t){const r=ts(t*Eie),n=Cie*r,s=Oie*r;e.moveTo(0,-r),e.lineTo(n,s);for(let a=1;a<5;++a){const o=qv*a/5,l=LL(o),c=Pp(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},wx=ts(3),Tie={draw(e,t){const r=-ts(t/(wx*3));e.moveTo(0,r*2),e.lineTo(-wx*r,-r),e.lineTo(wx*r,-r),e.closePath()}},dn=-.5,fn=ts(3)/2,Zb=1/ts(12),Rie=(Zb/2+1)*3,Mie={draw(e,t){const r=ts(t/Rie),n=r/2,s=r*Zb,a=n,o=r*Zb+r,l=-a,c=o;e.moveTo(n,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(dn*n-fn*s,fn*n+dn*s),e.lineTo(dn*a-fn*o,fn*a+dn*o),e.lineTo(dn*l-fn*c,fn*l+dn*c),e.lineTo(dn*n+fn*s,dn*s-fn*n),e.lineTo(dn*a+fn*o,dn*o-fn*a),e.lineTo(dn*l+fn*c,dn*c-fn*l),e.closePath()}};function $ie(e,t){let r=null,n=uS(s);e=typeof e=="function"?e:et(e||fS),t=typeof t=="function"?t:et(t===void 0?64:+t);function s(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:et(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:et(+a),s):t},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function Cp(){}function Op(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function KL(e){this._context=e}KL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Op(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Iie(e){return new KL(e)}function GL(e){this._context=e}GL.prototype={areaStart:Cp,areaEnd:Cp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Die(e){return new GL(e)}function YL(e){this._context=e}YL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lie(e){return new YL(e)}function QL(e){this._context=e}QL.prototype={areaStart:Cp,areaEnd:Cp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Fie(e){return new QL(e)}function dE(e){return e<0?-1:1}function fE(e,t,r){var n=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(a*s+o*n)/(n+s);return(dE(a)+dE(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function hE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function jx(e,t,r){var n=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,s+l*t,a-l,o-l*r,a,o)}function Ap(e){this._context=e}Ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jx(this,this._t0,hE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jx(this,hE(this,r=fE(this,e,t)),r);break;default:jx(this,this._t0,r=fE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function XL(e){this._context=new JL(e)}(XL.prototype=Object.create(Ap.prototype)).point=function(e,t){Ap.prototype.point.call(this,t,e)};function JL(e){this._context=e}JL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,a){this._context.bezierCurveTo(t,e,n,r,a,s)}};function zie(e){return new Ap(e)}function Bie(e){return new XL(e)}function ZL(e){this._context=e}ZL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=mE(e),s=mE(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mE(e){var t,r=e.length-1,n,s=new Array(r),a=new Array(r),o=new Array(r);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function Uie(e){return new ZL(e)}function Vv(e,t){this._context=e,this._t=t}Vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function qie(e){return new Vv(e,.5)}function Wie(e){return new Vv(e,0)}function Vie(e){return new Vv(e,1)}function uc(e,t){if((o=e.length)>1)for(var r=1,n,s,a=e[t[0]],o,l=a.length;r<o;++r)for(s=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function ew(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Hie(e,t){return e[t]}function Kie(e){const t=[];return t.key=e,t}function Gie(){var e=et([]),t=ew,r=uc,n=Hie;function s(a){var o=Array.from(e.apply(this,arguments),Kie),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,a)]).data=f;for(l=0,d=dS(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:et(Array.from(a)),s):e},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:et(+a),s):n},s.order=function(a){return arguments.length?(t=a==null?ew:typeof a=="function"?a:et(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(r=a??uc,s):r},s}function Yie(e,t){if((n=e.length)>0){for(var r,n,s=0,a=e[0].length,o;s<a;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}uc(e,t)}}function Qie(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,a=n.length;r<a;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}uc(e,t)}}function Xie(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,b=p[n-1][1]||0;m+=v-b}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,uc(e,t)}}function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}var Jie=["type","size","sizeType"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(this,arguments)}function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(r),!0).forEach(function(n){Zie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zie(e,t,r){return t=eoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eoe(e){var t=toe(e,"string");return Qd(t)=="symbol"?t:t+""}function toe(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function roe(e,t){if(e==null)return{};var r=noe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function noe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var e3={symbolCircle:fS,symbolCross:Sie,symbolDiamond:kie,symbolSquare:Pie,symbolStar:Aie,symbolTriangle:Tie,symbolWye:Mie},soe=Math.PI/180,aoe=function(t){var r="symbol".concat(Uv(t));return e3[r]||fS},ioe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*soe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ooe=function(t,r){e3["symbol".concat(Uv(t))]=r},hS=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=roe(t,Jie),u=gE(gE({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=aoe(n),b=$ie().type(v).size(ioe(a,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=Le(u,!0);return h===+h&&m===+m&&a===+a?P.createElement("path",tw({},g,{className:Fe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};hS.registerSymbol=ooe;function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function loe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){Xd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function coe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uoe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r3(n.key),n)}}function doe(e,t,r){return t&&uoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function foe(e,t,r){return t=Tp(t),hoe(e,t3()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function hoe(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return moe(e)}function moe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t3=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function poe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nw(e,t)}function nw(e,t){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nw(e,t)}function Xd(e,t,r){return t=r3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r3(e){var t=goe(e,"string");return dc(t)=="symbol"?t:t+""}function goe(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hn=32,mS=function(e){function t(){return coe(this,t),foe(this,t,arguments)}return poe(t,e),doe(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=hn/2,o=hn/6,l=hn/3,c=n.inactive?s:n.color;if(n.type==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:hn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(hn,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return P.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(hn/8,"h").concat(hn,"v").concat(hn*3/4,"h").concat(-hn,"z"),className:"recharts-legend-icon"});if(P.isValidElement(n.legendIcon)){var u=loe({},n);return delete u.legendIcon,P.cloneElement(n.legendIcon,u)}return P.createElement(hS,{fill:c,cx:a,cy:a,size:hn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:hn,height:hn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var p=m.formatter||c,v=Fe(Xd(Xd({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Me(m.value)?null:m.value;Vs(!Me(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return P.createElement("li",rw({className:v,style:f,key:"legend-item-".concat(g)},kp(n.props,m,g)),P.createElement(Kb,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);Xd(mS,"displayName","Legend");Xd(mS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var voe=Cv;function yoe(){this.__data__=new voe,this.size=0}var xoe=yoe;function boe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var woe=boe;function joe(e){return this.__data__.get(e)}var _oe=joe;function Soe(e){return this.__data__.has(e)}var Noe=Soe,koe=Cv,Poe=tS,Eoe=rS,Coe=200;function Ooe(e,t){var r=this.__data__;if(r instanceof koe){var n=r.__data__;if(!Poe||n.length<Coe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Eoe(n)}return r.set(e,t),this.size=r.size,this}var Aoe=Ooe,Toe=Cv,Roe=xoe,Moe=woe,$oe=_oe,Ioe=Noe,Doe=Aoe;function du(e){var t=this.__data__=new Toe(e);this.size=t.size}du.prototype.clear=Roe;du.prototype.delete=Moe;du.prototype.get=$oe;du.prototype.has=Ioe;du.prototype.set=Doe;var n3=du,Loe="__lodash_hash_undefined__";function Foe(e){return this.__data__.set(e,Loe),this}var zoe=Foe;function Boe(e){return this.__data__.has(e)}var Uoe=Boe,qoe=rS,Woe=zoe,Voe=Uoe;function Rp(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new qoe;++t<r;)this.add(e[t])}Rp.prototype.add=Rp.prototype.push=Woe;Rp.prototype.has=Voe;var s3=Rp;function Hoe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var a3=Hoe;function Koe(e,t){return e.has(t)}var i3=Koe,Goe=s3,Yoe=a3,Qoe=i3,Xoe=1,Joe=2;function Zoe(e,t,r,n,s,a){var o=r&Xoe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Joe?new Goe:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=o?n(p,g,f,t,e,a):n(g,p,f,e,t,a);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Yoe(t,function(b,x){if(!Qoe(m,x)&&(g===b||s(g,b,r,n,a)))return m.push(x)})){h=!1;break}}else if(!(g===p||s(g,p,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var o3=Zoe,ele=Ps,tle=ele.Uint8Array,rle=tle;function nle(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var sle=nle;function ale(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var pS=ale,yE=nh,xE=rle,ile=eS,ole=o3,lle=sle,cle=pS,ule=1,dle=2,fle="[object Boolean]",hle="[object Date]",mle="[object Error]",ple="[object Map]",gle="[object Number]",vle="[object RegExp]",yle="[object Set]",xle="[object String]",ble="[object Symbol]",wle="[object ArrayBuffer]",jle="[object DataView]",bE=yE?yE.prototype:void 0,_x=bE?bE.valueOf:void 0;function _le(e,t,r,n,s,a,o){switch(r){case jle:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wle:return!(e.byteLength!=t.byteLength||!a(new xE(e),new xE(t)));case fle:case hle:case gle:return ile(+e,+t);case mle:return e.name==t.name&&e.message==t.message;case vle:case xle:return e==t+"";case ple:var l=lle;case yle:var c=n&ule;if(l||(l=cle),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=dle,o.set(e,t);var d=ole(l(e),l(t),n,s,a,o);return o.delete(e),d;case ble:if(_x)return _x.call(e)==_x.call(t)}return!1}var Sle=_le;function Nle(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var l3=Nle,kle=l3,Ple=Br;function Ele(e,t,r){var n=t(e);return Ple(e)?n:kle(n,r(e))}var Cle=Ele;function Ole(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[s++]=o)}return a}var Ale=Ole;function Tle(){return[]}var Rle=Tle,Mle=Ale,$le=Rle,Ile=Object.prototype,Dle=Ile.propertyIsEnumerable,wE=Object.getOwnPropertySymbols,Lle=wE?function(e){return e==null?[]:(e=Object(e),Mle(wE(e),function(t){return Dle.call(e,t)}))}:$le,Fle=Lle;function zle(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Ble=zle,Ule=da,qle=fa,Wle="[object Arguments]";function Vle(e){return qle(e)&&Ule(e)==Wle}var Hle=Vle,jE=Hle,Kle=fa,c3=Object.prototype,Gle=c3.hasOwnProperty,Yle=c3.propertyIsEnumerable,Qle=jE(function(){return arguments}())?jE:function(e){return Kle(e)&&Gle.call(e,"callee")&&!Yle.call(e,"callee")},gS=Qle,Mp={exports:{}};function Xle(){return!1}var Jle=Xle;Mp.exports;(function(e,t){var r=Ps,n=Jle,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Mp,Mp.exports);var u3=Mp.exports,Zle=9007199254740991,ece=/^(?:0|[1-9]\d*)$/;function tce(e,t){var r=typeof e;return t=t??Zle,!!t&&(r=="number"||r!="symbol"&&ece.test(e))&&e>-1&&e%1==0&&e<t}var vS=tce,rce=9007199254740991;function nce(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rce}var yS=nce,sce=da,ace=yS,ice=fa,oce="[object Arguments]",lce="[object Array]",cce="[object Boolean]",uce="[object Date]",dce="[object Error]",fce="[object Function]",hce="[object Map]",mce="[object Number]",pce="[object Object]",gce="[object RegExp]",vce="[object Set]",yce="[object String]",xce="[object WeakMap]",bce="[object ArrayBuffer]",wce="[object DataView]",jce="[object Float32Array]",_ce="[object Float64Array]",Sce="[object Int8Array]",Nce="[object Int16Array]",kce="[object Int32Array]",Pce="[object Uint8Array]",Ece="[object Uint8ClampedArray]",Cce="[object Uint16Array]",Oce="[object Uint32Array]",at={};at[jce]=at[_ce]=at[Sce]=at[Nce]=at[kce]=at[Pce]=at[Ece]=at[Cce]=at[Oce]=!0;at[oce]=at[lce]=at[bce]=at[cce]=at[wce]=at[uce]=at[dce]=at[fce]=at[hce]=at[mce]=at[pce]=at[gce]=at[vce]=at[yce]=at[xce]=!1;function Ace(e){return ice(e)&&ace(e.length)&&!!at[sce(e)]}var Tce=Ace;function Rce(e){return function(t){return e(t)}}var d3=Rce,$p={exports:{}};$p.exports;(function(e,t){var r=yL,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})($p,$p.exports);var Mce=$p.exports,$ce=Tce,Ice=d3,_E=Mce,SE=_E&&_E.isTypedArray,Dce=SE?Ice(SE):$ce,f3=Dce,Lce=Ble,Fce=gS,zce=Br,Bce=u3,Uce=vS,qce=f3,Wce=Object.prototype,Vce=Wce.hasOwnProperty;function Hce(e,t){var r=zce(e),n=!r&&Fce(e),s=!r&&!n&&Bce(e),a=!r&&!n&&!s&&qce(e),o=r||n||s||a,l=o?Lce(e.length,String):[],c=l.length;for(var u in e)(t||Vce.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Uce(u,c)))&&l.push(u);return l}var Kce=Hce,Gce=Object.prototype;function Yce(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Gce;return e===r}var Qce=Yce;function Xce(e,t){return function(r){return e(t(r))}}var h3=Xce,Jce=h3,Zce=Jce(Object.keys,Object),eue=Zce,tue=Qce,rue=eue,nue=Object.prototype,sue=nue.hasOwnProperty;function aue(e){if(!tue(e))return rue(e);var t=[];for(var r in Object(e))sue.call(e,r)&&r!="constructor"&&t.push(r);return t}var iue=aue,oue=Z_,lue=yS;function cue(e){return e!=null&&lue(e.length)&&!oue(e)}var oh=cue,uue=Kce,due=iue,fue=oh;function hue(e){return fue(e)?uue(e):due(e)}var Hv=hue,mue=Cle,pue=Fle,gue=Hv;function vue(e){return mue(e,gue,pue)}var yue=vue,NE=yue,xue=1,bue=Object.prototype,wue=bue.hasOwnProperty;function jue(e,t,r,n,s,a){var o=r&xue,l=NE(e),c=l.length,u=NE(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:wue.call(t,h)))return!1}var m=a.get(e),g=a.get(t);if(m&&g)return m==t&&g==e;var p=!0;a.set(e,t),a.set(t,e);for(var v=o;++f<c;){h=l[f];var b=e[h],x=t[h];if(n)var w=o?n(x,b,h,t,e,a):n(b,x,h,e,t,a);if(!(w===void 0?b===x||s(b,x,r,n,a):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return a.delete(e),a.delete(t),p}var _ue=jue,Sue=Fo,Nue=Ps,kue=Sue(Nue,"DataView"),Pue=kue,Eue=Fo,Cue=Ps,Oue=Eue(Cue,"Promise"),Aue=Oue,Tue=Fo,Rue=Ps,Mue=Tue(Rue,"Set"),m3=Mue,$ue=Fo,Iue=Ps,Due=$ue(Iue,"WeakMap"),Lue=Due,sw=Pue,aw=tS,iw=Aue,ow=m3,lw=Lue,p3=da,fu=bL,kE="[object Map]",Fue="[object Object]",PE="[object Promise]",EE="[object Set]",CE="[object WeakMap]",OE="[object DataView]",zue=fu(sw),Bue=fu(aw),Uue=fu(iw),que=fu(ow),Wue=fu(lw),Di=p3;(sw&&Di(new sw(new ArrayBuffer(1)))!=OE||aw&&Di(new aw)!=kE||iw&&Di(iw.resolve())!=PE||ow&&Di(new ow)!=EE||lw&&Di(new lw)!=CE)&&(Di=function(e){var t=p3(e),r=t==Fue?e.constructor:void 0,n=r?fu(r):"";if(n)switch(n){case zue:return OE;case Bue:return kE;case Uue:return PE;case que:return EE;case Wue:return CE}return t});var Vue=Di,Sx=n3,Hue=o3,Kue=Sle,Gue=_ue,AE=Vue,TE=Br,RE=u3,Yue=f3,Que=1,ME="[object Arguments]",$E="[object Array]",Jh="[object Object]",Xue=Object.prototype,IE=Xue.hasOwnProperty;function Jue(e,t,r,n,s,a){var o=TE(e),l=TE(t),c=o?$E:AE(e),u=l?$E:AE(t);c=c==ME?Jh:c,u=u==ME?Jh:u;var d=c==Jh,f=u==Jh,h=c==u;if(h&&RE(e)){if(!RE(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new Sx),o||Yue(e)?Hue(e,t,r,n,s,a):Kue(e,t,c,r,n,s,a);if(!(r&Que)){var m=d&&IE.call(e,"__wrapped__"),g=f&&IE.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return a||(a=new Sx),s(p,v,r,n,a)}}return h?(a||(a=new Sx),Gue(e,t,r,n,s,a)):!1}var Zue=Jue,ede=Zue,DE=fa;function g3(e,t,r,n,s){return e===t?!0:e==null||t==null||!DE(e)&&!DE(t)?e!==e&&t!==t:ede(e,t,r,n,g3,s)}var xS=g3,tde=n3,rde=xS,nde=1,sde=2;function ade(e,t,r,n){var s=r.length,a=s,o=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new tde;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?rde(d,u,nde|sde,n,f):h))return!1}}return!0}var ide=ade,ode=_i;function lde(e){return e===e&&!ode(e)}var v3=lde,cde=v3,ude=Hv;function dde(e){for(var t=ude(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,cde(s)]}return t}var fde=dde;function hde(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var y3=hde,mde=ide,pde=fde,gde=y3;function vde(e){var t=pde(e);return t.length==1&&t[0][2]?gde(t[0][0],t[0][1]):function(r){return r===e||mde(r,e,t)}}var yde=vde;function xde(e,t){return e!=null&&t in Object(e)}var bde=xde,wde=NL,jde=gS,_de=Br,Sde=vS,Nde=yS,kde=Av;function Pde(e,t,r){t=wde(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var o=kde(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&Nde(s)&&Sde(o,s)&&(_de(e)||jde(e)))}var Ede=Pde,Cde=bde,Ode=Ede;function Ade(e,t){return e!=null&&Ode(e,t,Cde)}var Tde=Ade,Rde=xS,Mde=kL,$de=Tde,Ide=J_,Dde=v3,Lde=y3,Fde=Av,zde=1,Bde=2;function Ude(e,t){return Ide(e)&&Dde(t)?Lde(Fde(e),t):function(r){var n=Mde(r,e);return n===void 0&&n===t?$de(r,e):Rde(t,n,zde|Bde)}}var qde=Ude;function Wde(e){return e}var hu=Wde;function Vde(e){return function(t){return t==null?void 0:t[e]}}var Hde=Vde,Kde=aS;function Gde(e){return function(t){return Kde(t,e)}}var Yde=Gde,Qde=Hde,Xde=Yde,Jde=J_,Zde=Av;function efe(e){return Jde(e)?Qde(Zde(e)):Xde(e)}var tfe=efe,rfe=yde,nfe=qde,sfe=hu,afe=Br,ife=tfe;function ofe(e){return typeof e=="function"?e:e==null?sfe:typeof e=="object"?afe(e)?nfe(e[0],e[1]):rfe(e):ife(e)}var Si=ofe;function lfe(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var x3=lfe;function cfe(e){return e!==e}var ufe=cfe;function dfe(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var ffe=dfe,hfe=x3,mfe=ufe,pfe=ffe;function gfe(e,t,r){return t===t?pfe(e,t,r):hfe(e,mfe,r)}var vfe=gfe,yfe=vfe;function xfe(e,t){var r=e==null?0:e.length;return!!r&&yfe(e,t,0)>-1}var bfe=xfe;function wfe(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var jfe=wfe;function _fe(){}var Sfe=_fe,Nx=m3,Nfe=Sfe,kfe=pS,Pfe=1/0,Efe=Nx&&1/kfe(new Nx([,-0]))[1]==Pfe?function(e){return new Nx(e)}:Nfe,Cfe=Efe,Ofe=s3,Afe=bfe,Tfe=jfe,Rfe=i3,Mfe=Cfe,$fe=pS,Ife=200;function Dfe(e,t,r){var n=-1,s=Afe,a=e.length,o=!0,l=[],c=l;if(r)o=!1,s=Tfe;else if(a>=Ife){var u=t?null:Mfe(e);if(u)return $fe(u);o=!1,s=Rfe,c=new Ofe}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Lfe=Dfe,Ffe=Si,zfe=Lfe;function Bfe(e,t){return e&&e.length?zfe(e,Ffe(t)):[]}var Ufe=Bfe;const LE=Ye(Ufe);function b3(e,t,r){return t===!0?LE(e,r):Me(t)?LE(e,t):e}function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}var qfe=["ref"];function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(n){Kv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j3(n.key),n)}}function Vfe(e,t,r){return t&&zE(e.prototype,t),r&&zE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hfe(e,t,r){return t=Ip(t),Kfe(e,w3()?Reflect.construct(t,r||[],Ip(e).constructor):t.apply(e,r))}function Kfe(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gfe(e)}function Gfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w3=function(){return!!e})()}function Ip(e){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(e)}function Yfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cw(e,t)}function cw(e,t){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cw(e,t)}function Kv(e,t,r){return t=j3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j3(e){var t=Qfe(e,"string");return fc(t)=="symbol"?t:t+""}function Qfe(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xfe(e,t){if(e==null)return{};var r=Jfe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zfe(e){return e.value}function ehe(e,t){if(P.isValidElement(e))return P.cloneElement(e,t);if(typeof e=="function")return P.createElement(e,t);t.ref;var r=Xfe(t,qfe);return P.createElement(mS,r)}var BE=1,ao=function(e){function t(){var r;Wfe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Hfe(this,t,[].concat(s)),Kv(r,"lastBoundingBox",{width:-1,height:-1}),r}return Yfe(t,e),Vfe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>BE||Math.abs(s.height-this.lastBoundingBox.height)>BE)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Os({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Os(Os({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Os(Os({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return P.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},ehe(a,Os(Os({},this.props),{},{payload:b3(d,u,Zfe)})))}}],[{key:"getWithHeight",value:function(n,s){var a=Os(Os({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&se(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(y.PureComponent);Kv(ao,"displayName","Legend");Kv(ao,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var UE=nh,the=gS,rhe=Br,qE=UE?UE.isConcatSpreadable:void 0;function nhe(e){return rhe(e)||the(e)||!!(qE&&e&&e[qE])}var she=nhe,ahe=l3,ihe=she;function _3(e,t,r,n,s){var a=-1,o=e.length;for(r||(r=ihe),s||(s=[]);++a<o;){var l=e[a];t>0&&r(l)?t>1?_3(l,t-1,r,n,s):ahe(s,l):n||(s[s.length]=l)}return s}var S3=_3;function ohe(e){return function(t,r,n){for(var s=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var lhe=ohe,che=lhe,uhe=che(),dhe=uhe,fhe=dhe,hhe=Hv;function mhe(e,t){return e&&fhe(e,t,hhe)}var N3=mhe,phe=oh;function ghe(e,t){return function(r,n){if(r==null)return r;if(!phe(r))return e(r,n);for(var s=r.length,a=t?s:-1,o=Object(r);(t?a--:++a<s)&&n(o[a],a,o)!==!1;);return r}}var vhe=ghe,yhe=N3,xhe=vhe,bhe=xhe(yhe),bS=bhe,whe=bS,jhe=oh;function _he(e,t){var r=-1,n=jhe(e)?Array(e.length):[];return whe(e,function(s,a,o){n[++r]=t(s,a,o)}),n}var k3=_he;function She(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Nhe=She,WE=iu;function khe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=WE(e),o=t!==void 0,l=t===null,c=t===t,u=WE(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!o&&s||!c)return-1}return 0}var Phe=khe,Ehe=Phe;function Che(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,o=s.length,l=r.length;++n<o;){var c=Ehe(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Ohe=Che,kx=sS,Ahe=aS,The=Si,Rhe=k3,Mhe=Nhe,$he=d3,Ihe=Ohe,Dhe=hu,Lhe=Br;function Fhe(e,t,r){t.length?t=kx(t,function(a){return Lhe(a)?function(o){return Ahe(o,a.length===1?a[0]:a)}:a}):t=[Dhe];var n=-1;t=kx(t,$he(The));var s=Rhe(e,function(a,o,l){var c=kx(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return Mhe(s,function(a,o){return Ihe(a,o,r)})}var zhe=Fhe;function Bhe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Uhe=Bhe,qhe=Uhe,VE=Math.max;function Whe(e,t,r){return t=VE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=VE(n.length-t,0),o=Array(a);++s<a;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),qhe(e,this,l)}}var Vhe=Whe;function Hhe(e){return function(){return e}}var Khe=Hhe,Ghe=Fo,Yhe=function(){try{var e=Ghe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),P3=Yhe,Qhe=Khe,HE=P3,Xhe=hu,Jhe=HE?function(e,t){return HE(e,"toString",{configurable:!0,enumerable:!1,value:Qhe(t),writable:!0})}:Xhe,Zhe=Jhe,eme=800,tme=16,rme=Date.now;function nme(e){var t=0,r=0;return function(){var n=rme(),s=tme-(n-r);if(r=n,s>0){if(++t>=eme)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var sme=nme,ame=Zhe,ime=sme,ome=ime(ame),lme=ome,cme=hu,ume=Vhe,dme=lme;function fme(e,t){return dme(ume(e,t,cme),e+"")}var hme=fme,mme=eS,pme=oh,gme=vS,vme=_i;function yme(e,t,r){if(!vme(r))return!1;var n=typeof t;return(n=="number"?pme(r)&&gme(t,r.length):n=="string"&&t in r)?mme(r[t],e):!1}var Gv=yme,xme=S3,bme=zhe,wme=hme,KE=Gv,jme=wme(function(e,t){if(e==null)return[];var r=t.length;return r>1&&KE(e,t[0],t[1])?t=[]:r>2&&KE(t[0],t[1],t[2])&&(t=[t[0]]),bme(e,xme(t,1),[])}),_me=jme;const wS=Ye(_me);function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(this,arguments)}function Sme(e,t){return Eme(e)||Pme(e,t)||kme(e,t)||Nme()}function Nme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kme(e,t){if(e){if(typeof e=="string")return GE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GE(e,t)}}function GE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Eme(e){if(Array.isArray(e))return e}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Px(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){Cme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cme(e,t,r){return t=Ome(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ome(e){var t=Ame(e,"string");return Jd(t)=="symbol"?t:t+""}function Ame(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tme(e){return Array.isArray(e)&&Rt(e[0])&&Rt(e[1])?e.join(" ~ "):e}var Rme=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(d&&d.length){var A={padding:0,margin:0},D=(h?wS(d,h):d).map(function(R,L){if(R.type==="none")return null;var I=Px({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),F=R.formatter||f||Tme,O=R.value,$=R.name,H=O,z=$;if(F&&H!=null&&z!=null){var B=F(O,$,R,L,d);if(Array.isArray(B)){var Y=Sme(B,2);H=Y[0],z=Y[1]}else H=B}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:I},Rt(z)?P.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Rt(z)?P.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,P.createElement("span",{className:"recharts-tooltip-item-value"},H),P.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:A},D)}return null},j=Px({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=Px({margin:0},u),S=!Ie(p),N=S?p:"",k=Fe("recharts-default-tooltip",m),C=Fe("recharts-tooltip-label",g);S&&v&&d!==void 0&&d!==null&&(N=v(p,d));var E=x?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",uw({className:k,style:j},E),P.createElement("p",{className:C,style:_},P.isValidElement(N)?N:"".concat(N)),w())};function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function Zh(e,t,r){return t=Mme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mme(e){var t=$me(e,"string");return Zd(t)=="symbol"?t:t+""}function $me(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mu="recharts-tooltip-wrapper",Ime={visibility:"hidden"};function Dme(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Fe(Mu,Zh(Zh(Zh(Zh({},"".concat(Mu,"-right"),se(r)&&t&&se(t.x)&&r>=t.x),"".concat(Mu,"-left"),se(r)&&t&&se(t.x)&&r<t.x),"".concat(Mu,"-bottom"),se(n)&&t&&se(t.y)&&n>=t.y),"".concat(Mu,"-top"),se(n)&&t&&se(t.y)&&n<t.y))}function QE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&se(a[n]))return a[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function Lme(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Fme(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=QE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=QE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Lme({translateX:d,translateY:f,useTranslate3d:l})):u=Ime,{cssProperties:u,cssClasses:Dme({translateX:d,translateY:f,coordinate:r})}}function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(n){fw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C3(n.key),n)}}function Ume(e,t,r){return t&&Bme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qme(e,t,r){return t=Dp(t),Wme(e,E3()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function Wme(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vme(e)}function Vme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E3=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function Hme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dw(e,t)}function dw(e,t){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},dw(e,t)}function fw(e,t,r){return t=C3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C3(e){var t=Kme(e,"string");return hc(t)=="symbol"?t:t+""}function Kme(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZE=1,Gme=function(e){function t(){var r;zme(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=qme(this,t,[].concat(s)),fw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Hme(t,e),Ume(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>ZE||Math.abs(n.height-this.state.lastBoundingBox.height)>ZE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,g=s.position,p=s.reverseDirection,v=s.useTranslate3d,b=s.viewBox,x=s.wrapperStyle,w=Fme({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),j=w.cssClasses,_=w.cssProperties,S=JE(JE({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return P.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(y.PureComponent),Yme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Hs={isSsr:Yme(),get:function(t){return Hs[t]},set:function(t,r){if(typeof t=="string")Hs[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){Hs[s]=t[s]})}}};function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(n){jS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A3(n.key),n)}}function Jme(e,t,r){return t&&Xme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zme(e,t,r){return t=Lp(t),epe(e,O3()?Reflect.construct(t,r||[],Lp(e).constructor):t.apply(e,r))}function epe(e,t){if(t&&(mc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tpe(e)}function tpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O3=function(){return!!e})()}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(e)}function rpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hw(e,t)}function hw(e,t){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},hw(e,t)}function jS(e,t,r){return t=A3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A3(e){var t=npe(e,"string");return mc(t)=="symbol"?t:t+""}function npe(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function spe(e){return e.dataKey}function ape(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(Rme,t)}var Xr=function(e){function t(){return Qme(this,t),Zme(this,t,arguments)}return rpe(t,e),Jme(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,g=s.payload,p=s.payloadUniqBy,v=s.position,b=s.reverseDirection,x=s.useTranslate3d,w=s.viewBox,j=s.wrapperStyle,_=g??[];f&&_.length&&(_=b3(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,spe));var S=_.length>0;return P.createElement(Gme,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:S,offset:m,position:v,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:j},ape(u,tC(tC({},this.props),{},{payload:_})))}}])}(y.PureComponent);jS(Xr,"displayName","Tooltip");jS(Xr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Hs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ipe=Ps,ope=function(){return ipe.Date.now()},lpe=ope,cpe=/\s/;function upe(e){for(var t=e.length;t--&&cpe.test(e.charAt(t)););return t}var dpe=upe,fpe=dpe,hpe=/^\s+/;function mpe(e){return e&&e.slice(0,fpe(e)+1).replace(hpe,"")}var ppe=mpe,gpe=ppe,rC=_i,vpe=iu,nC=NaN,ype=/^[-+]0x[0-9a-f]+$/i,xpe=/^0b[01]+$/i,bpe=/^0o[0-7]+$/i,wpe=parseInt;function jpe(e){if(typeof e=="number")return e;if(vpe(e))return nC;if(rC(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=rC(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gpe(e);var r=xpe.test(e);return r||bpe.test(e)?wpe(e.slice(2),r?2:8):ype.test(e)?nC:+e}var T3=jpe,_pe=_i,Ex=lpe,sC=T3,Spe="Expected a function",Npe=Math.max,kpe=Math.min;function Ppe(e,t,r){var n,s,a,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Spe);t=sC(t)||0,_pe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?Npe(sC(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function m(S){var N=n,k=s;return n=s=void 0,u=S,o=e.apply(k,N),o}function g(S){return u=S,l=setTimeout(b,t),d?m(S):o}function p(S){var N=S-c,k=S-u,C=t-N;return f?kpe(C,a-k):C}function v(S){var N=S-c,k=S-u;return c===void 0||N>=t||N<0||f&&k>=a}function b(){var S=Ex();if(v(S))return x(S);l=setTimeout(b,p(S))}function x(S){return l=void 0,h&&n?m(S):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function j(){return l===void 0?o:x(Ex())}function _(){var S=Ex(),N=v(S);if(n=arguments,s=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return _.cancel=w,_.flush=j,_}var Epe=Ppe,Cpe=Epe,Ope=_i,Ape="Expected a function";function Tpe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(Ape);return Ope(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),Cpe(e,t,{leading:n,maxWait:t,trailing:s})}var Rpe=Tpe;const R3=Ye(Rpe);function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function aC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(r),!0).forEach(function(n){Mpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mpe(e,t,r){return t=$pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $pe(e){var t=Ipe(e,"string");return ef(t)=="symbol"?t:t+""}function Ipe(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dpe(e,t){return Bpe(e)||zpe(e,t)||Fpe(e,t)||Lpe()}function Lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fpe(e,t){if(e){if(typeof e=="string")return iC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iC(e,t)}}function iC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Bpe(e){if(Array.isArray(e))return e}var Fp=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,b=e.className,x=e.onResize,w=e.style,j=w===void 0?{}:w,_=y.useRef(null),S=y.useRef();S.current=x,y.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var N=y.useState({containerWidth:s.width,containerHeight:s.height}),k=Dpe(N,2),C=k[0],E=k[1],T=y.useCallback(function(D,R){E(function(L){var I=Math.round(D),F=Math.round(R);return L.containerWidth===I&&L.containerHeight===F?L:{containerWidth:I,containerHeight:F}})},[]);y.useEffect(function(){var D=function($){var H,z=$[0].contentRect,B=z.width,Y=z.height;T(B,Y),(H=S.current)===null||H===void 0||H.call(S,B,Y)};p>0&&(D=R3(D,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(D),L=_.current.getBoundingClientRect(),I=L.width,F=L.height;return T(I,F),R.observe(_.current),function(){R.disconnect()}},[T,p]);var A=y.useMemo(function(){var D=C.containerWidth,R=C.containerHeight;if(D<0||R<0)return null;Vs(Hi(o)||Hi(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Vs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Hi(o)?D:o,I=Hi(c)?R:c;r&&r>0&&(L?I=L/r:I&&(L=I*r),h&&I>h&&(I=h)),Vs(L>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,I,o,c,d,f,r);var F=!Array.isArray(m)&&Ws(m.type).endsWith("Chart");return P.Children.map(m,function(O){return CL.isElement(O)?y.cloneElement(O,em({width:L,height:I},F?{style:em({height:"100%",width:"100%",maxHeight:I,maxWidth:L},O.props.style)}:{})):O})},[r,m,c,h,f,d,C,o]);return P.createElement("div",{id:v?"".concat(v):void 0,className:Fe("recharts-responsive-container",b),style:em(em({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},A)}),M3=function(t){return null};M3.displayName="Cell";function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){Upe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Upe(e,t,r){return t=qpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qpe(e){var t=Wpe(e,"string");return tf(t)=="symbol"?t:t+""}function Wpe(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var el={widthCache:{},cacheCount:0},Vpe=2e3,Hpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lC="recharts_measurement_span";function Kpe(e){var t=mw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var gd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Hs.isSsr)return{width:0,height:0};var n=Kpe(r),s=JSON.stringify({text:t,copyStyle:n});if(el.widthCache[s])return el.widthCache[s];try{var a=document.getElementById(lC);a||(a=document.createElement("span"),a.setAttribute("id",lC),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=mw(mw({},Hpe),n);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return el.widthCache[s]=c,++el.cacheCount>Vpe&&(el.cacheCount=0,el.widthCache={}),c}catch{return{width:0,height:0}}},Gpe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function zp(e,t){return Jpe(e)||Xpe(e,t)||Qpe(e,t)||Ype()}function Ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qpe(e,t){if(e){if(typeof e=="string")return cC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cC(e,t)}}function cC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Jpe(e){if(Array.isArray(e))return e}function Zpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tge(n.key),n)}}function ege(e,t,r){return t&&uC(e.prototype,t),r&&uC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tge(e){var t=rge(e,"string");return rf(t)=="symbol"?t:t+""}function rge(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},age=Object.keys($3),bl="NaN";function ige(e,t){return e*$3[t]}var tm=function(){function e(t,r){Zpe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!nge.test(r)&&(this.num=NaN,this.unit=""),age.includes(r)&&(this.num=ige(t,r),this.unit="px")}return ege(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=sge.exec(r))!==null&&n!==void 0?n:[],a=zp(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function I3(e){if(e.includes(bl))return bl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=dC.exec(t))!==null&&r!==void 0?r:[],s=zp(n,4),a=s[1],o=s[2],l=s[3],c=tm.parse(a??""),u=tm.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return bl;t=t.replace(dC,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=fC.exec(t))!==null&&f!==void 0?f:[],m=zp(h,4),g=m[1],p=m[2],v=m[3],b=tm.parse(g??""),x=tm.parse(v??""),w=p==="+"?b.add(x):b.subtract(x);if(w.isNaN())return bl;t=t.replace(fC,w.toString())}return t}var hC=/\(([^()]*)\)/;function oge(e){for(var t=e;t.includes("(");){var r=hC.exec(t),n=zp(r,2),s=n[1];t=t.replace(hC,I3(s))}return t}function lge(e){var t=e.replace(/\s+/g,"");return t=oge(t),t=I3(t),t}function cge(e){try{return lge(e)}catch{return bl}}function Cx(e){var t=cge(e.slice(5,-1));return t===bl?"":t}var uge=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dge=["dx","dy","angle","className","breakAll"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function mC(e,t){if(e==null)return{};var r=fge(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pC(e,t){return gge(e)||pge(e,t)||mge(e,t)||hge()}function hge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mge(e,t){if(e){if(typeof e=="string")return gC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gC(e,t)}}function gC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gge(e){if(Array.isArray(e))return e}var D3=/[ \f\n\r\t\v\u2028\u2029]+/,L3=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var a=[];Ie(r)||(n?a=r.toString().split(""):a=r.toString().split(D3));var o=a.map(function(c){return{word:c,width:gd(c,s).width}}),l=n?0:gd(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},vge=function(t,r,n,s,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=se(o),f=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(I,F){var O=F.word,$=F.width,H=I[I.length-1];if(H&&(s==null||a||H.width+$+n<Number(s)))H.words.push(O),H.width+=$+n;else{var z={words:[O],width:$};I.push(z)}return I},[])},m=h(r),g=function(L){return L.reduce(function(I,F){return I.width>F.width?I:F})};if(!d)return m;for(var p="…",v=function(L){var I=f.slice(0,L),F=L3({breakAll:u,style:c,children:I+p}).wordsWithComputedWidth,O=h(F),$=O.length>o||g(O).width>Number(s);return[$,O]},b=0,x=f.length-1,w=0,j;b<=x&&w<=f.length-1;){var _=Math.floor((b+x)/2),S=_-1,N=v(S),k=pC(N,2),C=k[0],E=k[1],T=v(_),A=pC(T,1),D=A[0];if(!C&&!D&&(b=_+1),C&&D&&(x=_-1),!C&&D){j=E;break}w++}return j||m},vC=function(t){var r=Ie(t)?[]:t.toString().split(D3);return[{words:r}]},yge=function(t){var r=t.width,n=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Hs.isSsr){var c,u,d=L3({breakAll:o,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return vC(s);return vge({breakAll:o,children:s,maxLines:l,style:a},c,u,r,n)}return vC(s)},yC="#808080",Bp=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,b=v===void 0?yC:v,x=mC(t,uge),w=y.useMemo(function(){return yge({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),j=x.dx,_=x.dy,S=x.angle,N=x.className,k=x.breakAll,C=mC(x,dge);if(!Rt(n)||!Rt(a))return null;var E=n+(se(j)?j:0),T=a+(se(_)?_:0),A;switch(p){case"start":A=Cx("calc(".concat(u,")"));break;case"middle":A=Cx("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=Cx("calc(".concat(w.length-1," * -").concat(l,")"));break}var D=[];if(f){var R=w[0].width,L=x.width;D.push("scale(".concat((se(L)?L/R:1)/R,")"))}return S&&D.push("rotate(".concat(S,", ").concat(E,", ").concat(T,")")),D.length&&(C.transform=D.join(" ")),P.createElement("text",pw({},Le(C,!0),{x:E,y:T,className:Fe("recharts-text",N),textAnchor:m,fill:b.includes("url")?yC:b}),w.map(function(I,F){var O=I.words.join(k?"":" ");return P.createElement("tspan",{x:E,dy:F===0?A:l,key:"".concat(O,"-").concat(F)},O)}))};function ei(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xge(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _S(e){let t,r,n;e.length!==2?(t=ei,r=(l,c)=>ei(e(l),c),n=(l,c)=>e(l)-c):(t=e===ei||e===xge?e:bge,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function bge(){return 0}function F3(e){return e===null?NaN:+e}function*wge(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jge=_S(ei),lh=jge.right;_S(F3).center;class xC extends Map{constructor(t,r=Nge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(bC(this,t))}has(t){return super.has(bC(this,t))}set(t,r){return super.set(_ge(this,t),r)}delete(t){return super.delete(Sge(this,t))}}function bC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function _ge({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Sge({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Nge(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kge(e=ei){if(e===ei)return z3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function z3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Pge=Math.sqrt(50),Ege=Math.sqrt(10),Cge=Math.sqrt(2);function Up(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),o=a>=Pge?10:a>=Ege?5:a>=Cge?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Up(e,t,r*2):[l,c,u]}function gw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,a,o]=n?Up(t,e,r):Up(e,t,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function vw(e,t,r){return t=+t,e=+e,r=+r,Up(e,t,r)[2]}function yw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?vw(t,e,r):vw(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function wC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function jC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function B3(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?z3:kge(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));B3(e,t,m,g,s)}const a=e[t];let o=r,l=n;for($u(e,r,t),s(e[n],a)>0&&$u(e,r,n);o<l;){for($u(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[r],a)===0?$u(e,r,l):(++l,$u(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function $u(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Oge(e,t,r){if(e=Float64Array.from(wge(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return jC(e);if(t>=1)return wC(e);var n,s=(n-1)*t,a=Math.floor(s),o=wC(B3(e,a).subarray(0,a+1)),l=jC(e.subarray(a+1));return o+(l-o)*(s-a)}}function Age(e,t,r=F3){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,a=Math.floor(s),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function Tge(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(s);++n<s;)a[n]=e+n*r;return a}function On(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ha(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xw=Symbol("implicit");function SS(){var e=new xC,t=[],r=[],n=xw;function s(a){let o=e.get(a);if(o===void 0){if(n!==xw)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new xC;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return SS(t,r).unknown(n)},On.apply(s,arguments),s}function nf(){var e=SS().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,g=m?s:n,p=m?n:s;a=(p-g)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),g+=(p-g-a*(h-c))*d,o=a*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Tge(h).map(function(b){return g+a*b});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return nf(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},On.apply(f(),arguments)}function U3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return U3(t())},e}function vd(){return U3(nf.apply(null,arguments).paddingInner(1))}function NS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function q3(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ch(){}var sf=.7,qp=1/sf,$l="\\s*([+-]?\\d+)\\s*",af="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rge=/^#([0-9a-f]{3,8})$/,Mge=new RegExp(`^rgb\\(${$l},${$l},${$l}\\)$`),$ge=new RegExp(`^rgb\\(${vs},${vs},${vs}\\)$`),Ige=new RegExp(`^rgba\\(${$l},${$l},${$l},${af}\\)$`),Dge=new RegExp(`^rgba\\(${vs},${vs},${vs},${af}\\)$`),Lge=new RegExp(`^hsl\\(${af},${vs},${vs}\\)$`),Fge=new RegExp(`^hsla\\(${af},${vs},${vs},${af}\\)$`),_C={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NS(ch,of,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:SC,formatHex:SC,formatHex8:zge,formatHsl:Bge,formatRgb:NC,toString:NC});function SC(){return this.rgb().formatHex()}function zge(){return this.rgb().formatHex8()}function Bge(){return W3(this).formatHsl()}function NC(){return this.rgb().formatRgb()}function of(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Rge.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?kC(t):r===3?new $r(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?rm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?rm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mge.exec(e))?new $r(t[1],t[2],t[3],1):(t=$ge.exec(e))?new $r(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ige.exec(e))?rm(t[1],t[2],t[3],t[4]):(t=Dge.exec(e))?rm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Lge.exec(e))?CC(t[1],t[2]/100,t[3]/100,1):(t=Fge.exec(e))?CC(t[1],t[2]/100,t[3]/100,t[4]):_C.hasOwnProperty(e)?kC(_C[e]):e==="transparent"?new $r(NaN,NaN,NaN,0):null}function kC(e){return new $r(e>>16&255,e>>8&255,e&255,1)}function rm(e,t,r,n){return n<=0&&(e=t=r=NaN),new $r(e,t,r,n)}function Uge(e){return e instanceof ch||(e=of(e)),e?(e=e.rgb(),new $r(e.r,e.g,e.b,e.opacity)):new $r}function bw(e,t,r,n){return arguments.length===1?Uge(e):new $r(e,t,r,n??1)}function $r(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}NS($r,bw,q3(ch,{brighter(e){return e=e==null?qp:Math.pow(qp,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sf:Math.pow(sf,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $r(io(this.r),io(this.g),io(this.b),Wp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PC,formatHex:PC,formatHex8:qge,formatRgb:EC,toString:EC}));function PC(){return`#${Ki(this.r)}${Ki(this.g)}${Ki(this.b)}`}function qge(){return`#${Ki(this.r)}${Ki(this.g)}${Ki(this.b)}${Ki((isNaN(this.opacity)?1:this.opacity)*255)}`}function EC(){const e=Wp(this.opacity);return`${e===1?"rgb(":"rgba("}${io(this.r)}, ${io(this.g)}, ${io(this.b)}${e===1?")":`, ${e})`}`}function Wp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ki(e){return e=io(e),(e<16?"0":"")+e.toString(16)}function CC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vn(e,t,r,n)}function W3(e){if(e instanceof Vn)return new Vn(e.h,e.s,e.l,e.opacity);if(e instanceof ch||(e=of(e)),!e)return new Vn;if(e instanceof Vn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new Vn(o,l,c,e.opacity)}function Wge(e,t,r,n){return arguments.length===1?W3(e):new Vn(e,t,r,n??1)}function Vn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}NS(Vn,Wge,q3(ch,{brighter(e){return e=e==null?qp:Math.pow(qp,e),new Vn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sf:Math.pow(sf,e),new Vn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new $r(Ox(e>=240?e-240:e+120,s,n),Ox(e,s,n),Ox(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Vn(OC(this.h),nm(this.s),nm(this.l),Wp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wp(this.opacity);return`${e===1?"hsl(":"hsla("}${OC(this.h)}, ${nm(this.s)*100}%, ${nm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OC(e){return e=(e||0)%360,e<0?e+360:e}function nm(e){return Math.max(0,Math.min(1,e||0))}function Ox(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const kS=e=>()=>e;function Vge(e,t){return function(r){return e+r*t}}function Hge(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Kge(e){return(e=+e)==1?V3:function(t,r){return r-t?Hge(t,r,e):kS(isNaN(t)?r:t)}}function V3(e,t){var r=t-e;return r?Vge(e,r):kS(isNaN(e)?t:e)}const AC=function e(t){var r=Kge(t);function n(s,a){var o=r((s=bw(s)).r,(a=bw(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=V3(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Gge(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=e[s]*(1-a)+t[s]*a;return n}}function Yge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qge(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)s[o]=mu(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=s[o](l);return a}}function Xge(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Vp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Jge(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=mu(e[s],t[s]):n[s]=t[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var ww=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ax=new RegExp(ww.source,"g");function Zge(e){return function(){return e}}function eve(e){return function(t){return e(t)+""}}function tve(e,t){var r=ww.lastIndex=Ax.lastIndex=0,n,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ww.exec(e))&&(s=Ax.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Vp(n,s)})),r=Ax.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?eve(c[0].x):Zge(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function mu(e,t){var r=typeof t,n;return t==null||r==="boolean"?kS(t):(r==="number"?Vp:r==="string"?(n=of(t))?(t=n,AC):tve:t instanceof of?AC:t instanceof Date?Xge:Yge(t)?Gge:Array.isArray(t)?Qge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Jge:Vp)(e,t)}function PS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rve(e,t){t===void 0&&(t=e,e=mu);for(var r=0,n=t.length-1,s=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function nve(e){return function(){return e}}function Hp(e){return+e}var TC=[0,1];function yr(e){return e}function jw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nve(isNaN(t)?NaN:.5)}function sve(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ave(e,t,r){var n=e[0],s=e[1],a=t[0],o=t[1];return s<n?(n=jw(s,n),a=r(o,a)):(n=jw(n,s),a=r(a,o)),function(l){return a(n(l))}}function ive(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=jw(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=lh(e,l,1,n)-1;return a[c](s[c](l))}}function uh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yv(){var e=TC,t=TC,r=mu,n,s,a,o=yr,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==yr&&(o=sve(e[0],e[h-1])),l=h>2?ive:ave,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),Vp)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Hp),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=PS,d()},f.clamp=function(h){return arguments.length?(o=h?!0:yr,d()):o!==yr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,s=m,d()}}function ES(){return Yv()(yr,yr)}function ove(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function pc(e){return e=Kp(Math.abs(e)),e?e[1]:NaN}function lve(e,t){return function(r,n){for(var s=r.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function cve(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lf(e){if(!(t=uve.exec(e)))throw new Error("invalid format: "+e);var t;return new CS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}lf.prototype=CS.prototype;function CS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}CS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dve(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var H3;function fve(e,t){var r=Kp(e,t);if(!r)return e+"";var n=r[0],s=r[1],a=s-(H3=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Kp(e,Math.max(0,t+a-1))[0]}function RC(e,t){var r=Kp(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const MC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ove,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>RC(e*100,t),r:RC,s:fve,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $C(e){return e}var IC=Array.prototype.map,DC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hve(e){var t=e.grouping===void 0||e.thousands===void 0?$C:lve(IC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?$C:cve(IC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=lf(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,b=f.width,x=f.comma,w=f.precision,j=f.trim,_=f.type;_==="n"?(x=!0,_="g"):MC[_]||(w===void 0&&(w=12),j=!0,_="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",N=p==="$"?n:/[%p]/.test(_)?o:"",k=MC[_],C=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(T){var A=S,D=N,R,L,I;if(_==="c")D=k(T)+D,T="";else{T=+T;var F=T<0||1/T<0;if(T=isNaN(T)?c:k(Math.abs(T),w),j&&(T=dve(T)),F&&+T==0&&g!=="+"&&(F=!1),A=(F?g==="("?g:l:g==="-"||g==="("?"":g)+A,D=(_==="s"?DC[8+H3/3]:"")+D+(F&&g==="("?")":""),C){for(R=-1,L=T.length;++R<L;)if(I=T.charCodeAt(R),48>I||I>57){D=(I===46?s+T.slice(R+1):T.slice(R))+D,T=T.slice(0,R);break}}}x&&!v&&(T=t(T,1/0));var O=A.length+T.length+D.length,$=O<b?new Array(b-O+1).join(h):"";switch(x&&v&&(T=t($+T,$.length?b-D.length:1/0),$=""),m){case"<":T=A+T+D+$;break;case"=":T=A+$+T+D;break;case"^":T=$.slice(0,O=$.length>>1)+A+T+D+$.slice(O);break;default:T=$+A+T+D;break}return a(T)}return E.toString=function(){return f+""},E}function d(f,h){var m=u((f=lf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(pc(h)/3)))*3,p=Math.pow(10,-g),v=DC[8+g/3];return function(b){return m(p*b)+v}}return{format:u,formatPrefix:d}}var sm,OS,K3;mve({thousands:",",grouping:[3],currency:["$",""]});function mve(e){return sm=hve(e),OS=sm.format,K3=sm.formatPrefix,sm}function pve(e){return Math.max(0,-pc(Math.abs(e)))}function gve(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pc(t)/3)))*3-pc(Math.abs(e)))}function vve(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pc(t)-pc(e))+1}function G3(e,t,r,n){var s=yw(e,t,r),a;switch(n=lf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=gve(s,o))&&(n.precision=a),K3(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=vve(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=pve(s))&&(n.precision=a-(n.type==="%")*2);break}}return OS(n)}function Ni(e){var t=e.domain;return e.ticks=function(r){var n=t();return gw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return G3(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,a=n.length-1,o=n[s],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=vw(o,l,r),u===c)return n[s]=o,n[a]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Gp(){var e=ES();return e.copy=function(){return uh(e,Gp())},On.apply(e,arguments),Ni(e)}function Y3(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Y3(e).unknown(t)},e=arguments.length?Array.from(e,Hp):[0,1],Ni(r)}function Q3(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],a=e[n],o;return a<s&&(o=r,r=n,n=o,o=s,s=a,a=o),e[r]=t.floor(s),e[n]=t.ceil(a),e}function LC(e){return Math.log(e)}function FC(e){return Math.exp(e)}function yve(e){return-Math.log(-e)}function xve(e){return-Math.exp(-e)}function bve(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wve(e){return e===10?bve:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jve(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zC(e){return(t,r)=>-e(-t,r)}function AS(e){const t=e(LC,FC),r=t.domain;let n=10,s,a;function o(){return s=jve(n),a=wve(n),r()[0]<0?(s=zC(s),a=zC(a),e(yve,xve)):e(LC,FC),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,p;const v=l==null?10:+l;let b=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<v&&(b=gw(u,d,v))}else b=gw(h,m,Math.min(m-h,v)).map(a);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=lf(c)).precision==null&&(c.trim=!0),c=OS(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Q3(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function X3(){const e=AS(Yv()).domain([1,10]);return e.copy=()=>uh(e,X3()).base(e.base()),On.apply(e,arguments),e}function BC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function UC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function TS(e){var t=1,r=e(BC(t),UC(t));return r.constant=function(n){return arguments.length?e(BC(t=+n),UC(t)):t},Ni(r)}function J3(){var e=TS(Yv());return e.copy=function(){return uh(e,J3()).constant(e.constant())},On.apply(e,arguments)}function qC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _ve(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Sve(e){return e<0?-e*e:e*e}function RS(e){var t=e(yr,yr),r=1;function n(){return r===1?e(yr,yr):r===.5?e(_ve,Sve):e(qC(r),qC(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Ni(t)}function MS(){var e=RS(Yv());return e.copy=function(){return uh(e,MS()).exponent(e.exponent())},On.apply(e,arguments),e}function Nve(){return MS.apply(null,arguments).exponent(.5)}function WC(e){return Math.sign(e)*e*e}function kve(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Z3(){var e=ES(),t=[0,1],r=!1,n;function s(a){var o=kve(e(a));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(a){return e.invert(WC(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,Hp)).map(WC)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return Z3(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},On.apply(s,arguments),Ni(s)}function e6(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Age(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[lh(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ei),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return e6().domain(e).range(t).unknown(n)},On.apply(a,arguments)}function t6(){var e=0,t=1,r=1,n=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[lh(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return t6().domain([e,t]).range(s).unknown(a)},On.apply(Ni(o),arguments)}function r6(){var e=[.5],t=[0,1],r,n=1;function s(a){return a!=null&&a<=a?t[lh(e,a,0,n)]:r}return s.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return r6().domain(e).range(t).unknown(r)},On.apply(s,arguments)}const Tx=new Date,Rx=new Date;function $t(e,t,r,n){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},s.filter=a=>$t(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(s.count=(a,o)=>(Tx.setTime(+a),Rx.setTime(+o),e(Tx),e(Rx),Math.floor(r(Tx,Rx))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?o=>n(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const Yp=$t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$t(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yp);Yp.range;const zs=1e3,xn=zs*60,Bs=xn*60,na=Bs*24,$S=na*7,VC=na*30,Mx=na*365,Gi=$t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zs)},(e,t)=>(t-e)/zs,e=>e.getUTCSeconds());Gi.range;const IS=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zs)},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getMinutes());IS.range;const DS=$t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getUTCMinutes());DS.range;const LS=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zs-e.getMinutes()*xn)},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getHours());LS.range;const FS=$t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getUTCHours());FS.range;const dh=$t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xn)/na,e=>e.getDate()-1);dh.range;const Qv=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/na,e=>e.getUTCDate()-1);Qv.range;const n6=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/na,e=>Math.floor(e/na));n6.range;function zo(e){return $t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xn)/$S)}const Xv=zo(0),Qp=zo(1),Pve=zo(2),Eve=zo(3),gc=zo(4),Cve=zo(5),Ove=zo(6);Xv.range;Qp.range;Pve.range;Eve.range;gc.range;Cve.range;Ove.range;function Bo(e){return $t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$S)}const Jv=Bo(0),Xp=Bo(1),Ave=Bo(2),Tve=Bo(3),vc=Bo(4),Rve=Bo(5),Mve=Bo(6);Jv.range;Xp.range;Ave.range;Tve.range;vc.range;Rve.range;Mve.range;const zS=$t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zS.range;const BS=$t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());BS.range;const sa=$t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());sa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});sa.range;const aa=$t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});aa.range;function s6(e,t,r,n,s,a){const o=[[Gi,1,zs],[Gi,5,5*zs],[Gi,15,15*zs],[Gi,30,30*zs],[a,1,xn],[a,5,5*xn],[a,15,15*xn],[a,30,30*xn],[s,1,Bs],[s,3,3*Bs],[s,6,6*Bs],[s,12,12*Bs],[n,1,na],[n,2,2*na],[r,1,$S],[t,1,VC],[t,3,3*VC],[e,1,Mx]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=_S(([,,v])=>v).right(o,h);if(m===o.length)return e.every(yw(u/Mx,d/Mx,f));if(m===0)return Yp.every(Math.max(yw(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[$ve,Ive]=s6(aa,BS,Jv,n6,FS,DS),[Dve,Lve]=s6(sa,zS,Xv,dh,LS,IS);function $x(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ix(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Iu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Fve(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Du(s),d=Lu(s),f=Du(a),h=Lu(a),m=Du(o),g=Lu(o),p=Du(l),v=Lu(l),b=Du(c),x=Lu(c),w={a:F,A:O,b:$,B:H,c:null,d:XC,e:XC,f:lye,g:yye,G:bye,H:aye,I:iye,j:oye,L:a6,m:cye,M:uye,p:z,q:B,Q:e2,s:t2,S:dye,u:fye,U:hye,V:mye,w:pye,W:gye,x:null,X:null,y:vye,Y:xye,Z:wye,"%":ZC},j={a:Y,A:oe,b:ye,B:me,c:null,d:JC,e:JC,f:Nye,g:$ye,G:Dye,H:jye,I:_ye,j:Sye,L:o6,m:kye,M:Pye,p:ae,q:je,Q:e2,s:t2,S:Eye,u:Cye,U:Oye,V:Aye,w:Tye,W:Rye,x:null,X:null,y:Mye,Y:Iye,Z:Lye,"%":ZC},_={a:E,A:T,b:A,B:D,c:R,d:YC,e:YC,f:tye,g:GC,G:KC,H:QC,I:QC,j:Xve,L:eye,m:Qve,M:Jve,p:C,q:Yve,Q:nye,s:sye,S:Zve,u:Wve,U:Vve,V:Hve,w:qve,W:Kve,x:L,X:I,y:GC,Y:KC,Z:Gve,"%":rye};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(G,ne){return function(le){var U=[],Te=-1,be=0,Ke=G.length,ze,xt,Ur;for(le instanceof Date||(le=new Date(+le));++Te<Ke;)G.charCodeAt(Te)===37&&(U.push(G.slice(be,Te)),(xt=HC[ze=G.charAt(++Te)])!=null?ze=G.charAt(++Te):xt=ze==="e"?" ":"0",(Ur=ne[ze])&&(ze=Ur(le,xt)),U.push(ze),be=Te+1);return U.push(G.slice(be,Te)),U.join("")}}function N(G,ne){return function(le){var U=Iu(1900,void 0,1),Te=k(U,G,le+="",0),be,Ke;if(Te!=le.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(ne&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(be=Ix(Iu(U.y,0,1)),Ke=be.getUTCDay(),be=Ke>4||Ke===0?Xp.ceil(be):Xp(be),be=Qv.offset(be,(U.V-1)*7),U.y=be.getUTCFullYear(),U.m=be.getUTCMonth(),U.d=be.getUTCDate()+(U.w+6)%7):(be=$x(Iu(U.y,0,1)),Ke=be.getDay(),be=Ke>4||Ke===0?Qp.ceil(be):Qp(be),be=dh.offset(be,(U.V-1)*7),U.y=be.getFullYear(),U.m=be.getMonth(),U.d=be.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),Ke="Z"in U?Ix(Iu(U.y,0,1)).getUTCDay():$x(Iu(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(Ke+5)%7:U.w+U.U*7-(Ke+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Ix(U)):$x(U)}}function k(G,ne,le,U){for(var Te=0,be=ne.length,Ke=le.length,ze,xt;Te<be;){if(U>=Ke)return-1;if(ze=ne.charCodeAt(Te++),ze===37){if(ze=ne.charAt(Te++),xt=_[ze in HC?ne.charAt(Te++):ze],!xt||(U=xt(G,le,U))<0)return-1}else if(ze!=le.charCodeAt(U++))return-1}return U}function C(G,ne,le){var U=u.exec(ne.slice(le));return U?(G.p=d.get(U[0].toLowerCase()),le+U[0].length):-1}function E(G,ne,le){var U=m.exec(ne.slice(le));return U?(G.w=g.get(U[0].toLowerCase()),le+U[0].length):-1}function T(G,ne,le){var U=f.exec(ne.slice(le));return U?(G.w=h.get(U[0].toLowerCase()),le+U[0].length):-1}function A(G,ne,le){var U=b.exec(ne.slice(le));return U?(G.m=x.get(U[0].toLowerCase()),le+U[0].length):-1}function D(G,ne,le){var U=p.exec(ne.slice(le));return U?(G.m=v.get(U[0].toLowerCase()),le+U[0].length):-1}function R(G,ne,le){return k(G,t,ne,le)}function L(G,ne,le){return k(G,r,ne,le)}function I(G,ne,le){return k(G,n,ne,le)}function F(G){return o[G.getDay()]}function O(G){return a[G.getDay()]}function $(G){return c[G.getMonth()]}function H(G){return l[G.getMonth()]}function z(G){return s[+(G.getHours()>=12)]}function B(G){return 1+~~(G.getMonth()/3)}function Y(G){return o[G.getUTCDay()]}function oe(G){return a[G.getUTCDay()]}function ye(G){return c[G.getUTCMonth()]}function me(G){return l[G.getUTCMonth()]}function ae(G){return s[+(G.getUTCHours()>=12)]}function je(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ne=S(G+="",w);return ne.toString=function(){return G},ne},parse:function(G){var ne=N(G+="",!1);return ne.toString=function(){return G},ne},utcFormat:function(G){var ne=S(G+="",j);return ne.toString=function(){return G},ne},utcParse:function(G){var ne=N(G+="",!0);return ne.toString=function(){return G},ne}}}var HC={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,zve=/^%/,Bve=/[\\^$*+?|[\]().{}]/g;function Ue(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(t)+s:s)}function Uve(e){return e.replace(Bve,"\\$&")}function Du(e){return new RegExp("^(?:"+e.map(Uve).join("|")+")","i")}function Lu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qve(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Wve(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Vve(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Hve(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Kve(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function KC(e,t,r){var n=Ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function GC(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gve(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Yve(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Qve(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function YC(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Xve(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function QC(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Jve(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Zve(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eye(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tye(e,t,r){var n=Ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rye(e,t,r){var n=zve.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nye(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function sye(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function XC(e,t){return Ue(e.getDate(),t,2)}function aye(e,t){return Ue(e.getHours(),t,2)}function iye(e,t){return Ue(e.getHours()%12||12,t,2)}function oye(e,t){return Ue(1+dh.count(sa(e),e),t,3)}function a6(e,t){return Ue(e.getMilliseconds(),t,3)}function lye(e,t){return a6(e,t)+"000"}function cye(e,t){return Ue(e.getMonth()+1,t,2)}function uye(e,t){return Ue(e.getMinutes(),t,2)}function dye(e,t){return Ue(e.getSeconds(),t,2)}function fye(e){var t=e.getDay();return t===0?7:t}function hye(e,t){return Ue(Xv.count(sa(e)-1,e),t,2)}function i6(e){var t=e.getDay();return t>=4||t===0?gc(e):gc.ceil(e)}function mye(e,t){return e=i6(e),Ue(gc.count(sa(e),e)+(sa(e).getDay()===4),t,2)}function pye(e){return e.getDay()}function gye(e,t){return Ue(Qp.count(sa(e)-1,e),t,2)}function vye(e,t){return Ue(e.getFullYear()%100,t,2)}function yye(e,t){return e=i6(e),Ue(e.getFullYear()%100,t,2)}function xye(e,t){return Ue(e.getFullYear()%1e4,t,4)}function bye(e,t){var r=e.getDay();return e=r>=4||r===0?gc(e):gc.ceil(e),Ue(e.getFullYear()%1e4,t,4)}function wye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ue(t/60|0,"0",2)+Ue(t%60,"0",2)}function JC(e,t){return Ue(e.getUTCDate(),t,2)}function jye(e,t){return Ue(e.getUTCHours(),t,2)}function _ye(e,t){return Ue(e.getUTCHours()%12||12,t,2)}function Sye(e,t){return Ue(1+Qv.count(aa(e),e),t,3)}function o6(e,t){return Ue(e.getUTCMilliseconds(),t,3)}function Nye(e,t){return o6(e,t)+"000"}function kye(e,t){return Ue(e.getUTCMonth()+1,t,2)}function Pye(e,t){return Ue(e.getUTCMinutes(),t,2)}function Eye(e,t){return Ue(e.getUTCSeconds(),t,2)}function Cye(e){var t=e.getUTCDay();return t===0?7:t}function Oye(e,t){return Ue(Jv.count(aa(e)-1,e),t,2)}function l6(e){var t=e.getUTCDay();return t>=4||t===0?vc(e):vc.ceil(e)}function Aye(e,t){return e=l6(e),Ue(vc.count(aa(e),e)+(aa(e).getUTCDay()===4),t,2)}function Tye(e){return e.getUTCDay()}function Rye(e,t){return Ue(Xp.count(aa(e)-1,e),t,2)}function Mye(e,t){return Ue(e.getUTCFullYear()%100,t,2)}function $ye(e,t){return e=l6(e),Ue(e.getUTCFullYear()%100,t,2)}function Iye(e,t){return Ue(e.getUTCFullYear()%1e4,t,4)}function Dye(e,t){var r=e.getUTCDay();return e=r>=4||r===0?vc(e):vc.ceil(e),Ue(e.getUTCFullYear()%1e4,t,4)}function Lye(){return"+0000"}function ZC(){return"%"}function e2(e){return+e}function t2(e){return Math.floor(+e/1e3)}var tl,c6,u6;Fye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Fye(e){return tl=Fve(e),c6=tl.format,tl.parse,u6=tl.utcFormat,tl.utcParse,tl}function zye(e){return new Date(e)}function Bye(e){return e instanceof Date?+e:+new Date(+e)}function US(e,t,r,n,s,a,o,l,c,u){var d=ES(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),j=u("%Y");function _(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:a(S)<S?v:n(S)<S?s(S)<S?b:x:r(S)<S?w:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Bye)):h().map(zye)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?_:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(Q3(N,S)):d},d.copy=function(){return uh(d,US(e,t,r,n,s,a,o,l,c,u))},d}function Uye(){return On.apply(US(Dve,Lve,sa,zS,Xv,dh,LS,IS,Gi,c6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qye(){return On.apply(US($ve,Ive,aa,BS,Jv,Qv,FS,DS,Gi,u6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zv(){var e=0,t=1,r,n,s,a,o=yr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(mu),u.rangeRound=d(PS),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function ki(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function d6(){var e=Ni(Zv()(yr));return e.copy=function(){return ki(e,d6())},ha.apply(e,arguments)}function f6(){var e=AS(Zv()).domain([1,10]);return e.copy=function(){return ki(e,f6()).base(e.base())},ha.apply(e,arguments)}function h6(){var e=TS(Zv());return e.copy=function(){return ki(e,h6()).constant(e.constant())},ha.apply(e,arguments)}function qS(){var e=RS(Zv());return e.copy=function(){return ki(e,qS()).exponent(e.exponent())},ha.apply(e,arguments)}function Wye(){return qS.apply(null,arguments).exponent(.5)}function m6(){var e=[],t=yr;function r(n){if(n!=null&&!isNaN(n=+n))return t((lh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ei),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>Oge(e,a/n))},r.copy=function(){return m6(t).domain(e)},ha.apply(r,arguments)}function ey(){var e=0,t=.5,r=1,n=1,s,a,o,l,c,u=yr,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-a)*(n*p<n*a?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),a=d(t=+t),o=d(r=+r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var b,x,w;return arguments.length?([b,x,w]=v,u=rve(p,[b,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(mu),m.rangeRound=g(PS),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),a=p(t),o=p(r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,m}}function p6(){var e=Ni(ey()(yr));return e.copy=function(){return ki(e,p6())},ha.apply(e,arguments)}function g6(){var e=AS(ey()).domain([.1,1,10]);return e.copy=function(){return ki(e,g6()).base(e.base())},ha.apply(e,arguments)}function v6(){var e=TS(ey());return e.copy=function(){return ki(e,v6()).constant(e.constant())},ha.apply(e,arguments)}function WS(){var e=RS(ey());return e.copy=function(){return ki(e,WS()).exponent(e.exponent())},ha.apply(e,arguments)}function Vye(){return WS.apply(null,arguments).exponent(.5)}const r2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nf,scaleDiverging:p6,scaleDivergingLog:g6,scaleDivergingPow:WS,scaleDivergingSqrt:Vye,scaleDivergingSymlog:v6,scaleIdentity:Y3,scaleImplicit:xw,scaleLinear:Gp,scaleLog:X3,scaleOrdinal:SS,scalePoint:vd,scalePow:MS,scaleQuantile:e6,scaleQuantize:t6,scaleRadial:Z3,scaleSequential:d6,scaleSequentialLog:f6,scaleSequentialPow:qS,scaleSequentialQuantile:m6,scaleSequentialSqrt:Wye,scaleSequentialSymlog:h6,scaleSqrt:Nve,scaleSymlog:J3,scaleThreshold:r6,scaleTime:Uye,scaleUtc:qye,tickFormat:G3},Symbol.toStringTag,{value:"Module"}));var Hye=iu;function Kye(e,t,r){for(var n=-1,s=e.length;++n<s;){var a=e[n],o=t(a);if(o!=null&&(l===void 0?o===o&&!Hye(o):r(o,l)))var l=o,c=a}return c}var y6=Kye;function Gye(e,t){return e>t}var Yye=Gye,Qye=y6,Xye=Yye,Jye=hu;function Zye(e){return e&&e.length?Qye(e,Jye,Xye):void 0}var exe=Zye;const ty=Ye(exe);function txe(e,t){return e<t}var rxe=txe,nxe=y6,sxe=rxe,axe=hu;function ixe(e){return e&&e.length?nxe(e,axe,sxe):void 0}var oxe=ixe;const ry=Ye(oxe);var lxe=sS,cxe=Si,uxe=k3,dxe=Br;function fxe(e,t){var r=dxe(e)?lxe:uxe;return r(e,cxe(t))}var hxe=fxe,mxe=S3,pxe=hxe;function gxe(e,t){return mxe(pxe(e,t),1)}var vxe=gxe;const yxe=Ye(vxe);var xxe=xS;function bxe(e,t){return xxe(e,t)}var wxe=bxe;const ny=Ye(wxe);var pu=1e9,jxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HS,ut=!0,En="[DecimalError] ",oo=En+"Invalid argument: ",VS=En+"Exponent out of range: ",gu=Math.floor,Li=Math.pow,_xe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zr,Dt=1e7,it=7,x6=9007199254740991,Jp=gu(x6/it),de={};de.absoluteValue=de.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};de.comparedTo=de.cmp=function(e){var t,r,n,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};de.decimalPlaces=de.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*it;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};de.dividedBy=de.div=function(e){return Ks(this,new this.constructor(e))};de.dividedToIntegerBy=de.idiv=function(e){var t=this,r=t.constructor;return Qe(Ks(t,new r(e),0,1),r.precision)};de.equals=de.eq=function(e){return!this.cmp(e)};de.exponent=function(){return Pt(this)};de.greaterThan=de.gt=function(e){return this.cmp(e)>0};de.greaterThanOrEqualTo=de.gte=function(e){return this.cmp(e)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(e){return this.cmp(e)<0};de.lessThanOrEqualTo=de.lte=function(e){return this.cmp(e)<1};de.logarithm=de.log=function(e){var t,r=this,n=r.constructor,s=n.precision,a=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zr))throw Error(En+"NaN");if(r.s<1)throw Error(En+(r.s?"NaN":"-Infinity"));return r.eq(Zr)?new n(0):(ut=!1,t=Ks(cf(r,a),cf(e,a),a),ut=!0,Qe(t,s))};de.minus=de.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?j6(t,e):b6(t,(e.s=-e.s,e))};de.modulo=de.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(En+"NaN");return r.s?(ut=!1,t=Ks(r,e,0,1).times(e),ut=!0,r.minus(t)):Qe(new n(r),s)};de.naturalExponential=de.exp=function(){return w6(this)};de.naturalLogarithm=de.ln=function(){return cf(this)};de.negated=de.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};de.plus=de.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b6(t,e):j6(t,(e.s=-e.s,e))};de.precision=de.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(oo+e);if(t=Pt(s)+1,n=s.d.length-1,r=n*it+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};de.squareRoot=de.sqrt=function(){var e,t,r,n,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(En+"NaN")}for(e=Pt(l),ut=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=ms(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=gu((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(a=n,n=a.plus(Ks(l,a,o+2)).times(.5),ms(a.d).slice(0,o)===(t=ms(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Qe(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return ut=!0,Qe(n,r)};de.times=de.mul=function(e){var t,r,n,s,a,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=a[s]+m[n]*h[s-n-1]+t,a[s--]=l%Dt|0,t=l/Dt|0;a[s]=(a[s]+t)%Dt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,ut?Qe(e,f.precision):e};de.toDecimalPlaces=de.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(js(e,0,pu),t===void 0?t=n.rounding:js(t,0,8),Qe(r,e+Pt(r)+1,t))};de.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=So(n,!0):(js(e,0,pu),t===void 0?t=s.rounding:js(t,0,8),n=Qe(new s(n),e+1,t),r=So(n,!0,e+1)),r};de.toFixed=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?So(s):(js(e,0,pu),t===void 0?t=a.rounding:js(t,0,8),n=Qe(new a(s),e+Pt(s)+1,t),r=So(n.abs(),!1,e+Pt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};de.toInteger=de.toint=function(){var e=this,t=e.constructor;return Qe(new t(e),Pt(e)+1,t.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(e){var t,r,n,s,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Zr);if(l=new c(l),!l.s){if(e.s<1)throw Error(En+"Infinity");return l}if(l.eq(Zr))return l;if(n=c.precision,e.eq(Zr))return Qe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=d<0?-d:d)<=x6){for(s=new c(Zr),t=Math.ceil(n/it+4),ut=!1;r%2&&(s=s.times(l),s2(s.d,t)),r=gu(r/2),r!==0;)l=l.times(l),s2(l.d,t);return ut=!0,e.s<0?new c(Zr).div(s):Qe(s,n)}}else if(a<0)throw Error(En+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ut=!1,s=e.times(cf(l,n+u)),ut=!0,s=w6(s),s.s=a,s};de.toPrecision=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?(r=Pt(s),n=So(s,r<=a.toExpNeg||r>=a.toExpPos)):(js(e,1,pu),t===void 0?t=a.rounding:js(t,0,8),s=Qe(new a(s),e,t),r=Pt(s),n=So(s,e<=r||r<=a.toExpNeg,e)),n};de.toSignificantDigits=de.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(js(e,1,pu),t===void 0?t=n.rounding:js(t,0,8)),Qe(new n(r),e,t)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pt(e),r=e.constructor;return So(e,t<=r.toExpNeg||t>=r.toExpPos)};function b6(e,t){var r,n,s,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ut?Qe(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/it),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Dt|0,c[a]%=Dt;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,ut?Qe(t,f):t}function js(e,t,r){if(e!==~~e||e<t||e>r)throw Error(oo+e)}function ms(e){var t,r,n,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)n=e[t]+"",r=it-n.length,r&&(a+=Na(r)),a+=n;o=e[t],n=o+"",r=it-n.length,r&&(a+=Na(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ks=function(){function e(n,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+o,n[l]=a%Dt|0,o=a/Dt|0;return o&&n.unshift(o),n}function t(n,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var o=0;a--;)n[a]-=o,o=n[a]<s[a]?1:0,n[a]=o*Dt+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,o){var l,c,u,d,f,h,m,g,p,v,b,x,w,j,_,S,N,k,C=n.constructor,E=n.s==s.s?1:-1,T=n.d,A=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(En+"Division by zero");for(c=n.e-s.e,N=A.length,_=T.length,m=new C(E),g=m.d=[],u=0;A[u]==(T[u]||0);)++u;if(A[u]>(T[u]||0)&&--c,a==null?x=a=C.precision:o?x=a+(Pt(n)-Pt(s))+1:x=a,x<0)return new C(0);if(x=x/it+2|0,u=0,N==1)for(d=0,A=A[0],x++;(u<_||d)&&x--;u++)w=d*Dt+(T[u]||0),g[u]=w/A|0,d=w%A|0;else{for(d=Dt/(A[0]+1)|0,d>1&&(A=e(A,d),T=e(T,d),N=A.length,_=T.length),j=N,p=T.slice(0,N),v=p.length;v<N;)p[v++]=0;k=A.slice(),k.unshift(0),S=A[0],A[1]>=Dt/2&&++S;do d=0,l=t(A,p,N,v),l<0?(b=p[0],N!=v&&(b=b*Dt+(p[1]||0)),d=b/S|0,d>1?(d>=Dt&&(d=Dt-1),f=e(A,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,N<h?k:A,h))):(d==0&&(l=d=1),f=A.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(A,p,N,v),l<1&&(d++,r(p,N<v?k:A,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=T[j]||0:(p=[T[j]],v=1);while((j++<_||p[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=c,Qe(m,o?a+Pt(m)+1:a)}}();function w6(e,t){var r,n,s,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Pt(e)>16)throw Error(VS+Pt(e));if(!e.s)return new d(Zr);for(t==null?(ut=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Li(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(Zr),d.precision=l;;){if(s=Qe(s.times(e),l),r=r.times(++c),o=a.plus(Ks(s,r,l)),ms(o.d).slice(0,l)===ms(a.d).slice(0,l)){for(;u--;)a=Qe(a.times(a),l);return d.precision=f,t==null?(ut=!0,Qe(a,f)):a}a=o}}function Pt(e){for(var t=e.e*it,r=e.d[0];r>=10;r/=10)t++;return t}function Dx(e,t,r){if(t>e.LN10.sd())throw ut=!0,r&&(e.precision=r),Error(En+"LN10 precision limit exceeded");return Qe(new e(e.LN10),t)}function Na(e){for(var t="";e--;)t+="0";return t}function cf(e,t){var r,n,s,a,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(En+(m.s?"NaN":"-Infinity"));if(m.eq(Zr))return new p(0);if(t==null?(ut=!1,u=v):u=t,m.eq(10))return t==null&&(ut=!0),Dx(p,u);if(u+=h,p.precision=u,r=ms(g),n=r.charAt(0),a=Pt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ms(m.d),n=r.charAt(0),f++;a=Pt(m),n>1?(m=new p("0."+r),a++):m=new p(n+"."+r.slice(1))}else return c=Dx(p,u+2,v).times(a+""),m=cf(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(ut=!0,Qe(m,v)):m;for(l=o=m=Ks(m.minus(Zr),m.plus(Zr),u),d=Qe(m.times(m),u),s=3;;){if(o=Qe(o.times(d),u),c=l.plus(Ks(o,new p(s),u)),ms(c.d).slice(0,u)===ms(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Dx(p,u+2,v).times(a+""))),l=Ks(l,new p(f),u),p.precision=v,t==null?(ut=!0,Qe(l,v)):l;l=c,s+=2}}function n2(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=gu(r/it),e.d=[],n=(r+1)%it,r<0&&(n+=it),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=it;n<s;)e.d.push(+t.slice(n,n+=it));t=t.slice(n),n=it-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ut&&(e.e>Jp||e.e<-Jp))throw Error(VS+r)}else e.s=0,e.e=0,e.d=[0];return e}function Qe(e,t,r){var n,s,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=it,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/it),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=it,s=n-it+o}if(r!==void 0&&(a=Li(10,o-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Li(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Pt(e),f.length=1,t=t-a-1,f[0]=Li(10,(it-t%it)%it),e.e=gu(-t/it)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Li(10,it-n),f[d]=s>0?(u/Li(10,o-s)%Li(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Dt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Dt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ut&&(e.e>Jp||e.e<-Jp))throw Error(VS+Pt(e));return e}function j6(e,t){var r,n,s,a,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ut?Qe(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/it),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=Dt-1;--c[a],c[s]+=Dt}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ut?Qe(t,m):t):new h(0)}function So(e,t,r){var n,s=Pt(e),a=ms(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Na(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+Na(-s-1)+a,r&&(n=r-o)>0&&(a+=Na(n))):s>=o?(a+=Na(s+1-o),r&&(n=r-s-1)>0&&(a=a+"."+Na(n))):((n=s+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(a+="."),a+=Na(n))),e.s<0?"-"+a:a}function s2(e,t){if(e.length>t)return e.length=t,!0}function _6(e){var t,r,n;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(oo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return n2(o,a.toString())}else if(typeof a!="string")throw Error(oo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,_xe.test(a))n2(o,a);else throw Error(oo+a)}if(s.prototype=de,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=_6,s.config=s.set=Sxe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Sxe(e){if(!e||typeof e!="object")throw Error(En+"Object expected");var t,r,n,s=["precision",1,pu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(gu(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(oo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(oo+r+": "+n);return this}var HS=_6(jxe);Zr=new HS(1);const Ge=HS;function Nxe(e){return Cxe(e)||Exe(e)||Pxe(e)||kxe()}function kxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pxe(e,t){if(e){if(typeof e=="string")return _w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(e,t)}}function Exe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Cxe(e){if(Array.isArray(e))return _w(e)}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oxe=function(t){return t},S6={"@@functional/placeholder":!0},N6=function(t){return t===S6},a2=function(t){return function r(){return arguments.length===0||arguments.length===1&&N6(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Axe=function e(t,r){return t===1?r:a2(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==S6}).length;return o>=t?r.apply(void 0,s):e(t-o,a2(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return N6(f)?c.shift():f});return r.apply(void 0,Nxe(d).concat(c))}))})},sy=function(t){return Axe(t.length,t)},Sw=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},Txe=sy(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Rxe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Oxe;var s=r.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},Nw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},k6=function(t){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function Mxe(e){var t;return e===0?t=1:t=Math.floor(new Ge(e).abs().log(10).toNumber())+1,t}function $xe(e,t,r){for(var n=new Ge(e),s=0,a=[];n.lt(t)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var Ixe=sy(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),Dxe=sy(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Lxe=sy(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ay={rangeStep:$xe,getDigitCount:Mxe,interpolateNumber:Ixe,uninterpolateNumber:Dxe,uninterpolateTruncation:Lxe};function kw(e){return Bxe(e)||zxe(e)||P6(e)||Fxe()}function Fxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Bxe(e){if(Array.isArray(e))return Pw(e)}function uf(e,t){return Wxe(e)||qxe(e,t)||P6(e,t)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P6(e,t){if(e){if(typeof e=="string")return Pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pw(e,t)}}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qxe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw a}}return r}}function Wxe(e){if(Array.isArray(e))return e}function E6(e){var t=uf(e,2),r=t[0],n=t[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function C6(e,t,r){if(e.lte(0))return new Ge(0);var n=ay.getDigitCount(e.toNumber()),s=new Ge(10).pow(n),a=e.div(s),o=n!==1?.05:.1,l=new Ge(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Ge(Math.ceil(c))}function Vxe(e,t,r){var n=1,s=new Ge(e);if(!s.isint()&&r){var a=Math.abs(e);a<1?(n=new Ge(10).pow(ay.getDigitCount(e)-1),s=new Ge(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new Ge(Math.floor(e)))}else e===0?s=new Ge(Math.floor((t-1)/2)):r||(s=new Ge(Math.floor(e)));var o=Math.floor((t-1)/2),l=Rxe(Txe(function(c){return s.add(new Ge(c-o).mul(n)).toNumber()}),Sw);return l(0,t)}function O6(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var a=C6(new Ge(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Ge(0):(o=new Ge(e).add(t).div(2),o=o.sub(new Ge(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Ge(t).sub(o).div(a).toNumber()),u=l+c+1;return u>r?O6(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:o.sub(new Ge(l).mul(a)),tickMax:o.add(new Ge(c).mul(a))})}function Hxe(e){var t=uf(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=E6([r,n]),c=uf(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(kw(Sw(0,s-1).map(function(){return 1/0}))):[].concat(kw(Sw(0,s-1).map(function(){return-1/0})),[d]);return r>n?Nw(f):f}if(u===d)return Vxe(u,s,a);var h=O6(u,d,o,a),m=h.step,g=h.tickMin,p=h.tickMax,v=ay.rangeStep(g,p.add(new Ge(.1).mul(m)),m);return r>n?Nw(v):v}function Kxe(e,t){var r=uf(e,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=E6([n,s]),l=uf(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=C6(new Ge(u).sub(c).div(d-1),a,0),h=[].concat(kw(ay.rangeStep(new Ge(c),new Ge(u).sub(new Ge(.99).mul(f)),f)),[u]);return n>s?Nw(h):h}var Gxe=k6(Hxe),Yxe=k6(Kxe),Qxe="Invariant failed";function No(e,t){throw new Error(Qxe)}var Xxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(this,arguments)}function Jxe(e,t){return r0e(e)||t0e(e,t)||e0e(e,t)||Zxe()}function Zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e0e(e,t){if(e){if(typeof e=="string")return i2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i2(e,t)}}function i2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function r0e(e){if(Array.isArray(e))return e}function n0e(e,t){if(e==null)return{};var r=s0e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function a0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R6(n.key),n)}}function o0e(e,t,r){return t&&i0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l0e(e,t,r){return t=eg(t),c0e(e,A6()?Reflect.construct(t,r||[],eg(e).constructor):t.apply(e,r))}function c0e(e,t){if(t&&(yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u0e(e)}function u0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A6=function(){return!!e})()}function eg(e){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eg(e)}function d0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ew(e,t)}function Ew(e,t){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ew(e,t)}function T6(e,t,r){return t=R6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R6(e){var t=f0e(e,"string");return yc(t)=="symbol"?t:t+""}function f0e(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fh=function(e){function t(){return a0e(this,t),l0e(this,t,arguments)}return d0e(t,e),o0e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=n0e(n,Xxe),m=Le(h,!1);this.props.direction==="x"&&d.type!=="number"&&No();var g=c.map(function(p){var v=u(p,l),b=v.x,x=v.y,w=v.value,j=v.errorVal;if(!j)return null;var _=[],S,N;if(Array.isArray(j)){var k=Jxe(j,2);S=k[0],N=k[1]}else S=N=j;if(a==="vertical"){var C=d.scale,E=x+s,T=E+o,A=E-o,D=C(w-S),R=C(w+N);_.push({x1:R,y1:T,x2:R,y2:A}),_.push({x1:D,y1:E,x2:R,y2:E}),_.push({x1:D,y1:T,x2:D,y2:A})}else if(a==="horizontal"){var L=f.scale,I=b+s,F=I-o,O=I+o,$=L(w-S),H=L(w+N);_.push({x1:F,y1:H,x2:O,y2:H}),_.push({x1:I,y1:$,x2:I,y2:H}),_.push({x1:F,y1:$,x2:O,y2:$})}return P.createElement(wt,Zp({className:"recharts-errorBar",key:"bar-".concat(_.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},m),_.map(function(z){return P.createElement("line",Zp({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return P.createElement(wt,{className:"recharts-errorBars"},g)}}])}(P.Component);T6(fh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});T6(fh,"displayName","ErrorBar");function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){h0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h0e(e,t,r){return t=m0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m0e(e){var t=p0e(e,"string");return df(t)=="symbol"?t:t+""}function p0e(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M6=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=Yr(r,ao);if(!o)return null;var l=ao.defaultProps,c=l!==void 0?Ai(Ai({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Ai(Ai({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:KS(f),value:p||g,payload:m}}),Ai(Ai(Ai({},c),ao.getWithHeight(o,s)),{},{payload:u,item:o})};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function l2(e){return x0e(e)||y0e(e)||v0e(e)||g0e()}function g0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v0e(e,t){if(e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function y0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function x0e(e){if(Array.isArray(e))return Cw(e)}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){Il(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Il(e,t,r){return t=b0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b0e(e){var t=w0e(e,"string");return ff(t)=="symbol"?t:t+""}function w0e(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sn(e,t,r){return Ie(e)||Ie(t)?r:Rt(t)?Sn(e,t,r):Me(t)?t(e):r}function yd(e,t,r,n){var s=yxe(e,function(l){return sn(l,t)});if(r==="number"){var a=s.filter(function(l){return se(l)||parseFloat(l)});return a.length?[ry(a),ty(a)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!Ie(l)}):s;return o.map(function(l){return Rt(l)||l instanceof Date?l:""})}var j0e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(Hn(f-d)!==Hn(h-f)){var g=[];if(Hn(h-f)===Hn(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(t>(x+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},KS=function(t){var r,n=t,s=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?vt(vt({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},_0e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,b=p.filter(function(N){return Ws(N.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?vt(vt({},x),b[0].props):b[0].props,j=w.barSize,_=w[v];o[_]||(o[_]=[]);var S=Ie(j)?r:j;o[_].push({item:b[0],stackList:b.slice(1),barSize:Ie(S)?void 0:_o(S,n,0)})}}return o},S0e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=_o(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,g=o.reduce(function(j,_){return j+_.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&m>0&&(h=!0,m*=.9,g=c*m);var p=(s-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(j,_){var S={item:_.item,position:{offset:v.offset+v.size+u,size:h?m:_.barSize}},N=[].concat(l2(j),[S]);return v=N[N.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(k){N.push({item:k,position:v})}),N},f)}else{var b=_o(n,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var x=(s-2*b-(c-1)*u)/c;x>1&&(x>>=0);var w=l===+l?Math.min(x,l):x;d=o.reduce(function(j,_,S){var N=[].concat(l2(j),[{item:_.item,position:{offset:b+(x+u)*S+(x-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},N0e=function(t,r,n,s){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=M6({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&se(t[m]))return vt(vt({},t),{},Il({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&se(t[g]))return vt(vt({},t),{},Il({},g,t[g]+(h||0)))}return t},k0e=function(t,r,n){return Ie(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},$6=function(t,r,n,s,a){var o=r.props.children,l=Nn(o,fh).filter(function(u){return k0e(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=sn(d,n);if(Ie(f))return u;var h=Array.isArray(f)?[ry(f),ty(f)]:[f,f],m=c.reduce(function(g,p){var v=sn(d,p,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},P0e=function(t,r,n,s,a){var o=r.map(function(l){return $6(t,l,n,a,s)}).filter(function(l){return!Ie(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},I6=function(t,r,n,s,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&$6(t,c,u,s)||yd(t,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},D6=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},L6=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},Us=function(t,r,n){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Hn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!ah(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},Lx=new WeakMap,am=function(t,r){if(typeof r!="function")return t;Lx.has(t)||Lx.set(t,new WeakMap);var n=Lx.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},E0e=function(t,r,n){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:nf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Gp(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:vd(),realScaleType:"point"}:a==="category"?{scale:nf(),realScaleType:"band"}:{scale:Gp(),realScaleType:"linear"};if(sh(s)){var c="scale".concat(Uv(s));return{scale:(r2[c]||vd)(),realScaleType:r2[c]?c:"point"}}return Me(s)?{scale:s}:{scale:vd(),realScaleType:"point"}},u2=1e-4,C0e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),a=Math.min(s[0],s[1])-u2,o=Math.max(s[0],s[1])+u2,l=t(r[0]),c=t(r[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},O0e=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},A0e=function(t,r){if(!r||r.length!==2||!se(r[0])||!se(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!se(t[0])||t[0]<n)&&(a[0]=n),(!se(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},T0e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,o=0,l=0;l<r;++l){var c=ah(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},R0e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,o=0;o<r;++o){var l=ah(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},M0e={sign:T0e,expand:Yie,none:uc,silhouette:Qie,wiggle:Xie,positive:R0e},$0e=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),a=M0e[n],o=Gie().keys(s).value(function(l,c){return+sn(l,c,0)}).order(ew).offset(a);return o(t)},I0e=function(t,r,n,s,a,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?vt(vt({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var b=g[n],x=f[b]||{hasStack:!1,stackGroups:{}};if(Rt(p)){var w=x.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[p]=w}else x.stackGroups[ih("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return vt(vt({},f),{},Il({},b,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var b=m.stackGroups[v];return vt(vt({},p),{},Il({},v,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:$0e(t,b.items,a)}))},g)}return vt(vt({},f),{},Il({},h,m))},d)},D0e=function(t,r){var n=r.realScaleType,s=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Gxe(u,a,l);return t.domain([ry(d),ty(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=Yxe(f,a,l);return{niceTicks:h}}return null};function d2(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ie(s[t.dataKey])){var l=Sp(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=sn(s,Ie(o)?t.dataKey:o);return Ie(c)?null:t.scale(c)}var f2=function(t){var r=t.axis,n=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=sn(o,r.dataKey,r.domain[l]);return Ie(c)?null:r.scale(c)-a/2+s},L0e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},F0e=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?vt(vt({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Rt(a)){var o=r[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},z0e=function(t){return t.reduce(function(r,n){return[ry(n.concat([r[0]]).filter(se)),ty(n.concat([r[1]]).filter(se))]},[1/0,-1/0])},F6=function(t,r,n){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=z0e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},h2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ow=function(t,r,n){if(Me(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(se(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(h2.test(t[0])){var a=+h2.exec(t[0])[1];s[0]=r[0]-a}else Me(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(se(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(m2.test(t[1])){var o=+m2.exec(t[1])[1];s[1]=r[1]+o}else Me(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},tg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var a=wS(r,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},p2=function(t,r,n){return!t||!t.length||ny(t,Sn(n,"type.defaultProps.domain"))?r:t},z6=function(t,r){var n=t.type.defaultProps?vt(vt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return vt(vt({},Le(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:KS(t),value:sn(r,s),type:c,payload:r,chartType:u,hide:d})};function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function v2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){B0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B0e(e,t,r){return t=U0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U0e(e){var t=q0e(e,"string");return hf(t)=="symbol"?t:t+""}function q0e(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rg=Math.PI/180,W0e=function(t){return t*180/Math.PI},Ht=function(t,r,n,s){return{x:t+Math.cos(-rg*s)*n,y:r+Math.sin(-rg*s)*n}},V0e=function(t,r){var n=t.x,s=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-o,2))},H0e=function(t,r){var n=t.x,s=t.y,a=r.cx,o=r.cy,l=V0e({x:n,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:W0e(u),angleInRadian:u}},K0e=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(s,a);return{startAngle:r-o*360,endAngle:n-o*360}},G0e=function(t,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},y2=function(t,r){var n=t.x,s=t.y,a=H0e({x:n,y:s},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=K0e(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?v2(v2({},r),{},{radius:o,angle:G0e(m,r)}):null};function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}var Y0e=["offset"];function Q0e(e){return ebe(e)||Z0e(e)||J0e(e)||X0e()}function X0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J0e(e,t){if(e){if(typeof e=="string")return Aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(e,t)}}function Z0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ebe(e){if(Array.isArray(e))return Aw(e)}function Aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tbe(e,t){if(e==null)return{};var r=rbe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){nbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nbe(e,t,r){return t=sbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sbe(e){var t=abe(e,"string");return mf(t)=="symbol"?t:t+""}function abe(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}var ibe=function(t){var r=t.value,n=t.formatter,s=Ie(t.children)?r:t.children;return Me(n)?n(s):s},obe=function(t,r){var n=Hn(r-t),s=Math.min(Math.abs(r-t),360);return n*s},lbe=function(t,r,n){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,b=obe(m,g),x=b>=0?1:-1,w,j;s==="insideStart"?(w=m+x*o,j=p):s==="insideEnd"?(w=g-x*o,j=!p):s==="end"&&(w=g+x*o,j=p),j=b<=0?j:!j;var _=Ht(u,d,v,w),S=Ht(u,d,v,w+(j?1:-1)*359),N="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),k=Ie(t.id)?ih("recharts-radial-line-"):t.id;return P.createElement("text",pf({},n,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:k,d:N})),P.createElement("textPath",{xlinkHref:"#".concat(k)},r))},cbe=function(t){var r=t.viewBox,n=t.offset,s=t.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var m=Ht(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Ht(o,l,v,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},ube=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,a=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*s,b=p>0?"end":"start",x=p>0?"start":"end";if(a==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return Ct(Ct({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Ct(Ct({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var _={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ct(Ct({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(a==="right"){var S={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Ct(Ct({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return a==="insideLeft"?Ct({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},N):a==="insideRight"?Ct({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):a==="insideTop"?Ct({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):a==="insideBottom"?Ct({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):a==="insideTopLeft"?Ct({x:l+v,y:c+h,textAnchor:x,verticalAnchor:g},N):a==="insideTopRight"?Ct({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:g},N):a==="insideBottomLeft"?Ct({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:m},N):a==="insideBottomRight"?Ct({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:m},N):ou(a)&&(se(a.x)||Hi(a.x))&&(se(a.y)||Hi(a.y))?Ct({x:l+_o(a.x,u),y:c+_o(a.y,d),textAnchor:"end",verticalAnchor:"end"},N):Ct({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},dbe=function(t){return"cx"in t&&se(t.cx)};function tr(e){var t=e.offset,r=t===void 0?5:t,n=tbe(e,Y0e),s=Ct({offset:r},n),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||Ie(l)&&Ie(c)&&!y.isValidElement(u)&&!Me(u))return null;if(y.isValidElement(u))return y.cloneElement(u,s);var m;if(Me(u)){if(m=y.createElement(u,s),y.isValidElement(m))return m}else m=ibe(s);var g=dbe(a),p=Le(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return lbe(s,m,p);var v=g?cbe(s):ube(s);return P.createElement(Bp,pf({className:Fe("recharts-label",f)},p,v,{breakAll:h}),m)}tr.displayName="Label";var B6=function(t){var r=t.cx,n=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(se(p)&&se(v)){if(se(f)&&se(h))return{x:f,y:h,width:p,height:v};if(se(m)&&se(g))return{x:m,y:g,width:p,height:v}}return se(f)&&se(h)?{x:f,y:h,width:0,height:0}:se(r)&&se(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},fbe=function(t,r){return t?t===!0?P.createElement(tr,{key:"label-implicit",viewBox:r}):Rt(t)?P.createElement(tr,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===tr?y.cloneElement(t,{key:"label-implicit",viewBox:r}):P.createElement(tr,{key:"label-implicit",content:t,viewBox:r}):Me(t)?P.createElement(tr,{key:"label-implicit",content:t,viewBox:r}):ou(t)?P.createElement(tr,pf({viewBox:r},t,{key:"label-implicit"})):null:null},hbe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=B6(t),o=Nn(s,tr).map(function(c,u){return y.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=fbe(t.label,r||a);return[l].concat(Q0e(o))};tr.parseViewBox=B6;tr.renderCallByParent=hbe;function mbe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var pbe=mbe;const gbe=Ye(pbe);function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}var vbe=["valueAccessor"],ybe=["data","dataKey","clockWise","id","textBreakAll"];function xbe(e){return _be(e)||jbe(e)||wbe(e)||bbe()}function bbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wbe(e,t){if(e){if(typeof e=="string")return Tw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tw(e,t)}}function jbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _be(e){if(Array.isArray(e))return Tw(e)}function Tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ng.apply(this,arguments)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function w2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){Sbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sbe(e,t,r){return t=Nbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nbe(e){var t=kbe(e,"string");return gf(t)=="symbol"?t:t+""}function kbe(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j2(e,t){if(e==null)return{};var r=Pbe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ebe=function(t){return Array.isArray(t.value)?gbe(t.value):t.value};function ti(e){var t=e.valueAccessor,r=t===void 0?Ebe:t,n=j2(e,vbe),s=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=j2(n,ybe);return!s||!s.length?null:P.createElement(wt,{className:"recharts-label-list"},s.map(function(d,f){var h=Ie(a)?r(d,f):sn(d&&d.payload,a),m=Ie(l)?{}:{id:"".concat(l,"-").concat(f)};return P.createElement(tr,ng({},Le(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:tr.parseViewBox(Ie(o)?d:w2(w2({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ti.displayName="LabelList";function Cbe(e,t){return e?e===!0?P.createElement(ti,{key:"labelList-implicit",data:t}):P.isValidElement(e)||Me(e)?P.createElement(ti,{key:"labelList-implicit",data:t,content:e}):ou(e)?P.createElement(ti,ng({data:t},e,{key:"labelList-implicit"})):null:null}function Obe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Nn(n,ti).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var a=Cbe(e.label,t);return[a].concat(xbe(s))}ti.renderCallByParent=Obe;function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(this,arguments)}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function S2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){Abe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Abe(e,t,r){return t=Tbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tbe(e){var t=Rbe(e,"string");return vf(t)=="symbol"?t:t+""}function Rbe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mbe=function(t,r){var n=Hn(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},im=function(t){var r=t.cx,n=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/rg,h=u?a:a+o*f,m=Ht(r,n,d,h),g=Ht(r,n,s,h),p=u?a-o*f:a,v=Ht(r,n,d*Math.cos(f*rg),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},U6=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Mbe(o,l),u=o+c,d=Ht(r,n,a,o),f=Ht(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=Ht(r,n,s,o),g=Ht(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},$be=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Hn(d-u),h=im({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=im({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,w=v.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):U6({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(s>0){var S=im({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,k=S.lineTangency,C=S.theta,E=im({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=E.circleTangency,A=E.lineTangency,D=E.theta,R=c?Math.abs(u-d):Math.abs(u-d)-C-D;if(R<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},Ibe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q6=function(t){var r=S2(S2({},Ibe),t),n=r.cx,s=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var m=Fe("recharts-sector",h),g=o-a,p=_o(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=$be({cx:n,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=U6({cx:n,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),P.createElement("path",Rw({},Le(r,!0),{className:m,d:v,role:"img"}))};function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mw.apply(this,arguments)}function N2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function k2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(r),!0).forEach(function(n){Dbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dbe(e,t,r){return t=Lbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lbe(e){var t=Fbe(e,"string");return yf(t)=="symbol"?t:t+""}function Fbe(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P2={curveBasisClosed:Die,curveBasisOpen:Lie,curveBasis:Iie,curveBumpX:jie,curveBumpY:_ie,curveLinearClosed:Fie,curveLinear:Wv,curveMonotoneX:zie,curveMonotoneY:Bie,curveNatural:Uie,curveStep:qie,curveStepAfter:Vie,curveStepBefore:Wie},om=function(t){return t.x===+t.x&&t.y===+t.y},Fu=function(t){return t.x},zu=function(t){return t.y},zbe=function(t,r){if(Me(t))return t;var n="curve".concat(Uv(t));return(n==="curveMonotone"||n==="curveBump")&&r?P2["".concat(n).concat(r==="vertical"?"Y":"X")]:P2[n]||Wv},Bbe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=zbe(n,l),f=u?a.filter(function(p){return om(p)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return om(p)}):o,g=f.map(function(p,v){return k2(k2({},p),{},{base:m[v]})});return l==="vertical"?h=Xh().y(zu).x1(Fu).x0(function(p){return p.base.x}):h=Xh().x(Fu).y1(zu).y0(function(p){return p.base.y}),h.defined(om).curve(d),h(g)}return l==="vertical"&&se(o)?h=Xh().y(zu).x1(Fu).x0(o):se(o)?h=Xh().x(Fu).y1(zu).y0(o):h=qL().x(Fu).y(zu),h.defined(om).curve(d),h(f)},$w=function(t){var r=t.className,n=t.points,s=t.path,a=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?Bbe(t):s;return P.createElement("path",Mw({},Le(t,!1),Np(t),{className:Fe("recharts-curve",r),d:o,ref:a}))},W6={exports:{}},Ube="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qbe=Ube,Wbe=qbe;function V6(){}function H6(){}H6.resetWarningCache=V6;var Vbe=function(){function e(n,s,a,o,l,c){if(c!==Wbe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H6,resetWarningCache:V6};return r.PropTypes=r,r};W6.exports=Vbe();var Hbe=W6.exports;const Ee=Ye(Hbe);var Kbe=Object.getOwnPropertyNames,Gbe=Object.getOwnPropertySymbols,Ybe=Object.prototype.hasOwnProperty;function E2(e,t){return function(n,s,a){return e(n,s,a)&&t(n,s,a)}}function lm(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var a=s.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,s);return a.delete(r),a.delete(n),c}}function C2(e){return Kbe(e).concat(Gbe(e))}var K6=Object.hasOwn||function(e,t){return Ybe.call(e,t)};function vu(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var G6="_owner",O2=Object.getOwnPropertyDescriptor,A2=Object.keys;function Qbe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Xbe(e,t){return vu(e.getTime(),t.getTime())}function T2(e,t,r){if(e.size!==t.size)return!1;for(var n={},s=e.entries(),a=0,o,l;(o=s.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var f=o.value,h=f[0],m=f[1],g=l.value,p=g[0],v=g[1];!u&&!n[d]&&(u=r.equals(h,p,a,d,e,t,r)&&r.equals(m,v,h,p,e,t,r))&&(n[d]=!0),d++}if(!u)return!1;a++}return!0}function Jbe(e,t,r){var n=A2(e),s=n.length;if(A2(t).length!==s)return!1;for(var a;s-- >0;)if(a=n[s],a===G6&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!K6(t,a)||!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function Bu(e,t,r){var n=C2(e),s=n.length;if(C2(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=n[s],a===G6&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!K6(t,a)||!r.equals(e[a],t[a],a,a,e,t,r)||(o=O2(e,a),l=O2(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Zbe(e,t){return vu(e.valueOf(),t.valueOf())}function ewe(e,t){return e.source===t.source&&e.flags===t.flags}function R2(e,t,r){if(e.size!==t.size)return!1;for(var n={},s=e.values(),a,o;(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(a.value,o.value,a.value,o.value,e,t,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function twe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var rwe="[object Arguments]",nwe="[object Boolean]",swe="[object Date]",awe="[object Map]",iwe="[object Number]",owe="[object Object]",lwe="[object RegExp]",cwe="[object Set]",uwe="[object String]",dwe=Array.isArray,M2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,$2=Object.assign,fwe=Object.prototype.toString.call.bind(Object.prototype.toString);function hwe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,s=e.areObjectsEqual,a=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var m=d.constructor;if(m!==f.constructor)return!1;if(m===Object)return s(d,f,h);if(dwe(d))return t(d,f,h);if(M2!=null&&M2(d))return c(d,f,h);if(m===Date)return r(d,f,h);if(m===RegExp)return o(d,f,h);if(m===Map)return n(d,f,h);if(m===Set)return l(d,f,h);var g=fwe(d);return g===swe?r(d,f,h):g===lwe?o(d,f,h):g===awe?n(d,f,h):g===cwe?l(d,f,h):g===owe?typeof d.then!="function"&&typeof f.then!="function"&&s(d,f,h):g===rwe?s(d,f,h):g===nwe||g===iwe||g===uwe?a(d,f,h):!1}}function mwe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?Bu:Qbe,areDatesEqual:Xbe,areMapsEqual:n?E2(T2,Bu):T2,areObjectsEqual:n?Bu:Jbe,arePrimitiveWrappersEqual:Zbe,areRegExpsEqual:ewe,areSetsEqual:n?E2(R2,Bu):R2,areTypedArraysEqual:n?Bu:twe};if(r&&(s=$2({},s,r(s))),t){var a=lm(s.areArraysEqual),o=lm(s.areMapsEqual),l=lm(s.areObjectsEqual),c=lm(s.areSetsEqual);s=$2({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function pwe(e){return function(t,r,n,s,a,o,l){return e(t,r,l)}}function gwe(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:s,meta:m,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var vwe=Pi();Pi({strict:!0});Pi({circular:!0});Pi({circular:!0,strict:!0});Pi({createInternalComparator:function(){return vu}});Pi({strict:!0,createInternalComparator:function(){return vu}});Pi({circular:!0,createInternalComparator:function(){return vu}});Pi({circular:!0,createInternalComparator:function(){return vu},strict:!0});function Pi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=mwe(e),c=hwe(l),u=n?n(c):pwe(c);return gwe({circular:r,comparator:c,createState:s,equals:u,strict:o})}function ywe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function I2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>t?(e(a),r=-1):ywe(s)};requestAnimationFrame(n)}function Iw(e){"@babel/helpers - typeof";return Iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iw(e)}function xwe(e){return _we(e)||jwe(e)||wwe(e)||bwe()}function bwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wwe(e,t){if(e){if(typeof e=="string")return D2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D2(e,t)}}function D2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _we(e){if(Array.isArray(e))return e}function Swe(){var e={},t=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=xwe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){I2(s.bind(null,u),c);return}s(c),I2(s.bind(null,u));return}Iw(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function F2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){Y6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y6(e,t,r){return t=Nwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nwe(e){var t=kwe(e,"string");return xf(t)==="symbol"?t:String(t)}function kwe(e,t){if(xf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pwe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},Ewe=function(t){return t},Cwe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},xd=function(t,r){return Object.keys(r).reduce(function(n,s){return F2(F2({},n),{},Y6({},s,t(s,r[s])))},{})},z2=function(t,r,n){return t.map(function(s){return"".concat(Cwe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Owe(e,t){return Rwe(e)||Twe(e,t)||Q6(e,t)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Twe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rwe(e){if(Array.isArray(e))return e}function Mwe(e){return Dwe(e)||Iwe(e)||Q6(e)||$we()}function $we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q6(e,t){if(e){if(typeof e=="string")return Dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dw(e,t)}}function Iwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dwe(e){if(Array.isArray(e))return Dw(e)}function Dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sg=1e-4,X6=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},J6=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},B2=function(t,r){return function(n){var s=X6(t,r);return J6(s,n)}},Lwe=function(t,r){return function(n){var s=X6(t,r),a=[].concat(Mwe(s.map(function(o,l){return o*l}).slice(1)),[0]);return J6(a,n)}},U2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Owe(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var f=B2(s,o),h=B2(a,l),m=Lwe(s,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var x=b>1?1:b,w=x,j=0;j<8;++j){var _=f(w)-x,S=m(w);if(Math.abs(_-x)<sg||S<sg)return h(w);w=g(w-_/S)}return h(w)};return p.isStepper=!1,p},Fwe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*a,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<sg&&Math.abs(p)<sg?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},zwe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return U2(s);case"spring":return Fwe();default:if(s.split("(")[0]==="cubic-bezier")return U2(s)}return typeof s=="function"?s:null};function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function q2(e){return qwe(e)||Uwe(e)||Z6(e)||Bwe()}function Bwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qwe(e){if(Array.isArray(e))return Fw(e)}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){Lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lw(e,t,r){return t=Wwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wwe(e){var t=Vwe(e,"string");return bf(t)==="symbol"?t:String(t)}function Vwe(e,t){if(bf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hwe(e,t){return Ywe(e)||Gwe(e,t)||Z6(e,t)||Kwe()}function Kwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z6(e,t){if(e){if(typeof e=="string")return Fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(e,t)}}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ywe(e){if(Array.isArray(e))return e}var ag=function(t,r,n){return t+(r-t)*n},zw=function(t){var r=t.from,n=t.to;return r!==n},Qwe=function e(t,r,n){var s=xd(function(a,o){if(zw(o)){var l=t(o.from,o.to,o.velocity),c=Hwe(l,2),u=c[0],d=c[1];return Wt(Wt({},o),{},{from:u,velocity:d})}return o},r);return n<1?xd(function(a,o){return zw(o)?Wt(Wt({},o),{},{velocity:ag(o.velocity,s[a].velocity,n),from:ag(o.from,s[a].from,n)}):o},r):e(t,s,n-1)};const Xwe=function(e,t,r,n,s){var a=Pwe(e,t),o=a.reduce(function(v,b){return Wt(Wt({},v),{},Lw({},b,[e[b],t[b]]))},{}),l=a.reduce(function(v,b){return Wt(Wt({},v),{},Lw({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return xd(function(b,x){return x.from},l)},m=function(){return!Object.values(l).filter(zw).length},g=function(b){u||(u=b);var x=b-u,w=x/r.dt;l=Qwe(r,l,w),s(Wt(Wt(Wt({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var x=(b-d)/n,w=xd(function(_,S){return ag.apply(void 0,q2(S).concat([r(x)]))},o);if(s(Wt(Wt(Wt({},e),t),w)),x<1)c=requestAnimationFrame(f);else{var j=xd(function(_,S){return ag.apply(void 0,q2(S).concat([r(1)]))},o);s(Wt(Wt(Wt({},e),t),j))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}var Jwe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Zwe(e,t){if(e==null)return{};var r=e1e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e1e(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Fx(e){return s1e(e)||n1e(e)||r1e(e)||t1e()}function t1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r1e(e,t){if(e){if(typeof e=="string")return Bw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bw(e,t)}}function n1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s1e(e){if(Array.isArray(e))return Bw(e)}function Bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(r),!0).forEach(function(n){ed(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ed(e,t,r){return t=eF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eF(n.key),n)}}function o1e(e,t,r){return t&&i1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eF(e){var t=l1e(e,"string");return xc(t)==="symbol"?t:String(t)}function l1e(e,t){if(xc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uw(e,t)}function Uw(e,t){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Uw(e,t)}function u1e(e){var t=d1e();return function(){var n=ig(e),s;if(t){var a=ig(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return qw(this,s)}}function qw(e,t){if(t&&(xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ww(e)}function Ww(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ig(e){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ig(e)}var ia=function(e){c1e(r,e);var t=u1e(r);function r(n,s){var a;a1e(this,r),a=t.call(this,n,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Ww(a)),a.changeStyle=a.changeStyle.bind(Ww(a)),!l||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),qw(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},qw(a);a.state={style:c?ed({},c,u):u}}else a.state={style:{}};return a}return o1e(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var m={style:c?ed({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(vwe(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:s.to;if(this.state&&h){var v={style:c?ed({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Rn(Rn({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=Xwe(o,l,zwe(u),c,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,b){if(b===0)return p;var x=v.duration,w=v.easing,j=w===void 0?"ease":w,_=v.style,S=v.properties,N=v.onAnimationEnd,k=b>0?o[b-1]:v,C=S||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(Fx(p),[a.runJSAnimation.bind(a,{from:k.style,to:_,duration:x,easing:j}),x]);var E=z2(C,x,j),T=Rn(Rn(Rn({},k.style),_),{},{transition:E});return[].concat(Fx(p),[T,x,N]).filter(Ewe)};return this.manager.start([c].concat(Fx(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Swe());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?ed({},l,c):c,v=z2(Object.keys(p),o,u);g.start([d,a,Rn(Rn({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Zwe(s,Jwe),u=y.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,b=g.className,x=y.cloneElement(m,Rn(Rn({},c),{},{style:Rn(Rn({},v),d),className:b}));return x};return u===1?f(y.Children.only(a)):P.createElement("div",null,y.Children.map(a,function(h){return f(h)}))}}]),r}(y.PureComponent);ia.displayName="Animate";ia.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ia.propTypes={from:Ee.oneOfType([Ee.object,Ee.string]),to:Ee.oneOfType([Ee.object,Ee.string]),attributeName:Ee.string,duration:Ee.number,begin:Ee.number,easing:Ee.oneOfType([Ee.string,Ee.func]),steps:Ee.arrayOf(Ee.shape({duration:Ee.number.isRequired,style:Ee.object.isRequired,easing:Ee.oneOfType([Ee.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ee.func]),properties:Ee.arrayOf("string"),onAnimationEnd:Ee.func})),children:Ee.oneOfType([Ee.node,Ee.func]),isActive:Ee.bool,canBegin:Ee.bool,onAnimationEnd:Ee.func,shouldReAnimate:Ee.bool,onAnimationStart:Ee.func,onAnimationReStart:Ee.func};Ee.object,Ee.object,Ee.object,Ee.element;Ee.object,Ee.object,Ee.object,Ee.oneOfType([Ee.array,Ee.element]),Ee.any;function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(this,arguments)}function f1e(e,t){return g1e(e)||p1e(e,t)||m1e(e,t)||h1e()}function h1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m1e(e,t){if(e){if(typeof e=="string")return H2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H2(e,t)}}function H2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function g1e(e){if(Array.isArray(e))return e}function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function G2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){v1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v1e(e,t,r){return t=y1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y1e(e){var t=x1e(e,"string");return wf(t)=="symbol"?t:t+""}function x1e(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y2=function(t,r,n,s,a){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},b1e=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},w1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GS=function(t){var r=G2(G2({},w1e),t),n=y.useRef(),s=y.useState(-1),a=f1e(s,2),o=a[0],l=a[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Fe("recharts-rectangle",m);return x?P.createElement(ia,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(j){var _=j.width,S=j.height,N=j.x,k=j.y;return P.createElement(ia,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:b,easing:g},P.createElement("path",og({},Le(r,!0),{className:w,d:Y2(N,k,_,S,h),ref:n})))}):P.createElement("path",og({},Le(r,!0),{className:w,d:Y2(c,u,d,f,h)}))};function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vw.apply(this,arguments)}var YS=function(t){var r=t.cx,n=t.cy,s=t.r,a=t.className,o=Fe("recharts-dot",a);return r===+r&&n===+n&&s===+s?P.createElement("circle",Vw({},Le(t,!1),Np(t),{className:o,cx:r,cy:n,r:s})):null};function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}var j1e=["x","y","top","left","width","height","className"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hw.apply(this,arguments)}function Q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(r),!0).forEach(function(n){S1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S1e(e,t,r){return t=N1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N1e(e){var t=k1e(e,"string");return jf(t)=="symbol"?t:t+""}function k1e(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P1e(e,t){if(e==null)return{};var r=E1e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var C1e=function(t,r,n,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},O1e=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=P1e(t,j1e),v=_1e({x:n,y:a,top:l,left:u,width:f,height:m},p);return!se(n)||!se(a)||!se(f)||!se(m)||!se(l)||!se(u)?null:P.createElement("path",Hw({},Le(v,!0),{className:Fe("recharts-cross",g),d:C1e(n,a,f,m,l,u)}))},A1e=h3,T1e=A1e(Object.getPrototypeOf,Object),R1e=T1e,M1e=da,$1e=R1e,I1e=fa,D1e="[object Object]",L1e=Function.prototype,F1e=Object.prototype,tF=L1e.toString,z1e=F1e.hasOwnProperty,B1e=tF.call(Object);function U1e(e){if(!I1e(e)||M1e(e)!=D1e)return!1;var t=$1e(e);if(t===null)return!0;var r=z1e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&tF.call(r)==B1e}var q1e=U1e;const W1e=Ye(q1e);var V1e=da,H1e=fa,K1e="[object Boolean]";function G1e(e){return e===!0||e===!1||H1e(e)&&V1e(e)==K1e}var Y1e=G1e;const Q1e=Ye(Y1e);function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function X1e(e,t){return tje(e)||eje(e,t)||Z1e(e,t)||J1e()}function J1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z1e(e,t){if(e){if(typeof e=="string")return X2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X2(e,t)}}function X2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tje(e){if(Array.isArray(e))return e}function J2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(r),!0).forEach(function(n){rje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rje(e,t,r){return t=nje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nje(e){var t=sje(e,"string");return _f(t)=="symbol"?t:t+""}function sje(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eO=function(t,r,n,s,a){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+a),l+="L ".concat(t+n-o/2-s,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},aje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ije=function(t){var r=Z2(Z2({},aje),t),n=y.useRef(),s=y.useState(-1),a=X1e(s,2),o=a[0],l=a[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=Fe("recharts-trapezoid",m);return b?P.createElement(ia,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var j=w.upperWidth,_=w.lowerWidth,S=w.height,N=w.x,k=w.y;return P.createElement(ia,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},P.createElement("path",lg({},Le(r,!0),{className:x,d:eO(N,k,j,_,S),ref:n})))}):P.createElement("g",null,P.createElement("path",lg({},Le(r,!0),{className:x,d:eO(c,u,d,f,h)})))},oje=["option","shapeType","propTransformer","activeClassName","isActive"];function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function lje(e,t){if(e==null)return{};var r=cje(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){uje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uje(e,t,r){return t=dje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dje(e){var t=fje(e,"string");return Sf(t)=="symbol"?t:t+""}function fje(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hje(e,t){return cg(cg({},t),e)}function mje(e,t){return e==="symbols"}function rO(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return P.createElement(GS,r);case"trapezoid":return P.createElement(ije,r);case"sector":return P.createElement(q6,r);case"symbols":if(mje(t))return P.createElement(hS,r);break;default:return null}}function pje(e){return y.isValidElement(e)?e.props:e}function gje(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?hje:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=lje(e,oje),u;if(y.isValidElement(t))u=y.cloneElement(t,cg(cg({},c),pje(t)));else if(Me(t))u=t(c);else if(W1e(t)&&!Q1e(t)){var d=s(t,c);u=P.createElement(rO,{shapeType:r,elementProps:d})}else{var f=c;u=P.createElement(rO,{shapeType:r,elementProps:f})}return l?P.createElement(wt,{className:o},u):u}function iy(e,t){return t!=null&&"trapezoids"in e.props}function oy(e,t){return t!=null&&"sectors"in e.props}function Nf(e,t){return t!=null&&"points"in e.props}function vje(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&a}function yje(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function xje(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function bje(e,t){var r;return iy(e,t)?r=vje:oy(e,t)?r=yje:Nf(e,t)&&(r=xje),r}function wje(e,t){var r;return iy(e,t)?r="trapezoids":oy(e,t)?r="sectors":Nf(e,t)&&(r="points"),r}function jje(e,t){if(iy(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(oy(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Nf(e,t)?t.payload:{}}function _je(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=wje(r,t),a=jje(r,t),o=n.filter(function(c,u){var d=ny(a,c),f=r.props[s].filter(function(g){var p=bje(r,t);return p(g,t)}),h=r.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Sje=Math.ceil,Nje=Math.max;function kje(e,t,r,n){for(var s=-1,a=Nje(Sje((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++s]=e,e+=r;return o}var Pje=kje,Eje=T3,nO=1/0,Cje=17976931348623157e292;function Oje(e){if(!e)return e===0?e:0;if(e=Eje(e),e===nO||e===-nO){var t=e<0?-1:1;return t*Cje}return e===e?e:0}var rF=Oje,Aje=Pje,Tje=Gv,zx=rF;function Rje(e){return function(t,r,n){return n&&typeof n!="number"&&Tje(t,r,n)&&(r=n=void 0),t=zx(t),r===void 0?(r=t,t=0):r=zx(r),n=n===void 0?t<r?1:-1:zx(n),Aje(t,r,n,e)}}var Mje=Rje,$je=Mje,Ije=$je(),Dje=Ije;const ug=Ye(Dje);function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){nF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nF(e,t,r){return t=Lje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lje(e){var t=Fje(e,"string");return kf(t)=="symbol"?t:t+""}function Fje(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zje=["Webkit","Moz","O","ms"],Bje=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=zje.reduce(function(a,o){return aO(aO({},a),{},nF({},o+n,r))},{});return s[t]=r,s};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){Vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aF(n.key),n)}}function qje(e,t,r){return t&&oO(e.prototype,t),r&&oO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wje(e,t,r){return t=fg(t),Vje(e,sF()?Reflect.construct(t,r||[],fg(e).constructor):t.apply(e,r))}function Vje(e,t){if(t&&(bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hje(e)}function Hje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!e})()}function fg(e){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fg(e)}function Kje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kw(e,t)}function Kw(e,t){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Kw(e,t)}function Vr(e,t,r){return t=aF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aF(e){var t=Gje(e,"string");return bc(t)=="symbol"?t:t+""}function Gje(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yje=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=vd().domain(ug(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},lO=function(t){return t.changedTouches&&!!t.changedTouches.length},wc=function(e){function t(r){var n;return Uje(this,t),n=Wje(this,t,[r]),Vr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Vr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Vr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Vr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vr(n,"handleSlideDragStart",function(s){var a=lO(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Kje(t,e),qje(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=sn(a[n],l,n);return Me(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=lO(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),b[o]=u+x;var w=this.getIndex(b),j=w.startIndex,_=w.endIndex,S=function(){var k=v.length-1;return o==="startX"&&(l>c?j%p===0:_%p===0)||l<c&&_===k||o==="endX"&&(l>c?_%p===0:j%p===0)||l>c&&_===k};this.setState(Vr(Vr({},o,u+x),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(Vr({},s,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return P.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?P.cloneElement(f,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),x=Bx(Bx({},Le(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((a=g[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return P.createElement(wt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return P.createElement(wt,{className:"recharts-brush-texts"},P.createElement(Bp,dg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(s)),P.createElement(Bp,dg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!s||!s.length||!se(l)||!se(c)||!se(u)||!se(d)||u<=0||d<=0)return null;var w=Fe("recharts-brush",a),j=P.Children.count(o)===1,_=Bje("userSelect","none");return P.createElement(wt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),P.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return P.isValidElement(n)?a=P.cloneElement(n,s):Me(n)?a=n(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return Bx({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?Yje({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(y.PureComponent);Vr(wc,"displayName","Brush");Vr(wc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Qje=bS;function Xje(e,t){var r;return Qje(e,function(n,s,a){return r=t(n,s,a),!r}),!!r}var Jje=Xje,Zje=a3,e_e=Si,t_e=Jje,r_e=Br,n_e=Gv;function s_e(e,t,r){var n=r_e(e)?Zje:t_e;return r&&n_e(e,t,r)&&(t=void 0),n(e,e_e(t))}var a_e=s_e;const i_e=Ye(a_e);var ys=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},cO=P3;function o_e(e,t,r){t=="__proto__"&&cO?cO(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var l_e=o_e,c_e=l_e,u_e=N3,d_e=Si;function f_e(e,t){var r={};return t=d_e(t),u_e(e,function(n,s,a){c_e(r,s,t(n,s,a))}),r}var h_e=f_e;const m_e=Ye(h_e);function p_e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var g_e=p_e,v_e=bS;function y_e(e,t){var r=!0;return v_e(e,function(n,s,a){return r=!!t(n,s,a),r}),r}var x_e=y_e,b_e=g_e,w_e=x_e,j_e=Si,__e=Br,S_e=Gv;function N_e(e,t,r){var n=__e(e)?b_e:w_e;return r&&S_e(e,t,r)&&(t=void 0),n(e,j_e(t))}var k_e=N_e;const iF=Ye(k_e);var P_e=["x","y"];function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gw.apply(this,arguments)}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){E_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E_e(e,t,r){return t=C_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C_e(e){var t=O_e(e,"string");return Pf(t)=="symbol"?t:t+""}function O_e(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A_e(e,t){if(e==null)return{};var r=T_e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R_e(e,t){var r=e.x,n=e.y,s=A_e(e,P_e),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Uu(Uu(Uu(Uu(Uu({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function dO(e){return P.createElement(gje,Gw({shapeType:"rectangle",propTransformer:R_e,activeClassName:"recharts-active-bar"},e))}var M_e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,s):(a||No(),r)}},$_e=["value","background"],oF;function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function I_e(e,t){if(e==null)return{};var r=D_e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cF(n.key),n)}}function F_e(e,t,r){return t&&hO(e.prototype,t),r&&hO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function z_e(e,t,r){return t=mg(t),B_e(e,lF()?Reflect.construct(t,r||[],mg(e).constructor):t.apply(e,r))}function B_e(e,t){if(t&&(jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U_e(e)}function U_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!e})()}function mg(e){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mg(e)}function q_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yw(e,t)}function Yw(e,t){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Yw(e,t)}function qa(e,t,r){return t=cF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cF(e){var t=W_e(e,"string");return jc(t)=="symbol"?t:t+""}function W_e(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ei=function(e){function t(){var r;L_e(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=z_e(this,t,[].concat(s)),qa(r,"state",{isAnimationFinished:!1}),qa(r,"id",ih("recharts-bar-")),qa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),qa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return q_e(t,e),F_e(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Le(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Nt(Nt(Nt({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return P.createElement(wt,hg({className:"recharts-bar-rectangle"},kp(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),P.createElement(dO,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return P.createElement(ia,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=a.map(function(v,b){var x=h&&h[b];if(x){var w=Wn(x.x,v.x),j=Wn(x.y,v.y),_=Wn(x.width,v.width),S=Wn(x.height,v.height);return Nt(Nt({},v),{},{x:w(g),y:j(g),width:_(g),height:S(g)})}if(o==="horizontal"){var N=Wn(0,v.height),k=N(g);return Nt(Nt({},v),{},{y:v.y+v.height-k,height:k})}var C=Wn(0,v.width),E=C(g);return Nt(Nt({},v),{},{width:E})});return P.createElement(wt,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!ny(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=Le(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=I_e(u,$_e);if(!f)return null;var m=Nt(Nt(Nt(Nt(Nt({},h),{},{fill:"#eee"},f),c),kp(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return P.createElement(dO,hg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Nn(d,fh);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:sn(v,b)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return P.createElement(wt,g,f.map(function(p){return P.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(s||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=Fe("recharts-bar",o),x=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=x||w,_=Ie(p)?this.id:p;return P.createElement(wt,{className:b},x||w?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(_)},P.createElement("rect",{x:x?u:u-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,P.createElement(wt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!m||v)&&ti.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(y.PureComponent);oF=Ei;qa(Ei,"displayName","Bar");qa(Ei,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Hs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qa(Ei,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=O0e(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?Nt(Nt({},p),r.props):r.props,b=v.dataKey,x=v.children,w=v.minPointSize,j=g==="horizontal"?o:a,_=u?j.scale.domain():null,S=L0e({numericAxis:j}),N=Nn(x,M3),k=f.map(function(C,E){var T,A,D,R,L,I;u?T=A0e(u[d+E],_):(T=sn(C,b),Array.isArray(T)||(T=[S,T]));var F=M_e(w,oF.defaultProps.minPointSize)(T[1],E);if(g==="horizontal"){var O,$=[o.scale(T[0]),o.scale(T[1])],H=$[0],z=$[1];A=f2({axis:a,ticks:l,bandSize:s,offset:m.offset,entry:C,index:E}),D=(O=z??H)!==null&&O!==void 0?O:void 0,R=m.size;var B=H-z;if(L=Number.isNaN(B)?0:B,I={x:A,y:o.y,width:R,height:o.height},Math.abs(F)>0&&Math.abs(L)<Math.abs(F)){var Y=Hn(L||F)*(Math.abs(F)-Math.abs(L));D-=Y,L+=Y}}else{var oe=[a.scale(T[0]),a.scale(T[1])],ye=oe[0],me=oe[1];if(A=ye,D=f2({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:C,index:E}),R=me-ye,L=m.size,I={x:a.x,y:D,width:a.width,height:L},Math.abs(F)>0&&Math.abs(R)<Math.abs(F)){var ae=Hn(R||F)*(Math.abs(F)-Math.abs(R));R+=ae}}return Nt(Nt(Nt({},C),{},{x:A,y:D,width:R,height:L,value:u?T:T[1],payload:C,background:I},N&&N[E]&&N[E].props),{},{tooltipPayload:[z6(r,C)],tooltipPosition:{x:A+R/2,y:D+L/2}})});return Nt({data:k,layout:g},h)});function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function V_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uF(n.key),n)}}function H_e(e,t,r){return t&&mO(e.prototype,t),r&&mO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){ly(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ly(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=K_e(e,"string");return Ef(t)=="symbol"?t:t+""}function K_e(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dF=function(t,r,n,s,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Yr(u,Ei);return d.reduce(function(m,g){var p=r[g],v=p.orientation,b=p.domain,x=p.padding,w=x===void 0?{}:x,j=p.mirror,_=p.reversed,S="".concat(v).concat(j?"Mirror":""),N,k,C,E,T;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var A=b[1]-b[0],D=1/0,R=p.categoricalDomain.sort();if(R.forEach(function(oe,ye){ye>0&&(D=Math.min((oe||0)-(R[ye-1]||0),D))}),Number.isFinite(D)){var L=D/A,I=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=L*I/2),p.padding==="no-gap"){var F=_o(t.barCategoryGap,L*I),O=L*I/2;N=O-F-(O-F)/I*F}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=p.range,_&&(k=[k[1],k[0]]);var $=E0e(p,a,h),H=$.scale,z=$.realScaleType;H.domain(b).range(k),C0e(H);var B=D0e(H,zn(zn({},p),{},{realScaleType:z}));s==="xAxis"?(T=v==="top"&&!j||v==="bottom"&&j,C=n.left,E=f[S]-T*p.height):s==="yAxis"&&(T=v==="left"&&!j||v==="right"&&j,C=f[S]-T*p.width,E=n.top);var Y=zn(zn(zn({},p),B),{},{realScaleType:z,x:C,y:E,scale:H,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return Y.bandSize=tg(Y,B),!p.hide&&s==="xAxis"?f[S]+=(T?-1:1)*Y.height:p.hide||(f[S]+=(T?-1:1)*Y.width),zn(zn({},m),{},ly({},g,Y))},{})},fF=function(t,r){var n=t.x,s=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(s,o),width:Math.abs(a-n),height:Math.abs(o-s)}},G_e=function(t){var r=t.x1,n=t.y1,s=t.x2,a=t.y2;return fF({x:r,y:n},{x:s,y:a})},hF=function(){function e(t){V_e(this,e),this.scale=t}return H_e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();ly(hF,"EPS",1e-4);var QS=function(t){var r=Object.keys(t).reduce(function(n,s){return zn(zn({},n),{},ly({},s,hF.create(t[s])))},{});return zn(zn({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return m_e(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return iF(s,function(a,o){return r[o].isInRange(a)})}})};function Y_e(e){return(e%180+180)%180}var Q_e=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Y_e(s),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},X_e=Si,J_e=oh,Z_e=Hv;function eSe(e){return function(t,r,n){var s=Object(t);if(!J_e(t)){var a=X_e(r);t=Z_e(t),r=function(l){return a(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[a?t[o]:o]:void 0}}var tSe=eSe,rSe=rF;function nSe(e){var t=rSe(e),r=t%1;return t===t?r?t-r:t:0}var sSe=nSe,aSe=x3,iSe=Si,oSe=sSe,lSe=Math.max;function cSe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:oSe(r);return s<0&&(s=lSe(n+s,0)),aSe(e,iSe(t),s)}var uSe=cSe,dSe=tSe,fSe=uSe,hSe=dSe(fSe),mSe=hSe;const pSe=Ye(mSe);var gSe=mse(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),XS=y.createContext(void 0),JS=y.createContext(void 0),mF=y.createContext(void 0),pF=y.createContext({}),gF=y.createContext(void 0),vF=y.createContext(0),yF=y.createContext(0),gO=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=gSe(a);return P.createElement(XS.Provider,{value:n},P.createElement(JS.Provider,{value:s},P.createElement(pF.Provider,{value:a},P.createElement(mF.Provider,{value:d},P.createElement(gF.Provider,{value:o},P.createElement(vF.Provider,{value:u},P.createElement(yF.Provider,{value:c},l)))))))},vSe=function(){return y.useContext(gF)},xF=function(t){var r=y.useContext(XS);r==null&&No();var n=r[t];return n==null&&No(),n},ySe=function(){var t=y.useContext(XS);return Ca(t)},xSe=function(){var t=y.useContext(JS),r=pSe(t,function(n){return iF(n.domain,Number.isFinite)});return r||Ca(t)},bF=function(t){var r=y.useContext(JS);r==null&&No();var n=r[t];return n==null&&No(),n},bSe=function(){var t=y.useContext(mF);return t},wSe=function(){return y.useContext(pF)},ZS=function(){return y.useContext(yF)},eN=function(){return y.useContext(vF)};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function jSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jF(n.key),n)}}function SSe(e,t,r){return t&&_Se(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NSe(e,t,r){return t=pg(t),kSe(e,wF()?Reflect.construct(t,r||[],pg(e).constructor):t.apply(e,r))}function kSe(e,t){if(t&&(_c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PSe(e)}function PSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!e})()}function pg(e){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pg(e)}function ESe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Qw(e,t)}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){tN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tN(e,t,r){return t=jF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jF(e){var t=CSe(e,"string");return _c(t)=="symbol"?t:t+""}function CSe(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OSe(e,t){return MSe(e)||RSe(e,t)||TSe(e,t)||ASe()}function ASe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TSe(e,t){if(e){if(typeof e=="string")return xO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xO(e,t)}}function xO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function MSe(e){if(Array.isArray(e))return e}function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xw.apply(this,arguments)}var $Se=function(t,r){var n;return P.isValidElement(t)?n=P.cloneElement(t,r):Me(t)?n=t(r):n=P.createElement("line",Xw({},r,{className:"recharts-reference-line-line"})),n},ISe=function(t,r,n,s,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(ys(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var b=u.x,x=t.x.apply(b,{position:o});if(ys(u,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:f+m},{x,y:f}];return l==="top"?w.reverse():w}if(s){var j=u.segment,_=j.map(function(S){return t.apply(S,{position:o})});return ys(u,"discard")&&i_e(_,function(S){return!t.isInRange(S)})?null:_}return null};function DSe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=vSe(),d=xF(s),f=bF(a),h=bSe();if(!u||!h)return null;Vs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=QS({x:d.scale,y:f.scale}),g=Rt(t),p=Rt(r),v=n&&n.length===2,b=ISe(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var x=OSe(b,2),w=x[0],j=w.x,_=w.y,S=x[1],N=S.x,k=S.y,C=ys(e,"hidden")?"url(#".concat(u,")"):void 0,E=yO(yO({clipPath:C},Le(e,!0)),{},{x1:j,y1:_,x2:N,y2:k});return P.createElement(wt,{className:Fe("recharts-reference-line",l)},$Se(o,E),tr.renderCallByParent(e,G_e({x1:j,y1:_,x2:N,y2:k})))}var rN=function(e){function t(){return jSe(this,t),NSe(this,t,arguments)}return ESe(t,e),SSe(t,[{key:"render",value:function(){return P.createElement(DSe,this.props)}}])}(P.Component);tN(rN,"displayName","ReferenceLine");tN(rN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(this,arguments)}function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(n){cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SF(n.key),n)}}function zSe(e,t,r){return t&&FSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BSe(e,t,r){return t=gg(t),USe(e,_F()?Reflect.construct(t,r||[],gg(e).constructor):t.apply(e,r))}function USe(e,t){if(t&&(Sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qSe(e)}function qSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!e})()}function gg(e){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gg(e)}function WSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Zw(e,t)}function cy(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=VSe(e,"string");return Sc(t)=="symbol"?t:t+""}function VSe(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HSe=function(t){var r=t.x,n=t.y,s=t.xAxis,a=t.yAxis,o=QS({x:s.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ys(t,"discard")&&!o.isInRange(l)?null:l},uy=function(e){function t(){return LSe(this,t),BSe(this,t,arguments)}return WSe(t,e),zSe(t,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Rt(s),d=Rt(a);if(Vs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=HSe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,b=ys(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=wO(wO({clipPath:b},Le(this.props,!0)),{},{cx:h,cy:m});return P.createElement(wt,{className:Fe("recharts-reference-dot",v)},t.renderDot(p,x),tr.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(P.Component);cy(uy,"displayName","ReferenceDot");cy(uy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});cy(uy,"renderDot",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):Me(e)?r=e(t):r=P.createElement(YS,Jw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(this,arguments)}function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(n){dy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kF(n.key),n)}}function YSe(e,t,r){return t&&GSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QSe(e,t,r){return t=vg(t),XSe(e,NF()?Reflect.construct(t,r||[],vg(e).constructor):t.apply(e,r))}function XSe(e,t){if(t&&(Nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JSe(e)}function JSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!e})()}function vg(e){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vg(e)}function ZSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t1(e,t)}function t1(e,t){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},t1(e,t)}function dy(e,t,r){return t=kF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=eNe(e,"string");return Nc(t)=="symbol"?t:t+""}function eNe(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tNe=function(t,r,n,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=QS({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ys(a,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:fF(m,g)},fy=function(e){function t(){return KSe(this,t),QSe(this,t,arguments)}return ZSe(t,e),YSe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Vs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Rt(s),h=Rt(a),m=Rt(o),g=Rt(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=tNe(f,h,m,g,this.props);if(!v&&!p)return null;var b=ys(this.props,"hidden")?"url(#".concat(d,")"):void 0;return P.createElement(wt,{className:Fe("recharts-reference-area",c)},t.renderRect(p,_O(_O({clipPath:b},Le(this.props,!0)),v)),tr.renderCallByParent(this.props,v))}}])}(P.Component);dy(fy,"displayName","ReferenceArea");dy(fy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});dy(fy,"renderRect",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):Me(e)?r=e(t):r=P.createElement(GS,e1({},t,{className:"recharts-reference-area-rect"})),r});function PF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function rNe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Q_e(n,r)}function nNe(e,t,r){var n=r==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:n?s:a,end:n?s+o:a+l}:{start:n?s+o:a+l,end:n?s:a}}function yg(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-s)<=0}function sNe(e,t){return PF(e,t+1)}function aNe(e,t,r,n,s){for(var a=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:PF(n,u)};var p=c,v,b=function(){return v===void 0&&(v=r(g,p)),v},x=g.coordinate,w=c===0||yg(e,x,b,d,l);w||(c=0,d=o,u+=1),w&&(d=x+e*(b()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){iNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iNe(e,t,r){return t=oNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oNe(e){var t=lNe(e,"string");return Cf(t)=="symbol"?t:t+""}function lNe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cNe(e,t,r,n,s){for(var a=(n||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(h){var m=a[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);a[h]=m=Zt(Zt({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else a[h]=m=Zt(Zt({},m),{},{tickCoord:m.coordinate});var b=yg(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+s),a[h]=Zt(Zt({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function uNe(e,t,r,n,s,a){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Zt(Zt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=yg(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=Zt(Zt({},d),{},{isShow:!0}))}for(var g=a?l-1:l,p=function(x){var w=o[x],j,_=function(){return j===void 0&&(j=r(w,x)),j};if(x===0){var S=e*(w.coordinate-e*_()/2-c);o[x]=w=Zt(Zt({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[x]=w=Zt(Zt({},w),{},{tickCoord:w.coordinate});var N=yg(e,w.tickCoord,_,c,u);N&&(c=w.tickCoord+e*(_()/2+s),o[x]=Zt(Zt({},w),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function nN(e,t,r){var n=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(se(c)||Hs.isSsr)return sNe(s,typeof c=="number"&&se(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?gd(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,j){var _=Me(u)?u(w.value,j):w.value;return m==="width"?rNe(gd(_,{fontSize:t,letterSpacing:r}),g,f):gd(_,{fontSize:t,letterSpacing:r})[m]},v=s.length>=2?Hn(s[1].coordinate-s[0].coordinate):1,b=nNe(a,v,m);return c==="equidistantPreserveStart"?aNe(v,b,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=uNe(v,b,p,s,o,c==="preserveStartEnd"):h=cNe(v,b,p,s,o),h.filter(function(x){return x.isShow}))}var dNe=["viewBox"],fNe=["viewBox"],hNe=["ticks"];function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){sN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ux(e,t){if(e==null)return{};var r=mNe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CF(n.key),n)}}function gNe(e,t,r){return t&&kO(e.prototype,t),r&&kO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vNe(e,t,r){return t=xg(t),yNe(e,EF()?Reflect.construct(t,r||[],xg(e).constructor):t.apply(e,r))}function yNe(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xNe(e)}function xNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!e})()}function xg(e){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xg(e)}function bNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r1(e,t)}function r1(e,t){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},r1(e,t)}function sN(e,t,r){return t=CF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=wNe(e,"string");return kc(t)=="symbol"?t:t+""}function wNe(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yu=function(e){function t(r){var n;return pNe(this,t),n=vNe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return bNe(t,e),gNe(t,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,o=Ux(n,dNe),l=this.props,c=l.viewBox,u=Ux(l,fNe);return!Ml(a,c)||!Ml(o,u)||!Ml(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,g,p,v,b,x,w=f?-1:1,j=n.tickSize||d,_=se(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,p=v-w*j,x=p-w*h,b=_;break;case"left":p=v=n.coordinate,g=a+ +!f*l,m=g-w*j,b=m-w*h,x=_;break;case"right":p=v=n.coordinate,g=a+ +f*l,m=g+w*j,b=m+w*h,x=_;break;default:m=g=n.coordinate,v=o+ +f*c,p=v+w*j,x=p+w*h,b=_;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=dr(dr(dr({},Le(this.props,!1)),Le(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=dr(dr({},f),{},{x1:s,y1:a+h*l,x2:s+o,y2:a+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=dr(dr({},f),{},{x1:s+m*o,y1:a,x2:s+m*o,y2:a+l})}return P.createElement("line",wl({},f,{className:Fe("recharts-cartesian-axis-line",Sn(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=nN(dr(dr({},this.props),{},{ticks:n}),s,a),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Le(this.props,!1),b=Le(d,!1),x=dr(dr({},v),{},{fill:"none"},Le(c,!1)),w=m.map(function(j,_){var S=o.getTickLineCoord(j),N=S.line,k=S.tick,C=dr(dr(dr(dr({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},b),k),{},{index:_,payload:j,visibleTicksCount:m.length,tickFormatter:f});return P.createElement(wt,wl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},kp(o.props,j,_)),c&&P.createElement("line",wl({},x,N,{className:Fe("recharts-cartesian-axis-tick-line",Sn(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Me(f)?f(j.value,_):j.value).concat(h||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=Ux(f,hNe),g=h;return Me(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:P.createElement(wt,{className:Fe("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),tr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return P.isValidElement(n)?o=P.cloneElement(n,s):Me(n)?o=n(s):o=P.createElement(Bp,wl({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(y.Component);sN(yu,"displayName","CartesianAxis");sN(yu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jNe=["x1","y1","x2","y2","key"],_Ne=["offset"];function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){SNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SNe(e,t,r){return t=NNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NNe(e){var t=kNe(e,"string");return ko(t)=="symbol"?t:t+""}function kNe(e,t){if(ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yi.apply(this,arguments)}function EO(e,t){if(e==null)return{};var r=PNe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ENe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return P.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function OF(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(Me(e))r=e(t);else{var n=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=EO(t,jNe),u=Le(c,!1);u.offset;var d=EO(u,_Ne);r=P.createElement("line",Yi({},d,{x1:n,y1:s,x2:a,y2:o,fill:"none",key:l}))}return r}function CNe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=rr(rr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return OF(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ONe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=rr(rr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return OF(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ANe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return P.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function TNe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return P.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var RNe=function(t,r){var n=t.xAxis,s=t.width,a=t.height,o=t.offset;return L6(nN(rr(rr(rr({},yu.defaultProps),n),{},{ticks:Us(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,r)},MNe=function(t,r){var n=t.yAxis,s=t.width,a=t.height,o=t.offset;return L6(nN(rr(rr(rr({},yu.defaultProps),n),{},{ticks:Us(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,r)},rl={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Of(e){var t,r,n,s,a,o,l=ZS(),c=eN(),u=wSe(),d=rr(rr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:rl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:rl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:rl.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:rl.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:rl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:rl.verticalFill,x:se(e.x)?e.x:u.left,y:se(e.y)?e.y:u.top,width:se(e.width)?e.width:u.width,height:se(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,x=ySe(),w=xSe();if(!se(m)||m<=0||!se(g)||g<=0||!se(f)||f!==+f||!se(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||RNe,_=d.horizontalCoordinatesGenerator||MNe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&Me(_)){var k=v&&v.length,C=_({yAxis:w?rr(rr({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);Vs(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ko(C),"]")),Array.isArray(C)&&(S=C)}if((!N||!N.length)&&Me(j)){var E=b&&b.length,T=j({xAxis:x?rr(rr({},x),{},{ticks:E?b:x.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);Vs(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ko(T),"]")),Array.isArray(T)&&(N=T)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(ENe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),P.createElement(CNe,Yi({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:w})),P.createElement(ONe,Yi({},d,{offset:u,verticalPoints:N,xAxis:x,yAxis:w})),P.createElement(ANe,Yi({},d,{horizontalPoints:S})),P.createElement(TNe,Yi({},d,{verticalPoints:N})))}Of.displayName="CartesianGrid";var $Ne=["type","layout","connectNulls","ref"],INe=["key"];function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function CO(e,t){if(e==null)return{};var r=DNe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bd.apply(this,arguments)}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){Bn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nl(e){return BNe(e)||zNe(e)||FNe(e)||LNe()}function LNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FNe(e,t){if(e){if(typeof e=="string")return n1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n1(e,t)}}function zNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BNe(e){if(Array.isArray(e))return n1(e)}function n1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TF(n.key),n)}}function qNe(e,t,r){return t&&AO(e.prototype,t),r&&AO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WNe(e,t,r){return t=bg(t),VNe(e,AF()?Reflect.construct(t,r||[],bg(e).constructor):t.apply(e,r))}function VNe(e,t){if(t&&(Pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HNe(e)}function HNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AF=function(){return!!e})()}function bg(e){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(e)}function KNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s1(e,t)}function s1(e,t){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},s1(e,t)}function Bn(e,t,r){return t=TF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TF(e){var t=GNe(e,"string");return Pc(t)=="symbol"?t:t+""}function GNe(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fi=function(e){function t(){var r;UNe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=WNe(this,t,[].concat(s)),Bn(r,"state",{isAnimationFinished:!0,totalLength:0}),Bn(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Bn(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,x){return b+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(nl(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(nl(t.repeat(c,d)),nl(m),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Bn(r,"id",ih("recharts-line-")),Bn(r,"pathRef",function(o){r.mainCurve=o}),Bn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Bn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return KNe(t,e),qNe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Nn(d,fh);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:sn(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(s,")"):null};return P.createElement(wt,m,f.map(function(g){return P.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Le(this.props,!1),h=Le(c,!0),m=u.map(function(p,v){var b=Wr(Wr(Wr({key:"dot-".concat(v),r:3},f),h),{},{value:p.value,dataKey:d,cx:p.x,cy:p.y,index:v,payload:p.payload});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return P.createElement(wt,bd({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,s,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=CO(l,$Ne),h=Wr(Wr(Wr({},Le(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return P.createElement($w,bd({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,b=this.state,x=b.prevPoints,w=b.totalLength;return P.createElement(ia,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var _=j.t;if(x){var S=x.length/l.length,N=l.map(function(A,D){var R=Math.floor(D*S);if(x[R]){var L=x[R],I=Wn(L.x,A.x),F=Wn(L.y,A.y);return Wr(Wr({},A),{},{x:I(_),y:F(_)})}if(g){var O=Wn(p*2,A.x),$=Wn(v/2,A.y);return Wr(Wr({},A),{},{x:O(_),y:$(_)})}return Wr(Wr({},A),{},{x:A.x,y:A.y})});return a.renderCurveStatically(N,n,s)}var k=Wn(0,w),C=k(_),E;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});E=a.getStrokeDasharray(C,w,T)}else E=a.generateSimpleStrokeDasharray(w,C);return a.renderCurveStatically(l,n,s,{strokeDasharray:E})})}},{key:"renderCurve",value:function(n,s){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ny(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,m=s.width,g=s.height,p=s.isAnimationActive,v=s.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=Fe("recharts-line",c),j=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,S=j||_,N=Ie(v)?this.id:v,k=(n=Le(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,E=C===void 0?3:C,T=k.strokeWidth,A=T===void 0?2:T,D=xae(o)?o:{},R=D.clipDot,L=R===void 0?!0:R,I=E*2+A;return P.createElement(wt,{className:w},j||_?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(N)},P.createElement("rect",{x:j?h:h-m/2,y:_?f:f-g/2,width:j?m:m*2,height:_?g:g*2})),!L&&P.createElement("clipPath",{id:"clipPath-dots-".concat(N)},P.createElement("rect",{x:h-I/2,y:f-I/2,width:m+I,height:g+I}))):null,!x&&this.renderCurve(S,N),this.renderErrorBar(S,N),(x||o)&&this.renderDots(S,L,N),(!p||b)&&ti.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var a=n.length%2!==0?[].concat(nl(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(nl(o),nl(a));return o}},{key:"renderDotItem",value:function(n,s){var a;if(P.isValidElement(n))a=P.cloneElement(n,s);else if(Me(n))a=n(s);else{var o=s.key,l=CO(s,INe),c=Fe("recharts-line-dot",typeof n!="boolean"?n.className:"");a=P.createElement(YS,bd({key:o},l,{className:c}))}return a}}])}(y.PureComponent);Bn(fi,"displayName","Line");Bn(fi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Hs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Bn(fi,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=sn(h,o);return d==="horizontal"?{x:d2({axis:r,ticks:s,bandSize:l,entry:h,index:m}),y:Ie(g)?null:n.scale(g),value:g,payload:h}:{x:Ie(g)?null:r.scale(g),y:d2({axis:n,ticks:a,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Wr({points:f,layout:d},u)});function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function YNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$F(n.key),n)}}function XNe(e,t,r){return t&&QNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JNe(e,t,r){return t=wg(t),ZNe(e,RF()?Reflect.construct(t,r||[],wg(e).constructor):t.apply(e,r))}function ZNe(e,t){if(t&&(Ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eke(e)}function eke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RF=function(){return!!e})()}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(e)}function tke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a1(e,t)}function a1(e,t){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},a1(e,t)}function MF(e,t,r){return t=$F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $F(e){var t=rke(e,"string");return Ec(t)=="symbol"?t:t+""}function rke(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i1(){return i1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i1.apply(this,arguments)}function nke(e){var t=e.xAxisId,r=ZS(),n=eN(),s=xF(t);return s==null?null:P.createElement(yu,i1({},s,{className:Fe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Us(o,!0)}}))}var hi=function(e){function t(){return YNe(this,t),JNe(this,t,arguments)}return tke(t,e),XNe(t,[{key:"render",value:function(){return P.createElement(nke,this.props)}}])}(P.Component);MF(hi,"displayName","XAxis");MF(hi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function ske(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ake(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LF(n.key),n)}}function ike(e,t,r){return t&&ake(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oke(e,t,r){return t=jg(t),lke(e,IF()?Reflect.construct(t,r||[],jg(e).constructor):t.apply(e,r))}function lke(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cke(e)}function cke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!e})()}function jg(e){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(e)}function uke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o1(e,t)}function o1(e,t){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},o1(e,t)}function DF(e,t,r){return t=LF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LF(e){var t=dke(e,"string");return Cc(t)=="symbol"?t:t+""}function dke(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l1.apply(this,arguments)}var fke=function(t){var r=t.yAxisId,n=ZS(),s=eN(),a=bF(r);return a==null?null:P.createElement(yu,l1({},a,{className:Fe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Us(l,!0)}}))},mi=function(e){function t(){return ske(this,t),oke(this,t,arguments)}return uke(t,e),ike(t,[{key:"render",value:function(){return P.createElement(fke,this.props)}}])}(P.Component);DF(mi,"displayName","YAxis");DF(mi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function TO(e){return gke(e)||pke(e)||mke(e)||hke()}function hke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mke(e,t){if(e){if(typeof e=="string")return c1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c1(e,t)}}function pke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gke(e){if(Array.isArray(e))return c1(e)}function c1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u1=function(t,r,n,s,a){var o=Nn(t,rN),l=Nn(t,uy),c=[].concat(TO(o),TO(l)),u=Nn(t,fy),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&ys(v.props,"extendDomain")&&se(v.props[f])){var b=v.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&ys(v.props,"extendDomain")&&se(v.props[m])&&se(v.props[g])){var b=v.props[m],x=v.props[g];return[Math.min(p[0],b,x),Math.max(p[1],b,x)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,v){return se(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},FF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var j=v.length,_;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(_=1,x=new Array(b-1);_<b;_++)x[_-1]=arguments[_];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,v=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(FF);var vke=FF.exports;const yke=Ye(vke);var qx=new yke,Wx="recharts.syncMouseEvents";function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function xke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zF(n.key),n)}}function wke(e,t,r){return t&&bke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vx(e,t,r){return t=zF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zF(e){var t=jke(e,"string");return Af(t)=="symbol"?t:t+""}function jke(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _ke=function(){function e(){xke(this,e),Vx(this,"activeIndex",0),Vx(this,"coordinateList",[]),Vx(this,"layout","horizontal")}return wke(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Ske(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&se(n)&&se(s))return!0}return!1}function Nke(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function BF(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,a=e.endAngle,o=Ht(t,r,n,s),l=Ht(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:a}}function kke(e,t,r){var n,s,a,o;if(e==="horizontal")n=t.x,a=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ht(l,c,u,f),m=Ht(l,c,d,f);n=h.x,s=h.y,a=m.x,o=m.y}else return BF(t);return[{x:n,y:s},{x:a,y:o}]}function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){Pke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pke(e,t,r){return t=Eke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eke(e){var t=Cke(e,"string");return Tf(t)=="symbol"?t:t+""}function Cke(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oke(e){var t,r,n=e.element,s=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,p=$w;if(h==="ScatterChart")g=o,p=O1e;else if(h==="BarChart")g=Nke(f,o,c,d),p=GS;else if(f==="radial"){var v=BF(o),b=v.cx,x=v.cy,w=v.radius,j=v.startAngle,_=v.endAngle;g={cx:b,cy:x,startAngle:j,endAngle:_,innerRadius:w,outerRadius:w},p=q6}else g={points:kke(f,o,c)},p=$w;var S=cm(cm(cm(cm({stroke:"#ccc",pointerEvents:"none"},c),g),Le(m,!1)),{},{payload:l,payloadIndex:u,className:Fe("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,S):y.createElement(p,S)}var Ake=["item"],Tke=["children","className","width","height","style","compact","title","desc"];function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}function MO(e,t){return $ke(e)||Mke(e,t)||qF(e,t)||Rke()}function Rke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function $ke(e){if(Array.isArray(e))return e}function $O(e,t){if(e==null)return{};var r=Ike(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ike(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WF(n.key),n)}}function Fke(e,t,r){return t&&Lke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zke(e,t,r){return t=_g(t),Bke(e,UF()?Reflect.construct(t,r||[],_g(e).constructor):t.apply(e,r))}function Bke(e,t){if(t&&(Oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uke(e)}function Uke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UF=function(){return!!e})()}function _g(e){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_g(e)}function qke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d1(e,t)}function d1(e,t){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},d1(e,t)}function Ac(e){return Hke(e)||Vke(e)||qF(e)||Wke()}function Wke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qF(e,t){if(e){if(typeof e=="string")return f1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(e,t)}}function Vke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hke(e){if(Array.isArray(e))return f1(e)}function f1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){xe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xe(e,t,r){return t=WF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=Kke(e,"string");return Oc(t)=="symbol"?t:t+""}function Kke(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gke={xAxis:["bottom","top"],yAxis:["left","right"]},Yke={width:"100%",height:"100%"},VF={x:0,y:0};function um(e){return e}var Qke=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Xke=function(t,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return V(V(V({},s),Ht(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return V(V(V({},s),Ht(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return VF},hy=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ac(l),Ac(u)):l},[]);return o.length>0?o:t&&t.length&&se(s)&&se(a)?t.slice(s,a+1):[]};function HF(e){return e==="number"?[0,"auto"]:void 0}var h1=function(t,r,n,s){var a=t.graphicalItems,o=t.tooltipAxis,l=hy(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Sp(m,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Ac(c),[z6(u,h)]):c},[])},DO=function(t,r,n,s){var a=s||{x:t.chartX,y:t.chartY},o=Qke(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=j0e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=h1(t,r,d,f),m=Xke(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Jke=function(t,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=D6(d,a);return n.reduce(function(g,p){var v,b=p.type.defaultProps!==void 0?V(V({},p.type.defaultProps),p.props):p.props,x=b.type,w=b.dataKey,j=b.allowDataOverflow,_=b.allowDuplicatedCategory,S=b.scale,N=b.ticks,k=b.includeHidden,C=b[o];if(g[C])return g;var E=hy(t.data,{graphicalItems:s.filter(function(B){var Y,oe=o in B.props?B.props[o]:(Y=B.type.defaultProps)===null||Y===void 0?void 0:Y[o];return oe===C}),dataStartIndex:c,dataEndIndex:u}),T=E.length,A,D,R;Ske(b.domain,j,x)&&(A=Ow(b.domain,null,j),m&&(x==="number"||S!=="auto")&&(R=yd(E,w,"category")));var L=HF(x);if(!A||A.length===0){var I,F=(I=b.domain)!==null&&I!==void 0?I:L;if(w){if(A=yd(E,w,x),x==="category"&&m){var O=uae(A);_&&O?(D=A,A=ug(0,T)):_||(A=p2(F,A,p).reduce(function(B,Y){return B.indexOf(Y)>=0?B:[].concat(Ac(B),[Y])},[]))}else if(x==="category")_?A=A.filter(function(B){return B!==""&&!Ie(B)}):A=p2(F,A,p).reduce(function(B,Y){return B.indexOf(Y)>=0||Y===""||Ie(Y)?B:[].concat(Ac(B),[Y])},[]);else if(x==="number"){var $=P0e(E,s.filter(function(B){var Y,oe,ye=o in B.props?B.props[o]:(Y=B.type.defaultProps)===null||Y===void 0?void 0:Y[o],me="hide"in B.props?B.props.hide:(oe=B.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return ye===C&&(k||!me)}),w,a,d);$&&(A=$)}m&&(x==="number"||S!=="auto")&&(R=yd(E,w,"category"))}else m?A=ug(0,T):l&&l[C]&&l[C].hasStack&&x==="number"?A=h==="expand"?[0,1]:F6(l[C].stackGroups,c,u):A=I6(E,s.filter(function(B){var Y=o in B.props?B.props[o]:B.type.defaultProps[o],oe="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return Y===C&&(k||!oe)}),x,d,!0);if(x==="number")A=u1(f,A,C,a,N),F&&(A=Ow(F,A,j));else if(x==="category"&&F){var H=F,z=A.every(function(B){return H.indexOf(B)>=0});z&&(A=H)}}return V(V({},g),{},xe({},C,V(V({},b),{},{axisType:a,domain:A,categoricalDomain:R,duplicateDomain:D,originalDomain:(v=b.domain)!==null&&v!==void 0?v:L,isCategorical:m,layout:d})))},{})},Zke=function(t,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=hy(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=D6(d,a),p=-1;return n.reduce(function(v,b){var x=b.type.defaultProps!==void 0?V(V({},b.type.defaultProps),b.props):b.props,w=x[o],j=HF("number");if(!v[w]){p++;var _;return g?_=ug(0,m):l&&l[w]&&l[w].hasStack?(_=F6(l[w].stackGroups,c,u),_=u1(f,_,w,a)):(_=Ow(j,I6(h,n.filter(function(S){var N,k,C=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],E="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!E}),"number",d),s.defaultProps.allowDataOverflow),_=u1(f,_,w,a)),V(V({},v),{},xe({},w,V(V({axisType:a},s.defaultProps),{},{hide:!0,orientation:Sn(Gke,"".concat(a,".").concat(p%2),null),domain:_,originalDomain:j,isCategorical:g,layout:d})))}return v},{})},ePe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=Nn(d,a),m={};return h&&h.length?m=Jke(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=Zke(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},tPe=function(t){var r=Ca(t),n=Us(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:wS(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:tg(r,n)}},LO=function(t){var r=t.children,n=t.defaultShowTooltip,s=Yr(r,wc),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},rPe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ws(r&&r.type);return n&&n.indexOf("Bar")>=0})},FO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nPe=function(t,r){var n=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Yr(f,wc),g=Yr(f,ao),p=Object.keys(c).reduce(function(_,S){var N=c[S],k=N.orientation;return!N.mirror&&!N.hide?V(V({},_),{},xe({},k,_[k]+N.width)):_},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(_,S){var N=o[S],k=N.orientation;return!N.mirror&&!N.hide?V(V({},_),{},xe({},k,Sn(_,"".concat(k))+N.height)):_},{top:h.top||0,bottom:h.bottom||0}),b=V(V({},v),p),x=b.bottom;m&&(b.bottom+=m.props.height||wc.defaultProps.height),g&&r&&(b=N0e(b,s,n,r));var w=u-b.left-b.right,j=d-b.top-b.bottom;return V(V({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(j,0)})},sPe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},KF=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,b){var x=b.graphicalItems,w=b.stackGroups,j=b.offset,_=b.updateId,S=b.dataStartIndex,N=b.dataEndIndex,k=v.barSize,C=v.layout,E=v.barGap,T=v.barCategoryGap,A=v.maxBarSize,D=FO(C),R=D.numericAxisName,L=D.cateAxisName,I=rPe(x),F=[];return x.forEach(function(O,$){var H=hy(v.data,{graphicalItems:[O],dataStartIndex:S,dataEndIndex:N}),z=O.type.defaultProps!==void 0?V(V({},O.type.defaultProps),O.props):O.props,B=z.dataKey,Y=z.maxBarSize,oe=z["".concat(R,"Id")],ye=z["".concat(L,"Id")],me={},ae=c.reduce(function(kr,Es){var xu=b["".concat(Es.axisType,"Map")],Ci=z["".concat(Es.axisType,"Id")];xu&&xu[Ci]||Es.axisType==="zAxis"||No();var mh=xu[Ci];return V(V({},kr),{},xe(xe({},Es.axisType,mh),"".concat(Es.axisType,"Ticks"),Us(mh)))},me),je=ae[L],G=ae["".concat(L,"Ticks")],ne=w&&w[oe]&&w[oe].hasStack&&F0e(O,w[oe].stackGroups),le=Ws(O.type).indexOf("Bar")>=0,U=tg(je,G),Te=[],be=I&&_0e({barSize:k,stackGroups:w,totalSize:sPe(ae,L)});if(le){var Ke,ze,xt=Ie(Y)?A:Y,Ur=(Ke=(ze=tg(je,G,!0))!==null&&ze!==void 0?ze:xt)!==null&&Ke!==void 0?Ke:0;Te=S0e({barGap:E,barCategoryGap:T,bandSize:Ur!==U?Ur:U,sizeList:be[ye],maxBarSize:xt}),Ur!==U&&(Te=Te.map(function(kr){return V(V({},kr),{},{position:V(V({},kr.position),{},{offset:kr.position.offset-Ur/2})})}))}var mt=O&&O.type&&O.type.getComposedData;mt&&F.push({props:V(V({},mt(V(V({},ae),{},{displayedData:H,props:v,dataKey:B,item:O,bandSize:U,barPosition:Te,offset:j,stackedData:ne,layout:C,dataStartIndex:S,dataEndIndex:N}))),{},xe(xe(xe({key:O.key||"item-".concat($)},R,ae[R]),L,ae[L]),"animationId",_)),childIndex:jae(O,v.children),item:O})}),F},m=function(v,b){var x=v.props,w=v.dataStartIndex,j=v.dataEndIndex,_=v.updateId;if(!lE({props:x}))return null;var S=x.children,N=x.layout,k=x.stackOffset,C=x.data,E=x.reverseStackOrder,T=FO(N),A=T.numericAxisName,D=T.cateAxisName,R=Nn(S,n),L=I0e(C,R,"".concat(A,"Id"),"".concat(D,"Id"),k,E),I=c.reduce(function(z,B){var Y="".concat(B.axisType,"Map");return V(V({},z),{},xe({},Y,ePe(x,V(V({},B),{},{graphicalItems:R,stackGroups:B.axisType===A&&L,dataStartIndex:w,dataEndIndex:j}))))},{}),F=nPe(V(V({},I),{},{props:x,graphicalItems:R}),b==null?void 0:b.legendBBox);Object.keys(I).forEach(function(z){I[z]=d(x,I[z],F,z.replace("Map",""),r)});var O=I["".concat(D,"Map")],$=tPe(O),H=h(x,V(V({},I),{},{dataStartIndex:w,dataEndIndex:j,updateId:_,graphicalItems:R,stackGroups:L,offset:F}));return V(V({formattedGraphicalItems:H,graphicalItems:R,offset:F,stackGroups:L},$),I)},g=function(p){function v(b){var x,w,j;return Dke(this,v),j=zke(this,v,[b]),xe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xe(j,"accessibilityManager",new _ke),xe(j,"handleLegendBBoxUpdate",function(_){if(_){var S=j.state,N=S.dataStartIndex,k=S.dataEndIndex,C=S.updateId;j.setState(V({legendBBox:_},m({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},V(V({},j.state),{},{legendBBox:_}))))}}),xe(j,"handleReceiveSyncEvent",function(_,S,N){if(j.props.syncId===_){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),xe(j,"handleBrushChange",function(_){var S=_.startIndex,N=_.endIndex;if(S!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var k=j.state.updateId;j.setState(function(){return V({dataStartIndex:S,dataEndIndex:N},m({props:j.props,dataStartIndex:S,dataEndIndex:N,updateId:k},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:N})}}),xe(j,"handleMouseEnter",function(_){var S=j.getMouseInfo(_);if(S){var N=V(V({},S),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseEnter;Me(k)&&k(N,_)}}),xe(j,"triggeredAfterMouseMove",function(_){var S=j.getMouseInfo(_),N=S?V(V({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseMove;Me(k)&&k(N,_)}),xe(j,"handleItemMouseEnter",function(_){j.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),xe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),xe(j,"handleMouseMove",function(_){_.persist(),j.throttleTriggeredAfterMouseMove(_)}),xe(j,"handleMouseLeave",function(_){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var N=j.props.onMouseLeave;Me(N)&&N(S,_)}),xe(j,"handleOuterEvent",function(_){var S=wae(_),N=Sn(j.props,"".concat(S));if(S&&Me(N)){var k,C;/.*touch.*/i.test(S)?C=j.getMouseInfo(_.changedTouches[0]):C=j.getMouseInfo(_),N((k=C)!==null&&k!==void 0?k:{},_)}}),xe(j,"handleClick",function(_){var S=j.getMouseInfo(_);if(S){var N=V(V({},S),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var k=j.props.onClick;Me(k)&&k(N,_)}}),xe(j,"handleMouseDown",function(_){var S=j.props.onMouseDown;if(Me(S)){var N=j.getMouseInfo(_);S(N,_)}}),xe(j,"handleMouseUp",function(_){var S=j.props.onMouseUp;if(Me(S)){var N=j.getMouseInfo(_);S(N,_)}}),xe(j,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),xe(j,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseDown(_.changedTouches[0])}),xe(j,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseUp(_.changedTouches[0])}),xe(j,"triggerSyncEvent",function(_){j.props.syncId!==void 0&&qx.emit(Wx,j.props.syncId,_,j.eventEmitterSymbol)}),xe(j,"applySyncEvent",function(_){var S=j.props,N=S.layout,k=S.syncMethod,C=j.state.updateId,E=_.dataStartIndex,T=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)j.setState(V({dataStartIndex:E,dataEndIndex:T},m({props:j.props,dataStartIndex:E,dataEndIndex:T,updateId:C},j.state)));else if(_.activeTooltipIndex!==void 0){var A=_.chartX,D=_.chartY,R=_.activeTooltipIndex,L=j.state,I=L.offset,F=L.tooltipTicks;if(!I)return;if(typeof k=="function")R=k(F,_);else if(k==="value"){R=-1;for(var O=0;O<F.length;O++)if(F[O].value===_.activeLabel){R=O;break}}var $=V(V({},I),{},{x:I.left,y:I.top}),H=Math.min(A,$.x+$.width),z=Math.min(D,$.y+$.height),B=F[R]&&F[R].value,Y=h1(j.state,j.props.data,R),oe=F[R]?{x:N==="horizontal"?F[R].coordinate:H,y:N==="horizontal"?z:F[R].coordinate}:VF;j.setState(V(V({},_),{},{activeLabel:B,activeCoordinate:oe,activePayload:Y,activeTooltipIndex:R}))}else j.setState(_)}),xe(j,"renderCursor",function(_){var S,N=j.state,k=N.isTooltipActive,C=N.activeCoordinate,E=N.activePayload,T=N.offset,A=N.activeTooltipIndex,D=N.tooltipAxisBandSize,R=j.getTooltipEventType(),L=(S=_.props.active)!==null&&S!==void 0?S:k,I=j.props.layout,F=_.key||"_recharts-cursor";return P.createElement(Oke,{key:F,activeCoordinate:C,activePayload:E,activeTooltipIndex:A,chartName:r,element:_,isActive:L,layout:I,offset:T,tooltipAxisBandSize:D,tooltipEventType:R})}),xe(j,"renderPolarAxis",function(_,S,N){var k=Sn(_,"type.axisType"),C=Sn(j.state,"".concat(k,"Map")),E=_.type.defaultProps,T=E!==void 0?V(V({},E),_.props):_.props,A=C&&C[T["".concat(k,"Id")]];return y.cloneElement(_,V(V({},A),{},{className:Fe(k,A.className),key:_.key||"".concat(S,"-").concat(N),ticks:Us(A,!0)}))}),xe(j,"renderPolarGrid",function(_){var S=_.props,N=S.radialLines,k=S.polarAngles,C=S.polarRadius,E=j.state,T=E.radiusAxisMap,A=E.angleAxisMap,D=Ca(T),R=Ca(A),L=R.cx,I=R.cy,F=R.innerRadius,O=R.outerRadius;return y.cloneElement(_,{polarAngles:Array.isArray(k)?k:Us(R,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(C)?C:Us(D,!0).map(function($){return $.coordinate}),cx:L,cy:I,innerRadius:F,outerRadius:O,key:_.key||"polar-grid",radialLines:N})}),xe(j,"renderLegend",function(){var _=j.state.formattedGraphicalItems,S=j.props,N=S.children,k=S.width,C=S.height,E=j.props.margin||{},T=k-(E.left||0)-(E.right||0),A=M6({children:N,formattedGraphicalItems:_,legendWidth:T,legendContent:u});if(!A)return null;var D=A.item,R=$O(A,Ake);return y.cloneElement(D,V(V({},R),{},{chartWidth:k,chartHeight:C,margin:E,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),xe(j,"renderTooltip",function(){var _,S=j.props,N=S.children,k=S.accessibilityLayer,C=Yr(N,Xr);if(!C)return null;var E=j.state,T=E.isTooltipActive,A=E.activeCoordinate,D=E.activePayload,R=E.activeLabel,L=E.offset,I=(_=C.props.active)!==null&&_!==void 0?_:T;return y.cloneElement(C,{viewBox:V(V({},L),{},{x:L.left,y:L.top}),active:I,label:R,payload:I?D:[],coordinate:A,accessibilityLayer:k})}),xe(j,"renderBrush",function(_){var S=j.props,N=S.margin,k=S.data,C=j.state,E=C.offset,T=C.dataStartIndex,A=C.dataEndIndex,D=C.updateId;return y.cloneElement(_,{key:_.key||"_recharts-brush",onChange:am(j.handleBrushChange,_.props.onChange),data:k,x:se(_.props.x)?_.props.x:E.left,y:se(_.props.y)?_.props.y:E.top+E.height+E.brushBottom-(N.bottom||0),width:se(_.props.width)?_.props.width:E.width,startIndex:T,endIndex:A,updateId:"brush-".concat(D)})}),xe(j,"renderReferenceElement",function(_,S,N){if(!_)return null;var k=j,C=k.clipPathId,E=j.state,T=E.xAxisMap,A=E.yAxisMap,D=E.offset,R=_.type.defaultProps||{},L=_.props,I=L.xAxisId,F=I===void 0?R.xAxisId:I,O=L.yAxisId,$=O===void 0?R.yAxisId:O;return y.cloneElement(_,{key:_.key||"".concat(S,"-").concat(N),xAxis:T[F],yAxis:A[$],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:C})}),xe(j,"renderActivePoints",function(_){var S=_.item,N=_.activePoint,k=_.basePoint,C=_.childIndex,E=_.isRange,T=[],A=S.props.key,D=S.item.type.defaultProps!==void 0?V(V({},S.item.type.defaultProps),S.item.props):S.item.props,R=D.activeDot,L=D.dataKey,I=V(V({index:C,dataKey:L,cx:N.x,cy:N.y,r:4,fill:KS(S.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Le(R,!1)),Np(R));return T.push(v.renderActiveDot(R,I,"".concat(A,"-activePoint-").concat(C))),k?T.push(v.renderActiveDot(R,V(V({},I),{},{cx:k.x,cy:k.y}),"".concat(A,"-basePoint-").concat(C))):E&&T.push(null),T}),xe(j,"renderGraphicChild",function(_,S,N){var k=j.filterFormatItem(_,S,N);if(!k)return null;var C=j.getTooltipEventType(),E=j.state,T=E.isTooltipActive,A=E.tooltipAxis,D=E.activeTooltipIndex,R=E.activeLabel,L=j.props.children,I=Yr(L,Xr),F=k.props,O=F.points,$=F.isRange,H=F.baseLine,z=k.item.type.defaultProps!==void 0?V(V({},k.item.type.defaultProps),k.item.props):k.item.props,B=z.activeDot,Y=z.hide,oe=z.activeBar,ye=z.activeShape,me=!!(!Y&&T&&I&&(B||oe||ye)),ae={};C!=="axis"&&I&&I.props.trigger==="click"?ae={onClick:am(j.handleItemMouseEnter,_.props.onClick)}:C!=="axis"&&(ae={onMouseLeave:am(j.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:am(j.handleItemMouseEnter,_.props.onMouseEnter)});var je=y.cloneElement(_,V(V({},k.props),ae));function G(Es){return typeof A.dataKey=="function"?A.dataKey(Es.payload):null}if(me)if(D>=0){var ne,le;if(A.dataKey&&!A.allowDuplicatedCategory){var U=typeof A.dataKey=="function"?G:"payload.".concat(A.dataKey.toString());ne=Sp(O,U,R),le=$&&H&&Sp(H,U,R)}else ne=O==null?void 0:O[D],le=$&&H&&H[D];if(ye||oe){var Te=_.props.activeIndex!==void 0?_.props.activeIndex:D;return[y.cloneElement(_,V(V(V({},k.props),ae),{},{activeIndex:Te})),null,null]}if(!Ie(ne))return[je].concat(Ac(j.renderActivePoints({item:k,activePoint:ne,basePoint:le,childIndex:D,isRange:$})))}else{var be,Ke=(be=j.getItemByXY(j.state.activeCoordinate))!==null&&be!==void 0?be:{graphicalItem:je},ze=Ke.graphicalItem,xt=ze.item,Ur=xt===void 0?_:xt,mt=ze.childIndex,kr=V(V(V({},k.props),ae),{},{activeIndex:mt});return[y.cloneElement(Ur,kr),null,null]}return $?[je,null,null]:[je,null]}),xe(j,"renderCustomized",function(_,S,N){return y.cloneElement(_,V(V({key:"recharts-customized-".concat(N)},j.props),j.state))}),xe(j,"renderMap",{CartesianGrid:{handler:um,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:um},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:um},YAxis:{handler:um},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:ih("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=R3(j.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return qke(v,p),Fke(v,[{key:"componentDidMount",value:function(){var x,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,w=x.children,j=x.data,_=x.height,S=x.layout,N=Yr(w,Xr);if(N){var k=N.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,E=h1(this.state,j,k,C),T=this.state.tooltipTicks[k].coordinate,A=(this.state.offset.top+_)/2,D=S==="horizontal",R=D?{x:T,y:A}:{y:T,x:A},L=this.state.formattedGraphicalItems.find(function(F){var O=F.item;return O.type.name==="Scatter"});L&&(R=V(V({},R),L.props.points[k].tooltipPosition),E=L.props.points[k].tooltipPayload);var I={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:C,activePayload:E,activeCoordinate:R};this.setState(I),this.renderCursor(N),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var j,_;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(x){Vb([Yr(x.children,Xr)],[Yr(this.props.children,Xr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Yr(this.props.children,Xr);if(x&&typeof x.props.shared=="boolean"){var w=x.props.shared?"axis":"item";return l.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),_=Gpe(j),S={chartX:Math.round(x.pageX-_.left),chartY:Math.round(x.pageY-_.top)},N=j.width/w.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,N);if(!k)return null;var C=this.state,E=C.xAxisMap,T=C.yAxisMap,A=this.getTooltipEventType();if(A!=="axis"&&E&&T){var D=Ca(E).scale,R=Ca(T).scale,L=D&&D.invert?D.invert(S.chartX):null,I=R&&R.invert?R.invert(S.chartY):null;return V(V({},S),{},{xValue:L,yValue:I})}var F=DO(this.state,this.props.data,this.props.layout,k);return F?V(V({},S),F):null}},{key:"inRange",value:function(x,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,S=x/j,N=w/j;if(_==="horizontal"||_==="vertical"){var k=this.state.offset,C=S>=k.left&&S<=k.left+k.width&&N>=k.top&&N<=k.top+k.height;return C?{x:S,y:N}:null}var E=this.state,T=E.angleAxisMap,A=E.radiusAxisMap;if(T&&A){var D=Ca(T);return y2({x:S,y:N},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,w=this.getTooltipEventType(),j=Yr(x,Xr),_={};j&&w==="axis"&&(j.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=Np(this.props,this.handleOuterEvent);return V(V({},S),_)}},{key:"addListener",value:function(){qx.on(Wx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qx.removeListener(Wx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,w,j){for(var _=this.state.formattedGraphicalItems,S=0,N=_.length;S<N;S++){var k=_[S];if(k.item===x||k.props.key===x.key||w===Ws(k.item.type)&&j===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,w=this.state.offset,j=w.left,_=w.top,S=w.height,N=w.width;return P.createElement("defs",null,P.createElement("clipPath",{id:x},P.createElement("rect",{x:j,y:_,height:S,width:N})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(w,j){var _=MO(j,2),S=_[0],N=_[1];return V(V({},w),{},xe({},S,N.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(w,j){var _=MO(j,2),S=_[0],N=_[1];return V(V({},w),{},xe({},S,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(x){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(x){var w=this.state,j=w.formattedGraphicalItems,_=w.activeItem;if(j&&j.length)for(var S=0,N=j.length;S<N;S++){var k=j[S],C=k.props,E=k.item,T=E.type.defaultProps!==void 0?V(V({},E.type.defaultProps),E.props):E.props,A=Ws(E.type);if(A==="Bar"){var D=(C.data||[]).find(function(F){return b1e(x,F)});if(D)return{graphicalItem:k,payload:D}}else if(A==="RadialBar"){var R=(C.data||[]).find(function(F){return y2(x,F)});if(R)return{graphicalItem:k,payload:R}}else if(iy(k,_)||oy(k,_)||Nf(k,_)){var L=_je({graphicalItem:k,activeTooltipItem:_,itemData:T.data}),I=T.activeIndex===void 0?L:T.activeIndex;return{graphicalItem:V(V({},k),{},{childIndex:I}),payload:Nf(k,_)?T.data[L]:k.props.data[L]}}}return null}},{key:"render",value:function(){var x=this;if(!lE(this))return null;var w=this.props,j=w.children,_=w.className,S=w.width,N=w.height,k=w.style,C=w.compact,E=w.title,T=w.desc,A=$O(w,Tke),D=Le(A,!1);if(C)return P.createElement(gO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(Kb,wd({},D,{width:S,height:N,title:E,desc:T}),this.renderClipPath(),uE(j,this.renderMap)));if(this.props.accessibilityLayer){var R,L;D.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,D.role=(L=this.props.role)!==null&&L!==void 0?L:"application",D.onKeyDown=function(F){x.accessibilityManager.keyboardEvent(F)},D.onFocus=function(){x.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return P.createElement(gO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",wd({className:Fe("recharts-wrapper",_),style:V({position:"relative",cursor:"default",width:S,height:N},k)},I,{ref:function(O){x.container=O}}),P.createElement(Kb,wd({},D,{width:S,height:N,title:E,desc:T,style:Yke}),this.renderClipPath(),uE(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);return xe(g,"displayName",r),xe(g,"defaultProps",V({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),xe(g,"getDerivedStateFromProps",function(p,v){var b=p.dataKey,x=p.data,w=p.children,j=p.width,_=p.height,S=p.layout,N=p.stackOffset,k=p.margin,C=v.dataStartIndex,E=v.dataEndIndex;if(v.updateId===void 0){var T=LO(p);return V(V(V({},T),{},{updateId:0},m(V(V({props:p},T),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:x,prevWidth:j,prevHeight:_,prevLayout:S,prevStackOffset:N,prevMargin:k,prevChildren:w})}if(b!==v.prevDataKey||x!==v.prevData||j!==v.prevWidth||_!==v.prevHeight||S!==v.prevLayout||N!==v.prevStackOffset||!Ml(k,v.prevMargin)){var A=LO(p),D={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},R=V(V({},DO(v,x,S)),{},{updateId:v.updateId+1}),L=V(V(V({},A),D),R);return V(V(V({},L),m(V({props:p},L),v)),{},{prevDataKey:b,prevData:x,prevWidth:j,prevHeight:_,prevLayout:S,prevStackOffset:N,prevMargin:k,prevChildren:w})}if(!Vb(w,v.prevChildren)){var I,F,O,$,H=Yr(w,wc),z=H&&(I=(F=H.props)===null||F===void 0?void 0:F.startIndex)!==null&&I!==void 0?I:C,B=H&&(O=($=H.props)===null||$===void 0?void 0:$.endIndex)!==null&&O!==void 0?O:E,Y=z!==C||B!==E,oe=!Ie(x),ye=oe&&!Y?v.updateId:v.updateId+1;return V(V({updateId:ye},m(V(V({props:p},v),{},{updateId:ye,dataStartIndex:z,dataEndIndex:B}),v)),{},{prevChildren:w,dataStartIndex:z,dataEndIndex:B})}return null}),xe(g,"renderActiveDot",function(p,v,b){var x;return y.isValidElement(p)?x=y.cloneElement(p,v):Me(p)?x=p(v):x=P.createElement(YS,v),P.createElement(wt,{className:"recharts-active-dot",key:b},x)}),function(v){return P.createElement(g,v)}},GF=KF({chartName:"LineChart",GraphicalChild:fi,axisComponents:[{axisType:"xAxis",AxisComp:hi},{axisType:"yAxis",AxisComp:mi}],formatAxisMap:dF}),YF=KF({chartName:"BarChart",GraphicalChild:Ei,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hi},{axisType:"yAxis",AxisComp:mi}],formatAxisMap:dF});const aPe=({organizationId:e})=>{const{data:t,isLoading:r}=jt({queryKey:["organization-specific-stats",e],queryFn:async()=>{const[c,u,d]=await Promise.all([J.from("feedback_responses").select("id, created_at, score").eq("organization_id",e),J.from("feedback_sessions").select("id, status, created_at, total_score").eq("organization_id",e),J.from("organization_users").select("id, created_at, status").eq("organization_id",e)]);return{responses:c.data||[],sessions:u.data||[],members:d.data||[]}},enabled:!!e});if(r)return i.jsx("div",{className:"p-8",children:"Loading organization statistics..."});const n=(t==null?void 0:t.sessions.filter(c=>c.status==="active").length)||0,s=(t==null?void 0:t.sessions.filter(c=>c.status==="completed").length)||0,a=(t==null?void 0:t.members.filter(c=>c.status==="active").length)||0,o=(t==null?void 0:t.responses.reduce((c,u)=>{const d=new Date(u.created_at).toLocaleString("default",{month:"short",year:"2-digit"}),f=c.find(h=>h.month===d);return f?f.responses++:c.push({month:d,responses:1}),c},[]))||[],l=(t==null?void 0:t.sessions.reduce((c,u)=>{const d=new Date(u.created_at).toLocaleString("default",{month:"short",year:"2-digit"}),f=c.find(h=>h.month===d);return f?(f.sessions++,u.status==="completed"&&f.completed++):c.push({month:d,sessions:1,completed:u.status==="completed"?1:0}),c},[]))||[];return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Organization Analytics"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{className:"text-lg",children:"Total Responses"})}),i.jsxs(W,{children:[i.jsx("div",{className:"text-3xl font-bold",children:(t==null?void 0:t.responses.length)||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"All time"})]})]}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{className:"text-lg",children:"Active Sessions"})}),i.jsxs(W,{children:[i.jsx("div",{className:"text-3xl font-bold text-green-600",children:n}),i.jsx("p",{className:"text-sm text-gray-600",children:"Currently active"})]})]}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{className:"text-lg",children:"Completed Sessions"})}),i.jsxs(W,{children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total completed"})]})]}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{className:"text-lg",children:"Team Members"})}),i.jsxs(W,{children:[i.jsx("div",{className:"text-3xl font-bold text-purple-600",children:a}),i.jsx("p",{className:"text-sm text-gray-600",children:"Active members"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Monthly Response Trends"})}),i.jsx(W,{children:i.jsx(Fp,{width:"100%",height:300,children:i.jsxs(YF,{data:o,children:[i.jsx(Of,{strokeDasharray:"3 3"}),i.jsx(hi,{dataKey:"month"}),i.jsx(mi,{}),i.jsx(Xr,{}),i.jsx(Ei,{dataKey:"responses",fill:"#007ACE"})]})})})]}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Session Completion Trends"})}),i.jsx(W,{children:i.jsx(Fp,{width:"100%",height:300,children:i.jsxs(GF,{data:l,children:[i.jsx(Of,{strokeDasharray:"3 3"}),i.jsx(hi,{dataKey:"month"}),i.jsx(mi,{}),i.jsx(Xr,{}),i.jsx(fi,{type:"monotone",dataKey:"sessions",stroke:"#007ACE",strokeWidth:2,name:"Total Sessions"}),i.jsx(fi,{type:"monotone",dataKey:"completed",stroke:"#10b981",strokeWidth:2,name:"Completed"})]})})})]})]})]})},m1=({organizationId:e})=>i.jsx(Lo,{permission:"export_data",organizationId:e,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need analyst-level access or higher to view detailed feedback analytics."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(aPe,{organizationId:e})}),iPe=Object.freeze(Object.defineProperty({__proto__:null,FeedbackTab:m1,default:m1},Symbol.toStringTag,{value:"Module"})),oPe=({questionType:e,supportsOptions:t,supportsScale:r,options:n=[],scaleConfig:s,helpText:a="",placeholderText:o="",onOptionsChange:l,onScaleChange:c,onHelpTextChange:u,onPlaceholderChange:d})=>{const[f,h]=y.useState(n.length>0?n:m());function m(){return e==="emoji"?[{text:"😊",value:"happy"},{text:"😐",value:"neutral"},{text:"😞",value:"sad"}]:[{text:""},{text:""}]}const g=()=>{const b=e==="emoji"?{text:"😊",value:""}:{text:""},x=[...f,b];h(x),l(x)},p=b=>{const x=f.filter((w,j)=>j!==b);h(x),l(x)},v=(b,x,w)=>{const j=f.map((_,S)=>S===b?{..._,[x]:w}:_);h(j),l(j)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"help-text",children:"Help Text (optional)"}),i.jsx(jo,{id:"help-text",value:a,onChange:b=>u(b.target.value),placeholder:"Additional guidance for users...",className:"mt-1"})]}),e==="text"&&i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"placeholder",children:"Placeholder Text"}),i.jsx(he,{id:"placeholder",value:o,onChange:b=>d(b.target.value),placeholder:"Enter placeholder text...",className:"mt-1"})]}),t&&i.jsx(q,{children:i.jsx(W,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(ie,{children:e==="emoji"?"Emoji Options":"Answer Options"}),e==="emoji"&&i.jsx("p",{className:"text-sm text-gray-600",children:"Enter emoji characters (😊, 😐, 😞, etc.) for users to select from"}),f.map((b,x)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsx(he,{value:b.text,onChange:w=>v(x,"text",w.target.value),placeholder:e==="emoji"?"😊":`Option ${x+1}`,className:e==="emoji"?"w-16 text-center text-2xl":"flex-1"}),e!=="emoji"&&i.jsx(he,{value:b.value||"",onChange:w=>v(x,"value",w.target.value),placeholder:"Value",className:"w-20"}),e==="emoji"&&i.jsx(he,{value:b.value||"",onChange:w=>v(x,"value",w.target.value),placeholder:"Description",className:"flex-1"}),f.length>(e==="emoji"?1:2)&&i.jsx(re,{type:"button",variant:"outline",size:"sm",onClick:()=>p(x),children:i.jsx(Jg,{className:"w-4 h-4"})})]},x)),i.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:g,className:"w-full",children:[i.jsx(si,{className:"w-4 h-4 mr-1"}),"Add ",e==="emoji"?"Emoji":"Option"]})]})})}),r&&i.jsx(q,{children:i.jsx(W,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(ie,{children:"Scale Configuration"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"min-value",children:"Min Value"}),i.jsx(he,{id:"min-value",type:"number",value:(s==null?void 0:s.minValue)||1,onChange:b=>c({...s,minValue:parseInt(b.target.value)||1,maxValue:(s==null?void 0:s.maxValue)||5})})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"max-value",children:"Max Value"}),i.jsx(he,{id:"max-value",type:"number",value:(s==null?void 0:s.maxValue)||5,onChange:b=>c({...s,minValue:(s==null?void 0:s.minValue)||1,maxValue:parseInt(b.target.value)||5})})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"min-label",children:"Min Label"}),i.jsx(he,{id:"min-label",value:(s==null?void 0:s.minLabel)||"",onChange:b=>c({...s,minValue:(s==null?void 0:s.minValue)||1,maxValue:(s==null?void 0:s.maxValue)||5,minLabel:b.target.value}),placeholder:"e.g., Poor"})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"max-label",children:"Max Label"}),i.jsx(he,{id:"max-label",value:(s==null?void 0:s.maxLabel)||"",onChange:b=>c({...s,minValue:(s==null?void 0:s.minValue)||1,maxValue:(s==null?void 0:s.maxValue)||5,maxLabel:b.target.value}),placeholder:"e.g., Excellent"})]})]})]})})}),i.jsxs("div",{className:"text-sm text-gray-600 p-3 bg-gray-50 rounded-lg",children:[i.jsxs("strong",{children:["Selected Type: ",e]}),i.jsxs("div",{className:"mt-1",children:[t&&i.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2",children:"Supports Options"}),r&&i.jsx("span",{className:"inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs mr-2",children:"Supports Scale"}),e==="text"&&i.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs",children:"Text Input"}),e==="emoji"&&i.jsx("span",{className:"inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs",children:"Emoji Selection"})]})]})]})},lPe=e=>({"single-choice":{supportsOptions:!0,supportsScale:!1},"multi-choice":{supportsOptions:!0,supportsScale:!1},star:{supportsOptions:!1,supportsScale:!0},likert:{supportsOptions:!1,supportsScale:!0},nps:{supportsOptions:!1,supportsScale:!0},slider:{supportsOptions:!1,supportsScale:!0},emoji:{supportsOptions:!0,supportsScale:!1},ranking:{supportsOptions:!0,supportsScale:!1},matrix:{supportsOptions:!0,supportsScale:!0},text:{supportsOptions:!1,supportsScale:!1}})[e]||{supportsOptions:!1,supportsScale:!1},cPe=({formData:e,setFormData:t,questionTypes:r,categories:n,editingId:s,onSubmit:a,onCancel:o,isSubmitting:l})=>{const c=lPe(e.question_type);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(he,{placeholder:"Question text",value:e.question_text,onChange:u=>t(d=>({...d,question_text:u.target.value}))}),i.jsxs(oc,{value:e.question_type,onValueChange:u=>t(d=>({...d,question_type:u,options:[],scaleConfig:{minValue:1,maxValue:5}})),children:[i.jsx(bo,{children:i.jsx(lc,{})}),i.jsx(wo,{children:r.map(u=>i.jsx(Or,{value:u.name,children:u.display_name},u.id))})]}),i.jsxs(oc,{value:e.category,onValueChange:u=>t(d=>({...d,category:u})),children:[i.jsx(bo,{children:i.jsx(lc,{})}),i.jsx(wo,{children:n.map(u=>i.jsx(Or,{value:u.name,children:u.name},u.id))})]})]}),i.jsx(oPe,{questionType:e.question_type,supportsOptions:c.supportsOptions,supportsScale:c.supportsScale,options:e.options,scaleConfig:e.scaleConfig,helpText:e.help_text,placeholderText:e.placeholder_text,onOptionsChange:u=>t(d=>({...d,options:u})),onScaleChange:u=>t(d=>({...d,scaleConfig:u})),onHelpTextChange:u=>t(d=>({...d,help_text:u})),onPlaceholderChange:u=>t(d=>({...d,placeholder_text:u}))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(re,{onClick:a,disabled:!e.question_text.trim()||l,children:[i.jsx(si,{className:"w-4 h-4 mr-1"}),s?"Update":"Add"," Question"]}),s&&i.jsx(re,{variant:"outline",onClick:o,children:"Cancel"})]})]})},uPe=({questions:e,onEdit:t,onDelete:r,isDeleting:n})=>{const{toast:s}=Zn(),a=async o=>{o.response_count>0&&s({title:"Question will be archived",description:"This question has responses and will be archived instead of deleted.",variant:"default"}),r(o.id)};return e.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No questions found. Create your first question above."}):i.jsx("div",{className:"space-y-2",children:e.map(o=>i.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${o.is_active?"":"bg-gray-50 opacity-75"}`,children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:o.question_text}),!o.is_active&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800",children:[i.jsx(LU,{className:"w-3 h-3"}),"Archived"]})]}),i.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Type: ",o.question_type," | Category: ",o.category," | Order: ",o.order_index,o.help_text&&i.jsxs("span",{children:[" | Help: ",o.help_text]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{size:"sm",variant:"outline",onClick:()=>t(o),disabled:!o.is_active,children:i.jsx(u7,{className:"w-4 h-4"})}),i.jsx(re,{size:"sm",variant:"destructive",onClick:()=>a(o),disabled:n||!o.is_active,children:i.jsx(Xg,{className:"w-4 h-4"})})]})]},o.id))})},dPe=()=>{const{toast:e}=Zn(),t=_r(),[r,n]=y.useState(null),[s,a]=y.useState({question_text:"",question_type:"star",category:"QualityService",order_index:1,help_text:"",placeholder_text:"",is_required:!1,options:[],scaleConfig:{minValue:1,maxValue:5}}),{data:o=[],isLoading:l}=jt({queryKey:["questions"],queryFn:()=>Jo.getQuestions()}),{data:c=[]}=jt({queryKey:["question-types"],queryFn:()=>Jo.getQuestionTypes()}),{data:u=[]}=jt({queryKey:["question-categories"],queryFn:()=>Jo.getQuestionCategories()}),d=yt({mutationFn:Jo.createQuestion,onSuccess:()=>{t.invalidateQueries({queryKey:["questions"]}),e({title:"Question created successfully"}),m()},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),f=yt({mutationFn:({id:v,...b})=>Jo.updateQuestion(v,b),onSuccess:()=>{t.invalidateQueries({queryKey:["questions"]}),e({title:"Question updated successfully"}),m()},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),h=yt({mutationFn:v=>Jo.deleteQuestion(v),onSuccess:()=>{t.invalidateQueries({queryKey:["questions"]}),e({title:"Question deleted successfully"})},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),m=()=>{n(null),a({question_text:"",question_type:"star",category:"QualityService",order_index:1,help_text:"",placeholder_text:"",is_required:!1,options:[],scaleConfig:{minValue:1,maxValue:5}})},g=()=>{if(!s.question_text.trim()){e({title:"Validation Error",description:"Question text is required",variant:"destructive"});return}const v=o.length>0?Math.max(...o.map(w=>w.order_index)):0,b=r?s.order_index:v+1,x={...s,order_index:b};r?f.mutate({id:r,...x}):d.mutate(x)},p=v=>{var b,x;n(v.id),a({question_text:v.question_text,question_type:v.question_type,category:v.category,order_index:v.order_index,help_text:v.help_text||"",placeholder_text:v.placeholder_text||"",is_required:v.is_required||!1,options:((b=v.question_options)==null?void 0:b.map(w=>({text:w.option_text,value:w.option_value})))||[],scaleConfig:(x=v.question_scale_config)!=null&&x[0]?{minValue:v.question_scale_config[0].min_value,maxValue:v.question_scale_config[0].max_value,minLabel:v.question_scale_config[0].min_label||"",maxLabel:v.question_scale_config[0].max_label||"",stepSize:v.question_scale_config[0].step_size}:{minValue:1,maxValue:5}})};return l?i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Questions Management"})}),i.jsx(W,{children:i.jsx("div",{className:"text-center py-8",children:"Loading questions..."})})]}):i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Questions Management"})}),i.jsxs(W,{className:"space-y-6",children:[i.jsx(cPe,{formData:s,setFormData:a,questionTypes:c,categories:u,editingId:r,onSubmit:g,onCancel:m,isSubmitting:d.isPending||f.isPending}),i.jsx(uPe,{questions:o,onEdit:p,onDelete:v=>h.mutate(v),isDeleting:h.isPending})]})]})},p1=()=>{const{isAdmin:e,isOrgAdmin:t}=ks(),{organization:r}=Do();return e||t?i.jsx(Lo,{permission:"manage_questions",organizationId:r==null?void 0:r.id,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need analyst-level access or higher to manage questions."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(dPe,{})}):i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need organization admin access to manage questions."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]})},fPe=Object.freeze(Object.defineProperty({__proto__:null,QuestionsTab:p1,default:p1},Symbol.toStringTag,{value:"Module"}));var aN="Switch",[hPe,P2e]=ur(aN),[mPe,pPe]=hPe(aN),QF=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=y.useState(null),g=_e(t,w=>m(w)),p=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[b=!1,x]=Fr({prop:s,defaultProp:a,onChange:u});return i.jsxs(mPe,{scope:r,checked:b,disabled:l,children:[i.jsx(fe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":ZF(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:X(e.onClick,w=>{x(j=>!j),v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),v&&i.jsx(gPe,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});QF.displayName=aN;var XF="SwitchThumb",JF=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=pPe(XF,r);return i.jsx(fe.span,{"data-state":ZF(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});JF.displayName=XF;var gPe=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=y.useRef(null),o=Xf(r),l=Gf(t);return y.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ZF(e){return e?"checked":"unchecked"}var e8=QF,vPe=JF;const Sg=y.forwardRef(({className:e,...t},r)=>i.jsx(e8,{className:K("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(vPe,{className:K("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Sg.displayName=e8.displayName;const yPe=({organization:e})=>{const{toast:t}=Zn(),r=_r(),[n,s]=y.useState({name:e.name||"",primary_color:e.primary_color||"#007ACE",secondary_color:e.secondary_color||"#073763",feedback_header_title:e.feedback_header_title||"Customer Feedback",feedback_header_subtitle:e.feedback_header_subtitle||"We value your feedback",welcome_screen_title:e.welcome_screen_title||"Welcome",welcome_screen_description:e.welcome_screen_description||"Please share your feedback with us",thank_you_title:e.thank_you_title||"Thank You!",thank_you_message:e.thank_you_message||"Your feedback has been submitted successfully",sms_enabled:e.sms_enabled||!1,sms_sender_id:e.sms_sender_id||"",is_active:e.is_active!==!1}),a=yt({mutationFn:async u=>{const{data:d,error:f}=await J.from("organizations").update(u).eq("id",e.id).select().single();if(f)throw f;return d},onSuccess:()=>{t({title:"Settings Updated",description:"Organization settings have been saved successfully."}),r.invalidateQueries({queryKey:["organization"]})},onError:u=>{t({title:"Error",description:"Failed to update organization settings. Please try again.",variant:"destructive"}),console.error("Error updating organization:",u)}}),o=(u,d)=>{s(f=>({...f,[u]:d}))},l=u=>{u.preventDefault(),a.mutate(n)},c=()=>{s({name:e.name||"",primary_color:e.primary_color||"#007ACE",secondary_color:e.secondary_color||"#073763",feedback_header_title:e.feedback_header_title||"Customer Feedback",feedback_header_subtitle:e.feedback_header_subtitle||"We value your feedback",welcome_screen_title:e.welcome_screen_title||"Welcome",welcome_screen_description:e.welcome_screen_description||"Please share your feedback with us",thank_you_title:e.thank_you_title||"Thank You!",thank_you_message:e.thank_you_message||"Your feedback has been submitted successfully",sms_enabled:e.sms_enabled||!1,sms_sender_id:e.sms_sender_id||"",is_active:e.is_active!==!1})};return i.jsx("div",{className:"space-y-6",children:i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(r7,{className:"w-5 h-5"}),"Organization Settings"]})}),i.jsx(W,{children:i.jsxs("form",{onSubmit:l,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"name",children:"Organization Name"}),i.jsx(he,{id:"name",value:n.name,onChange:u=>o("name",u.target.value),placeholder:"Enter organization name"})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"slug",children:"Organization Slug"}),i.jsx(he,{id:"slug",value:e.slug,className:"bg-gray-50",readOnly:!0,disabled:!0}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The slug cannot be changed after creation"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Brand Colors"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"primary_color",children:"Primary Color"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(he,{id:"primary_color",type:"color",value:n.primary_color,onChange:u=>o("primary_color",u.target.value),className:"w-16 h-10 p-1 border rounded"}),i.jsx(he,{value:n.primary_color,onChange:u=>o("primary_color",u.target.value),placeholder:"#007ACE",className:"flex-1"})]})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"secondary_color",children:"Secondary Color"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(he,{id:"secondary_color",type:"color",value:n.secondary_color,onChange:u=>o("secondary_color",u.target.value),className:"w-16 h-10 p-1 border rounded"}),i.jsx(he,{value:n.secondary_color,onChange:u=>o("secondary_color",u.target.value),placeholder:"#073763",className:"flex-1"})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Feedback Form Configuration"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"feedback_header_title",children:"Header Title"}),i.jsx(he,{id:"feedback_header_title",value:n.feedback_header_title,onChange:u=>o("feedback_header_title",u.target.value),placeholder:"Customer Feedback"})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"feedback_header_subtitle",children:"Header Subtitle"}),i.jsx(he,{id:"feedback_header_subtitle",value:n.feedback_header_subtitle,onChange:u=>o("feedback_header_subtitle",u.target.value),placeholder:"We value your feedback"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Welcome Screen"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"welcome_screen_title",children:"Welcome Title"}),i.jsx(he,{id:"welcome_screen_title",value:n.welcome_screen_title,onChange:u=>o("welcome_screen_title",u.target.value),placeholder:"Welcome"})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"thank_you_title",children:"Thank You Title"}),i.jsx(he,{id:"thank_you_title",value:n.thank_you_title,onChange:u=>o("thank_you_title",u.target.value),placeholder:"Thank You!"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{htmlFor:"welcome_screen_description",children:"Welcome Description"}),i.jsx(jo,{id:"welcome_screen_description",value:n.welcome_screen_description,onChange:u=>o("welcome_screen_description",u.target.value),placeholder:"Please share your feedback with us",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{htmlFor:"thank_you_message",children:"Thank You Message"}),i.jsx(jo,{id:"thank_you_message",value:n.thank_you_message,onChange:u=>o("thank_you_message",u.target.value),placeholder:"Your feedback has been submitted successfully",rows:3})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"SMS Configuration"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Sg,{id:"sms_enabled",checked:n.sms_enabled,onCheckedChange:u=>o("sms_enabled",u)}),i.jsx(ie,{htmlFor:"sms_enabled",children:"Enable SMS Feedback Collection"})]}),n.sms_enabled&&i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"sms_sender_id",children:"SMS Sender ID"}),i.jsx(he,{id:"sms_sender_id",value:n.sms_sender_id,onChange:u=>o("sms_sender_id",u.target.value),placeholder:"Enter SMS sender ID"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Organization Status"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Sg,{id:"is_active",checked:n.is_active,onCheckedChange:u=>o("is_active",u)}),i.jsx(ie,{htmlFor:"is_active",children:"Organization Active"})]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Inactive organizations cannot collect feedback"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-6 border-t",children:[i.jsx(re,{type:"button",variant:"outline",onClick:c,disabled:a.isPending,children:"Reset Changes"}),i.jsxs(re,{type:"submit",disabled:a.isPending,className:"flex items-center gap-2",children:[i.jsx(Sj,{className:"w-4 h-4"}),a.isPending?"Saving...":"Save Settings"]})]})]})})]})})},g1=({organization:e})=>i.jsx(Lo,{permission:"manage_organization",organizationId:e.id,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need admin-level access or higher to manage organization settings."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(yPe,{organization:e})}),xPe=Object.freeze(Object.defineProperty({__proto__:null,SettingsTab:g1,default:g1},Symbol.toStringTag,{value:"Module"})),bPe=async e=>{const{data:t,error:r}=await J.from("api_keys").select("id, key_name, key_prefix, status, last_used_at, expires_at, created_at").eq("organization_id",e).order("created_at",{ascending:!1});if(r)throw r;return t},wPe=async(e,t)=>{const{data:r,error:n}=await J.rpc("create_api_key",{p_organization_id:e,p_key_name:t});if(n)throw n;return r},jPe=async(e,t)=>{const{data:r,error:n}=await J.from("api_keys").update({status:t}).eq("id",e).select().single();if(n)throw n;return r};function Xe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function pi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const t8=6048e5,_Pe=864e5,dm=43200,zO=1440;let SPe={};function hh(){return SPe}function Rf(e,t){var l,c,u,d;const r=hh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Xe(e),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ng(e){return Rf(e,{weekStartsOn:1})}function r8(e){const t=Xe(e),r=t.getFullYear(),n=pi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Ng(n),a=pi(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Ng(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function BO(e){const t=Xe(e);return t.setHours(0,0,0,0),t}function kg(e){const t=Xe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function NPe(e,t){const r=BO(e),n=BO(t),s=+r-kg(r),a=+n-kg(n);return Math.round((s-a)/_Pe)}function kPe(e){const t=r8(e),r=pi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ng(r)}function Am(e,t){const r=Xe(e),n=Xe(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function PPe(e){return pi(e,Date.now())}function EPe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function CPe(e){if(!EPe(e)&&typeof e!="number")return!1;const t=Xe(e);return!isNaN(Number(t))}function OPe(e,t){const r=Xe(e),n=Xe(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function APe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function TPe(e,t){return+Xe(e)-+Xe(t)}function RPe(e){const t=Xe(e);return t.setHours(23,59,59,999),t}function MPe(e){const t=Xe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function $Pe(e){const t=Xe(e);return+RPe(t)==+MPe(t)}function IPe(e,t){const r=Xe(e),n=Xe(t),s=Am(r,n),a=Math.abs(OPe(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=Am(r,n)===-s;$Pe(Xe(e))&&a===1&&Am(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function DPe(e,t,r){const n=TPe(e,t)/1e3;return APe(r==null?void 0:r.roundingMethod)(n)}function LPe(e){const t=Xe(e),r=pi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const FPe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zPe=(e,t,r)=>{let n;const s=FPe[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Hx(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const BPe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UPe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qPe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WPe={date:Hx({formats:BPe,defaultWidth:"full"}),time:Hx({formats:UPe,defaultWidth:"full"}),dateTime:Hx({formats:qPe,defaultWidth:"full"})},VPe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HPe=(e,t,r,n)=>VPe[e];function qu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const KPe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GPe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QPe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},XPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZPe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},eEe={ordinalNumber:ZPe,era:qu({values:KPe,defaultWidth:"wide"}),quarter:qu({values:GPe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qu({values:YPe,defaultWidth:"wide"}),day:qu({values:QPe,defaultWidth:"wide"}),dayPeriod:qu({values:XPe,defaultWidth:"wide",formattingValues:JPe,defaultFormattingWidth:"wide"})};function Wu(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rEe(l,f=>f.test(o)):tEe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function tEe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rEe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function nEe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const sEe=/^(\d+)(th|st|nd|rd)?/i,aEe=/\d+/i,iEe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oEe={any:[/^b/i,/^(a|c)/i]},lEe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cEe={any:[/1/i,/2/i,/3/i,/4/i]},uEe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dEe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fEe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hEe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mEe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gEe={ordinalNumber:nEe({matchPattern:sEe,parsePattern:aEe,valueCallback:e=>parseInt(e,10)}),era:Wu({matchPatterns:iEe,defaultMatchWidth:"wide",parsePatterns:oEe,defaultParseWidth:"any"}),quarter:Wu({matchPatterns:lEe,defaultMatchWidth:"wide",parsePatterns:cEe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Wu({matchPatterns:uEe,defaultMatchWidth:"wide",parsePatterns:dEe,defaultParseWidth:"any"}),day:Wu({matchPatterns:fEe,defaultMatchWidth:"wide",parsePatterns:hEe,defaultParseWidth:"any"}),dayPeriod:Wu({matchPatterns:mEe,defaultMatchWidth:"any",parsePatterns:pEe,defaultParseWidth:"any"})},n8={code:"en-US",formatDistance:zPe,formatLong:WPe,formatRelative:HPe,localize:eEe,match:gEe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vEe(e){const t=Xe(e);return NPe(t,LPe(t))+1}function yEe(e){const t=Xe(e),r=+Ng(t)-+kPe(t);return Math.round(r/t8)+1}function s8(e,t){var d,f,h,m;const r=Xe(e),n=r.getFullYear(),s=hh(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=pi(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=Rf(o,t),c=pi(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Rf(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function xEe(e,t){var l,c,u,d;const r=hh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=s8(e,t),a=pi(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Rf(a,t)}function bEe(e,t){const r=Xe(e),n=+Rf(r,t)-+xEe(r,t);return Math.round(n/t8)+1}function We(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ya={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return We(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):We(r+1,2)},d(e,t){return We(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return We(e.getHours()%12||12,t.length)},H(e,t){return We(e.getHours(),t.length)},m(e,t){return We(e.getMinutes(),t.length)},s(e,t){return We(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return We(s,t.length)}},sl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return ya.y(e,t)},Y:function(e,t,r,n){const s=s8(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return We(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):We(a,t.length)},R:function(e,t){const r=r8(e);return We(r,t.length)},u:function(e,t){const r=e.getFullYear();return We(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return We(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return We(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ya.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return We(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=bEe(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):We(s,t.length)},I:function(e,t,r){const n=yEe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):We(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ya.d(e,t)},D:function(e,t,r){const n=vEe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):We(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return We(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return We(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return We(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=sl.noon:n===0?s=sl.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=sl.evening:n>=12?s=sl.afternoon:n>=4?s=sl.morning:s=sl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ya.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ya.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):We(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):We(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ya.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ya.s(e,t)},S:function(e,t){return ya.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return WO(n);case"XXXX":case"XX":return Fi(n);case"XXXXX":case"XXX":default:return Fi(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return WO(n);case"xxxx":case"xx":return Fi(n);case"xxxxx":case"xxx":default:return Fi(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qO(n,":");case"OOOO":default:return"GMT"+Fi(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qO(n,":");case"zzzz":default:return"GMT"+Fi(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return We(n,t.length)},T:function(e,t,r){const n=e.getTime();return We(n,t.length)}};function qO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+We(a,2)}function WO(e,t){return e%60===0?(e>0?"-":"+")+We(Math.abs(e)/60,2):Fi(e,t)}function Fi(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=We(Math.trunc(n/60),2),a=We(n%60,2);return r+s+t+a}const VO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},a8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wEe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return VO(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",VO(n,t)).replace("{{time}}",a8(s,t))},jEe={p:a8,P:wEe},_Ee=/^D+$/,SEe=/^Y+$/,NEe=["D","DD","YY","YYYY"];function kEe(e){return _Ee.test(e)}function PEe(e){return SEe.test(e)}function EEe(e,t,r){const n=CEe(e,t,r);if(console.warn(n),NEe.includes(e))throw new RangeError(n)}function CEe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OEe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AEe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TEe=/^'([^]*?)'?$/,REe=/''/g,MEe=/[a-zA-Z]/;function $Ee(e,t,r){var d,f,h,m;const n=hh(),s=n.locale??n8,a=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=Xe(e);if(!CPe(l))throw new RangeError("Invalid time value");let c=t.match(AEe).map(g=>{const p=g[0];if(p==="p"||p==="P"){const v=jEe[p];return v(g,s.formatLong)}return g}).join("").match(OEe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:IEe(g)};if(UO[p])return{isToken:!0,value:g};if(p.match(MEe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(PEe(p)||kEe(p))&&EEe(p,t,String(e));const v=UO[p[0]];return v(l,p,s.localize,u)}).join("")}function IEe(e){const t=e.match(TEe);return t?t[1].replace(REe,"'"):e}function DEe(e,t,r){const n=hh(),s=(r==null?void 0:r.locale)??n.locale??n8,a=2520,o=Am(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Xe(t),u=Xe(e)):(c=Xe(e),u=Xe(t));const d=DPe(u,c),f=(kg(u)-kg(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<zO){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<dm){const g=Math.round(h/zO);return s.formatDistance("xDays",g,l)}else if(h<dm*2)return m=Math.round(h/dm),s.formatDistance("aboutXMonths",m,l)}if(m=IPe(u,c),m<12){const g=Math.round(h/dm);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function LEe(e,t){return DEe(e,PPe(e),t)}const FEe=({apiKey:e})=>{const[t,r]=y.useState(!1),n=()=>{navigator.clipboard.writeText(e),r(!0),Ae({title:"API Key Copied!",description:"The key has been copied to your clipboard."}),setTimeout(()=>r(!1),2e3)};return i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary rounded-md",children:[i.jsx("code",{className:"text-sm font-mono break-all",children:e}),i.jsx(re,{variant:"ghost",size:"icon",onClick:n,children:t?i.jsx(Hf,{className:"h-4 w-4 text-green-500"}):i.jsx(np,{className:"h-4 w-4"})})]})},zEe=()=>{const{organization:e}=Do(),t=_r(),[r,n]=y.useState(""),[s,a]=y.useState(null),o=["apiKeys",e==null?void 0:e.id],{data:l,isLoading:c}=jt({queryKey:o,queryFn:()=>bPe(e.id),enabled:!!e}),u=yt({mutationFn:h=>wPe(e.id,h),onSuccess:h=>{Ae({title:"API Key Created",description:"Make sure to copy your key. You won't see it again."}),a(h),n(""),t.invalidateQueries({queryKey:o})},onError:h=>{Ae({title:"Error",description:h.message,variant:"destructive"})}}),d=yt({mutationFn:({keyId:h,status:m})=>jPe(h,m),onSuccess:()=>{Ae({title:"Status Updated"}),t.invalidateQueries({queryKey:o})},onError:h=>{Ae({title:"Error",description:h.message,variant:"destructive"})}}),f=h=>{h.preventDefault(),r.trim()&&e&&u.mutate(r.trim())};return i.jsxs(q,{className:"w-full",children:[i.jsxs(ee,{children:[i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(e7,{})," API Keys"]}),i.jsx(Yn,{children:"Manage API keys for programmatic access to your organization's data."})]}),i.jsxs(W,{children:[i.jsxs("form",{onSubmit:f,className:"flex items-center gap-2 mb-6",children:[i.jsx(he,{placeholder:"New key name (e.g., 'SMS Integration')",value:r,onChange:h=>n(h.target.value),disabled:u.isPending}),i.jsxs(re,{type:"submit",disabled:!r.trim()||u.isPending,children:[u.isPending?i.jsx(Qg,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(qU,{className:"mr-2 h-4 w-4"}),"Create Key"]})]}),i.jsx("div",{className:"border rounded-md",children:i.jsxs(ci,{children:[i.jsx(ui,{children:i.jsxs(Ft,{children:[i.jsx(Se,{children:"Name"}),i.jsx(Se,{children:"Key Prefix"}),i.jsx(Se,{children:"Status"}),i.jsx(Se,{children:"Last Used"}),i.jsx(Se,{children:"Created"}),i.jsx(Se,{className:"text-right",children:"Actions"})]})}),i.jsx(di,{children:c?Array.from({length:3}).map((h,m)=>i.jsx(Ft,{children:i.jsx(we,{colSpan:6,children:i.jsx(lt,{className:"h-8 w-full"})})},m)):l&&l.length>0?l.map(h=>i.jsxs(Ft,{children:[i.jsx(we,{className:"font-medium",children:h.key_name}),i.jsx(we,{children:i.jsxs("code",{children:[h.key_prefix,"..."]})}),i.jsx(we,{children:i.jsx(ve,{variant:h.status==="active"?"default":"secondary",children:h.status})}),i.jsx(we,{children:h.last_used_at?`${LEe(new Date(h.last_used_at))} ago`:"Never"}),i.jsx(we,{children:$Ee(new Date(h.created_at),"MMM d, yyyy")}),i.jsx(we,{className:"text-right",children:i.jsxs(Zf,{children:[i.jsx(eh,{asChild:!0,children:i.jsx(re,{variant:"ghost",size:"icon",disabled:d.isPending,children:h.status==="active"?i.jsx(s7,{className:"h-4 w-4"}):i.jsx(a7,{className:"h-4 w-4"})})}),i.jsxs(Xc,{children:[i.jsxs(Jc,{children:[i.jsx(eu,{children:"Are you sure?"}),i.jsxs(tu,{children:["This will ",h.status==="active"?"deactivate":"activate"," the API key.",h.status==="active"?" Applications using it will lose access.":" Applications will regain access."]})]}),i.jsxs(Zc,{children:[i.jsx(nu,{children:"Cancel"}),i.jsx(ru,{onClick:()=>d.mutate({keyId:h.id,status:h.status==="active"?"inactive":"active"}),children:"Continue"})]})]})]})})]},h.id)):i.jsx(Ft,{children:i.jsx(we,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No API keys created yet."})})})]})}),i.jsx(Kc,{open:!!s,onOpenChange:h=>!h&&a(null),children:i.jsxs(Mo,{children:[i.jsxs(Gc,{children:[i.jsx(Yc,{children:"API Key Created Successfully"}),i.jsx(II,{children:"Please copy this key and store it securely. You will not be able to see it again."})]}),i.jsx(FEe,{apiKey:s||""}),i.jsx($I,{children:i.jsx(KY,{asChild:!0,children:i.jsx(re,{children:"Close"})})})]})})]})]})},BEe=({organization:e,currentSettings:t,onSettingsUpdate:r})=>{var c,u;const n=_r(),[s,a]=y.useState({username:((c=t==null?void 0:t.sms_settings)==null?void 0:c.username)||"",apiKey:((u=t==null?void 0:t.sms_settings)==null?void 0:u.apiKey)||"",senderId:(t==null?void 0:t.sms_sender_id)||""}),o=yt({mutationFn:async d=>{const{data:f,error:h}=await J.functions.invoke("update-sms-settings",{body:{orgId:e.id,enabled:!0,senderId:d.senderId,username:d.username,apiKey:d.apiKey}});if(h)throw h;return f},onSuccess:()=>{Ae({title:"Success",description:"SMS settings updated successfully"}),n.invalidateQueries({queryKey:["organization-sms-settings"]}),r()},onError:d=>{Ae({title:"Error",description:d.message||"Failed to update SMS settings",variant:"destructive"})}}),l=d=>{if(d.preventDefault(),!s.username.trim()||!s.apiKey.trim()||!s.senderId.trim()){Ae({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}o.mutate(s)};return i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"w-5 h-5"}),"SMS Provider Settings"]})}),i.jsx(W,{children:i.jsxs("form",{onSubmit:l,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"username",children:"Username *"}),i.jsx(he,{id:"username",type:"text",value:s.username,onChange:d=>a(f=>({...f,username:d.target.value})),placeholder:"Enter your SMS provider username",required:!0})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"apiKey",children:"API Key *"}),i.jsx(he,{id:"apiKey",type:"password",value:s.apiKey,onChange:d=>a(f=>({...f,apiKey:d.target.value})),placeholder:"Enter your SMS provider API key",required:!0})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"senderId",children:"Sender ID *"}),i.jsx(he,{id:"senderId",type:"text",value:s.senderId,onChange:d=>a(f=>({...f,senderId:d.target.value})),placeholder:"Enter your sender ID (e.g., 12345)",required:!0}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This is your SMS sender identifier that recipients will see"})]}),i.jsxs(re,{type:"submit",disabled:o.isPending,className:"w-full",children:[i.jsx(Sj,{className:"w-4 h-4 mr-2"}),o.isPending?"Saving...":"Save Settings"]})]})})]})},UEe=({enabled:e,onToggle:t,isLoading:r})=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"SMS Feedback"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow customers to provide feedback via SMS"})]}),i.jsx(Sg,{checked:e,onCheckedChange:t,disabled:r})]}),qEe=({webhookSecret:e,isVisible:t,isFlaskWrapper:r=!1})=>{const[n,s]=y.useState(!1),l=`${window.location.origin}${r?"/functions/v1/handle-flask-sms-callback":"/functions/v1/handle-sms-webhook"}`,c=u=>{navigator.clipboard.writeText(u),Ae({title:"Copied to clipboard",description:"Webhook URL has been copied to your clipboard"})};return t?i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(y7,{className:"w-5 h-5"}),r?"Flask Webhook Configuration":"SMS Webhook Configuration"]})}),i.jsxs(W,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{children:"Webhook URL"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(he,{value:l,readOnly:!0,className:"font-mono text-sm"}),i.jsx(re,{onClick:()=>c(l),variant:"outline",size:"icon",children:i.jsx(np,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Configure your Flask wrapper to send callbacks to this URL":"Configure this URL in your Africa's Talking SMS callback settings"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{children:"Webhook Secret"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(he,{type:n?"text":"password",value:e,readOnly:!0,className:"font-mono text-sm"}),i.jsx(re,{onClick:()=>s(!n),variant:"outline",size:"icon",type:"button",children:n?i.jsx(Yu,{className:"w-4 h-4"}):i.jsx(Ba,{className:"w-4 h-4"})}),i.jsx(re,{onClick:()=>c(e),variant:"outline",size:"icon",children:i.jsx(np,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use this secret to verify webhook authenticity"})]}),r&&i.jsx("div",{className:"p-4 bg-muted rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(qR,{className:"w-5 h-5 text-blue-500 mt-0.5"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-medium text-sm",children:"Flask Integration Notes:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:"• Your Flask wrapper should forward SMS callbacks to the webhook URL above"}),i.jsx("li",{children:"• Include the webhook secret in your callback validation"}),i.jsxs("li",{children:["• Ensure the callback format matches: ","{linkId, text, to, id, date, from}"]}),i.jsx("li",{children:"• The 'to' field should contain your organization's sender ID"})]})]})]})})]})]}):null},WEe=({selectedProvider:e,onProviderSelect:t})=>{const r={id:"sms-provider",name:"SMS Provider (Flask Wrapper)",description:"SMS services via Flask wrapper integration",icon:Bt,status:"available"};return i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"SMS Integration"}),i.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${e===r.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>t(e===r.id?null:r.id),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(r.icon,{className:"w-6 h-6"}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium",children:r.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ve,{variant:"default",children:"Available"}),e===r.id&&i.jsx(Hf,{className:"w-4 h-4 text-blue-500"})]})]})})]})},Pg=(e,t)=>{if(!e||typeof e!="object")return"";const r=e[t];return typeof r=="string"?r:""},VEe=e=>{if(!e||typeof e!="object")return!1;const t=Pg(e,"username"),r=Pg(e,"apiKey");return t.length>0&&r.length>0},HEe=()=>i.jsxs(ee,{children:[i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"w-5 h-5"}),"SMS Integrations"]}),i.jsx(Yn,{children:"Enable SMS feedback collection from your customers"})]}),KEe=({title:e="SMS Integrations"})=>i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"w-5 h-5"}),e]})}),i.jsx(W,{children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})]}),GEe=({title:e="SMS Integrations",message:t,onRetry:r})=>i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(Oo,{className:"w-5 h-5 text-red-500"}),e]})}),i.jsx(W,{children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("p",{className:"text-sm text-red-600 mb-2",children:"Organization not found or failed to load"}),i.jsx("p",{className:"text-xs text-gray-500 mb-4",children:t}),r&&i.jsx("button",{onClick:r,className:"text-sm text-blue-600 hover:underline",children:"Try again"})]})})]}),YEe=()=>i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"w-5 h-5"}),"SMS Integrations"]})}),i.jsx(W,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"You need admin access to manage SMS integrations."})})]}),QEe=({phoneNumber:e,name:t,onPhoneNumberChange:r,onNameChange:n,onSubmit:s,isLoading:a})=>i.jsx("form",{onSubmit:s,className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"phone-number",children:"Phone Number *"}),i.jsx(he,{id:"phone-number",value:e,onChange:o=>r(o.target.value),placeholder:"+1234567890",required:!0})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"name",children:"Name (Optional)"}),i.jsx(he,{id:"name",value:t,onChange:o=>n(o.target.value),placeholder:"John Doe"})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs(re,{type:"submit",disabled:a,className:"w-full",children:[i.jsx(si,{className:"w-4 h-4 mr-2"}),"Add Number"]})})]})}),XEe=({bulkNumbers:e,onBulkNumbersChange:t,onBulkAdd:r,onCancel:n,isLoading:s})=>i.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"bulk-numbers",children:"Bulk Add Phone Numbers"}),i.jsx(jo,{id:"bulk-numbers",value:e,onChange:a=>t(a.target.value),placeholder:"Enter phone numbers, one per line. Format: +1234567890 or +1234567890,John Doe",rows:6}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Format: One phone number per line. Optionally add name after comma."})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{onClick:r,disabled:s,children:"Add All Numbers"}),i.jsx(re,{variant:"outline",onClick:n,children:"Cancel"})]})]}),JEe=({phoneNumbers:e,onDelete:t,isDeleting:r})=>{const n=s=>s.startsWith("+")?s:`+${s}`;return e.length===0?i.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:[i.jsx(Et,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No phone numbers added yet."}),i.jsx("p",{className:"text-sm",children:"Add phone numbers to start sending SMS campaigns."})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Registered Phone Numbers"}),i.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.map(s=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:n(s.phone_number)}),s.name&&i.jsx("div",{className:"text-sm text-muted-foreground",children:s.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(ve,{variant:s.status==="active"?"default":"secondary",children:s.status}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Added ",new Date(s.created_at).toLocaleDateString()]})]})]}),i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>t(s.id),disabled:r,children:i.jsx(Xg,{className:"w-4 h-4"})})]},s.id))})]})},ZEe=()=>{const{organization:e}=Do(),t=_r(),[r,n]=y.useState(""),[s,a]=y.useState(""),[o,l]=y.useState(""),[c,u]=y.useState(!1),{data:d,isLoading:f}=jt({queryKey:["sms-phone-numbers",e==null?void 0:e.id],queryFn:async()=>{const{data:b,error:x}=await J.from("sms_phone_numbers").select("*").eq("organization_id",e.id).order("created_at",{ascending:!1});if(x)throw x;return b},enabled:!!(e!=null&&e.id)}),h=yt({mutationFn:async({phoneNumber:b,name:x})=>{const{data:w,error:j}=await J.from("sms_phone_numbers").insert({organization_id:e.id,phone_number:b.trim(),name:(x==null?void 0:x.trim())||null}).select().single();if(j)throw j;return w},onSuccess:()=>{Ae({title:"Phone number added successfully"}),n(""),a(""),t.invalidateQueries({queryKey:["sms-phone-numbers",e==null?void 0:e.id]})},onError:b=>{Ae({title:"Error adding phone number",description:b.message,variant:"destructive"})}}),m=yt({mutationFn:async b=>{const{data:x,error:w}=await J.from("sms_phone_numbers").insert(b.map(({phoneNumber:j,name:_})=>({organization_id:e.id,phone_number:j.trim(),name:(_==null?void 0:_.trim())||null})));if(w)throw w;return x},onSuccess:()=>{Ae({title:"Phone numbers added successfully"}),l(""),u(!1),t.invalidateQueries({queryKey:["sms-phone-numbers",e==null?void 0:e.id]})},onError:b=>{Ae({title:"Error adding phone numbers",description:b.message,variant:"destructive"})}}),g=yt({mutationFn:async b=>{const{error:x}=await J.from("sms_phone_numbers").delete().eq("id",b);if(x)throw x},onSuccess:()=>{Ae({title:"Phone number removed successfully"}),t.invalidateQueries({queryKey:["sms-phone-numbers",e==null?void 0:e.id]})},onError:b=>{Ae({title:"Error removing phone number",description:b.message,variant:"destructive"})}}),p=b=>{b.preventDefault(),r.trim()&&h.mutate({phoneNumber:r,name:s})},v=()=>{const x=o.split(`
`).filter(w=>w.trim()).map(w=>{const j=w.split(",").map(_=>_.trim());return{phoneNumber:j[0],name:j[1]||void 0}}).filter(w=>w.phoneNumber);if(x.length===0){Ae({title:"No valid phone numbers found",description:"Please enter at least one phone number",variant:"destructive"});return}m.mutate(x)};return f?i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(Et,{className:"w-5 h-5"}),"Phone Numbers"]})}),i.jsx(W,{children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})]}):i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(Et,{className:"w-5 h-5"}),"Phone Numbers (",(d==null?void 0:d.length)||0,")"]})}),i.jsxs(W,{className:"space-y-6",children:[i.jsx(QEe,{phoneNumber:r,name:s,onPhoneNumberChange:n,onNameChange:a,onSubmit:p,isLoading:h.isPending}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(re,{variant:"outline",onClick:()=>u(!c),children:[i.jsx(v7,{className:"w-4 h-4 mr-2"}),"Bulk Add"]})}),c&&i.jsx(XEe,{bulkNumbers:o,onBulkNumbersChange:l,onBulkAdd:v,onCancel:()=>u(!1),isLoading:m.isPending}),i.jsx(JEe,{phoneNumbers:d||[],onDelete:b=>g.mutate(b),isDeleting:g.isPending})]})]})},eCe=()=>{const{user:e}=ks(),{organization:t}=Do(),r=_r(),{data:n=[],isLoading:s,error:a}=jt({queryKey:["sms-campaigns",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:h,error:m}=await J.from("sms_campaigns").select("*").eq("organization_id",t.id).order("created_at",{ascending:!1});if(m)throw m;return h||[]},enabled:!!(t!=null&&t.id)}),{data:o=[],isLoading:l,error:c}=jt({queryKey:["sms-phone-numbers",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:h,error:m}=await J.from("sms_phone_numbers").select("*").eq("organization_id",t.id).eq("status","active").order("created_at",{ascending:!1});if(m)throw m;return h||[]},enabled:!!(t!=null&&t.id)}),u=yt({mutationFn:async({name:h,template:m})=>{if(!(t!=null&&t.id)||!(e!=null&&e.id))throw new Error("Missing organization or user");const{data:g,error:p}=await J.from("sms_campaigns").insert({organization_id:t.id,name:h,message_template:m,created_by_user_id:e.id,status:"draft"}).select().single();if(p)throw p;return g},onSuccess:()=>{r.invalidateQueries({queryKey:["sms-campaigns"]}),Ae({title:"Success",description:"Campaign created successfully"})},onError:h=>{console.error("Error creating campaign:",h),Ae({title:"Error",description:"Failed to create campaign",variant:"destructive"})}}),d=yt({mutationFn:async({campaignId:h,isResend:m=!1,isRetry:g=!1})=>{const{data:p,error:v}=await J.functions.invoke("send-sms-flask",{body:{campaignId:h,isResend:m,isRetry:g}});if(v)throw v;return p},onSuccess:h=>{r.invalidateQueries({queryKey:["sms-campaigns"]}),r.invalidateQueries({queryKey:["sms-sends"]}),Ae({title:"Success",description:`Campaign sent successfully! ${h.sentCount}/${h.sentCount+h.failedCount} messages delivered.`})},onError:h=>{console.error("Error sending campaign:",h),Ae({title:"Error",description:"Failed to send campaign",variant:"destructive"})}}),f=yt({mutationFn:async({campaignId:h,action:m})=>{let g;switch(m){case"pause":g="paused";break;case"resume":g="sending";break;case"cancel":g="cancelled";break;default:throw new Error("Invalid action")}const{error:p}=await J.from("sms_campaigns").update({status:g}).eq("id",h);if(p)throw p},onSuccess:(h,{action:m})=>{r.invalidateQueries({queryKey:["sms-campaigns"]}),Ae({title:"Success",description:`Campaign ${m}d successfully`})},onError:h=>{console.error("Error controlling campaign:",h),Ae({title:"Error",description:"Failed to update campaign status",variant:"destructive"})}});return{campaigns:n,campaignsLoading:s,campaignsError:a,phoneNumbers:o,phoneNumbersLoading:l,phoneNumbersError:c,createCampaignMutation:u,sendCampaignMutation:d,campaignControlMutation:f,organization:t}},tCe=({onSubmit:e,onCancel:t,isLoading:r,phoneNumbersCount:n,organizationName:s})=>{const[a,o]=y.useState(""),[l,c]=y.useState(""),u=`Hi! We'd love your feedback on our service. Please text back 'START' to begin a quick survey. Your input helps us improve. Thank you! - ${s||"Your Company"}`,d=f=>{f.preventDefault(),!(!a.trim()||!l.trim())&&(e(a,l),o(""),c(""))};return i.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[i.jsx("h4",{className:"font-medium",children:"Create New Campaign"}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"campaign-name",children:"Campaign Name *"}),i.jsx(he,{id:"campaign-name",value:a,onChange:f=>o(f.target.value),placeholder:"Feedback Request Campaign",required:!0})]}),i.jsxs("div",{children:[i.jsx(ie,{htmlFor:"message-template",children:"Message Template *"}),i.jsx(jo,{id:"message-template",value:l,onChange:f=>c(f.target.value),placeholder:u,rows:4,required:!0}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Recipients: ",n," active phone numbers"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{type:"submit",disabled:r,children:"Create Campaign"}),i.jsx(re,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})]})},rCe=({campaign:e})=>{const t=e.sent_count>0?e.delivered_count/e.sent_count*100:0,r=e.sent_count>0?e.failed_count/e.sent_count*100:0,n=e.total_recipients>0?e.sent_count/e.total_recipients*100:0,s=()=>{if(!e.started_at)return null;const a=new Date(e.started_at),l=(e.completed_at?new Date(e.completed_at):new Date).getTime()-a.getTime(),c=Math.round(l/(1e3*60));return c<60?`${c}m`:`${Math.round(c/60)}h ${c%60}m`};return i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[i.jsx(Et,{className:"w-4 h-4 text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-blue-900",children:e.sent_count}),i.jsx("div",{className:"text-xs text-blue-600",children:"Sent"}),i.jsx(_n,{value:n,className:"h-1 mt-1"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[i.jsx(St,{className:"w-4 h-4 text-green-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm font-medium text-green-900",children:[t.toFixed(1),"%"]}),i.jsx("div",{className:"text-xs text-green-600",children:"Delivered"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[e.delivered_count,"/",e.sent_count]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[i.jsx(lr,{className:"w-4 h-4 text-red-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm font-medium text-red-900",children:[r.toFixed(1),"%"]}),i.jsx("div",{className:"text-xs text-red-600",children:"Failed"}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.failed_count})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg",children:[i.jsx(xs,{className:"w-4 h-4 text-purple-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-purple-900",children:s()||"N/A"}),i.jsx("div",{className:"text-xs text-purple-600",children:"Duration"}),i.jsx(ve,{variant:"outline",className:"text-xs mt-1",children:e.status})]})]})]})},nCe=({campaign:e,onSend:t,onResend:r,onRetry:n,onDuplicate:s,onSchedule:a,onDelete:o,onCancel:l,onPause:c,onResume:u,isLoading:d})=>{const[f,h]=y.useState(!1),m=b=>{switch(b){case"completed":return"default";case"sending":return"secondary";case"paused":return"outline";case"failed":return"destructive";case"draft":return"outline";default:return"secondary"}},g=b=>{switch(b){case"completed":return"text-green-600";case"sending":return"text-blue-600";case"paused":return"text-yellow-600";case"failed":return"text-red-600";case"draft":return"text-gray-600";default:return"text-gray-600"}},p=e.total_recipients>0?e.sent_count/e.total_recipients*100:0,v=e.status==="sending"&&e.started_at&&new Date().getTime()-new Date(e.started_at).getTime()>10*60*1e3;return i.jsx(q,{className:"transition-all duration-200 hover:shadow-md",children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h5",{className:"font-semibold text-lg",children:e.name}),i.jsx(ve,{variant:m(e.status),className:g(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),v&&i.jsxs(ve,{variant:"destructive",className:"text-orange-700 bg-orange-100",children:[i.jsx(lr,{className:"w-3 h-3 mr-1"}),"Stuck"]})]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",new Date(e.created_at).toLocaleDateString()," • ",e.total_recipients," recipients"]}),(e.status==="sending"||e.status==="paused")&&i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[e.sent_count,"/",e.total_recipients]})]}),i.jsx(_n,{value:p,className:"h-2"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[e.status==="draft"&&i.jsxs(re,{size:"sm",onClick:()=>t(e.id),disabled:d,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Tk,{className:"w-4 h-4 mr-2"}),"Send Now"]}),e.status==="sending"&&i.jsxs(i.Fragment,{children:[i.jsxs(re,{size:"sm",variant:"outline",onClick:()=>c(e.id),disabled:d,children:[i.jsx(n7,{className:"w-4 h-4 mr-2"}),"Pause"]}),i.jsxs(re,{size:"sm",variant:"destructive",onClick:()=>l(e.id),disabled:d,children:[i.jsx(d7,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}),e.status==="paused"&&i.jsxs(re,{size:"sm",onClick:()=>u(e.id),disabled:d,className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(Tk,{className:"w-4 h-4 mr-2"}),"Resume"]}),e.status==="failed"&&i.jsxs(re,{size:"sm",variant:"outline",onClick:()=>n(e.id),disabled:d,children:[i.jsx(i7,{className:"w-4 h-4 mr-2"}),"Retry"]}),e.status==="completed"&&e.failed_count>0&&i.jsxs(re,{size:"sm",variant:"outline",onClick:()=>r(e.id),disabled:d,children:[i.jsx(V0,{className:"w-4 h-4 mr-2"}),"Resend Failed"]}),v&&i.jsxs(re,{size:"sm",variant:"outline",onClick:()=>n(e.id),disabled:d,className:"border-orange-500 text-orange-700 hover:bg-orange-50",children:[i.jsx(V0,{className:"w-4 h-4 mr-2"}),"Force Retry"]}),i.jsxs(R4,{children:[i.jsx(M4,{asChild:!0,children:i.jsx(re,{variant:"ghost",size:"sm",children:i.jsx(YU,{className:"w-4 h-4"})})}),i.jsxs(E_,{align:"end",children:[i.jsxs(yl,{onClick:()=>h(!f),children:[i.jsx(Ba,{className:"w-4 h-4 mr-2"}),f?"Hide":"Show"," Analytics"]}),i.jsxs(yl,{onClick:()=>s(e.id),children:[i.jsx(np,{className:"w-4 h-4 mr-2"}),"Duplicate Campaign"]}),e.status==="draft"&&i.jsxs(yl,{onClick:()=>a(e.id),children:[i.jsx(BR,{className:"w-4 h-4 mr-2"}),"Schedule Campaign"]}),i.jsx($4,{}),i.jsxs(Zf,{children:[i.jsx(eh,{asChild:!0,children:i.jsxs(yl,{onSelect:b=>b.preventDefault(),className:"text-red-600",children:[i.jsx(Xg,{className:"w-4 h-4 mr-2"}),"Delete Campaign"]})}),i.jsxs(Xc,{children:[i.jsxs(Jc,{children:[i.jsx(eu,{children:"Delete Campaign"}),i.jsxs(tu,{children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone.']})]}),i.jsxs(Zc,{children:[i.jsx(nu,{children:"Cancel"}),i.jsx(ru,{onClick:()=>o(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})]})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[i.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Message Preview:"}),i.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:e.message_template.length>120?`${e.message_template.substring(0,120)}...`:e.message_template})]})}),f&&i.jsx(rCe,{campaign:e})]})})},sCe=({searchTerm:e,onSearchChange:t,statusFilter:r,onStatusFilterChange:n,sortBy:s,onSortByChange:a,sortOrder:o,onSortOrderChange:l,totalCampaigns:c,filteredCount:u})=>{const d=()=>{t(""),n("all"),a("created_at"),l("desc")},f=e||r!=="all";return i.jsxs("div",{className:"w-full space-y-4 p-4 bg-gray-50 rounded-lg border",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(XU,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Filters"}),f&&i.jsxs(ve,{variant:"secondary",className:"text-xs",children:[u," of ",c]})]}),f&&i.jsx(re,{variant:"ghost",size:"sm",onClick:d,children:"Clear All"})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"relative",children:[i.jsx(o7,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx(he,{placeholder:"Search campaigns...",value:e,onChange:h=>t(h.target.value),className:"pl-10 w-full"})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs(oc,{value:r,onValueChange:n,children:[i.jsx(bo,{className:"w-full sm:w-[150px]",children:i.jsx(lc,{placeholder:"Status"})}),i.jsxs(wo,{children:[i.jsx(Or,{value:"all",children:"All Status"}),i.jsx(Or,{value:"draft",children:"Draft"}),i.jsx(Or,{value:"sending",children:"Sending"}),i.jsx(Or,{value:"completed",children:"Completed"}),i.jsx(Or,{value:"failed",children:"Failed"})]})]}),i.jsxs(oc,{value:s,onValueChange:a,children:[i.jsx(bo,{className:"w-full sm:w-[150px]",children:i.jsx(lc,{placeholder:"Sort by"})}),i.jsxs(wo,{children:[i.jsx(Or,{value:"created_at",children:"Created Date"}),i.jsx(Or,{value:"name",children:"Name"}),i.jsx(Or,{value:"total_recipients",children:"Recipients"}),i.jsx(Or,{value:"delivered_count",children:"Delivery Rate"})]})]}),i.jsx(re,{variant:"outline",size:"sm",onClick:()=>l(o==="asc"?"desc":"asc"),className:"w-full sm:w-auto",children:o==="asc"?i.jsx(zU,{className:"w-4 h-4"}):i.jsx(FU,{className:"w-4 h-4"})})]})]})]})},aCe=({campaigns:e,onSend:t,onResend:r,onRetry:n,onCancel:s,onPause:a,onResume:o,onDuplicate:l,onSchedule:c,onDelete:u,onCreateNew:d,isLoading:f})=>{const[h,m]=y.useState(""),[g,p]=y.useState("all"),[v,b]=y.useState("created_at"),[x,w]=y.useState("desc"),j=y.useMemo(()=>{let _=e.filter(S=>{const N=S.name.toLowerCase().includes(h.toLowerCase())||S.message_template.toLowerCase().includes(h.toLowerCase()),k=g==="all"||S.status===g;return N&&k});return _.sort((S,N)=>{let k=S[v],C=N[v];if(v==="created_at"&&(k=new Date(k).getTime(),C=new Date(C).getTime()),typeof k=="number"&&typeof C=="number")return x==="asc"?k-C:C-k;if(typeof k=="string"&&typeof C=="string"){const E=k.localeCompare(C);return x==="asc"?E:-E}return 0}),_},[e,h,g,v,x]);return e.length===0?i.jsxs("div",{className:"w-full text-center p-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[i.jsx(Bt,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No campaigns yet"}),i.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Create your first SMS campaign to start reaching your audience with targeted messages."}),i.jsxs(re,{onClick:d,className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(si,{className:"w-4 h-4 mr-2"}),"Create Your First Campaign"]})]}):i.jsxs("div",{className:"w-full space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Campaign Management"}),i.jsxs("p",{className:"text-sm text-gray-600",children:[e.length," campaign",e.length!==1?"s":""," total",j.length!==e.length&&` • ${j.length} shown`]})]}),i.jsxs(re,{onClick:d,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(si,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),i.jsx(sCe,{searchTerm:h,onSearchChange:m,statusFilter:g,onStatusFilterChange:p,sortBy:v,onSortByChange:b,sortOrder:x,onSortOrderChange:w,totalCampaigns:e.length,filteredCount:j.length}),i.jsx("div",{className:"w-full space-y-4",children:j.length===0?i.jsxs("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:[i.jsx(Bt,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No campaigns match your current filters."}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your search or filter criteria."})]}):j.map(_=>i.jsx(nCe,{campaign:_,onSend:t,onResend:r,onRetry:n,onCancel:s,onPause:a,onResume:o,onDuplicate:l,onSchedule:c,onDelete:u,isLoading:f},_.id))})]})},iCe=()=>i.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:[i.jsx(Et,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No active phone numbers found."}),i.jsx("p",{className:"text-sm",children:"Add phone numbers before creating campaigns."})]}),oCe=()=>{const[e,t]=y.useState(!1),{campaigns:r,campaignsLoading:n,campaignsError:s,phoneNumbers:a,phoneNumbersLoading:o,phoneNumbersError:l,createCampaignMutation:c,sendCampaignMutation:u,campaignControlMutation:d,organization:f}=eCe(),h=(S,N)=>{c.mutate({name:S,template:N},{onSuccess:()=>{t(!1)}})},m=S=>{u.mutate({campaignId:S})},g=S=>{u.mutate({campaignId:S,isResend:!0})},p=S=>{u.mutate({campaignId:S,isRetry:!0})},v=S=>{d.mutate({campaignId:S,action:"cancel"})},b=S=>{d.mutate({campaignId:S,action:"pause"})},x=S=>{d.mutate({campaignId:S,action:"resume"})},w=S=>{const N=r.find(k=>k.id===S);N&&(c.mutate({name:`${N.name} (Copy)`,template:N.message_template}),Ae({title:"Campaign duplicated successfully"}))},j=S=>{Ae({title:"Scheduling feature coming soon",description:"Campaign scheduling will be available in the next update."})},_=S=>{Ae({title:"Delete feature coming soon",description:"Campaign deletion will be available in the next update."})};return n||o?i.jsx("div",{className:"w-full",children:i.jsxs(q,{className:"w-full",children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"w-5 h-5"}),"SMS Campaigns"]})}),i.jsx(W,{children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})]})}):s||l?i.jsx("div",{className:"w-full",children:i.jsxs(q,{className:"w-full",children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"w-5 h-5"}),"SMS Campaigns"]})}),i.jsx(W,{children:i.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 rounded-lg",children:[i.jsx(Oo,{className:"w-5 h-5 text-red-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Failed to load campaigns or phone numbers"}),i.jsx("p",{className:"text-xs text-red-600 mt-1",children:(s==null?void 0:s.message)||(l==null?void 0:l.message)||"An unexpected error occurred"})]})]})})]})}):i.jsx("div",{className:"w-full",children:i.jsxs(q,{className:"w-full",children:[i.jsx(ee,{children:i.jsx(te,{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"w-5 h-5"}),"SMS Campaigns"]})})}),i.jsx(W,{className:"space-y-6 p-6",children:a.length===0?i.jsx(iCe,{}):i.jsxs("div",{className:"w-full space-y-6",children:[e&&i.jsx("div",{className:"w-full",children:i.jsx(tCe,{onSubmit:h,onCancel:()=>t(!1),isLoading:c.isPending,phoneNumbersCount:a.length,organizationName:f==null?void 0:f.name})}),i.jsx("div",{className:"w-full",children:i.jsx(aCe,{campaigns:r,onSend:m,onResend:g,onRetry:p,onCancel:v,onPause:b,onResume:x,onDuplicate:w,onSchedule:j,onDelete:_,onCreateNew:()=>t(!0),isLoading:u.isPending||d.isPending})})]})})]})})},lCe=()=>i.jsx("div",{className:"w-full mt-6",children:i.jsxs(ln,{defaultValue:"phone-numbers",className:"w-full",children:[i.jsxs(cn,{className:"grid w-full grid-cols-2 mb-6",children:[i.jsx(Ce,{value:"phone-numbers",className:"flex-1",children:"Phone Numbers"}),i.jsx(Ce,{value:"campaigns",className:"flex-1",children:"Campaigns"})]}),i.jsx(ge,{value:"phone-numbers",className:"w-full mt-0",children:i.jsx("div",{className:"w-full",children:i.jsx(ZEe,{})})}),i.jsx(ge,{value:"campaigns",className:"w-full mt-0",children:i.jsx("div",{className:"w-full",children:i.jsx(oCe,{})})})]})}),cCe=()=>{const{organization:e}=Do(),t=_r(),{data:r,isLoading:n,error:s}=jt({queryKey:["organization-sms-settings",e==null?void 0:e.id],queryFn:async()=>{console.log("Fetching SMS settings for organization:",e==null?void 0:e.id);const{data:o,error:l}=await J.from("organizations").select("sms_enabled, sms_sender_id, sms_settings, webhook_secret").eq("id",e.id).single();if(l)throw console.error("Error fetching organization SMS settings:",l),l;return console.log("Organization SMS settings fetched:",o),o},enabled:!!(e!=null&&e.id),retry:3,retryDelay:1e3}),a=yt({mutationFn:async o=>{if(!(e!=null&&e.id))throw new Error("Organization not found");console.log("Updating SMS status:",{enabled:o,orgId:e.id});const{data:l,error:c}=await J.functions.invoke("update-sms-settings",{body:{orgId:e.id,enabled:o,senderId:(r==null?void 0:r.sms_sender_id)||"",username:Pg(r==null?void 0:r.sms_settings,"username"),apiKey:Pg(r==null?void 0:r.sms_settings,"apiKey")}});if(c)throw console.error("SMS status update error:",c),new Error(c.message||"Failed to update SMS settings");return console.log("SMS status updated successfully:",l),l},onSuccess:()=>{Ae({title:"SMS status updated successfully"}),t.invalidateQueries({queryKey:["organization-sms-settings",e==null?void 0:e.id]})},onError:o=>{console.error("SMS toggle error:",o),Ae({title:"Error updating SMS status",description:o.message||"An unexpected error occurred",variant:"destructive"})}});return{orgData:r,isLoading:n,error:s,updateSmsStatus:a,organization:e}},uCe=()=>{const{isAdmin:e,isOrgAdmin:t}=ks(),[r,n]=y.useState(null),{orgData:s,isLoading:a,error:o,updateSmsStatus:l,organization:c}=cCe(),u=e||t,d=h=>{if(!u){Ae({title:"Access denied",description:"You need admin access to manage SMS settings",variant:"destructive"});return}if(!(c!=null&&c.id)){Ae({title:"Error",description:"Organization not found",variant:"destructive"});return}l.mutate(h)};if(!u)return i.jsx(YEe,{});if(a)return i.jsx(KEe,{});if(o){const h=typeof o=="string"?o:"Failed to load SMS settings";return i.jsx(GEe,{message:h})}const f=(s==null?void 0:s.sms_enabled)&&VEe(s==null?void 0:s.sms_settings);return i.jsx("div",{className:"w-full",children:i.jsxs(q,{className:"w-full",children:[i.jsx(HEe,{}),i.jsxs(W,{className:"space-y-6 p-6",children:[i.jsx(UEe,{enabled:(s==null?void 0:s.sms_enabled)||!1,onToggle:d,isLoading:l.isPending}),(s==null?void 0:s.sms_enabled)&&i.jsx(qEe,{webhookSecret:(s==null?void 0:s.webhook_secret)||"",isVisible:!0,isFlaskWrapper:!0}),i.jsx(WEe,{selectedProvider:r,onProviderSelect:n}),r==="sms-provider"&&i.jsx(BEe,{organization:c,currentSettings:s,onSettingsUpdate:()=>{}}),f&&i.jsx("div",{className:"w-full",children:i.jsx(lCe,{})})]})]})})},v1=()=>{const{isAdmin:e,isOrgAdmin:t}=ks();return Do(),e||t?i.jsxs("div",{className:"w-full space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Integrations"}),i.jsx("p",{className:"text-muted-foreground",children:"Connect your organization to other services and automate your workflows."})]}),i.jsx("div",{className:"w-full",children:i.jsx(uCe,{})}),i.jsx("div",{className:"w-full",children:i.jsx(zEe,{})})]}):i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need organization admin access to manage integrations."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]})},dCe=Object.freeze(Object.defineProperty({__proto__:null,IntegrationsTab:v1,default:v1},Symbol.toStringTag,{value:"Module"})),fCe=(e,t,r)=>{const n={},s=t.length,a=r>0?s/r*100:0;return t.forEach(o=>{const l=String(o.response_value||"No Response");n[l]=(n[l]||0)+1}),{distribution:n,insights:hCe(e,n,s),totalResponses:s,completionRate:a}},hCe=(e,t,r)=>{switch(e.toLowerCase()){case"star rating":return mCe(t,r);case"nps score":return pCe(t,r);case"single choice":case"multiple choice":return gCe(t,r);case"likert scale":return vCe(t,r);case"emoji rating":return yCe(t,r);case"slider":return xCe(t,r);case"text input":return bCe(t,r);default:return[`${r} responses collected`]}},mCe=(e,t)=>{const r=[],n=Object.entries(e).map(([u,d])=>({rating:parseInt(u)||0,count:d})),s=n.filter(u=>u.rating>=4).reduce((u,d)=>u+d.count,0),a=n.filter(u=>u.rating<=2).reduce((u,d)=>u+d.count,0),o=Math.round(s/t*100),l=Math.round(a/t*100);o>60&&r.push(`Strong satisfaction: ${o}% gave 4+ stars`),l>20&&r.push(`${l}% gave low ratings (1-2 stars)`);const c=n.sort((u,d)=>d.count-u.count)[0];return c&&r.push(`Most common rating: ${c.rating} stars (${Math.round(c.count/t*100)}%)`),r.length>0?r:[`${t} star ratings collected`]},pCe=(e,t)=>{const r=[];let n=0,s=0;Object.entries(e).forEach(([c,u])=>{const d=parseInt(c)||0;d>=9?n+=u:d>=7||(s+=u)});const a=t>0?Math.round((n-s)/t*100):0,o=Math.round(n/t*100),l=Math.round(s/t*100);return r.push(`NPS Score: ${a}`),r.push(`${o}% promoters, ${l}% detractors`),a>50?r.push("Excellent customer loyalty"):a>0?r.push("Positive overall sentiment"):r.push("Room for improvement in customer satisfaction"),r},gCe=(e,t)=>{const r=[],n=Object.entries(e).sort((s,a)=>a[1]-s[1]);if(n.length>0){const s=n[0],a=Math.round(s[1]/t*100);r.push(`Most popular: "${s[0]}" (${a}%)`),a>60?r.push("Clear preference identified"):a<30&&r.push("Even distribution across options")}if(n.length>1){const s=n[1],a=Math.round(s[1]/t*100);r.push(`Second choice: "${s[0]}" (${a}%)`)}return r},vCe=(e,t)=>{const r=[];let n=0,s=0;Object.entries(e).forEach(([l,c])=>{const u=l.toLowerCase();u.includes("agree")&&!u.includes("disagree")?n+=c:u.includes("disagree")&&(s+=c)});const a=Math.round(n/t*100),o=Math.round(s/t*100);return r.push(`${a}% agreement, ${o}% disagreement`),a>70?r.push("Strong consensus in favor"):o>50?r.push("Majority disagrees with statement"):r.push("Mixed opinions on this topic"),r},yCe=(e,t)=>{const r=[],n=Object.entries(e).sort((o,l)=>l[1]-o[1]);if(n.length>0){const o=n[0],l=Math.round(o[1]/t*100);r.push(`Most used: ${o[0]} (${l}%)`)}let s=0;Object.entries(e).forEach(([o,l])=>{["😊","😍","🥰","😄","👍","❤️","😀","🎉"].includes(o)&&(s+=l)});const a=Math.round(s/t*100);return r.push(`${a}% positive emotional responses`),r},xCe=(e,t)=>{const r=[],n=Object.entries(e).map(([s,a])=>({value:parseFloat(s)||0,count:a})).filter(s=>!isNaN(s.value));if(n.length>0){const a=n.reduce((d,f)=>d+f.value*f.count,0)/t;r.push(`Average value: ${a.toFixed(1)}`);const o=n.sort((d,f)=>d.value-f.value),l=o[0].value,u=o[o.length-1].value-l;if(u>0){const d=(a-l)/u*100;d>75?r.push("Values tend toward upper range"):d<25?r.push("Values tend toward lower range"):r.push("Balanced distribution of values")}}return r},bCe=(e,t)=>{const r=[];r.push(`${t} text responses collected`);let n=0,s=0;Object.entries(e).forEach(([l,c])=>{const u=l.length;u<20?n+=c:u>100&&(s+=c)});const a=Math.round(n/t*100),o=Math.round(s/t*100);return o>30&&r.push(`${o}% provided detailed responses`),a>50&&r.push(`${a}% gave brief responses`),r},wCe=(e,t,r)=>{if(r===0)return"neutral";switch(e==null?void 0:e.toLowerCase()){case"star rating":{const a=Object.entries(t).filter(([o])=>parseInt(o)>=4).reduce((o,[,l])=>o+l,0)/r*100;return a>60?"positive":a<30?"negative":"mixed"}case"nps score":{let n=0,s=0;Object.entries(t).forEach(([o,l])=>{const c=parseInt(o)||0;c>=9?n+=l:c<=6&&(s+=l)});const a=r>0?(n-s)/r*100:0;return a>20?"positive":a<-20?"negative":"mixed"}case"likert scale":{let n=0;Object.entries(t).forEach(([a,o])=>{a.toLowerCase().includes("agree")&&!a.toLowerCase().includes("disagree")&&(n+=o)});const s=n/r*100;return s>60?"positive":s<30?"negative":"mixed"}default:return"neutral"}},jCe=(e,t,r)=>{const n=(r==null?void 0:r.length)||0,s=[],a=new Map;if(e)for(const c of e){const u=(t==null?void 0:t.filter(j=>j.question_id===c.id))||[],d=new Set(u.map(j=>j.session_id)),f=u.filter(j=>typeof j.score=="number"),h=f.reduce((j,_)=>j+_.score,0),m=f.length>0?h/f.length:0,g=fCe(c.question_type||"text",u,n),p=wCe(c.question_type,g.distribution,u.length),v=n>0?d.size/n*100:0,b={id:c.id,question_text:c.question_text,question_type:c.question_type||"text",category:c.category||"General",total_responses:u.length,completion_rate:Math.round(v),avg_score:m,response_distribution:g.distribution,insights:g.insights,trend:p};s.push(b);const x=c.category||"General";a.has(x)||a.set(x,{category:x,total_questions:0,total_responses:0,completion_rate:0,questions:[],avg_score:0});const w=a.get(x);w.total_questions+=1,w.total_responses+=u.length,w.questions.push(b)}const o=[];a.forEach(c=>{const u=c.questions.length>0?c.questions.reduce((h,m)=>h+m.completion_rate,0)/c.questions.length:0,d=c.questions.filter(h=>h.avg_score>0),f=d.length>0?d.reduce((h,m)=>h+m.avg_score,0)/d.length:0;c.completion_rate=Math.round(u),c.avg_score=f,o.push(c)});const l=[];if(r){const c=r.reduce((d,f)=>{const h=new Date(f.created_at).toISOString().split("T")[0];return d[h]||(d[h]={date:h,total_sessions:0,completed_sessions:0,scores:[]}),d[h].total_sessions++,f.status==="completed"&&d[h].completed_sessions++,typeof f.total_score=="number"&&d[h].scores.push(f.total_score),d},{}),u=Object.keys(c).sort((d,f)=>new Date(d).getTime()-new Date(f).getTime());for(const d of u){const f=c[d],h=f.scores.reduce((p,v)=>p+v,0),m=f.scores.length>0?h/f.scores.length:0,g=f.total_sessions>0?f.completed_sessions/f.total_sessions*100:0;l.push({date:new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric"}),total_sessions:f.total_sessions,completed_sessions:f.completed_sessions,completion_rate:Math.round(g),avg_score:Math.round(m)})}}return{questions:s,categories:o,trendData:l}},iN=e=>{const{dateRange:t}=A$();return jt({queryKey:["analytics-table-data",e,t],queryFn:async()=>{const{data:r}=await J.from("questions").select("*").eq("organization_id",e).eq("is_active",!0).order("category",{ascending:!0}).order("order_index",{ascending:!0});let n=J.from("feedback_responses").select(`
          id,
          question_id,
          response_value,
          question_category,
          session_id,
          created_at,
          score,
          response_time_ms
        `).eq("organization_id",e);if(t!=null&&t.from&&(n=n.gte("created_at",t.from.toISOString())),t!=null&&t.to){const m=new Date(t.to);m.setDate(m.getDate()+1),n=n.lt("created_at",m.toISOString())}const{data:s}=await n;let a=J.from("feedback_sessions").select("id, status, created_at, total_score").eq("organization_id",e);if(t!=null&&t.from&&(a=a.gte("created_at",t.from.toISOString())),t!=null&&t.to){const m=new Date(t.to);m.setDate(m.getDate()+1),a=a.lt("created_at",m.toISOString())}const{data:o}=await a,l=jCe(r,s,o);s&&(l.questions.forEach(m=>{const g=s.filter(p=>p.question_id===m.id&&p.response_time_ms!=null);if(g.length>0){const p=g.reduce((v,b)=>v+(b.response_time_ms||0),0);m.avg_response_time_ms=Math.round(p/g.length)}else m.avg_response_time_ms=0}),l.categories.forEach(m=>{const g=l.questions.filter(p=>p.category===m.category&&p.avg_response_time_ms&&p.avg_response_time_ms>0);if(g.length>0){const p=g.reduce((v,b)=>v+(b.avg_response_time_ms||0),0);m.avg_response_time_ms=Math.round(p/g.length)}else m.avg_response_time_ms=0}));const c=(o==null?void 0:o.length)||0,u=(o==null?void 0:o.filter(m=>m.status==="completed").length)||0,d=c>0?u/c*100:0,f=(r==null?void 0:r.length)||0,h=(s==null?void 0:s.length)||0;return{...l,summary:{total_questions:f,total_responses:h,overall_completion_rate:Math.round(d)}}},enabled:!!e,staleTime:5*60*1e3})},_Ce=({sentimentStats:e,totalQuestions:t,overallScore:r})=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(q,{children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(YR,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Positive"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.positive}),i.jsxs("div",{className:"text-sm text-gray-500",children:[Math.round(e.positive/t*100),"% of questions"]}),i.jsx(_n,{value:e.positive/t*100,className:"mt-2 h-2"})]})]})}),i.jsx(q,{children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(GR,{className:"w-5 h-5 text-yellow-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Neutral"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.neutral}),i.jsxs("div",{className:"text-sm text-gray-500",children:[Math.round(e.neutral/t*100),"% of questions"]}),i.jsx(_n,{value:e.neutral/t*100,className:"mt-2 h-2"})]})]})}),i.jsx(q,{children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(WR,{className:"w-5 h-5 text-red-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Negative"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.negative}),i.jsxs("div",{className:"text-sm text-gray-500",children:[Math.round(e.negative/t*100),"% of questions"]}),i.jsx(_n,{value:e.negative/t*100,className:"mt-2 h-2"})]})]})})]}),i8=({sentiment:e})=>{switch(e){case"positive":return i.jsx(YR,{className:"w-5 h-5 text-green-600"});case"negative":return i.jsx(WR,{className:"w-5 h-5 text-red-600"});default:return i.jsx(GR,{className:"w-5 h-5 text-yellow-600"})}},oN=e=>{switch(e){case"positive":return"bg-green-100 text-green-800";case"negative":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},SCe=e=>e.reduce((t,r)=>(t[r.sentiment]+=1,t),{positive:0,neutral:0,negative:0}),NCe=e=>e.positive>e.negative?"positive":e.negative>e.positive?"negative":"neutral",kCe=({questionSentiments:e})=>i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Question Sentiment Analysis"})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-4",children:e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(i8,{sentiment:t.sentiment}),i.jsx(ve,{className:oN(t.sentiment),children:t.sentiment})]}),i.jsx("h4",{className:"font-medium text-sm",children:t.question_text}),i.jsxs("p",{className:"text-xs text-gray-600",children:[t.total_responses," responses • ",t.completion_rate,"% completion"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold",children:[t.completion_rate,"%"]}),t.sentiment==="negative"&&i.jsx(lr,{className:"w-4 h-4 text-red-500 ml-auto mt-1"}),t.sentiment==="positive"&&i.jsx(br,{className:"w-4 h-4 text-green-500 ml-auto mt-1"})]})]},r))})})]}),PCe=({categorySentiments:e})=>i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Category Sentiment Analysis"})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-4",children:e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(i8,{sentiment:t.sentiment}),i.jsx(ve,{className:oN(t.sentiment),children:t.sentiment})]}),i.jsx("h4",{className:"font-medium",children:t.category}),i.jsxs("p",{className:"text-sm text-gray-600",children:[t.total_questions," questions • ",t.total_responses," responses"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xl font-bold",children:t.total_responses}),i.jsx("div",{className:"text-sm text-gray-500",children:"responses"})]})]},r))})})]}),ECe=({organizationId:e})=>{const{data:t,isLoading:r}=iN(e);if(r)return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(c=>i.jsx("div",{className:"h-32 bg-gray-200 rounded"},c))})]})});if(!t)return i.jsx(q,{children:i.jsxs(W,{className:"p-6 text-center",children:[i.jsx(dd,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No sentiment data available"})]})});const n=t.questions.map(c=>{const u=c.trend==="positive"?"positive":c.trend==="negative"?"negative":"neutral";return{...c,sentiment:u}}),s=SCe(n),a=n.length,o=NCe(s),l=t.categories.map(c=>{const u=c.questions.filter(m=>m.trend==="positive").length,d=c.questions.length,f=d>0?u/d:0,h=f>.6?"positive":f<.3?"negative":"neutral";return{...c,sentiment:h}});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Sentiment Analysis"}),i.jsxs(ve,{className:oN(o),children:["Overall: ",o]})]}),i.jsx(_Ce,{sentimentStats:s,totalQuestions:a,overallScore:0}),i.jsxs(ln,{defaultValue:"questions",className:"w-full",children:[i.jsxs(cn,{className:"grid grid-cols-2 w-full max-w-md",children:[i.jsx(Ce,{value:"questions",children:"By Question"}),i.jsx(Ce,{value:"categories",children:"By Category"})]}),i.jsx(ge,{value:"questions",className:"space-y-4",children:i.jsx(kCe,{questionSentiments:n.map(c=>({question_text:c.question_text,sentiment:c.sentiment,total_responses:c.total_responses,completion_rate:c.completion_rate}))})}),i.jsx(ge,{value:"categories",className:"space-y-4",children:i.jsx(PCe,{categorySentiments:l.map(c=>({category:c.category,sentiment:c.sentiment,total_questions:c.total_questions,total_responses:c.total_responses}))})})]})]})},y1=({organizationId:e})=>i.jsx(Lo,{permission:"view_analytics",organizationId:e,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need viewer-level access or higher to view sentiment analysis."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(ECe,{organizationId:e})}),CCe=Object.freeze(Object.defineProperty({__proto__:null,SentimentTab:y1,default:y1},Symbol.toStringTag,{value:"Module"})),o8=e=>e>=90?"text-green-600":e>=70?"text-yellow-600":"text-red-600",l8=e=>{const t=e/1e3;return t<5?"text-green-600":t<15?"text-yellow-600":"text-red-600"},OCe=e=>{const t=e.filter(a=>a.avg_response_time_ms&&a.avg_response_time_ms>0),r=[...t].sort((a,o)=>a.avg_response_time_ms-o.avg_response_time_ms).slice(0,5),n=[...t].sort((a,o)=>o.avg_response_time_ms-a.avg_response_time_ms).slice(0,5),s=e.sort((a,o)=>o.completion_rate-a.completion_rate);return{topPerformers:r,lowPerformers:n,completionTrends:s}},ACe=(e,t)=>{const r=e.filter(l=>l.avg_response_time_ms&&l.avg_response_time_ms>0),n=r.filter(l=>l.avg_response_time_ms<5e3),s=r.filter(l=>l.avg_response_time_ms>15e3),a=e.length>0?e.reduce((l,c)=>l+c.completion_rate,0)/e.length:0,o=r.length>0?r.reduce((l,c)=>l+c.avg_response_time_ms,0)/r.length:0;return{fastRespondingQuestions:n.length,slowRespondingQuestions:s.length,avgCompletionRate:a,totalResponses:t.total_responses,avgResponseTime:o}},TCe=({performanceInsights:e,totalQuestions:t})=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(q,{children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(QR,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Fast Responses"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.fastRespondingQuestions}),i.jsx("div",{className:"text-sm text-gray-500",children:"questions under 5s"})]})]})}),i.jsx(q,{children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(KR,{className:"w-5 h-5 text-red-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Slow Responses"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.slowRespondingQuestions}),i.jsx("div",{className:"text-sm text-gray-500",children:"questions over 15s"})]})]})}),i.jsx(q,{children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ea,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Response Time"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:`text-2xl font-bold ${l8(e.avgResponseTime)}`,children:[(e.avgResponseTime/1e3).toFixed(1),"s"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"overall average"})]})]})}),i.jsx(q,{children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(br,{className:"w-5 h-5 text-purple-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:`text-2xl font-bold ${o8(e.avgCompletionRate)}`,children:[Math.round(e.avgCompletionRate),"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"average completion"})]})]})})]}),RCe=({topPerformers:e})=>i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{className:"text-green-600",children:"Fastest Answered Questions"})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-4",children:e.length>0?e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsxs(ve,{className:"bg-green-100 text-green-800",children:["#",r+1]}),i.jsx(BU,{className:"w-4 h-4 text-green-600"})]}),i.jsx("h4",{className:"font-medium text-sm",children:t.question_text}),i.jsxs("p",{className:"text-xs text-gray-600",children:[t.total_responses," responses • ",t.completion_rate,"% completion"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-green-600",children:[((t.avg_response_time_ms||0)/1e3).toFixed(1),"s"]}),i.jsx(QR,{className:"w-4 h-4 text-green-500 ml-auto mt-1"})]})]},r)):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No response time data yet."})})})]}),MCe=({lowPerformers:e})=>i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{className:"text-red-600",children:"Slowest Answered Questions"})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-4",children:e.length>0?e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(lr,{className:"w-4 h-4 text-red-600"}),i.jsx(ve,{className:"bg-red-100 text-red-800",children:"Needs Attention"})]}),i.jsx("h4",{className:"font-medium text-sm",children:t.question_text}),i.jsxs("p",{className:"text-xs text-gray-600",children:[t.total_responses," responses • ",t.completion_rate,"% completion"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-red-600",children:[((t.avg_response_time_ms||0)/1e3).toFixed(1),"s"]}),i.jsx(KR,{className:"w-4 h-4 text-red-500 ml-auto mt-1"})]})]},r)):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No questions with slow response times found! 🎉"})})})]}),$Ce=({completionTrends:e})=>i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Completion Rate Analysis"})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-4",children:e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-sm truncate",children:t.question_text}),i.jsxs("p",{className:"text-xs text-gray-600",children:[t.total_responses," responses"]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:`text-sm font-bold ${o8(t.completion_rate)}`,children:[t.completion_rate,"%"]})}),i.jsx(_n,{value:t.completion_rate,className:"w-20 h-2"})]})]},r))})})]}),ICe=({categoryPerformance:e})=>i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Category Performance"})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-4",children:e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center space-x-2 mb-2",children:i.jsxs(ve,{variant:"outline",children:["#",r+1]})}),i.jsx("h4",{className:"font-medium",children:t.category}),i.jsxs("p",{className:"text-sm text-gray-600",children:[t.total_questions," questions • ",t.total_responses," responses"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-xl font-bold ${l8(t.avg_response_time_ms||0)}`,children:[((t.avg_response_time_ms||0)/1e3).toFixed(1),"s"]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[t.completion_rate,"% completion"]})]})]},r))})})]}),DCe=({organizationId:e})=>{const{data:t,isLoading:r}=iN(e);if(r)return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(c=>i.jsx("div",{className:"h-32 bg-gray-200 rounded"},c))})]})});if(!t)return i.jsx(q,{children:i.jsxs(W,{className:"p-6 text-center",children:[i.jsx(or,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No performance data available"})]})});const{topPerformers:n,lowPerformers:s,completionTrends:a}=OCe(t.questions),o=ACe(t.questions,t.summary),l=[...t.categories].sort((c,u)=>(c.avg_response_time_ms||0)-(u.avg_response_time_ms||0));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Performance Analytics"}),i.jsxs(ve,{variant:"outline",children:[t.summary.total_questions," questions analyzed"]})]}),i.jsx(TCe,{performanceInsights:o,totalQuestions:t.summary.total_questions}),i.jsxs(ln,{defaultValue:"top-performers",className:"w-full",children:[i.jsxs(cn,{className:"grid grid-cols-4 w-full max-w-2xl",children:[i.jsx(Ce,{value:"top-performers",children:"Top Performers"}),i.jsx(Ce,{value:"low-performers",children:"Need Attention"}),i.jsx(Ce,{value:"completion",children:"Completion"}),i.jsx(Ce,{value:"categories",children:"Categories"})]}),i.jsx(ge,{value:"top-performers",className:"space-y-4",children:i.jsx(RCe,{topPerformers:n})}),i.jsx(ge,{value:"low-performers",className:"space-y-4",children:i.jsx(MCe,{lowPerformers:s})}),i.jsx(ge,{value:"completion",className:"space-y-4",children:i.jsx($Ce,{completionTrends:a})}),i.jsx(ge,{value:"categories",className:"space-y-4",children:i.jsx(ICe,{categoryPerformance:l.map(c=>({category:c.category,avg_score:c.avg_score,total_questions:c.total_questions,total_responses:c.total_responses,completion_rate:c.completion_rate,avg_response_time_ms:c.avg_response_time_ms}))})})]})]})},x1=({organizationId:e})=>i.jsx(Lo,{permission:"view_analytics",organizationId:e,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need viewer-level access or higher to view performance analytics."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(DCe,{organizationId:e})}),LCe=Object.freeze(Object.defineProperty({__proto__:null,PerformanceTab:x1,default:x1},Symbol.toStringTag,{value:"Module"})),FCe=({organizationId:e})=>{const{data:t,isLoading:r}=iN(e),n=({active:l,payload:c,label:u})=>l&&c&&c.length?i.jsxs("div",{className:"p-2 bg-background border rounded-lg shadow-sm",children:[i.jsx("p",{className:"text-sm text-muted-foreground max-w-[200px] break-words",children:u}),i.jsx("p",{className:"font-bold text-foreground",children:`${c[0].value}% completion`})]}):null;if(r)return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(l=>i.jsx("div",{className:"h-32 bg-gray-200 rounded"},l))})]})});if(!t)return i.jsx(q,{children:i.jsxs(W,{className:"p-6 text-center",children:[i.jsx(Et,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No customer insights data available"})]})});const s=t.questions.map(l=>l.completion_rate),a=s.reduce((l,c)=>l+c,0)/s.length,o=t.questions.reduce((l,c)=>(c.completion_rate<80?l.lowCompletion.push(c):c.completion_rate>=90&&l.highPerforming.push(c),c.completion_rate<70&&l.needAttention.push(c),l),{highPerforming:[],needAttention:[],lowCompletion:[]});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Customer Insights"}),i.jsxs(ve,{variant:"outline",children:[t.summary.total_responses," total responses"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(q,{children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(br,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Completion Rate"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(a),"%"]}),i.jsx(_n,{value:a,className:"mt-2"})]})]})}),i.jsx(q,{children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(St,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"High Performers"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold",children:o.highPerforming.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"questions ≥ 90% completion"})]})]})}),i.jsx(q,{children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Oo,{className:"w-5 h-5 text-red-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Need Attention"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold",children:o.needAttention.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"questions < 70% completion"})]})]})}),i.jsx(q,{children:i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xs,{className:"w-5 h-5 text-orange-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Low Completion"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold",children:o.lowCompletion.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"questions < 80% completion"})]})]})})]}),i.jsxs(ln,{defaultValue:"trends",className:"w-full",children:[i.jsxs(cn,{className:"grid grid-cols-3 w-full max-w-md",children:[i.jsx(Ce,{value:"trends",children:"Trends"}),i.jsx(Ce,{value:"themes",children:"Themes"}),i.jsx(Ce,{value:"sessions",children:"Sessions"})]}),i.jsx(ge,{value:"trends",className:"space-y-4",children:i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Feedback Trends"})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-4",children:t.categories.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:l.category}),i.jsxs("p",{className:"text-sm text-gray-600",children:[l.total_questions," questions • ",l.total_responses," responses"]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"text-sm text-gray-500",children:[l.completion_rate,"% completion"]})})]},c))})})]})}),i.jsx(ge,{value:"themes",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{className:"text-green-600",children:"High Performing Questions"})}),i.jsx(W,{children:i.jsxs("div",{className:"space-y-3",children:[o.highPerforming.slice(0,5).map((l,c)=>i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border-l-4 border-green-500",children:[i.jsx("div",{className:"font-medium text-sm",children:l.question_text}),i.jsx("div",{className:"flex justify-between items-center mt-2",children:i.jsxs("span",{className:"text-sm text-gray-600",children:[l.total_responses," responses"]})})]},c)),o.highPerforming.length===0&&i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No high performing questions yet"})]})})]}),i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{className:"text-red-600",children:"Questions Needing Attention"})}),i.jsx(W,{children:i.jsxs("div",{className:"space-y-3",children:[o.needAttention.slice(0,5).map((l,c)=>i.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border-l-4 border-red-500",children:[i.jsx("div",{className:"font-medium text-sm",children:l.question_text}),i.jsx("div",{className:"flex justify-between items-center mt-2",children:i.jsxs("span",{className:"text-sm text-gray-600",children:[l.total_responses," responses"]})})]},c)),o.needAttention.length===0&&i.jsx("p",{className:"text-gray-500 text-center py-4",children:"All questions performing well!"})]})})]})]})}),i.jsx(ge,{value:"sessions",className:"space-y-4",children:i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Session Analysis"})}),i.jsx(W,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Completion Rate by Question"}),i.jsx("div",{className:"h-[300px]",children:i.jsx(Fp,{width:"100%",height:"100%",children:i.jsxs(YF,{layout:"vertical",data:t.questions.slice(0,5).map(l=>({name:l.question_text,"Completion Rate":l.completion_rate})),margin:{top:5,right:20,left:10,bottom:5},children:[i.jsx(Of,{strokeDasharray:"3 3",horizontal:!1}),i.jsx(hi,{type:"number",domain:[0,100],unit:"%"}),i.jsx(mi,{dataKey:"name",type:"category",width:60,tickLine:!1,axisLine:!1,tickFormatter:l=>l.length>15?`${l.substring(0,15)}...`:l}),i.jsx(Xr,{content:i.jsx(n,{}),cursor:{fill:"hsl(var(--muted))"}}),i.jsx(Ei,{dataKey:"Completion Rate",fill:"hsl(var(--primary))",barSize:20,radius:[0,4,4,0]})]})})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Response Distribution"}),i.jsx("div",{className:"space-y-2",children:t.categories.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:l.category}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(_n,{value:l.total_responses/t.summary.total_responses*100,className:"w-16 h-2"}),i.jsx("span",{className:"text-sm font-medium",children:l.total_responses})]})]},c))})]})]})})]})})]})]})},b1=({organizationId:e})=>i.jsx(Lo,{permission:"view_analytics",organizationId:e,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need viewer-level access or higher to view customer insights."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(FCe,{organizationId:e})}),zCe=Object.freeze(Object.defineProperty({__proto__:null,CustomerInsightsTab:b1,default:b1},Symbol.toStringTag,{value:"Module"})),BCe=({questionId:e,questionText:t,questionType:r,responses:n,completionRate:s})=>{const[a,o]=y.useState(!1),{data:l}=jt({queryKey:["question-responses",e],queryFn:async()=>{const{data:h}=await J.from("feedback_responses").select("id, response_value, created_at, question_category").eq("question_id",e).order("created_at",{ascending:!1}).limit(10);return h||[]},enabled:a}),c=()=>{if(!l||l.length===0)return[];const h={};return l.forEach(m=>{const g=String(m.response_value||"No Response");h[g]=(h[g]||0)+1}),Object.entries(h).map(([m,g])=>({value:m,count:g,percentage:g/l.length*100}))},u=h=>{switch(h.toLowerCase()){case"star rating":case"nps score":return i.jsx(St,{className:"w-4 h-4 text-green-600"});case"text input":return i.jsx(W0,{className:"w-4 h-4 text-gray-600"});default:return i.jsx(St,{className:"w-4 h-4 text-blue-600"})}},d=(h,m)=>{if(h==null)return"No Response";switch(m.toLowerCase()){case"star rating":return`${h} stars`;case"nps score":return`${h}/10`;case"single choice":case"multiple choice":return Array.isArray(h)?h.join(", "):String(h);case"slider":return`${h}`;default:return String(h)}},f=c();return i.jsxs(q,{className:"mb-4",children:[i.jsx(ee,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(te,{className:"text-lg",children:t}),i.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[i.jsx(ve,{variant:"outline",children:r}),i.jsxs("span",{className:"text-sm text-gray-600",children:[n.length," responses"]}),i.jsxs("span",{className:"text-sm text-gray-600",children:[s,"% completion"]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[u(r),i.jsx("span",{className:"text-sm text-gray-600",children:"Active"})]})]})]}),i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>o(!a),children:a?i.jsx(wj,{className:"w-4 h-4"}):i.jsx(Kg,{className:"w-4 h-4"})})]})}),a&&i.jsx(W,{children:i.jsxs("div",{className:"space-y-6",children:[f.length>0&&["single choice","multiple choice","star rating","emoji rating"].includes(r.toLowerCase())&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[i.jsx(UU,{className:"w-4 h-4 mr-2"}),"Response Distribution"]}),i.jsxs("div",{className:"space-y-3",children:[f.slice(0,5).map((h,m)=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"font-medium truncate",children:h.value}),i.jsxs("span",{children:[h.count," (",Math.round(h.percentage),"%)"]})]}),i.jsx(_n,{value:h.percentage,className:"h-2"})]},m)),f.length>5&&i.jsxs("p",{className:"text-sm text-gray-500",children:["... and ",f.length-5," more responses"]})]})]}),r.toLowerCase()==="text input"&&l&&l.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[i.jsx(or,{className:"w-4 h-4 mr-2"}),"Response Analysis"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"font-medium text-blue-900",children:"Total Responses"}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.length})]}),i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"font-medium text-green-900",children:"Response Rate"}),i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s,"%"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Recent Responses"}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:l&&l.length>0?l.slice(0,5).map((h,m)=>i.jsxs("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium text-gray-900",children:d(h.response_value,r)}),i.jsx("span",{className:"text-gray-500 text-xs",children:new Date(h.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"text-gray-600 text-xs mt-1",children:["Category: ",h.question_category]})]},m)):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No responses yet"})})]})]})})]})},UCe=({questions:e,categories:t,summary:r,showDrillDown:n=!1})=>{const[s,a]=y.useState(null);console.log("AnalyticsTable - Rendering with data:",{questionsCount:e==null?void 0:e.length,categoriesCount:t==null?void 0:t.length,summary:r,showDrillDown:n});const o=u=>{switch(u){case"positive":return i.jsx(br,{className:"w-4 h-4 text-green-600"});case"negative":return i.jsx(lr,{className:"w-4 h-4 text-red-600"});case"mixed":return i.jsx(St,{className:"w-4 h-4 text-yellow-600"});default:return i.jsx(St,{className:"w-4 h-4 text-gray-600"})}},l=u=>{switch(u){case"positive":return"text-green-600 bg-green-50";case"negative":return"text-red-600 bg-red-50";case"mixed":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}},c=u=>{switch(u){case"positive":return"Positive";case"negative":return"Needs Attention";case"mixed":return"Mixed Results";default:return"Neutral"}};return!e&&!t?i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center space-x-2",children:[i.jsx(or,{className:"w-5 h-5"}),i.jsx("span",{children:"Analytics Dashboard"})]})}),i.jsx(W,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(or,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No analytics data available yet"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Data will appear here once feedback is collected"})]})})]}):i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center space-x-2",children:[i.jsx(or,{className:"w-5 h-5"}),i.jsx("span",{children:"Analytics Dashboard"})]})}),i.jsx(W,{children:i.jsxs(ln,{defaultValue:"questions",className:"space-y-4",children:[i.jsxs(cn,{children:[i.jsxs(Ce,{value:"questions",className:"flex items-center space-x-2",children:[i.jsx(Ak,{className:"w-4 h-4"}),i.jsxs("span",{children:["Questions (",(e==null?void 0:e.length)||0,")"]})]}),i.jsxs(Ce,{value:"categories",children:["Categories (",(t==null?void 0:t.length)||0,")"]})]}),i.jsx(ge,{value:"questions",children:i.jsx("div",{className:"space-y-4",children:e&&e.length>0?i.jsxs(ci,{children:[i.jsx(ui,{children:i.jsxs(Ft,{children:[i.jsx(Se,{children:"Question"}),i.jsx(Se,{children:"Type"}),i.jsx(Se,{children:"Category"}),i.jsx(Se,{children:"Responses"}),i.jsx(Se,{children:"Completion Rate"}),i.jsx(Se,{children:"Trend"}),i.jsx(Se,{children:"Key Insights"}),n&&i.jsx(Se,{children:"Actions"})]})}),i.jsx(di,{children:e.map(u=>{var d,f;return i.jsxs(P.Fragment,{children:[i.jsxs(Ft,{children:[i.jsx(we,{className:"font-medium max-w-xs truncate",children:u.question_text}),i.jsx(we,{children:i.jsx(ve,{variant:"outline",children:u.question_type})}),i.jsx(we,{children:u.category}),i.jsx(we,{children:u.total_responses}),i.jsxs(we,{children:[u.completion_rate,"%"]}),i.jsx(we,{children:i.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-md ${l(u.trend)}`,children:[o(u.trend),i.jsx("span",{className:"font-medium",children:c(u.trend)})]})}),i.jsx(we,{className:"max-w-xs",children:i.jsx("div",{className:"text-sm",children:((d=u.insights)==null?void 0:d.slice(0,2).map((h,m)=>i.jsx("div",{className:"truncate",children:h},m)))||i.jsx("span",{className:"text-gray-400",children:"No insights"})})}),n&&i.jsx(we,{children:i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>a(s===u.id?null:u.id),children:i.jsx(Gg,{className:`w-4 h-4 transition-transform ${s===u.id?"rotate-90":""}`})})})]}),n&&s===u.id&&i.jsx(Ft,{children:i.jsx(we,{colSpan:8,className:"p-0",children:i.jsxs("div",{className:"p-4 bg-gray-50",children:[i.jsx(BCe,{questionId:u.id,questionText:u.question_text,questionType:u.question_type,responses:[],avgScore:0,completionRate:u.completion_rate}),i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(q,{children:[i.jsx(ee,{className:"pb-2",children:i.jsx(te,{className:"text-sm",children:"Response Insights"})}),i.jsx(W,{children:i.jsx("ul",{className:"text-sm space-y-1",children:((f=u.insights)==null?void 0:f.map((h,m)=>i.jsxs("li",{className:"flex items-start space-x-2",children:[i.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),i.jsx("span",{children:h})]},m)))||i.jsx("li",{className:"text-gray-400",children:"No insights available"})})})]}),i.jsxs(q,{children:[i.jsx(ee,{className:"pb-2",children:i.jsx(te,{className:"text-sm",children:"Response Distribution"})}),i.jsx(W,{children:i.jsx("div",{className:"text-sm space-y-1",children:u.response_distribution&&Object.entries(u.response_distribution).length>0?Object.entries(u.response_distribution).slice(0,3).map(([h,m],g)=>i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"truncate",children:h}),i.jsx("span",{className:"font-medium",children:m})]},g)):i.jsx("div",{className:"text-gray-400",children:"No responses yet"})})})]})]})]})})})]},u.id)})})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ak,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No questions found"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Questions will appear here once they are created"})]})})}),i.jsx(ge,{value:"categories",children:t&&t.length>0?i.jsxs(ci,{children:[i.jsx(ui,{children:i.jsxs(Ft,{children:[i.jsx(Se,{children:"Category"}),i.jsx(Se,{children:"Questions"}),i.jsx(Se,{children:"Total Responses"}),i.jsx(Se,{children:"Completion Rate"})]})}),i.jsx(di,{children:t.map((u,d)=>i.jsxs(Ft,{children:[i.jsx(we,{className:"font-medium",children:u.category}),i.jsx(we,{children:u.total_questions}),i.jsx(we,{children:u.total_responses}),i.jsxs(we,{children:[u.completion_rate,"%"]})]},d))})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(or,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No categories found"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Categories will appear here once questions are categorized"})]})})]})})]})},qCe=({stats:e,isLoading:t=!1})=>{var n,s;if(console.log("AnalyticsInsights - Rendering with stats:",e),t)return i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Analytics Insights"})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>i.jsx("div",{className:"h-16 bg-gray-100 rounded animate-pulse"},a))})})]});if(!e)return i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Analytics Insights"})}),i.jsx(W,{children:i.jsxs(nr,{children:[i.jsx(Oo,{className:"h-4 w-4"}),i.jsx(sr,{children:"Analytics insights will appear here once data is available."})]})})]});const r=[{title:"Response Rate",value:e.total_sessions>0?`${Math.round(e.completed_sessions/e.total_sessions*100)}%`:"0%",trend:((n=e.growth_metrics)==null?void 0:n.growth_rate)||0,isPositive:(((s=e.growth_metrics)==null?void 0:s.growth_rate)||0)>=0,icon:Bt,description:"Session completion rate this month"},{title:"User Engagement",value:e.active_members||0,trend:8,isPositive:!0,icon:Et,description:"Active members this month"},{title:"Response Quality",value:e.total_questions>0?`${Math.round(e.total_responses/e.total_questions*100)}%`:"0%",trend:5,isPositive:!0,icon:br,description:"Average responses per question"}];return i.jsxs(q,{children:[i.jsx(ee,{children:i.jsx(te,{children:"Analytics Insights"})}),i.jsx(W,{children:i.jsx("div",{className:"space-y-4",children:r.map((a,o)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`p-2 rounded-full ${a.isPositive?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:i.jsx(a.icon,{className:"w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:a.title}),i.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-2xl font-bold",children:a.value}),i.jsxs(ve,{variant:a.isPositive?"default":"destructive",className:"flex items-center space-x-1",children:[a.isPositive?i.jsx(St,{className:"w-3 h-3"}):i.jsx(Nj,{className:"w-3 h-3"}),i.jsxs("span",{children:[Math.abs(a.trend),"%"]})]})]})]},o))})})]})},WCe=({data:e=[],isLoading:t=!1})=>{const r=[{date:"2024-01",sessions:45,completedSessions:38},{date:"2024-02",sessions:52,completedSessions:44},{date:"2024-03",sessions:48,completedSessions:41},{date:"2024-04",sessions:61,completedSessions:55},{date:"2024-05",sessions:67,completedSessions:58},{date:"2024-06",sessions:72,completedSessions:65}],n=e.length>0?e:r;return t?i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center",children:[i.jsx(St,{className:"w-5 h-5 mr-2"}),"Session Trends"]})}),i.jsx(W,{children:i.jsx("div",{className:"h-64 flex items-center justify-center",children:i.jsx("div",{className:"text-gray-500",children:"Loading chart..."})})})]}):i.jsxs(q,{children:[i.jsx(ee,{children:i.jsxs(te,{className:"flex items-center",children:[i.jsx(St,{className:"w-5 h-5 mr-2"}),"Session Trends"]})}),i.jsx(W,{children:i.jsx(Fp,{width:"100%",height:300,children:i.jsxs(GF,{data:n,children:[i.jsx(Of,{strokeDasharray:"3 3"}),i.jsx(hi,{dataKey:"date"}),i.jsx(mi,{}),i.jsx(Xr,{}),i.jsx(ao,{}),i.jsx(fi,{type:"monotone",dataKey:"sessions",stroke:"#3b82f6",strokeWidth:2,name:"Total Sessions"}),i.jsx(fi,{type:"monotone",dataKey:"completedSessions",stroke:"#10b981",strokeWidth:2,name:"Completed Sessions"})]})})})]})},VCe=()=>{const{slug:e}=t$(),{organization:t,loading:r}=e_(),[n,s]=y.useState("overview"),{isMobile:a}=X_(),{data:o,isLoading:l}=jt({queryKey:["organization-stats",t==null?void 0:t.id],queryFn:()=>CG(t.id),enabled:!!(t!=null&&t.id)}),{data:c,isLoading:u}=Ete((t==null?void 0:t.id)||"");if(r||!t)return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:i.jsx(Is,{padding:"lg",children:i.jsx(Ar.Body,{children:"Loading dashboard..."})})});const d=o||null,f=[{id:"members",title:"Active Members",value:(d==null?void 0:d.active_members)??0,icon:Et,trend:"up",trendValue:12,color:"blue"},{id:"responses",title:"Total Responses",value:(d==null?void 0:d.total_responses)??0,icon:Bt,trend:"up",trendValue:8,color:"green"},{id:"sessions",title:"Active Sessions",value:(d==null?void 0:d.total_sessions)??0,icon:gr,color:"purple"},{id:"rating",title:"Avg Rating",value:(d==null?void 0:d.avg_session_score)??0,format:"rating",icon:bs,color:"orange"}],h=()=>{switch(n){case"members":return i.jsx(Ate,{organization:t});case"feedback":return i.jsx(m1,{organizationId:t.id});case"questions":return i.jsx(p1,{});case"settings":return i.jsx(g1,{organization:t});case"integrations":return i.jsx(v1,{});case"sentiment":return i.jsx(y1,{organizationId:t.id});case"performance":return i.jsx(x1,{organizationId:t.id});case"customer-insights":return i.jsx(b1,{organizationId:t.id});default:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs(Is,{padding:"lg",className:Lb.element,children:[i.jsx(Ar.Heading2,{className:"mb-2",children:"Analytics Overview"}),i.jsxs(Ar.Body,{children:["Key metrics and insights for ",t.name]})]}),i.jsx(kte,{stats:f,isLoading:l,columns:4}),i.jsxs(Is,{padding:"lg",className:Lb.element,children:[i.jsx(Ar.Heading2,{className:"mb-4",children:"Trend Analysis"}),i.jsx(Ar.BodySmall,{className:"text-gray-600 mb-6",children:"Key metrics over the selected period"}),i.jsx(WCe,{isLoading:l})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(Is,{padding:"lg",children:[i.jsx("div",{className:"mb-6",children:i.jsx(Ar.Heading2,{children:"Analytics Dashboard"})}),i.jsx(UCe,{questions:(c==null?void 0:c.questions)||[],categories:(c==null?void 0:c.categories)||[],summary:(c==null?void 0:c.summary)||{total_questions:(d==null?void 0:d.total_questions)??0,total_responses:(d==null?void 0:d.total_responses)??0,overall_avg_score:(d==null?void 0:d.avg_session_score)??0,overall_completion_rate:d!=null&&d.completed_sessions&&(d!=null&&d.total_sessions)?Math.round(d.completed_sessions/d.total_sessions*100):0}})]}),i.jsxs(Is,{padding:"lg",children:[i.jsx("div",{className:"mb-6",children:i.jsx(Ar.Heading2,{children:"Analytics Insights"})}),i.jsx(qCe,{stats:d?{total_questions:d.total_questions,total_responses:d.total_responses,total_sessions:d.total_sessions,completed_sessions:d.completed_sessions,active_members:d.active_members,avg_session_score:d.avg_session_score,growth_metrics:d.growth_metrics||{sessions_this_month:0,sessions_last_month:0,growth_rate:null}}:void 0,isLoading:l})]})]}),i.jsxs(Is,{padding:"lg",children:[i.jsx(Ar.Heading2,{className:"mb-6",children:"Quick Actions"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(qP,{variant:"secondary",onClick:()=>s("members"),className:"p-4 h-auto flex items-center gap-3 justify-start",children:[i.jsx(Et,{className:"w-5 h-5 text-blue-600"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:"Invite new members"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Add team members to your organization"})]})]}),i.jsxs(qP,{variant:"secondary",onClick:()=>s("questions"),className:"p-4 h-auto flex items-center gap-3 justify-start",children:[i.jsx(Bt,{className:"w-5 h-5 text-green-600"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:"Create new question"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Design feedback forms"})]})]})]})]})]})}};return i.jsxs(i.Fragment,{children:[i.jsx(gL,{organizationName:t.name,organizationId:t.id,organizationSlug:e||"",activeTab:n,onTabChange:s,stats:d,isLoading:l,children:h()}),a&&n==="overview"&&i.jsxs(vL,{onClick:()=>s("members"),extended:!0,children:[i.jsx(si,{className:"w-5 h-5"}),"Quick Action"]}),i.jsx(Pte,{})]})},HCe=()=>i.jsx(VCe,{}),KCe=()=>{const e=Ss();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},GCe=()=>{const{pathname:e}=Ss();return y.useEffect(()=>{e!=="/"&&document.documentElement.classList.remove("dark")},[e]),null},YCe=()=>i.jsxs("div",{className:"bg-white dark:bg-background",children:[i.jsx($_,{}),i.jsxs("main",{className:"max-w-4xl mx-auto pt-32 pb-16 px-4 sm:px-6 lg:px-8",children:[i.jsx("h1",{className:"text-4xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-8",children:"Terms of Service"}),i.jsxs("div",{className:"prose dark:prose-invert max-w-none text-warm-gray-600 dark:text-dark-warm-600 space-y-4",children:[i.jsx("p",{children:"Last updated: June 15, 2025"}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"1. Agreement to Terms"}),i.jsx("p",{children:"By using our services, you agree to be bound by these Terms of Service. If you do not agree to these Terms, do not use the services."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"2. Use of Services"}),i.jsx("p",{children:"You may use our services only in compliance with these Terms and all applicable laws. We grant you a limited, non-exclusive, non-transferable, revocable license to use the services."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"3. Accounts"}),i.jsx("p",{children:"When you create an account with us, you must provide us with information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"4. Termination"}),i.jsx("p",{children:"We may terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"5. Governing Law"}),i.jsx("p",{children:"These Terms shall be governed by the laws of Kenya, without regard to its conflict of law provisions."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"6. Contact Us"}),i.jsx("p",{children:"If you have any questions about these Terms, please contact us at info@pulsify.bunisystems.com."})]})]}),i.jsx(I_,{})]}),QCe=()=>i.jsxs("div",{className:"bg-white dark:bg-background",children:[i.jsx($_,{}),i.jsxs("main",{className:"max-w-4xl mx-auto pt-32 pb-16 px-4 sm:px-6 lg:px-8",children:[i.jsx("h1",{className:"text-4xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-8",children:"Privacy Policy"}),i.jsxs("div",{className:"prose dark:prose-invert max-w-none text-warm-gray-600 dark:text-dark-warm-600 space-y-4",children:[i.jsx("p",{children:"Last updated: June 15, 2025"}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"1. Introduction"}),i.jsx("p",{children:"Welcome to Pulsify. We are committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"2. Information We Collect"}),i.jsx("p",{children:"We may collect personal identification information (Name, email address, phone number, etc.) and non-personal information (browser type, etc.) from you in a variety of ways."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"3. How We Use Your Information"}),i.jsx("p",{children:"We use the information we collect to operate and maintain our services, send you marketing communications, respond to your comments and questions, and provide you with user support."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"4. Data Security"}),i.jsx("p",{children:"We take data security very seriously. Our platform is SOC 2 compliant, and all data is encrypted end-to-end. We follow industry best practices to ensure your data is safe and private. We implement a variety of security measures to maintain the safety of your personal information."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"5. Changes to This Privacy Policy"}),i.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"6. Contact Us"}),i.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at info@pulsify.bunisystems.com."})]})]}),i.jsx(I_,{})]}),XCe=()=>{const e=Ns(),[t]=Gj(),[r,n]=y.useState(!0),[s,a]=y.useState(null);y.useEffect(()=>{const l=async()=>{var u;try{console.log("Auth callback started");const{data:d,error:f}=await J.auth.getSession();if(f){console.error("Auth callback error:",f),a(f.message),setTimeout(()=>e("/auth?error="+encodeURIComponent(f.message)),2e3);return}if((u=d.session)!=null&&u.user){const h=d.session.user.email,m=t.get("type"),g=m==="signup",p=m==="recovery",v=t.get("org"),b=t.get("invitation")==="true";if(console.log("Auth callback - User:",h),console.log("Auth callback - Type:",m),console.log("Auth callback - Org slug:",v),console.log("Auth callback - Is invitation:",b),console.log("Auth callback - Is email confirmation:",g),console.log("Auth callback - Is password reset:",p),p){console.log("Processing password reset"),e("/auth?reset=true");return}if(b&&h&&v&&g){console.log("Processing invitation signup for:",h,"to org:",v),e("/auth?reset=true&invitation=true&org="+v);return}if(b&&h&&v&&!g){console.log("Processing invitation for existing user:",h,"to org:",v),await c(d,v,h);return}console.log("Processing standard auth flow"),await new Promise(w=>setTimeout(w,1e3));const x=await pd.handlePostAuthRedirect(d.session.user);console.log("Redirecting to:",x),e(x)}else console.log("No session found, redirecting to auth"),e("/auth")}catch(d){console.error("Callback processing error:",d),a("Authentication failed. Please try again."),setTimeout(()=>e("/auth?error="+encodeURIComponent("Authentication failed")),2e3)}finally{n(!1)}},c=async(u,d,f)=>{try{if(!o(d)){console.error("Invalid organization slug:",d),a("Invalid organization invitation"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Invalid organization invitation")),2e3);return}const{data:h}=await J.from("organizations").select("id, name, slug").eq("slug",d).single();if(!h){console.error("Organization not found:",d),a("Organization not found"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Organization not found")),2e3);return}const m=u.session.user.user_metadata,g=(m==null?void 0:m.role)||"member",p=(m==null?void 0:m.enhanced_role)||g;console.log("Invitation details from metadata:",{role:g,enhancedRole:p});const{data:v}=await J.from("organization_users").select("id").eq("user_id",u.session.user.id).eq("organization_id",h.id).maybeSingle();if(v)console.log("User already in organization");else{const{error:x}=await J.from("organization_users").insert({user_id:u.session.user.id,organization_id:h.id,email:f,role:g,enhanced_role:p,status:"active",accepted_at:new Date().toISOString()});if(x){console.error("Error adding user to organization:",x),a("Failed to join organization"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Failed to join organization")),2e3);return}console.log("User successfully added to organization")}const{error:b}=await J.from("user_invitations").update({status:"accepted",updated_at:new Date().toISOString()}).eq("email",f.toLowerCase().trim()).eq("organization_id",h.id);b&&console.warn("Could not update invitation status:",b),console.log("Redirecting to organization dashboard:",d),e(`/admin/${d}`)}catch(h){console.error("Error handling invitation flow:",h),a("Failed to process invitation"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Failed to process invitation")),2e3)}};l()},[e,t]);const o=l=>{const c=["auth-callback","auth","admin","api","callback","login","signup"],u=/^[a-z0-9]+(?:-[a-z0-9]+)*$/;return l&&l.length>=2&&l.length<=50&&!c.includes(l)&&u.test(l)};return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-red-500 text-xl mb-4",children:"Authentication Error"}),i.jsx("p",{className:"text-gray-600 mb-4",children:s}),i.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting you back to login..."})]})}):r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(kb,{text:"Processing authentication..."}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Setting up your account access..."})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"text-center",children:i.jsx(kb,{text:"Redirecting..."})})})},JCe=new vW;function ZCe(){return i.jsx(jW,{client:JCe,children:i.jsxs(tW,{children:[i.jsx(e9,{}),i.jsx(C9,{}),i.jsxs(CV,{children:[i.jsx(GCe,{}),i.jsx(sG,{children:i.jsx(ZK,{children:i.jsxs(wV,{children:[i.jsx(qr,{path:"/",element:i.jsx(NZ,{})}),i.jsx(qr,{path:"/terms-of-service",element:i.jsx(YCe,{})}),i.jsx(qr,{path:"/privacy-policy",element:i.jsx(QCe,{})}),i.jsx(qr,{path:"/admin/login",element:i.jsx(EG,{})}),i.jsx(qr,{path:"/admin",element:i.jsx(nx,{requireAdmin:!0,children:i.jsx(VJ,{})})}),i.jsx(qr,{path:"/auth",element:i.jsx(PG,{})}),i.jsx(qr,{path:"/auth-callback",element:i.jsx(XCe,{})}),i.jsx(qr,{path:"/create-organization",element:i.jsx(nx,{children:i.jsx(HJ,{})})}),i.jsx(qr,{path:"/admin/:slug",element:i.jsx(nx,{requireOrgAdmin:!0,children:i.jsx(eG,{children:i.jsx(HCe,{})})})}),i.jsx(qr,{path:"/:orgSlug",element:i.jsx(KP,{})}),i.jsx(qr,{path:"/org/:slug",element:i.jsx(KP,{})}),i.jsx(qr,{path:"*",element:i.jsx(KCe,{})})]})})})]})]})})}gR(document.getElementById("root")).render(i.jsx(P.StrictMode,{children:i.jsx(ZCe,{})}));export{nr as A,ve as B,q as C,Xr as D,Ote as E,ao as F,fi as G,GF as L,Bt as M,Lo as P,P as R,lt as S,lr as T,Et as U,hi as X,mi as Y,ee as a,te as b,Z as c,Yn as d,W as e,LEe as f,re as g,K as h,V0 as i,i as j,xs as k,br as l,St as m,Nj as n,ea as o,iN as p,Oo as q,y as r,J as s,tI as t,jt as u,sr as v,UCe as w,qCe as x,Fp as y,Of as z};
