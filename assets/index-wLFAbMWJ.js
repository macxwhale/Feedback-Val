const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardOverviewContent-Bj9myhAl.js","assets/useAnalyticsTableData-CYI3l9lw.js","assets/progress-CFHRvs5F.js","assets/download-gNQj1L5m.js","assets/trending-down-kGFIyJCf.js","assets/MembersTab-CLxW6zf3.js","assets/PermissionGuard-k-Ql2CgC.js","assets/FeedbackTab-teqJ1YiK.js","assets/QuestionsTab-lFM-YO2g.js","assets/SettingsTab-CPJRcPxt.js","assets/switch-DAFG7cPU.js","assets/IntegrationsTab-DqKq5Q9p.js","assets/SentimentTab-BelOC1H1.js","assets/PerformanceTab-BGiJ89Bg.js","assets/CustomerInsightsTab-Pi3Y3J4M.js"])))=>i.map(i=>d[i]);
var iC=Object.defineProperty;var $v=e=>{throw TypeError(e)};var lC=(e,t,r)=>t in e?iC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ge=(e,t,r)=>lC(e,typeof t!="symbol"?t+"":t,r),Zd=(e,t,r)=>t.has(e)||$v("Cannot "+r);var _=(e,t,r)=>(Zd(e,t,"read from private field"),r?r.call(e):t.get(e)),ee=(e,t,r)=>t.has(e)?$v("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),q=(e,t,r,n)=>(Zd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ce=(e,t,r)=>(Zd(e,t,"access private method"),r);var Fl=(e,t,r,n)=>({set _(s){q(e,t,s,r)},get _(){return _(e,t,n)}});function cC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Ry={exports:{}},$u={},Py={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),dC=Symbol.for("react.portal"),fC=Symbol.for("react.fragment"),hC=Symbol.for("react.strict_mode"),mC=Symbol.for("react.profiler"),pC=Symbol.for("react.provider"),gC=Symbol.for("react.context"),vC=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),yC=Symbol.for("react.memo"),wC=Symbol.for("react.lazy"),Fv=Symbol.iterator;function bC(e){return e===null||typeof e!="object"?null:(e=Fv&&e[Fv]||e["@@iterator"],typeof e=="function"?e:null)}var Ty={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ay=Object.assign,Iy={};function Pa(e,t,r){this.props=e,this.context=t,this.refs=Iy,this.updater=r||Ty}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Oy(){}Oy.prototype=Pa.prototype;function Jm(e,t,r){this.props=e,this.context=t,this.refs=Iy,this.updater=r||Ty}var Zm=Jm.prototype=new Oy;Zm.constructor=Jm;Ay(Zm,Pa.prototype);Zm.isPureReactComponent=!0;var zv=Array.isArray,My=Object.prototype.hasOwnProperty,ep={current:null},Dy={key:!0,ref:!0,__self:!0,__source:!0};function Ly(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)My.call(t,n)&&!Dy.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:fl,type:e,key:o,ref:i,props:s,_owner:ep.current}}function jC(e,t){return{$$typeof:fl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tp(e){return typeof e=="object"&&e!==null&&e.$$typeof===fl}function SC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Uv=/\/+/g;function ef(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SC(""+e.key):t.toString(36)}function _c(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case fl:case dC:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+ef(i,0):n,zv(s)?(r="",e!=null&&(r=e.replace(Uv,"$&/")+"/"),_c(s,t,r,"",function(u){return u})):s!=null&&(tp(s)&&(s=jC(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Uv,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",zv(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+ef(o,l);i+=_c(o,t,r,c,s)}else if(c=bC(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+ef(o,l++),i+=_c(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function zl(e,t,r){if(e==null)return e;var n=[],s=0;return _c(e,n,"","",function(o){return t.call(r,o,s++)}),n}function _C(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nt={current:null},Nc={transition:null},NC={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:ep};function $y(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:zl,forEach:function(e,t,r){zl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zl(e,function(){t++}),t},toArray:function(e){return zl(e,function(t){return t})||[]},only:function(e){if(!tp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Pa;he.Fragment=fC;he.Profiler=mC;he.PureComponent=Jm;he.StrictMode=hC;he.Suspense=xC;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NC;he.act=$y;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ay({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ep.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)My.call(t,c)&&!Dy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:fl,type:e.type,key:s,ref:o,props:n,_owner:i}};he.createContext=function(e){return e={$$typeof:gC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pC,_context:e},e.Consumer=e};he.createElement=Ly;he.createFactory=function(e){var t=Ly.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:vC,render:e}};he.isValidElement=tp;he.lazy=function(e){return{$$typeof:wC,_payload:{_status:-1,_result:e},_init:_C}};he.memo=function(e,t){return{$$typeof:yC,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Nc.transition;Nc.transition={};try{e()}finally{Nc.transition=t}};he.unstable_act=$y;he.useCallback=function(e,t){return Nt.current.useCallback(e,t)};he.useContext=function(e){return Nt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return Nt.current.useDeferredValue(e)};he.useEffect=function(e,t){return Nt.current.useEffect(e,t)};he.useId=function(){return Nt.current.useId()};he.useImperativeHandle=function(e,t,r){return Nt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return Nt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return Nt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return Nt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return Nt.current.useReducer(e,t,r)};he.useRef=function(e){return Nt.current.useRef(e)};he.useState=function(e){return Nt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return Nt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return Nt.current.useTransition()};he.version="18.3.1";Py.exports=he;var m=Py.exports;const I=Cy(m),Fy=cC({__proto__:null,default:I},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC=m,EC=Symbol.for("react.element"),CC=Symbol.for("react.fragment"),RC=Object.prototype.hasOwnProperty,PC=kC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TC={key:!0,ref:!0,__self:!0,__source:!0};function zy(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)RC.call(t,n)&&!TC.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:EC,type:e,key:o,ref:i,props:s,_owner:PC.current}}$u.Fragment=CC;$u.jsx=zy;$u.jsxs=zy;Ry.exports=$u;var a=Ry.exports,Uy={exports:{}},er={},By={exports:{}},Vy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,P){var V=C.length;C.push(P);e:for(;0<V;){var U=V-1>>>1,B=C[U];if(0<s(B,P))C[U]=P,C[V]=B,V=U;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var P=C[0],V=C.pop();if(V!==P){C[0]=V;e:for(var U=0,B=C.length,Z=B>>>1;U<Z;){var ne=2*(U+1)-1,we=C[ne],ae=ne+1,Q=C[ae];if(0>s(we,V))ae<B&&0>s(Q,we)?(C[U]=Q,C[ae]=V,U=ae):(C[U]=we,C[ne]=V,U=ne);else if(ae<B&&0>s(Q,V))C[U]=Q,C[ae]=V,U=ae;else break e}}return P}function s(C,P){var V=C.sortIndex-P.sortIndex;return V!==0?V:C.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(C){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=C)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function j(C){if(g=!1,b(C),!x)if(r(c)!==null)x=!0,z(S);else{var P=r(u);P!==null&&G(j,P.startTime-C)}}function S(C,P){x=!1,g&&(g=!1,y(E),E=-1),p=!0;var V=h;try{for(b(P),d=r(c);d!==null&&(!(d.expirationTime>P)||C&&!M());){var U=d.callback;if(typeof U=="function"){d.callback=null,h=d.priorityLevel;var B=U(d.expirationTime<=P);P=e.unstable_now(),typeof B=="function"?d.callback=B:d===r(c)&&n(c),b(P)}else n(c);d=r(c)}if(d!==null)var Z=!0;else{var ne=r(u);ne!==null&&G(j,ne.startTime-P),Z=!1}return Z}finally{d=null,h=V,p=!1}}var k=!1,N=null,E=-1,R=5,T=-1;function M(){return!(e.unstable_now()-T<R)}function O(){if(N!==null){var C=e.unstable_now();T=C;var P=!0;try{P=N(!0,C)}finally{P?H():(k=!1,N=null)}}else k=!1}var H;if(typeof v=="function")H=function(){v(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,X=D.port2;D.port1.onmessage=O,H=function(){X.postMessage(null)}}else H=function(){w(O,0)};function z(C){N=C,k||(k=!0,H())}function G(C,P){E=w(function(){C(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,z(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var V=h;h=P;try{return C()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var V=h;h=C;try{return P()}finally{h=V}},e.unstable_scheduleCallback=function(C,P,V){var U=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?U+V:U):V=U,C){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=V+B,C={id:f++,callback:P,priorityLevel:C,startTime:V,expirationTime:B,sortIndex:-1},V>U?(C.sortIndex=V,t(u,C),r(c)===null&&C===r(u)&&(g?(y(E),E=-1):g=!0,G(j,V-U))):(C.sortIndex=B,t(c,C),x||p||(x=!0,z(S))),C},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(C){var P=h;return function(){var V=h;h=P;try{return C.apply(this,arguments)}finally{h=V}}}})(Vy);By.exports=Vy;var AC=By.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IC=m,Jt=AC;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qy=new Set,Ii={};function co(e,t){va(e,t),va(e+"Capture",t)}function va(e,t){for(Ii[e]=t,e=0;e<t.length;e++)qy.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sh=Object.prototype.hasOwnProperty,OC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bv={},Vv={};function MC(e){return sh.call(Vv,e)?!0:sh.call(Bv,e)?!1:OC.test(e)?Vv[e]=!0:(Bv[e]=!0,!1)}function DC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LC(e,t,r,n){if(t===null||typeof t>"u"||DC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rp=/[\-:]([a-z])/g;function np(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rp,np);ct[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rp,np);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rp,np);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function sp(e,t,r,n){var s=ct.hasOwnProperty(t)?ct[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LC(t,r,s,n)&&(r=null),n||s===null?MC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _n=IC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),To=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),op=Symbol.for("react.strict_mode"),oh=Symbol.for("react.profiler"),Wy=Symbol.for("react.provider"),Hy=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),ih=Symbol.for("react.suspense_list"),ip=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),Ky=Symbol.for("react.offscreen"),qv=Symbol.iterator;function Ja(e){return e===null||typeof e!="object"?null:(e=qv&&e[qv]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,tf;function di(e){if(tf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);tf=t&&t[1]||""}return`
`+tf+e}var rf=!1;function nf(e,t){if(!e||rf)return"";rf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{rf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?di(e):""}function $C(e){switch(e.tag){case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 2:case 15:return e=nf(e.type,!1),e;case 11:return e=nf(e.type.render,!1),e;case 1:return e=nf(e.type,!0),e;default:return""}}function lh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ao:return"Fragment";case To:return"Portal";case oh:return"Profiler";case op:return"StrictMode";case ah:return"Suspense";case ih:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hy:return(e.displayName||"Context")+".Consumer";case Wy:return(e._context.displayName||"Context")+".Provider";case ap:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ip:return t=e.displayName||null,t!==null?t:lh(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return lh(e(t))}catch{}}return null}function FC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lh(t);case 8:return t===op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ds(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zC(e){var t=Gy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bl(e){e._valueTracker||(e._valueTracker=zC(e))}function Qy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Gy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Vc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ch(e,t){var r=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ds(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yy(e,t){t=t.checked,t!=null&&sp(e,"checked",t,!1)}function uh(e,t){Yy(e,t);var r=ds(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dh(e,t.type,r):t.hasOwnProperty("defaultValue")&&dh(e,t.type,ds(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dh(e,t,r){(t!=="number"||Vc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var fi=Array.isArray;function Wo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ds(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(fi(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ds(r)}}function Xy(e,t){var r=ds(t.value),n=ds(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Gv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vl,Zy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vl=Vl||document.createElement("div"),Vl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UC=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(e){UC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yi[t]=yi[e]})});function ew(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yi.hasOwnProperty(e)&&yi[e]?(""+t).trim():t+"px"}function tw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ew(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var BC=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mh(e,t){if(t){if(BC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function ph(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=null;function lp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vh=null,Ho=null,Ko=null;function Qv(e){if(e=pl(e)){if(typeof vh!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Vu(t),vh(e.stateNode,e.type,t))}}function rw(e){Ho?Ko?Ko.push(e):Ko=[e]:Ho=e}function nw(){if(Ho){var e=Ho,t=Ko;if(Ko=Ho=null,Qv(e),t)for(e=0;e<t.length;e++)Qv(t[e])}}function sw(e,t){return e(t)}function ow(){}var sf=!1;function aw(e,t,r){if(sf)return e(t,r);sf=!0;try{return sw(e,t,r)}finally{sf=!1,(Ho!==null||Ko!==null)&&(ow(),nw())}}function Mi(e,t){var r=e.stateNode;if(r===null)return null;var n=Vu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var xh=!1;if(pn)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){xh=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{xh=!1}function VC(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var wi=!1,qc=null,Wc=!1,yh=null,qC={onError:function(e){wi=!0,qc=e}};function WC(e,t,r,n,s,o,i,l,c){wi=!1,qc=null,VC.apply(qC,arguments)}function HC(e,t,r,n,s,o,i,l,c){if(WC.apply(this,arguments),wi){if(wi){var u=qc;wi=!1,qc=null}else throw Error(F(198));Wc||(Wc=!0,yh=u)}}function uo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function iw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yv(e){if(uo(e)!==e)throw Error(F(188))}function KC(e){var t=e.alternate;if(!t){if(t=uo(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Yv(s),e;if(o===n)return Yv(s),t;o=o.sibling}throw Error(F(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function lw(e){return e=KC(e),e!==null?cw(e):null}function cw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cw(e);if(t!==null)return t;e=e.sibling}return null}var uw=Jt.unstable_scheduleCallback,Xv=Jt.unstable_cancelCallback,GC=Jt.unstable_shouldYield,QC=Jt.unstable_requestPaint,qe=Jt.unstable_now,YC=Jt.unstable_getCurrentPriorityLevel,cp=Jt.unstable_ImmediatePriority,dw=Jt.unstable_UserBlockingPriority,Hc=Jt.unstable_NormalPriority,XC=Jt.unstable_LowPriority,fw=Jt.unstable_IdlePriority,Fu=null,Kr=null;function JC(e){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Fu,e,void 0,(e.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:tR,ZC=Math.log,eR=Math.LN2;function tR(e){return e>>>=0,e===0?32:31-(ZC(e)/eR|0)|0}var ql=64,Wl=4194304;function hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=hi(l):(o&=i,o!==0&&(n=hi(o)))}else i=r&~s,i!==0?n=hi(i):o!==0&&(n=hi(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Cr(t),s=1<<r,n|=e[r],t&=~s;return n}function rR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Cr(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=rR(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function wh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hw(){var e=ql;return ql<<=1,!(ql&4194240)&&(ql=64),e}function of(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cr(t),e[t]=r}function sR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Cr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function up(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Cr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Se=0;function mw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pw,dp,gw,vw,xw,bh=!1,Hl=[],ts=null,rs=null,ns=null,Di=new Map,Li=new Map,zn=[],oR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jv(e,t){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function ei(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=pl(t),t!==null&&dp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function aR(e,t,r,n,s){switch(t){case"focusin":return ts=ei(ts,e,t,r,n,s),!0;case"dragenter":return rs=ei(rs,e,t,r,n,s),!0;case"mouseover":return ns=ei(ns,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Di.set(o,ei(Di.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Li.set(o,ei(Li.get(o)||null,e,t,r,n,s)),!0}return!1}function yw(e){var t=Ms(e.target);if(t!==null){var r=uo(t);if(r!==null){if(t=r.tag,t===13){if(t=iw(r),t!==null){e.blockedOn=t,xw(e.priority,function(){gw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gh=n,r.target.dispatchEvent(n),gh=null}else return t=pl(r),t!==null&&dp(t),e.blockedOn=r,!1;t.shift()}return!0}function Zv(e,t,r){kc(e)&&r.delete(t)}function iR(){bh=!1,ts!==null&&kc(ts)&&(ts=null),rs!==null&&kc(rs)&&(rs=null),ns!==null&&kc(ns)&&(ns=null),Di.forEach(Zv),Li.forEach(Zv)}function ti(e,t){e.blockedOn===t&&(e.blockedOn=null,bh||(bh=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,iR)))}function $i(e){function t(s){return ti(s,e)}if(0<Hl.length){ti(Hl[0],e);for(var r=1;r<Hl.length;r++){var n=Hl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ts!==null&&ti(ts,e),rs!==null&&ti(rs,e),ns!==null&&ti(ns,e),Di.forEach(t),Li.forEach(t),r=0;r<zn.length;r++)n=zn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<zn.length&&(r=zn[0],r.blockedOn===null);)yw(r),r.blockedOn===null&&zn.shift()}var Go=_n.ReactCurrentBatchConfig,Gc=!0;function lR(e,t,r,n){var s=Se,o=Go.transition;Go.transition=null;try{Se=1,fp(e,t,r,n)}finally{Se=s,Go.transition=o}}function cR(e,t,r,n){var s=Se,o=Go.transition;Go.transition=null;try{Se=4,fp(e,t,r,n)}finally{Se=s,Go.transition=o}}function fp(e,t,r,n){if(Gc){var s=jh(e,t,r,n);if(s===null)gf(e,t,n,Qc,r),Jv(e,n);else if(aR(s,e,t,r,n))n.stopPropagation();else if(Jv(e,n),t&4&&-1<oR.indexOf(e)){for(;s!==null;){var o=pl(s);if(o!==null&&pw(o),o=jh(e,t,r,n),o===null&&gf(e,t,n,Qc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else gf(e,t,n,null,r)}}var Qc=null;function jh(e,t,r,n){if(Qc=null,e=lp(n),e=Ms(e),e!==null)if(t=uo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=iw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qc=e,null}function ww(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YC()){case cp:return 1;case dw:return 4;case Hc:case XC:return 16;case fw:return 536870912;default:return 16}default:return 16}}var Jn=null,hp=null,Ec=null;function bw(){if(Ec)return Ec;var e,t=hp,r=t.length,n,s="value"in Jn?Jn.value:Jn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Ec=s.slice(e,1<n?1-n:void 0)}function Cc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function e0(){return!1}function tr(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Kl:e0,this.isPropagationStopped=e0,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),t}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mp=tr(Ta),ml=Ue({},Ta,{view:0,detail:0}),uR=tr(ml),af,lf,ri,zu=Ue({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(af=e.screenX-ri.screenX,lf=e.screenY-ri.screenY):lf=af=0,ri=e),af)},movementY:function(e){return"movementY"in e?e.movementY:lf}}),t0=tr(zu),dR=Ue({},zu,{dataTransfer:0}),fR=tr(dR),hR=Ue({},ml,{relatedTarget:0}),cf=tr(hR),mR=Ue({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),pR=tr(mR),gR=Ue({},Ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vR=tr(gR),xR=Ue({},Ta,{data:0}),r0=tr(xR),yR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bR[e])?!!t[e]:!1}function pp(){return jR}var SR=Ue({},ml,{key:function(e){if(e.key){var t=yR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(e){return e.type==="keypress"?Cc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_R=tr(SR),NR=Ue({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n0=tr(NR),kR=Ue({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),ER=tr(kR),CR=Ue({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),RR=tr(CR),PR=Ue({},zu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TR=tr(PR),AR=[9,13,27,32],gp=pn&&"CompositionEvent"in window,bi=null;pn&&"documentMode"in document&&(bi=document.documentMode);var IR=pn&&"TextEvent"in window&&!bi,jw=pn&&(!gp||bi&&8<bi&&11>=bi),s0=" ",o0=!1;function Sw(e,t){switch(e){case"keyup":return AR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _w(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Io=!1;function OR(e,t){switch(e){case"compositionend":return _w(t);case"keypress":return t.which!==32?null:(o0=!0,s0);case"textInput":return e=t.data,e===s0&&o0?null:e;default:return null}}function MR(e,t){if(Io)return e==="compositionend"||!gp&&Sw(e,t)?(e=bw(),Ec=hp=Jn=null,Io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jw&&t.locale!=="ko"?null:t.data;default:return null}}var DR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DR[e.type]:t==="textarea"}function Nw(e,t,r,n){rw(n),t=Yc(t,"onChange"),0<t.length&&(r=new mp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ji=null,Fi=null;function LR(e){Dw(e,0)}function Uu(e){var t=Do(e);if(Qy(t))return e}function $R(e,t){if(e==="change")return t}var kw=!1;if(pn){var uf;if(pn){var df="oninput"in document;if(!df){var i0=document.createElement("div");i0.setAttribute("oninput","return;"),df=typeof i0.oninput=="function"}uf=df}else uf=!1;kw=uf&&(!document.documentMode||9<document.documentMode)}function l0(){ji&&(ji.detachEvent("onpropertychange",Ew),Fi=ji=null)}function Ew(e){if(e.propertyName==="value"&&Uu(Fi)){var t=[];Nw(t,Fi,e,lp(e)),aw(LR,t)}}function FR(e,t,r){e==="focusin"?(l0(),ji=t,Fi=r,ji.attachEvent("onpropertychange",Ew)):e==="focusout"&&l0()}function zR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(Fi)}function UR(e,t){if(e==="click")return Uu(t)}function BR(e,t){if(e==="input"||e==="change")return Uu(t)}function VR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pr=typeof Object.is=="function"?Object.is:VR;function zi(e,t){if(Pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!sh.call(t,s)||!Pr(e[s],t[s]))return!1}return!0}function c0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u0(e,t){var r=c0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=c0(r)}}function Cw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rw(){for(var e=window,t=Vc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vc(e.document)}return t}function vp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qR(e){var t=Rw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cw(r.ownerDocument.documentElement,r)){if(n!==null&&vp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=u0(r,o);var i=u0(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WR=pn&&"documentMode"in document&&11>=document.documentMode,Oo=null,Sh=null,Si=null,_h=!1;function d0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_h||Oo==null||Oo!==Vc(n)||(n=Oo,"selectionStart"in n&&vp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Si&&zi(Si,n)||(Si=n,n=Yc(Sh,"onSelect"),0<n.length&&(t=new mp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Oo)))}function Gl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mo={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},ff={},Pw={};pn&&(Pw=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Bu(e){if(ff[e])return ff[e];if(!Mo[e])return e;var t=Mo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Pw)return ff[e]=t[r];return e}var Tw=Bu("animationend"),Aw=Bu("animationiteration"),Iw=Bu("animationstart"),Ow=Bu("transitionend"),Mw=new Map,f0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(e,t){Mw.set(e,t),co(t,[e])}for(var hf=0;hf<f0.length;hf++){var mf=f0[hf],HR=mf.toLowerCase(),KR=mf[0].toUpperCase()+mf.slice(1);xs(HR,"on"+KR)}xs(Tw,"onAnimationEnd");xs(Aw,"onAnimationIteration");xs(Iw,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(Ow,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GR=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function h0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,HC(n,t,void 0,e),e.currentTarget=null}function Dw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;h0(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;h0(s,l,u),o=c}}}if(Wc)throw e=yh,Wc=!1,yh=null,e}function Te(e,t){var r=t[Rh];r===void 0&&(r=t[Rh]=new Set);var n=e+"__bubble";r.has(n)||(Lw(t,e,2,!1),r.add(n))}function pf(e,t,r){var n=0;t&&(n|=4),Lw(r,e,n,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Ql]){e[Ql]=!0,qy.forEach(function(r){r!=="selectionchange"&&(GR.has(r)||pf(r,!1,e),pf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,pf("selectionchange",!1,t))}}function Lw(e,t,r,n){switch(ww(t)){case 1:var s=lR;break;case 4:s=cR;break;default:s=fp}r=s.bind(null,t,r,e),s=void 0,!xh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function gf(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Ms(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}aw(function(){var u=o,f=lp(r),d=[];e:{var h=Mw.get(e);if(h!==void 0){var p=mp,x=e;switch(e){case"keypress":if(Cc(r)===0)break e;case"keydown":case"keyup":p=_R;break;case"focusin":x="focus",p=cf;break;case"focusout":x="blur",p=cf;break;case"beforeblur":case"afterblur":p=cf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ER;break;case Tw:case Aw:case Iw:p=pR;break;case Ow:p=RR;break;case"scroll":p=uR;break;case"wheel":p=TR;break;case"copy":case"cut":case"paste":p=vR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=n0}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=Mi(v,y),j!=null&&g.push(Bi(v,j,b)))),w)break;v=v.return}0<g.length&&(h=new p(h,x,null,r,f),d.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==gh&&(x=r.relatedTarget||r.fromElement)&&(Ms(x)||x[gn]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?Ms(x):null,x!==null&&(w=uo(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(g=t0,j="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=n0,j="onPointerLeave",y="onPointerEnter",v="pointer"),w=p==null?h:Do(p),b=x==null?h:Do(x),h=new g(j,v+"leave",p,r,f),h.target=w,h.relatedTarget=b,j=null,Ms(f)===u&&(g=new g(y,v+"enter",x,r,f),g.target=b,g.relatedTarget=w,j=g),w=j,p&&x)t:{for(g=p,y=x,v=0,b=g;b;b=bo(b))v++;for(b=0,j=y;j;j=bo(j))b++;for(;0<v-b;)g=bo(g),v--;for(;0<b-v;)y=bo(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=bo(g),y=bo(y)}g=null}else g=null;p!==null&&m0(d,h,p,g,!1),x!==null&&w!==null&&m0(d,w,x,g,!0)}}e:{if(h=u?Do(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=$R;else if(a0(h))if(kw)S=BR;else{S=zR;var k=FR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=UR);if(S&&(S=S(e,u))){Nw(d,S,r,f);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&dh(h,"number",h.value)}switch(k=u?Do(u):window,e){case"focusin":(a0(k)||k.contentEditable==="true")&&(Oo=k,Sh=u,Si=null);break;case"focusout":Si=Sh=Oo=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,d0(d,r,f);break;case"selectionchange":if(WR)break;case"keydown":case"keyup":d0(d,r,f)}var N;if(gp)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Io?Sw(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(jw&&r.locale!=="ko"&&(Io||E!=="onCompositionStart"?E==="onCompositionEnd"&&Io&&(N=bw()):(Jn=f,hp="value"in Jn?Jn.value:Jn.textContent,Io=!0)),k=Yc(u,E),0<k.length&&(E=new r0(E,e,null,r,f),d.push({event:E,listeners:k}),N?E.data=N:(N=_w(r),N!==null&&(E.data=N)))),(N=IR?OR(e,r):MR(e,r))&&(u=Yc(u,"onBeforeInput"),0<u.length&&(f=new r0("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=N))}Dw(d,t)})}function Bi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Mi(e,r),o!=null&&n.unshift(Bi(e,o,s)),o=Mi(e,t),o!=null&&n.push(Bi(e,o,s))),e=e.return}return n}function bo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function m0(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Mi(r,o),c!=null&&i.unshift(Bi(r,c,l))):s||(c=Mi(r,o),c!=null&&i.push(Bi(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var QR=/\r\n?/g,YR=/\u0000|\uFFFD/g;function p0(e){return(typeof e=="string"?e:""+e).replace(QR,`
`).replace(YR,"")}function Yl(e,t,r){if(t=p0(t),p0(e)!==t&&r)throw Error(F(425))}function Xc(){}var Nh=null,kh=null;function Eh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ch=typeof setTimeout=="function"?setTimeout:void 0,XR=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,JR=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(e){return g0.resolve(null).then(e).catch(ZR)}:Ch;function ZR(e){setTimeout(function(){throw e})}function vf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),$i(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);$i(t)}function ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function v0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Aa=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Aa,Vi="__reactProps$"+Aa,gn="__reactContainer$"+Aa,Rh="__reactEvents$"+Aa,e2="__reactListeners$"+Aa,t2="__reactHandles$"+Aa;function Ms(e){var t=e[Wr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gn]||r[Wr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=v0(e);e!==null;){if(r=e[Wr])return r;e=v0(e)}return t}e=r,r=e.parentNode}return null}function pl(e){return e=e[Wr]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Do(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Vu(e){return e[Vi]||null}var Ph=[],Lo=-1;function ys(e){return{current:e}}function Oe(e){0>Lo||(e.current=Ph[Lo],Ph[Lo]=null,Lo--)}function Ce(e,t){Lo++,Ph[Lo]=e.current,e.current=t}var fs={},mt=ys(fs),Mt=ys(!1),Gs=fs;function xa(e,t){var r=e.type.contextTypes;if(!r)return fs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dt(e){return e=e.childContextTypes,e!=null}function Jc(){Oe(Mt),Oe(mt)}function x0(e,t,r){if(mt.current!==fs)throw Error(F(168));Ce(mt,t),Ce(Mt,r)}function $w(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(F(108,FC(e)||"Unknown",s));return Ue({},r,n)}function Zc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fs,Gs=mt.current,Ce(mt,e),Ce(Mt,Mt.current),!0}function y0(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=$w(e,t,Gs),n.__reactInternalMemoizedMergedChildContext=e,Oe(Mt),Oe(mt),Ce(mt,e)):Oe(Mt),Ce(Mt,r)}var an=null,qu=!1,xf=!1;function Fw(e){an===null?an=[e]:an.push(e)}function r2(e){qu=!0,Fw(e)}function ws(){if(!xf&&an!==null){xf=!0;var e=0,t=Se;try{var r=an;for(Se=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}an=null,qu=!1}catch(s){throw an!==null&&(an=an.slice(e+1)),uw(cp,ws),s}finally{Se=t,xf=!1}}return null}var $o=[],Fo=0,eu=null,tu=0,or=[],ar=0,Qs=null,un=1,dn="";function Rs(e,t){$o[Fo++]=tu,$o[Fo++]=eu,eu=e,tu=t}function zw(e,t,r){or[ar++]=un,or[ar++]=dn,or[ar++]=Qs,Qs=e;var n=un;e=dn;var s=32-Cr(n)-1;n&=~(1<<s),r+=1;var o=32-Cr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,un=1<<32-Cr(t)+s|r<<s|n,dn=o+e}else un=1<<o|r<<s|n,dn=e}function xp(e){e.return!==null&&(Rs(e,1),zw(e,1,0))}function yp(e){for(;e===eu;)eu=$o[--Fo],$o[Fo]=null,tu=$o[--Fo],$o[Fo]=null;for(;e===Qs;)Qs=or[--ar],or[ar]=null,dn=or[--ar],or[ar]=null,un=or[--ar],or[ar]=null}var Qt=null,Gt=null,Me=!1,kr=null;function Uw(e,t){var r=lr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function w0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Gt=ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qs!==null?{id:un,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=lr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qt=e,Gt=null,!0):!1;default:return!1}}function Th(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ah(e){if(Me){var t=Gt;if(t){var r=t;if(!w0(e,t)){if(Th(e))throw Error(F(418));t=ss(r.nextSibling);var n=Qt;t&&w0(e,t)?Uw(n,r):(e.flags=e.flags&-4097|2,Me=!1,Qt=e)}}else{if(Th(e))throw Error(F(418));e.flags=e.flags&-4097|2,Me=!1,Qt=e}}}function b0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function Xl(e){if(e!==Qt)return!1;if(!Me)return b0(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eh(e.type,e.memoizedProps)),t&&(t=Gt)){if(Th(e))throw Bw(),Error(F(418));for(;t;)Uw(e,t),t=ss(t.nextSibling)}if(b0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Gt=ss(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Gt=null}}else Gt=Qt?ss(e.stateNode.nextSibling):null;return!0}function Bw(){for(var e=Gt;e;)e=ss(e.nextSibling)}function ya(){Gt=Qt=null,Me=!1}function wp(e){kr===null?kr=[e]:kr.push(e)}var n2=_n.ReactCurrentBatchConfig;function ni(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Jl(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function j0(e){var t=e._init;return t(e._payload)}function Vw(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=ls(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,j){return v===null||v.tag!==6?(v=Nf(b,y.mode,j),v.return=y,v):(v=s(v,b),v.return=y,v)}function c(y,v,b,j){var S=b.type;return S===Ao?f(y,v,b.props.children,j,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&j0(S)===v.type)?(j=s(v,b.props),j.ref=ni(y,v,b),j.return=y,j):(j=Mc(b.type,b.key,b.props,null,y.mode,j),j.ref=ni(y,v,b),j.return=y,j)}function u(y,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=kf(b,y.mode,j),v.return=y,v):(v=s(v,b.children||[]),v.return=y,v)}function f(y,v,b,j,S){return v===null||v.tag!==7?(v=Hs(b,y.mode,j,S),v.return=y,v):(v=s(v,b),v.return=y,v)}function d(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Nf(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ul:return b=Mc(v.type,v.key,v.props,null,y.mode,b),b.ref=ni(y,null,v),b.return=y,b;case To:return v=kf(v,y.mode,b),v.return=y,v;case Ln:var j=v._init;return d(y,j(v._payload),b)}if(fi(v)||Ja(v))return v=Hs(v,y.mode,b,null),v.return=y,v;Jl(y,v)}return null}function h(y,v,b,j){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(y,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ul:return b.key===S?c(y,v,b,j):null;case To:return b.key===S?u(y,v,b,j):null;case Ln:return S=b._init,h(y,v,S(b._payload),j)}if(fi(b)||Ja(b))return S!==null?null:f(y,v,b,j,null);Jl(y,b)}return null}function p(y,v,b,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(v,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ul:return y=y.get(j.key===null?b:j.key)||null,c(v,y,j,S);case To:return y=y.get(j.key===null?b:j.key)||null,u(v,y,j,S);case Ln:var k=j._init;return p(y,v,b,k(j._payload),S)}if(fi(j)||Ja(j))return y=y.get(b)||null,f(v,y,j,S,null);Jl(v,j)}return null}function x(y,v,b,j){for(var S=null,k=null,N=v,E=v=0,R=null;N!==null&&E<b.length;E++){N.index>E?(R=N,N=null):R=N.sibling;var T=h(y,N,b[E],j);if(T===null){N===null&&(N=R);break}e&&N&&T.alternate===null&&t(y,N),v=o(T,v,E),k===null?S=T:k.sibling=T,k=T,N=R}if(E===b.length)return r(y,N),Me&&Rs(y,E),S;if(N===null){for(;E<b.length;E++)N=d(y,b[E],j),N!==null&&(v=o(N,v,E),k===null?S=N:k.sibling=N,k=N);return Me&&Rs(y,E),S}for(N=n(y,N);E<b.length;E++)R=p(N,y,E,b[E],j),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?E:R.key),v=o(R,v,E),k===null?S=R:k.sibling=R,k=R);return e&&N.forEach(function(M){return t(y,M)}),Me&&Rs(y,E),S}function g(y,v,b,j){var S=Ja(b);if(typeof S!="function")throw Error(F(150));if(b=S.call(b),b==null)throw Error(F(151));for(var k=S=null,N=v,E=v=0,R=null,T=b.next();N!==null&&!T.done;E++,T=b.next()){N.index>E?(R=N,N=null):R=N.sibling;var M=h(y,N,T.value,j);if(M===null){N===null&&(N=R);break}e&&N&&M.alternate===null&&t(y,N),v=o(M,v,E),k===null?S=M:k.sibling=M,k=M,N=R}if(T.done)return r(y,N),Me&&Rs(y,E),S;if(N===null){for(;!T.done;E++,T=b.next())T=d(y,T.value,j),T!==null&&(v=o(T,v,E),k===null?S=T:k.sibling=T,k=T);return Me&&Rs(y,E),S}for(N=n(y,N);!T.done;E++,T=b.next())T=p(N,y,E,T.value,j),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?E:T.key),v=o(T,v,E),k===null?S=T:k.sibling=T,k=T);return e&&N.forEach(function(O){return t(y,O)}),Me&&Rs(y,E),S}function w(y,v,b,j){if(typeof b=="object"&&b!==null&&b.type===Ao&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ul:e:{for(var S=b.key,k=v;k!==null;){if(k.key===S){if(S=b.type,S===Ao){if(k.tag===7){r(y,k.sibling),v=s(k,b.props.children),v.return=y,y=v;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&j0(S)===k.type){r(y,k.sibling),v=s(k,b.props),v.ref=ni(y,k,b),v.return=y,y=v;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===Ao?(v=Hs(b.props.children,y.mode,j,b.key),v.return=y,y=v):(j=Mc(b.type,b.key,b.props,null,y.mode,j),j.ref=ni(y,v,b),j.return=y,y=j)}return i(y);case To:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=s(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=kf(b,y.mode,j),v.return=y,y=v}return i(y);case Ln:return k=b._init,w(y,v,k(b._payload),j)}if(fi(b))return x(y,v,b,j);if(Ja(b))return g(y,v,b,j);Jl(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,b),v.return=y,y=v):(r(y,v),v=Nf(b,y.mode,j),v.return=y,y=v),i(y)):r(y,v)}return w}var wa=Vw(!0),qw=Vw(!1),ru=ys(null),nu=null,zo=null,bp=null;function jp(){bp=zo=nu=null}function Sp(e){var t=ru.current;Oe(ru),e._currentValue=t}function Ih(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qo(e,t){nu=e,bp=zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ot=!0),e.firstContext=null)}function mr(e){var t=e._currentValue;if(bp!==e)if(e={context:e,memoizedValue:t,next:null},zo===null){if(nu===null)throw Error(F(308));zo=e,nu.dependencies={lanes:0,firstContext:e}}else zo=zo.next=e;return t}var Ds=null;function _p(e){Ds===null?Ds=[e]:Ds.push(e)}function Ww(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,_p(t)):(r.next=s.next,s.next=r),t.interleaved=r,vn(e,n)}function vn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $n=!1;function Np(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function os(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,vn(e,r)}return s=n.interleaved,s===null?(t.next=t,_p(n)):(t.next=s.next,s.next=t),n.interleaved=t,vn(e,r)}function Rc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,up(e,r)}}function S0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function su(e,t,r,n){var s=e.updateQueue;$n=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=s.baseState;i=0,f=u=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(h=t,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){d=x.call(p,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(p,d,h):x,h==null)break e;d=Ue({},d,h);break e;case 2:$n=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Xs|=i,e.lanes=i,e.memoizedState=d}}function _0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(F(191,s));s.call(n)}}}var gl={},Gr=ys(gl),qi=ys(gl),Wi=ys(gl);function Ls(e){if(e===gl)throw Error(F(174));return e}function kp(e,t){switch(Ce(Wi,t),Ce(qi,e),Ce(Gr,gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hh(t,e)}Oe(Gr),Ce(Gr,t)}function ba(){Oe(Gr),Oe(qi),Oe(Wi)}function Kw(e){Ls(Wi.current);var t=Ls(Gr.current),r=hh(t,e.type);t!==r&&(Ce(qi,e),Ce(Gr,r))}function Ep(e){qi.current===e&&(Oe(Gr),Oe(qi))}var Le=ys(0);function ou(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yf=[];function Cp(){for(var e=0;e<yf.length;e++)yf[e]._workInProgressVersionPrimary=null;yf.length=0}var Pc=_n.ReactCurrentDispatcher,wf=_n.ReactCurrentBatchConfig,Ys=0,ze=null,Qe=null,Ze=null,au=!1,_i=!1,Hi=0,s2=0;function ut(){throw Error(F(321))}function Rp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pr(e[r],t[r]))return!1;return!0}function Pp(e,t,r,n,s,o){if(Ys=o,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pc.current=e===null||e.memoizedState===null?l2:c2,e=r(n,s),_i){o=0;do{if(_i=!1,Hi=0,25<=o)throw Error(F(301));o+=1,Ze=Qe=null,t.updateQueue=null,Pc.current=u2,e=r(n,s)}while(_i)}if(Pc.current=iu,t=Qe!==null&&Qe.next!==null,Ys=0,Ze=Qe=ze=null,au=!1,t)throw Error(F(300));return e}function Tp(){var e=Hi!==0;return Hi=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ze.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function pr(){if(Qe===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Ze===null?ze.memoizedState:Ze.next;if(t!==null)Ze=t,Qe=e;else{if(e===null)throw Error(F(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ze===null?ze.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Ki(e,t){return typeof t=="function"?t(e):t}function bf(e){var t=pr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Qe,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var f=u.lane;if((Ys&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,i=n):c=c.next=d,ze.lanes|=f,Xs|=f}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Pr(n,t.memoizedState)||(Ot=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,ze.lanes|=o,Xs|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jf(e){var t=pr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Pr(o,t.memoizedState)||(Ot=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Gw(){}function Qw(e,t){var r=ze,n=pr(),s=t(),o=!Pr(n.memoizedState,s);if(o&&(n.memoizedState=s,Ot=!0),n=n.queue,Ap(Jw.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,Gi(9,Xw.bind(null,r,n,s,t),void 0,null),et===null)throw Error(F(349));Ys&30||Yw(r,t,s)}return s}function Yw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xw(e,t,r,n){t.value=r,t.getSnapshot=n,Zw(t)&&eb(e)}function Jw(e,t,r){return r(function(){Zw(t)&&eb(e)})}function Zw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pr(e,r)}catch{return!0}}function eb(e){var t=vn(e,1);t!==null&&Rr(t,e,1,-1)}function N0(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},t.queue=e,e=e.dispatch=i2.bind(null,ze,e),[t.memoizedState,e]}function Gi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tb(){return pr().memoizedState}function Tc(e,t,r,n){var s=Fr();ze.flags|=e,s.memoizedState=Gi(1|t,r,void 0,n===void 0?null:n)}function Wu(e,t,r,n){var s=pr();n=n===void 0?null:n;var o=void 0;if(Qe!==null){var i=Qe.memoizedState;if(o=i.destroy,n!==null&&Rp(n,i.deps)){s.memoizedState=Gi(t,r,o,n);return}}ze.flags|=e,s.memoizedState=Gi(1|t,r,o,n)}function k0(e,t){return Tc(8390656,8,e,t)}function Ap(e,t){return Wu(2048,8,e,t)}function rb(e,t){return Wu(4,2,e,t)}function nb(e,t){return Wu(4,4,e,t)}function sb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ob(e,t,r){return r=r!=null?r.concat([e]):null,Wu(4,4,sb.bind(null,t,e),r)}function Ip(){}function ab(e,t){var r=pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ib(e,t){var r=pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lb(e,t,r){return Ys&21?(Pr(r,t)||(r=hw(),ze.lanes|=r,Xs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=r)}function o2(e,t){var r=Se;Se=r!==0&&4>r?r:4,e(!0);var n=wf.transition;wf.transition={};try{e(!1),t()}finally{Se=r,wf.transition=n}}function cb(){return pr().memoizedState}function a2(e,t,r){var n=is(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ub(e))db(t,r);else if(r=Ww(e,t,r,n),r!==null){var s=_t();Rr(r,e,n,s),fb(r,t,n)}}function i2(e,t,r){var n=is(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ub(e))db(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Pr(l,i)){var c=t.interleaved;c===null?(s.next=s,_p(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ww(e,t,s,n),r!==null&&(s=_t(),Rr(r,e,n,s),fb(r,t,n))}}function ub(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function db(e,t){_i=au=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,up(e,r)}}var iu={readContext:mr,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},l2={readContext:mr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:mr,useEffect:k0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Tc(4194308,4,sb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Tc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tc(4,2,e,t)},useMemo:function(e,t){var r=Fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=a2.bind(null,ze,e),[n.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:N0,useDebugValue:Ip,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=N0(!1),t=e[0];return e=o2.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ze,s=Fr();if(Me){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),et===null)throw Error(F(349));Ys&30||Yw(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,k0(Jw.bind(null,n,o,e),[e]),n.flags|=2048,Gi(9,Xw.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Fr(),t=et.identifierPrefix;if(Me){var r=dn,n=un;r=(n&~(1<<32-Cr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=s2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},c2={readContext:mr,useCallback:ab,useContext:mr,useEffect:Ap,useImperativeHandle:ob,useInsertionEffect:rb,useLayoutEffect:nb,useMemo:ib,useReducer:bf,useRef:tb,useState:function(){return bf(Ki)},useDebugValue:Ip,useDeferredValue:function(e){var t=pr();return lb(t,Qe.memoizedState,e)},useTransition:function(){var e=bf(Ki)[0],t=pr().memoizedState;return[e,t]},useMutableSource:Gw,useSyncExternalStore:Qw,useId:cb,unstable_isNewReconciler:!1},u2={readContext:mr,useCallback:ab,useContext:mr,useEffect:Ap,useImperativeHandle:ob,useInsertionEffect:rb,useLayoutEffect:nb,useMemo:ib,useReducer:jf,useRef:tb,useState:function(){return jf(Ki)},useDebugValue:Ip,useDeferredValue:function(e){var t=pr();return Qe===null?t.memoizedState=e:lb(t,Qe.memoizedState,e)},useTransition:function(){var e=jf(Ki)[0],t=pr().memoizedState;return[e,t]},useMutableSource:Gw,useSyncExternalStore:Qw,useId:cb,unstable_isNewReconciler:!1};function jr(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Oh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hu={isMounted:function(e){return(e=e._reactInternals)?uo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_t(),s=is(e),o=hn(n,s);o.payload=t,r!=null&&(o.callback=r),t=os(e,o,s),t!==null&&(Rr(t,e,s,n),Rc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_t(),s=is(e),o=hn(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=os(e,o,s),t!==null&&(Rr(t,e,s,n),Rc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_t(),n=is(e),s=hn(r,n);s.tag=2,t!=null&&(s.callback=t),t=os(e,s,n),t!==null&&(Rr(t,e,n,r),Rc(t,e,n))}};function E0(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!zi(r,n)||!zi(s,o):!0}function hb(e,t,r){var n=!1,s=fs,o=t.contextType;return typeof o=="object"&&o!==null?o=mr(o):(s=Dt(t)?Gs:mt.current,n=t.contextTypes,o=(n=n!=null)?xa(e,s):fs),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function C0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hu.enqueueReplaceState(t,t.state,null)}function Mh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Np(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=mr(o):(o=Dt(t)?Gs:mt.current,s.context=xa(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Oh(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hu.enqueueReplaceState(s,s.state,null),su(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ja(e,t){try{var r="",n=t;do r+=$C(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Sf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Dh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var d2=typeof WeakMap=="function"?WeakMap:Map;function mb(e,t,r){r=hn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){cu||(cu=!0,Hh=n),Dh(e,t)},r}function pb(e,t,r){r=hn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Dh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Dh(e,t),typeof n!="function"&&(as===null?as=new Set([this]):as.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function R0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new d2;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=N2.bind(null,e,t,r),t.then(e,e))}function P0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function T0(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hn(-1,1),t.tag=2,os(r,t,1))),r.lanes|=1),e)}var f2=_n.ReactCurrentOwner,Ot=!1;function bt(e,t,r,n){t.child=e===null?qw(t,null,r,n):wa(t,e.child,r,n)}function A0(e,t,r,n,s){r=r.render;var o=t.ref;return Qo(t,s),n=Pp(e,t,r,n,o,s),r=Tp(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xn(e,t,s)):(Me&&r&&xp(t),t.flags|=1,bt(e,t,n,s),t.child)}function I0(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Up(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,gb(e,t,o,n,s)):(e=Mc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:zi,r(i,n)&&e.ref===t.ref)return xn(e,t,s)}return t.flags|=1,e=ls(o,n),e.ref=t.ref,e.return=t,t.child=e}function gb(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(zi(o,n)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,xn(e,t,s)}return Lh(e,t,r,n,s)}function vb(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Bo,Ht),Ht|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Bo,Ht),Ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ce(Bo,Ht),Ht|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ce(Bo,Ht),Ht|=n;return bt(e,t,s,r),t.child}function xb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lh(e,t,r,n,s){var o=Dt(r)?Gs:mt.current;return o=xa(t,o),Qo(t,s),r=Pp(e,t,r,n,o,s),n=Tp(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xn(e,t,s)):(Me&&n&&xp(t),t.flags|=1,bt(e,t,r,s),t.child)}function O0(e,t,r,n,s){if(Dt(r)){var o=!0;Zc(t)}else o=!1;if(Qo(t,s),t.stateNode===null)Ac(e,t),hb(t,r,n),Mh(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=Dt(r)?Gs:mt.current,u=xa(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&C0(t,i,n,u),$n=!1;var h=t.memoizedState;i.state=h,su(t,n,i,s),c=t.memoizedState,l!==n||h!==c||Mt.current||$n?(typeof f=="function"&&(Oh(t,r,f,n),c=t.memoizedState),(l=$n||E0(t,r,l,n,h,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Hw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:jr(t.type,l),i.props=u,d=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=mr(c):(c=Dt(r)?Gs:mt.current,c=xa(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||h!==c)&&C0(t,i,n,c),$n=!1,h=t.memoizedState,i.state=h,su(t,n,i,s);var x=t.memoizedState;l!==d||h!==x||Mt.current||$n?(typeof p=="function"&&(Oh(t,r,p,n),x=t.memoizedState),(u=$n||E0(t,r,u,n,h,x,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return $h(e,t,r,n,o,s)}function $h(e,t,r,n,s,o){xb(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&y0(t,r,!1),xn(e,t,o);n=t.stateNode,f2.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=wa(t,e.child,null,o),t.child=wa(t,null,l,o)):bt(e,t,l,o),t.memoizedState=n.state,s&&y0(t,r,!0),t.child}function yb(e){var t=e.stateNode;t.pendingContext?x0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&x0(e,t.context,!1),kp(e,t.containerInfo)}function M0(e,t,r,n,s){return ya(),wp(s),t.flags|=256,bt(e,t,r,n),t.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function zh(e){return{baseLanes:e,cachePool:null,transitions:null}}function wb(e,t,r){var n=t.pendingProps,s=Le.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ce(Le,s&1),e===null)return Ah(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Qu(i,n,0,null),e=Hs(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=zh(r),t.memoizedState=Fh,e):Op(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return h2(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ls(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=ls(l,o):(o=Hs(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?zh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Fh,n}return o=e.child,e=o.sibling,n=ls(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Op(e,t){return t=Qu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zl(e,t,r,n){return n!==null&&wp(n),wa(t,e.child,null,r),e=Op(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function h2(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Sf(Error(F(422))),Zl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Qu({mode:"visible",children:n.children},s,0,null),o=Hs(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&wa(t,e.child,null,i),t.child.memoizedState=zh(i),t.memoizedState=Fh,o);if(!(t.mode&1))return Zl(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(F(419)),n=Sf(o,n,void 0),Zl(e,t,i,n)}if(l=(i&e.childLanes)!==0,Ot||l){if(n=et,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,vn(e,s),Rr(n,e,s,-1))}return zp(),n=Sf(Error(F(421))),Zl(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=k2.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Gt=ss(s.nextSibling),Qt=t,Me=!0,kr=null,e!==null&&(or[ar++]=un,or[ar++]=dn,or[ar++]=Qs,un=e.id,dn=e.overflow,Qs=t),t=Op(t,n.children),t.flags|=4096,t)}function D0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ih(e.return,t,r)}function _f(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function bb(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(bt(e,t,n.children,r),n=Le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D0(e,r,t);else if(e.tag===19)D0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ce(Le,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ou(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),_f(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ou(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}_f(t,!0,r,null,o);break;case"together":_f(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ac(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=ls(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ls(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function m2(e,t,r){switch(t.tag){case 3:yb(t),ya();break;case 5:Kw(t);break;case 1:Dt(t.type)&&Zc(t);break;case 4:kp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ce(ru,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ce(Le,Le.current&1),t.flags|=128,null):r&t.child.childLanes?wb(e,t,r):(Ce(Le,Le.current&1),e=xn(e,t,r),e!==null?e.sibling:null);Ce(Le,Le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bb(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Le,Le.current),n)break;return null;case 22:case 23:return t.lanes=0,vb(e,t,r)}return xn(e,t,r)}var jb,Uh,Sb,_b;jb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uh=function(){};Sb=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ls(Gr.current);var o=null;switch(r){case"input":s=ch(e,s),n=ch(e,n),o=[];break;case"select":s=Ue({},s,{value:void 0}),n=Ue({},n,{value:void 0}),o=[];break;case"textarea":s=fh(e,s),n=fh(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Xc)}mh(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ii.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ii.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Te("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};_b=function(e,t,r,n){r!==n&&(t.flags|=4)};function si(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function p2(e,t,r){var n=t.pendingProps;switch(yp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return Dt(t.type)&&Jc(),dt(t),null;case 3:return n=t.stateNode,ba(),Oe(Mt),Oe(mt),Cp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kr!==null&&(Qh(kr),kr=null))),Uh(e,t),dt(t),null;case 5:Ep(t);var s=Ls(Wi.current);if(r=t.type,e!==null&&t.stateNode!=null)Sb(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return dt(t),null}if(e=Ls(Gr.current),Xl(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Wr]=t,n[Vi]=o,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(s=0;s<mi.length;s++)Te(mi[s],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Wv(n,o),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Te("invalid",n);break;case"textarea":Kv(n,o),Te("invalid",n)}mh(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Yl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Yl(n.textContent,l,e),s=["children",""+l]):Ii.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Te("scroll",n)}switch(r){case"input":Bl(n),Hv(n,o,!0);break;case"textarea":Bl(n),Gv(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Xc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Wr]=t,e[Vi]=n,jb(e,t,!1,!1),t.stateNode=e;e:{switch(i=ph(r,n),r){case"dialog":Te("cancel",e),Te("close",e),s=n;break;case"iframe":case"object":case"embed":Te("load",e),s=n;break;case"video":case"audio":for(s=0;s<mi.length;s++)Te(mi[s],e);s=n;break;case"source":Te("error",e),s=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),s=n;break;case"details":Te("toggle",e),s=n;break;case"input":Wv(e,n),s=ch(e,n),Te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ue({},n,{value:void 0}),Te("invalid",e);break;case"textarea":Kv(e,n),s=fh(e,n),Te("invalid",e);break;default:s=n}mh(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?tw(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zy(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Oi(e,c):typeof c=="number"&&Oi(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ii.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Te("scroll",e):c!=null&&sp(e,o,c,i))}switch(r){case"input":Bl(e),Hv(e,n,!1);break;case"textarea":Bl(e),Gv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ds(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Wo(e,!!n.multiple,o,!1):n.defaultValue!=null&&Wo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)_b(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=Ls(Wi.current),Ls(Gr.current),Xl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Wr]=t,(o=n.nodeValue!==r)&&(e=Qt,e!==null))switch(e.tag){case 3:Yl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yl(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wr]=t,t.stateNode=n}return dt(t),null;case 13:if(Oe(Le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Gt!==null&&t.mode&1&&!(t.flags&128))Bw(),ya(),t.flags|=98560,o=!1;else if(o=Xl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[Wr]=t}else ya(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),o=!1}else kr!==null&&(Qh(kr),kr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Xe===0&&(Xe=3):zp())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return ba(),Uh(e,t),e===null&&Ui(t.stateNode.containerInfo),dt(t),null;case 10:return Sp(t.type._context),dt(t),null;case 17:return Dt(t.type)&&Jc(),dt(t),null;case 19:if(Oe(Le),o=t.memoizedState,o===null)return dt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)si(o,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ou(e),i!==null){for(t.flags|=128,si(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(Le,Le.current&1|2),t.child}e=e.sibling}o.tail!==null&&qe()>Sa&&(t.flags|=128,n=!0,si(o,!1),t.lanes=4194304)}else{if(!n)if(e=ou(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),si(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Me)return dt(t),null}else 2*qe()-o.renderingStartTime>Sa&&r!==1073741824&&(t.flags|=128,n=!0,si(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qe(),t.sibling=null,r=Le.current,Ce(Le,n?r&1|2:r&1),t):(dt(t),null);case 22:case 23:return Fp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ht&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function g2(e,t){switch(yp(t),t.tag){case 1:return Dt(t.type)&&Jc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ba(),Oe(Mt),Oe(mt),Cp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ep(t),null;case 13:if(Oe(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Le),null;case 4:return ba(),null;case 10:return Sp(t.type._context),null;case 22:case 23:return Fp(),null;case 24:return null;default:return null}}var ec=!1,ht=!1,v2=typeof WeakSet=="function"?WeakSet:Set,K=null;function Uo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Bh(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var L0=!1;function x2(e,t){if(Nh=Gc,e=Rw(),vp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=i+s),d!==o||n!==0&&d.nodeType!==3||(c=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===s&&(l=i),h===o&&++f===n&&(c=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(kh={focusedElem:e,selectionRange:r},Gc=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:jr(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){Ve(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return x=L0,L0=!1,x}function Ni(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Bh(t,r,o)}s=s.next}while(s!==n)}}function Ku(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Vh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Nb(e){var t=e.alternate;t!==null&&(e.alternate=null,Nb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wr],delete t[Vi],delete t[Rh],delete t[e2],delete t[t2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kb(e){return e.tag===5||e.tag===3||e.tag===4}function $0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xc));else if(n!==4&&(e=e.child,e!==null))for(qh(e,t,r),e=e.sibling;e!==null;)qh(e,t,r),e=e.sibling}function Wh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Wh(e,t,r),e=e.sibling;e!==null;)Wh(e,t,r),e=e.sibling}var st=null,_r=!1;function Tn(e,t,r){for(r=r.child;r!==null;)Eb(e,t,r),r=r.sibling}function Eb(e,t,r){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Fu,r)}catch{}switch(r.tag){case 5:ht||Uo(r,t);case 6:var n=st,s=_r;st=null,Tn(e,t,r),st=n,_r=s,st!==null&&(_r?(e=st,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):st.removeChild(r.stateNode));break;case 18:st!==null&&(_r?(e=st,r=r.stateNode,e.nodeType===8?vf(e.parentNode,r):e.nodeType===1&&vf(e,r),$i(e)):vf(st,r.stateNode));break;case 4:n=st,s=_r,st=r.stateNode.containerInfo,_r=!0,Tn(e,t,r),st=n,_r=s;break;case 0:case 11:case 14:case 15:if(!ht&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Bh(r,t,i),s=s.next}while(s!==n)}Tn(e,t,r);break;case 1:if(!ht&&(Uo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ve(r,t,l)}Tn(e,t,r);break;case 21:Tn(e,t,r);break;case 22:r.mode&1?(ht=(n=ht)||r.memoizedState!==null,Tn(e,t,r),ht=n):Tn(e,t,r);break;default:Tn(e,t,r)}}function F0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new v2),t.forEach(function(n){var s=E2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:st=l.stateNode,_r=!1;break e;case 3:st=l.stateNode.containerInfo,_r=!0;break e;case 4:st=l.stateNode.containerInfo,_r=!0;break e}l=l.return}if(st===null)throw Error(F(160));Eb(o,i,s),st=null,_r=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cb(t,e),t=t.sibling}function Cb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xr(t,e),Lr(e),n&4){try{Ni(3,e,e.return),Ku(3,e)}catch(g){Ve(e,e.return,g)}try{Ni(5,e,e.return)}catch(g){Ve(e,e.return,g)}}break;case 1:xr(t,e),Lr(e),n&512&&r!==null&&Uo(r,r.return);break;case 5:if(xr(t,e),Lr(e),n&512&&r!==null&&Uo(r,r.return),e.flags&32){var s=e.stateNode;try{Oi(s,"")}catch(g){Ve(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Yy(s,o),ph(l,i);var u=ph(l,o);for(i=0;i<c.length;i+=2){var f=c[i],d=c[i+1];f==="style"?tw(s,d):f==="dangerouslySetInnerHTML"?Zy(s,d):f==="children"?Oi(s,d):sp(s,f,d,u)}switch(l){case"input":uh(s,o);break;case"textarea":Xy(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Wo(s,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Wo(s,!!o.multiple,o.defaultValue,!0):Wo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Vi]=o}catch(g){Ve(e,e.return,g)}}break;case 6:if(xr(t,e),Lr(e),n&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Ve(e,e.return,g)}}break;case 3:if(xr(t,e),Lr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$i(t.containerInfo)}catch(g){Ve(e,e.return,g)}break;case 4:xr(t,e),Lr(e);break;case 13:xr(t,e),Lr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Lp=qe())),n&4&&F0(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(ht=(u=ht)||f,xr(t,e),ht=u):xr(t,e),Lr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(K=e,f=e.child;f!==null;){for(d=K=f;K!==null;){switch(h=K,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ni(4,h,h.return);break;case 1:Uo(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Ve(n,r,g)}}break;case 5:Uo(h,h.return);break;case 22:if(h.memoizedState!==null){U0(d);continue}}p!==null?(p.return=h,K=p):U0(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ew("display",i))}catch(g){Ve(e,e.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ve(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xr(t,e),Lr(e),n&4&&F0(e);break;case 21:break;default:xr(t,e),Lr(e)}}function Lr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(kb(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Oi(s,""),n.flags&=-33);var o=$0(e);Wh(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=$0(e);qh(e,l,i);break;default:throw Error(F(161))}}catch(c){Ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function y2(e,t,r){K=e,Rb(e)}function Rb(e,t,r){for(var n=(e.mode&1)!==0;K!==null;){var s=K,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||ec;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ht;l=ec;var u=ht;if(ec=i,(ht=c)&&!u)for(K=s;K!==null;)i=K,c=i.child,i.tag===22&&i.memoizedState!==null?B0(s):c!==null?(c.return=i,K=c):B0(s);for(;o!==null;)K=o,Rb(o),o=o.sibling;K=s,ec=l,ht=u}z0(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,K=o):z0(e)}}function z0(e){for(;K!==null;){var t=K;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||Ku(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ht)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:jr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&_0(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_0(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&$i(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}ht||t.flags&512&&Vh(t)}catch(h){Ve(t,t.return,h)}}if(t===e){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function U0(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function B0(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ku(4,t)}catch(c){Ve(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ve(t,s,c)}}var o=t.return;try{Vh(t)}catch(c){Ve(t,o,c)}break;case 5:var i=t.return;try{Vh(t)}catch(c){Ve(t,i,c)}}}catch(c){Ve(t,t.return,c)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var w2=Math.ceil,lu=_n.ReactCurrentDispatcher,Mp=_n.ReactCurrentOwner,dr=_n.ReactCurrentBatchConfig,ve=0,et=null,He=null,lt=0,Ht=0,Bo=ys(0),Xe=0,Qi=null,Xs=0,Gu=0,Dp=0,ki=null,At=null,Lp=0,Sa=1/0,sn=null,cu=!1,Hh=null,as=null,tc=!1,Zn=null,uu=0,Ei=0,Kh=null,Ic=-1,Oc=0;function _t(){return ve&6?qe():Ic!==-1?Ic:Ic=qe()}function is(e){return e.mode&1?ve&2&&lt!==0?lt&-lt:n2.transition!==null?(Oc===0&&(Oc=hw()),Oc):(e=Se,e!==0||(e=window.event,e=e===void 0?16:ww(e.type)),e):1}function Rr(e,t,r,n){if(50<Ei)throw Ei=0,Kh=null,Error(F(185));hl(e,r,n),(!(ve&2)||e!==et)&&(e===et&&(!(ve&2)&&(Gu|=r),Xe===4&&Un(e,lt)),Lt(e,n),r===1&&ve===0&&!(t.mode&1)&&(Sa=qe()+500,qu&&ws()))}function Lt(e,t){var r=e.callbackNode;nR(e,t);var n=Kc(e,e===et?lt:0);if(n===0)r!==null&&Xv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Xv(r),t===1)e.tag===0?r2(V0.bind(null,e)):Fw(V0.bind(null,e)),JR(function(){!(ve&6)&&ws()}),r=null;else{switch(mw(n)){case 1:r=cp;break;case 4:r=dw;break;case 16:r=Hc;break;case 536870912:r=fw;break;default:r=Hc}r=Lb(r,Pb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Pb(e,t){if(Ic=-1,Oc=0,ve&6)throw Error(F(327));var r=e.callbackNode;if(Yo()&&e.callbackNode!==r)return null;var n=Kc(e,e===et?lt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=du(e,n);else{t=n;var s=ve;ve|=2;var o=Ab();(et!==e||lt!==t)&&(sn=null,Sa=qe()+500,Ws(e,t));do try{S2();break}catch(l){Tb(e,l)}while(!0);jp(),lu.current=o,ve=s,He!==null?t=0:(et=null,lt=0,t=Xe)}if(t!==0){if(t===2&&(s=wh(e),s!==0&&(n=s,t=Gh(e,s))),t===1)throw r=Qi,Ws(e,0),Un(e,n),Lt(e,qe()),r;if(t===6)Un(e,n);else{if(s=e.current.alternate,!(n&30)&&!b2(s)&&(t=du(e,n),t===2&&(o=wh(e),o!==0&&(n=o,t=Gh(e,o))),t===1))throw r=Qi,Ws(e,0),Un(e,n),Lt(e,qe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Ps(e,At,sn);break;case 3:if(Un(e,n),(n&130023424)===n&&(t=Lp+500-qe(),10<t)){if(Kc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_t(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ch(Ps.bind(null,e,At,sn),t);break}Ps(e,At,sn);break;case 4:if(Un(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Cr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*w2(n/1960))-n,10<n){e.timeoutHandle=Ch(Ps.bind(null,e,At,sn),n);break}Ps(e,At,sn);break;case 5:Ps(e,At,sn);break;default:throw Error(F(329))}}}return Lt(e,qe()),e.callbackNode===r?Pb.bind(null,e):null}function Gh(e,t){var r=ki;return e.current.memoizedState.isDehydrated&&(Ws(e,t).flags|=256),e=du(e,t),e!==2&&(t=At,At=r,t!==null&&Qh(t)),e}function Qh(e){At===null?At=e:At.push.apply(At,e)}function b2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Pr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~Dp,t&=~Gu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Cr(t),n=1<<r;e[r]=-1,t&=~n}}function V0(e){if(ve&6)throw Error(F(327));Yo();var t=Kc(e,0);if(!(t&1))return Lt(e,qe()),null;var r=du(e,t);if(e.tag!==0&&r===2){var n=wh(e);n!==0&&(t=n,r=Gh(e,n))}if(r===1)throw r=Qi,Ws(e,0),Un(e,t),Lt(e,qe()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e,At,sn),Lt(e,qe()),null}function $p(e,t){var r=ve;ve|=1;try{return e(t)}finally{ve=r,ve===0&&(Sa=qe()+500,qu&&ws())}}function Js(e){Zn!==null&&Zn.tag===0&&!(ve&6)&&Yo();var t=ve;ve|=1;var r=dr.transition,n=Se;try{if(dr.transition=null,Se=1,e)return e()}finally{Se=n,dr.transition=r,ve=t,!(ve&6)&&ws()}}function Fp(){Ht=Bo.current,Oe(Bo)}function Ws(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,XR(r)),He!==null)for(r=He.return;r!==null;){var n=r;switch(yp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jc();break;case 3:ba(),Oe(Mt),Oe(mt),Cp();break;case 5:Ep(n);break;case 4:ba();break;case 13:Oe(Le);break;case 19:Oe(Le);break;case 10:Sp(n.type._context);break;case 22:case 23:Fp()}r=r.return}if(et=e,He=e=ls(e.current,null),lt=Ht=t,Xe=0,Qi=null,Dp=Gu=Xs=0,At=ki=null,Ds!==null){for(t=0;t<Ds.length;t++)if(r=Ds[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Ds=null}return e}function Tb(e,t){do{var r=He;try{if(jp(),Pc.current=iu,au){for(var n=ze.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}au=!1}if(Ys=0,Ze=Qe=ze=null,_i=!1,Hi=0,Mp.current=null,r===null||r.return===null){Xe=1,Qi=t,He=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=P0(i);if(p!==null){p.flags&=-257,T0(p,i,l,o,t),p.mode&1&&R0(o,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){R0(o,u,t),zp();break e}c=Error(F(426))}}else if(Me&&l.mode&1){var w=P0(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),T0(w,i,l,o,t),wp(ja(c,l));break e}}o=c=ja(c,l),Xe!==4&&(Xe=2),ki===null?ki=[o]:ki.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=mb(o,c,t);S0(o,y);break e;case 1:l=c;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(as===null||!as.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=pb(o,l,t);S0(o,j);break e}}o=o.return}while(o!==null)}Ob(r)}catch(S){t=S,He===r&&r!==null&&(He=r=r.return);continue}break}while(!0)}function Ab(){var e=lu.current;return lu.current=iu,e===null?iu:e}function zp(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),et===null||!(Xs&268435455)&&!(Gu&268435455)||Un(et,lt)}function du(e,t){var r=ve;ve|=2;var n=Ab();(et!==e||lt!==t)&&(sn=null,Ws(e,t));do try{j2();break}catch(s){Tb(e,s)}while(!0);if(jp(),ve=r,lu.current=n,He!==null)throw Error(F(261));return et=null,lt=0,Xe}function j2(){for(;He!==null;)Ib(He)}function S2(){for(;He!==null&&!GC();)Ib(He)}function Ib(e){var t=Db(e.alternate,e,Ht);e.memoizedProps=e.pendingProps,t===null?Ob(e):He=t,Mp.current=null}function Ob(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=g2(r,t),r!==null){r.flags&=32767,He=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,He=null;return}}else if(r=p2(r,t,Ht),r!==null){He=r;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Xe===0&&(Xe=5)}function Ps(e,t,r){var n=Se,s=dr.transition;try{dr.transition=null,Se=1,_2(e,t,r,n)}finally{dr.transition=s,Se=n}return null}function _2(e,t,r,n){do Yo();while(Zn!==null);if(ve&6)throw Error(F(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(sR(e,o),e===et&&(He=et=null,lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tc||(tc=!0,Lb(Hc,function(){return Yo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=dr.transition,dr.transition=null;var i=Se;Se=1;var l=ve;ve|=4,Mp.current=null,x2(e,r),Cb(r,e),qR(kh),Gc=!!Nh,kh=Nh=null,e.current=r,y2(r),QC(),ve=l,Se=i,dr.transition=o}else e.current=r;if(tc&&(tc=!1,Zn=e,uu=s),o=e.pendingLanes,o===0&&(as=null),JC(r.stateNode),Lt(e,qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(cu)throw cu=!1,e=Hh,Hh=null,e;return uu&1&&e.tag!==0&&Yo(),o=e.pendingLanes,o&1?e===Kh?Ei++:(Ei=0,Kh=e):Ei=0,ws(),null}function Yo(){if(Zn!==null){var e=mw(uu),t=dr.transition,r=Se;try{if(dr.transition=null,Se=16>e?16:e,Zn===null)var n=!1;else{if(e=Zn,Zn=null,uu=0,ve&6)throw Error(F(331));var s=ve;for(ve|=4,K=e.current;K!==null;){var o=K,i=o.child;if(K.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(K=u;K!==null;){var f=K;switch(f.tag){case 0:case 11:case 15:Ni(8,f,o)}var d=f.child;if(d!==null)d.return=f,K=d;else for(;K!==null;){f=K;var h=f.sibling,p=f.return;if(Nb(f),f===u){K=null;break}if(h!==null){h.return=p,K=h;break}K=p}}}var x=o.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}K=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,K=i;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ni(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,K=y;break e}K=o.return}}var v=e.current;for(K=v;K!==null;){i=K;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,K=b;else e:for(i=v;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ku(9,l)}}catch(S){Ve(l,l.return,S)}if(l===i){K=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,K=j;break e}K=l.return}}if(ve=s,ws(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Fu,e)}catch{}n=!0}return n}finally{Se=r,dr.transition=t}}return!1}function q0(e,t,r){t=ja(r,t),t=mb(e,t,1),e=os(e,t,1),t=_t(),e!==null&&(hl(e,1,t),Lt(e,t))}function Ve(e,t,r){if(e.tag===3)q0(e,e,r);else for(;t!==null;){if(t.tag===3){q0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(as===null||!as.has(n))){e=ja(r,e),e=pb(t,e,1),t=os(t,e,1),e=_t(),t!==null&&(hl(t,1,e),Lt(t,e));break}}t=t.return}}function N2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&r,et===e&&(lt&r)===r&&(Xe===4||Xe===3&&(lt&130023424)===lt&&500>qe()-Lp?Ws(e,0):Dp|=r),Lt(e,t)}function Mb(e,t){t===0&&(e.mode&1?(t=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):t=1);var r=_t();e=vn(e,t),e!==null&&(hl(e,t,r),Lt(e,r))}function k2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mb(e,r)}function E2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),Mb(e,r)}var Db;Db=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)Ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ot=!1,m2(e,t,r);Ot=!!(e.flags&131072)}else Ot=!1,Me&&t.flags&1048576&&zw(t,tu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ac(e,t),e=t.pendingProps;var s=xa(t,mt.current);Qo(t,r),s=Pp(null,t,n,e,s,r);var o=Tp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(n)?(o=!0,Zc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Np(t),s.updater=Hu,t.stateNode=s,s._reactInternals=t,Mh(t,n,e,r),t=$h(null,t,n,!0,o,r)):(t.tag=0,Me&&o&&xp(t),bt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ac(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=R2(n),e=jr(n,e),s){case 0:t=Lh(null,t,n,e,r);break e;case 1:t=O0(null,t,n,e,r);break e;case 11:t=A0(null,t,n,e,r);break e;case 14:t=I0(null,t,n,jr(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),Lh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),O0(e,t,n,s,r);case 3:e:{if(yb(t),e===null)throw Error(F(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Hw(e,t),su(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ja(Error(F(423)),t),t=M0(e,t,n,r,s);break e}else if(n!==s){s=ja(Error(F(424)),t),t=M0(e,t,n,r,s);break e}else for(Gt=ss(t.stateNode.containerInfo.firstChild),Qt=t,Me=!0,kr=null,r=qw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ya(),n===s){t=xn(e,t,r);break e}bt(e,t,n,r)}t=t.child}return t;case 5:return Kw(t),e===null&&Ah(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Eh(n,s)?i=null:o!==null&&Eh(n,o)&&(t.flags|=32),xb(e,t),bt(e,t,i,r),t.child;case 6:return e===null&&Ah(t),null;case 13:return wb(e,t,r);case 4:return kp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wa(t,null,n,r):bt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),A0(e,t,n,s,r);case 7:return bt(e,t,t.pendingProps,r),t.child;case 8:return bt(e,t,t.pendingProps.children,r),t.child;case 12:return bt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ce(ru,n._currentValue),n._currentValue=i,o!==null)if(Pr(o.value,i)){if(o.children===s.children&&!Mt.current){t=xn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=hn(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Ih(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(F(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ih(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}bt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Qo(t,r),s=mr(s),n=n(s),t.flags|=1,bt(e,t,n,r),t.child;case 14:return n=t.type,s=jr(n,t.pendingProps),s=jr(n.type,s),I0(e,t,n,s,r);case 15:return gb(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),Ac(e,t),t.tag=1,Dt(n)?(e=!0,Zc(t)):e=!1,Qo(t,r),hb(t,n,s),Mh(t,n,s,r),$h(null,t,n,!0,e,r);case 19:return bb(e,t,r);case 22:return vb(e,t,r)}throw Error(F(156,t.tag))};function Lb(e,t){return uw(e,t)}function C2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,t,r,n){return new C2(e,t,r,n)}function Up(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R2(e){if(typeof e=="function")return Up(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ap)return 11;if(e===ip)return 14}return 2}function ls(e,t){var r=e.alternate;return r===null?(r=lr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mc(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Up(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ao:return Hs(r.children,s,o,t);case op:i=8,s|=8;break;case oh:return e=lr(12,r,t,s|2),e.elementType=oh,e.lanes=o,e;case ah:return e=lr(13,r,t,s),e.elementType=ah,e.lanes=o,e;case ih:return e=lr(19,r,t,s),e.elementType=ih,e.lanes=o,e;case Ky:return Qu(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wy:i=10;break e;case Hy:i=9;break e;case ap:i=11;break e;case ip:i=14;break e;case Ln:i=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=lr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Hs(e,t,r,n){return e=lr(7,e,n,t),e.lanes=r,e}function Qu(e,t,r,n){return e=lr(22,e,n,t),e.elementType=Ky,e.lanes=r,e.stateNode={isHidden:!1},e}function Nf(e,t,r){return e=lr(6,e,null,t),e.lanes=r,e}function kf(e,t,r){return t=lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function P2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bp(e,t,r,n,s,o,i,l,c){return e=new P2(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=lr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(o),e}function T2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $b(e){if(!e)return fs;e=e._reactInternals;e:{if(uo(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Dt(r))return $w(e,r,t)}return t}function Fb(e,t,r,n,s,o,i,l,c){return e=Bp(r,n,!0,e,s,o,i,l,c),e.context=$b(null),r=e.current,n=_t(),s=is(r),o=hn(n,s),o.callback=t??null,os(r,o,s),e.current.lanes=s,hl(e,s,n),Lt(e,n),e}function Yu(e,t,r,n){var s=t.current,o=_t(),i=is(s);return r=$b(r),t.context===null?t.context=r:t.pendingContext=r,t=hn(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=os(s,t,i),e!==null&&(Rr(e,s,i,o),Rc(e,s,i)),i}function fu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function W0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Vp(e,t){W0(e,t),(e=e.alternate)&&W0(e,t)}function A2(){return null}var zb=typeof reportError=="function"?reportError:function(e){console.error(e)};function qp(e){this._internalRoot=e}Xu.prototype.render=qp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Yu(e,t,null,null)};Xu.prototype.unmount=qp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Js(function(){Yu(null,e,null,null)}),t[gn]=null}};function Xu(e){this._internalRoot=e}Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=vw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zn.length&&t!==0&&t<zn[r].priority;r++);zn.splice(r,0,e),r===0&&yw(e)}};function Wp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function H0(){}function I2(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=fu(i);o.call(u)}}var i=Fb(t,n,e,0,null,!1,!1,"",H0);return e._reactRootContainer=i,e[gn]=i.current,Ui(e.nodeType===8?e.parentNode:e),Js(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=fu(c);l.call(u)}}var c=Bp(e,0,!1,null,null,!1,!1,"",H0);return e._reactRootContainer=c,e[gn]=c.current,Ui(e.nodeType===8?e.parentNode:e),Js(function(){Yu(t,c,r,n)}),c}function Zu(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=fu(i);l.call(c)}}Yu(t,i,e,s)}else i=I2(r,t,e,s,n);return fu(i)}pw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hi(t.pendingLanes);r!==0&&(up(t,r|1),Lt(t,qe()),!(ve&6)&&(Sa=qe()+500,ws()))}break;case 13:Js(function(){var n=vn(e,1);if(n!==null){var s=_t();Rr(n,e,1,s)}}),Vp(e,1)}};dp=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var r=_t();Rr(t,e,134217728,r)}Vp(e,134217728)}};gw=function(e){if(e.tag===13){var t=is(e),r=vn(e,t);if(r!==null){var n=_t();Rr(r,e,t,n)}Vp(e,t)}};vw=function(){return Se};xw=function(e,t){var r=Se;try{return Se=e,t()}finally{Se=r}};vh=function(e,t,r){switch(t){case"input":if(uh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Vu(n);if(!s)throw Error(F(90));Qy(n),uh(n,s)}}}break;case"textarea":Xy(e,r);break;case"select":t=r.value,t!=null&&Wo(e,!!r.multiple,t,!1)}};sw=$p;ow=Js;var O2={usingClientEntryPoint:!1,Events:[pl,Do,Vu,rw,nw,$p]},oi={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M2={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lw(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||A2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{Fu=rc.inject(M2),Kr=rc}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O2;er.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wp(t))throw Error(F(200));return T2(e,t,null,r)};er.createRoot=function(e,t){if(!Wp(e))throw Error(F(299));var r=!1,n="",s=zb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bp(e,1,!1,null,null,r,!1,n,s),e[gn]=t.current,Ui(e.nodeType===8?e.parentNode:e),new qp(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=lw(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return Js(e)};er.hydrate=function(e,t,r){if(!Ju(t))throw Error(F(200));return Zu(null,e,t,!0,r)};er.hydrateRoot=function(e,t,r){if(!Wp(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=zb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Fb(t,null,e,1,r??null,s,!1,o,i),e[gn]=t.current,Ui(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Xu(t)};er.render=function(e,t,r){if(!Ju(t))throw Error(F(200));return Zu(null,e,t,!1,r)};er.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(F(40));return e._reactRootContainer?(Js(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};er.unstable_batchedUpdates=$p;er.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ju(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Zu(e,t,r,!1,n)};er.version="18.3.1-next-f1338f8080-20240426";function Ub(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ub)}catch(e){console.error(e)}}Ub(),Uy.exports=er;var fo=Uy.exports;const Bb=Cy(fo);var Vb,K0=fo;Vb=K0.createRoot,K0.hydrateRoot;const D2=1,L2=1e6;let Ef=0;function $2(){return Ef=(Ef+1)%Number.MAX_SAFE_INTEGER,Ef.toString()}const Cf=new Map,G0=e=>{if(Cf.has(e))return;const t=setTimeout(()=>{Cf.delete(e),Ci({type:"REMOVE_TOAST",toastId:e})},L2);Cf.set(e,t)},F2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,D2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?G0(r):e.toasts.forEach(n=>{G0(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Dc=[];let Lc={toasts:[]};function Ci(e){Lc=F2(Lc,e),Dc.forEach(t=>{t(Lc)})}function zr({...e}){const t=$2(),r=s=>Ci({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Ci({type:"DISMISS_TOAST",toastId:t});return Ci({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function gr(){const[e,t]=I.useState(Lc);return I.useEffect(()=>(Dc.push(t),()=>{const r=Dc.indexOf(t);r>-1&&Dc.splice(r,1)}),[e]),{...e,toast:zr,dismiss:r=>Ci({type:"DISMISS_TOAST",toastId:r})}}function L(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function z2(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ed(...e){return t=>e.forEach(r=>z2(r,t))}function re(...e){return m.useCallback(ed(...e),e)}function U2(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(d){const{scope:h,children:p,...x}=d,g=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,x=m.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,B2(s,...t)]}function B2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var $t=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),o=s.find(V2);if(o){const i=o.props.children,l=s.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return a.jsx(Yh,{...n,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return a.jsx(Yh,{...n,ref:t,children:r})});$t.displayName="Slot";var Yh=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=W2(r);return m.cloneElement(r,{...q2(n,r.props),ref:t?ed(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});Yh.displayName="SlotClone";var Hp=({children:e})=>a.jsx(a.Fragment,{children:e});function V2(e){return m.isValidElement(e)&&e.type===Hp}function q2(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function W2(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ia(e){const t=e+"CollectionProvider",[r,n]=U2(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:x,children:g}=p,w=I.useRef(null),y=I.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:y,collectionRef:w,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=I.forwardRef((p,x)=>{const{scope:g,children:w}=p,y=o(l,g),v=re(x,y.collectionRef);return a.jsx($t,{ref:v,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=I.forwardRef((p,x)=>{const{scope:g,children:w,...y}=p,v=I.useRef(null),b=re(x,v),j=o(u,g);return I.useEffect(()=>(j.itemMap.set(v,{ref:v,...y}),()=>void j.itemMap.delete(v))),a.jsx($t,{[f]:"",ref:b,children:w})});d.displayName=u;function h(p){const x=o(e+"CollectionConsumer",p);return I.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,S)=>y.indexOf(j.ref.current)-y.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:c,ItemSlot:d},h,n]}function H2(e,t){const r=m.createContext(t),n=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function pt(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=d=>{var y;const{scope:h,children:p,...x}=d,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:p})};u.displayName=o+"Provider";function f(d,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=m.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,K2(s,...t)]}function K2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var G2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],W=G2.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:o,...i}=n,l=o?$t:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Kp(e,t){e&&fo.flushSync(()=>e.dispatchEvent(t))}function De(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Q2(e,t=globalThis==null?void 0:globalThis.document){const r=De(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Y2="DismissableLayer",Xh="dismissableLayer.update",X2="dismissableLayer.pointerDownOutside",J2="dismissableLayer.focusOutside",Q0,qb=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oa=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(qb),[f,d]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),x=re(t,N=>d(N)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),v=f?g.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=y,S=eP(N=>{const E=N.target,R=[...u.branches].some(T=>T.contains(E));!j||R||(s==null||s(N),i==null||i(N),N.defaultPrevented||l==null||l())},h),k=tP(N=>{const E=N.target;[...u.branches].some(T=>T.contains(E))||(o==null||o(N),i==null||i(N),N.defaultPrevented||l==null||l())},h);return Q2(N=>{v===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Q0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Y0(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Q0)}},[f,h,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Y0())},[f,u]),m.useEffect(()=>{const N=()=>p({});return document.addEventListener(Xh,N),()=>document.removeEventListener(Xh,N)},[]),a.jsx(W.div,{...c,ref:x,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:L(e.onFocusCapture,k.onFocusCapture),onBlurCapture:L(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:L(e.onPointerDownCapture,S.onPointerDownCapture)})});Oa.displayName=Y2;var Z2="DismissableLayerBranch",Wb=m.forwardRef((e,t)=>{const r=m.useContext(qb),n=m.useRef(null),s=re(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(W.div,{...e,ref:s})});Wb.displayName=Z2;function eP(e,t=globalThis==null?void 0:globalThis.document){const r=De(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){Hb(X2,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function tP(e,t=globalThis==null?void 0:globalThis.document){const r=De(e),n=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!n.current&&Hb(J2,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Y0(){const e=new CustomEvent(Xh);document.dispatchEvent(e)}function Hb(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Kp(s,o):s.dispatchEvent(o)}var rP=Oa,nP=Wb,Ke=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},sP="Portal",vl=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=m.useState(!1);Ke(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Bb.createPortal(a.jsx(W.div,{...n,ref:t}),i):null});vl.displayName=sP;function oP(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var tt=e=>{const{present:t,children:r}=e,n=aP(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=re(n.ref,iP(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:o}):null};tt.displayName="Presence";function aP(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=oP(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=nc(n.current);o.current=l==="mounted"?u:"none"},[l]),Ke(()=>{const u=n.current,f=s.current;if(f!==e){const h=o.current,p=nc(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ke(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const g=nc(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(o.current=nc(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function nc(e){return(e==null?void 0:e.animationName)||"none"}function iP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ft({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=lP({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,l=De(r),c=m.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else s(u)},[o,e,s,l]);return[i,c]}function lP({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),o=De(t);return m.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var cP="VisuallyHidden",xl=m.forwardRef((e,t)=>a.jsx(W.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));xl.displayName=cP;var uP=xl,Gp="ToastProvider",[Qp,dP,fP]=Ia("Toast"),[Kb,hB]=pt("Toast",[fP]),[hP,td]=Kb(Gp),Gb=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=m.useState(null),[u,f]=m.useState(0),d=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gp}\`. Expected non-empty \`string\`.`),a.jsx(Qp.Provider,{scope:t,children:a.jsx(hP,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>f(p=>p+1),[]),onToastRemove:m.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:i})})};Gb.displayName=Gp;var Qb="ToastViewport",mP=["F8"],Jh="toast.viewportPause",Zh="toast.viewportResume",Yb=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=mP,label:s="Notifications ({hotkey})",...o}=e,i=td(Qb,r),l=dP(r),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),d=m.useRef(null),h=re(t,d,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;m.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),m.useEffect(()=>{const w=c.current,y=d.current;if(x&&w&&y){const v=()=>{if(!i.isClosePausedRef.current){const k=new CustomEvent(Jh);y.dispatchEvent(k),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const k=new CustomEvent(Zh);y.dispatchEvent(k),i.isClosePausedRef.current=!1}},j=k=>{!w.contains(k.relatedTarget)&&b()},S=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",j),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[x,i.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const j=b.ref.current,S=[j,...EP(j)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const w=d.current;if(w){const y=v=>{var S,k,N;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const E=document.activeElement,R=v.shiftKey;if(v.target===w&&R){(S=u.current)==null||S.focus();return}const O=g({tabbingDirection:R?"backwards":"forwards"}),H=O.findIndex(D=>D===E);Rf(O.slice(H+1))?v.preventDefault():R?(k=u.current)==null||k.focus():(N=f.current)==null||N.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,g]),a.jsxs(nP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(em,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Rf(w)}}),a.jsx(Qp.Slot,{scope:r,children:a.jsx(W.ol,{tabIndex:-1,...o,ref:h})}),x&&a.jsx(em,{ref:f,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Rf(w)}})]})});Yb.displayName=Qb;var Xb="ToastFocusProxy",em=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=td(Xb,r);return a.jsx(xl,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});em.displayName=Xb;var rd="Toast",pP="toast.swipeStart",gP="toast.swipeMove",vP="toast.swipeCancel",xP="toast.swipeEnd",Jb=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[l=!0,c]=Ft({prop:n,defaultProp:s,onChange:o});return a.jsx(tt,{present:r||l,children:a.jsx(bP,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:De(e.onPause),onResume:De(e.onResume),onSwipeStart:L(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:L(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:L(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:L(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});Jb.displayName=rd;var[yP,wP]=Kb(rd,{onClose(){}}),bP=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...x}=e,g=td(rd,r),[w,y]=m.useState(null),v=re(t,D=>y(D)),b=m.useRef(null),j=m.useRef(null),S=s||g.duration,k=m.useRef(0),N=m.useRef(S),E=m.useRef(0),{onToastAdd:R,onToastRemove:T}=g,M=De(()=>{var X;(w==null?void 0:w.contains(document.activeElement))&&((X=g.viewport)==null||X.focus()),i()}),O=m.useCallback(D=>{!D||D===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout(M,D))},[M]);m.useEffect(()=>{const D=g.viewport;if(D){const X=()=>{O(N.current),u==null||u()},z=()=>{const G=new Date().getTime()-k.current;N.current=N.current-G,window.clearTimeout(E.current),c==null||c()};return D.addEventListener(Jh,z),D.addEventListener(Zh,X),()=>{D.removeEventListener(Jh,z),D.removeEventListener(Zh,X)}}},[g.viewport,S,c,u,O]),m.useEffect(()=>{o&&!g.isClosePausedRef.current&&O(S)},[o,S,g.isClosePausedRef,O]),m.useEffect(()=>(R(),()=>T()),[R,T]);const H=m.useMemo(()=>w?o1(w):null,[w]);return g.viewport?a.jsxs(a.Fragment,{children:[H&&a.jsx(jP,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),a.jsx(yP,{scope:r,onClose:M,children:fo.createPortal(a.jsx(Qp.ItemSlot,{scope:r,children:a.jsx(rP,{asChild:!0,onEscapeKeyDown:L(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(W.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:L(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:L(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:L(e.onPointerMove,D=>{if(!b.current)return;const X=D.clientX-b.current.x,z=D.clientY-b.current.y,G=!!j.current,C=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,V=C?P(0,X):0,U=C?0:P(0,z),B=D.pointerType==="touch"?10:2,Z={x:V,y:U},ne={originalEvent:D,delta:Z};G?(j.current=Z,sc(gP,d,ne,{discrete:!1})):X0(Z,g.swipeDirection,B)?(j.current=Z,sc(pP,f,ne,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(X)>B||Math.abs(z)>B)&&(b.current=null)}),onPointerUp:L(e.onPointerUp,D=>{const X=j.current,z=D.target;if(z.hasPointerCapture(D.pointerId)&&z.releasePointerCapture(D.pointerId),j.current=null,b.current=null,X){const G=D.currentTarget,C={originalEvent:D,delta:X};X0(X,g.swipeDirection,g.swipeThreshold)?sc(xP,p,C,{discrete:!0}):sc(vP,h,C,{discrete:!0}),G.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),jP=e=>{const{__scopeToast:t,children:r,...n}=e,s=td(rd,t),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return NP(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(vl,{asChild:!0,children:a.jsx(xl,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},SP="ToastTitle",Zb=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(W.div,{...n,ref:t})});Zb.displayName=SP;var _P="ToastDescription",e1=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(W.div,{...n,ref:t})});e1.displayName=_P;var t1="ToastAction",r1=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(s1,{altText:r,asChild:!0,children:a.jsx(Yp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${t1}\`. Expected non-empty \`string\`.`),null)});r1.displayName=t1;var n1="ToastClose",Yp=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=wP(n1,r);return a.jsx(s1,{asChild:!0,children:a.jsx(W.button,{type:"button",...n,ref:t,onClick:L(e.onClick,s.onClose)})})});Yp.displayName=n1;var s1=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(W.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function o1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),kP(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...o1(n))}}),t}function sc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Kp(s,o):s.dispatchEvent(o)}var X0=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function NP(e=()=>{}){const t=De(e);Ke(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function kP(e){return e.nodeType===e.ELEMENT_NODE}function EP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Rf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var CP=Gb,a1=Yb,i1=Jb,l1=Zb,c1=e1,u1=r1,d1=Yp;function f1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=f1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function h1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=f1(e))&&(n&&(n+=" "),n+=t);return n}const J0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Z0=h1,ho=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Z0(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],d=o==null?void 0:o[u];if(f===null)return null;const h=J0(f)||J0(d);return s[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...o,...l}[g]):{...o,...l}[g]===w})?[...u,d,h]:u},[]);return Z0(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...PP,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:m1("lucide",s),...l},[...i.map(([u,f])=>m.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(e,t)=>{const r=m.forwardRef(({className:n,...s},o)=>m.createElement(TP,{ref:o,iconNode:t,className:m1(`lucide-${RP(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Y("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Y("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=Y("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Y("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Y("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=Y("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Y("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Y("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Y("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Y("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Y("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Y("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Y("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=Y("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=Y("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Y("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Y("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=Y("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Y("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Y("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=Y("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=Y("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Y("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=Y("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=Y("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=Y("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Y("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Y("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=Y("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Y("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=Y("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Y("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Y("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=Y("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=Y("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Y("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Y("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ng="-",tT=e=>{const t=nT(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(ng);return l[0]===""&&l.length!==1&&l.shift(),y1(l,t)||rT(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},y1=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?y1(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(ng);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},rx=/^\[(.+)\]$/,rT=e=>{if(rx.test(e)){const t=rx.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},nT=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return oT(Object.entries(e.classGroups),r).forEach(([o,i])=>{tm(i,n,o,t)}),n},tm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:nx(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(sT(s)){tm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{tm(i,nx(t,o),r,n)})})},nx=(e,t)=>{let r=e;return t.split(ng).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},sT=e=>e.isThemeGetter,oT=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,s]}):e,aT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},w1="!",iT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,f=0,d;for(let w=0;w<l.length;w++){let y=l[w];if(u===0){if(y===s&&(n||l.slice(w,w+o)===t)){c.push(l.slice(f,w)),f=w+o;continue}if(y==="/"){d=w;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(w1),x=p?h.substring(1):h,g=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},lT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},cT=e=>({cache:aT(e.cacheSize),parseClassName:iT(e),...tT(e)}),uT=/\s+/,dT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(uT);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let x=!!p,g=n(x?h.substring(0,p):h);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const w=lT(f).join(":"),y=d?w+w1:w,v=y+g;if(o.includes(v))continue;o.push(v);const b=s(g,x);for(let j=0;j<b.length;++j){const S=b[j];o.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function fT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=b1(t))&&(n&&(n+=" "),n+=r);return n}const b1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=b1(e[n]))&&(r&&(r+=" "),r+=t);return r};function hT(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((f,d)=>d(f),e());return r=cT(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=dT(c,r);return s(c,f),f}return function(){return o(fT.apply(null,arguments))}}const Pe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},j1=/^\[(?:([a-z-]+):)?(.+)\]$/i,mT=/^\d+\/\d+$/,pT=new Set(["px","full","screen"]),gT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tn=e=>Jo(e)||pT.has(e)||mT.test(e),An=e=>Ma(e,"length",CT),Jo=e=>!!e&&!Number.isNaN(Number(e)),Pf=e=>Ma(e,"number",Jo),ai=e=>!!e&&Number.isInteger(Number(e)),bT=e=>e.endsWith("%")&&Jo(e.slice(0,-1)),le=e=>j1.test(e),In=e=>gT.test(e),jT=new Set(["length","size","percentage"]),ST=e=>Ma(e,jT,S1),_T=e=>Ma(e,"position",S1),NT=new Set(["image","url"]),kT=e=>Ma(e,NT,PT),ET=e=>Ma(e,"",RT),ii=()=>!0,Ma=(e,t,r)=>{const n=j1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},CT=e=>vT.test(e)&&!xT.test(e),S1=()=>!1,RT=e=>yT.test(e),PT=e=>wT.test(e),TT=()=>{const e=Pe("colors"),t=Pe("spacing"),r=Pe("blur"),n=Pe("brightness"),s=Pe("borderColor"),o=Pe("borderRadius"),i=Pe("borderSpacing"),l=Pe("borderWidth"),c=Pe("contrast"),u=Pe("grayscale"),f=Pe("hueRotate"),d=Pe("invert"),h=Pe("gap"),p=Pe("gradientColorStops"),x=Pe("gradientColorStopPositions"),g=Pe("inset"),w=Pe("margin"),y=Pe("opacity"),v=Pe("padding"),b=Pe("saturate"),j=Pe("scale"),S=Pe("sepia"),k=Pe("skew"),N=Pe("space"),E=Pe("translate"),R=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",le,t],O=()=>[le,t],H=()=>["",tn,An],D=()=>["auto",Jo,le],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",le],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Jo,le];return{cacheSize:500,separator:":",theme:{colors:[ii],spacing:[tn,An],blur:["none","",In,le],brightness:U(),borderColor:[e],borderRadius:["none","","full",In,le],borderSpacing:O(),borderWidth:H(),contrast:U(),grayscale:P(),hueRotate:U(),invert:P(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[bT,An],inset:M(),margin:M(),opacity:U(),padding:O(),saturate:U(),scale:U(),sepia:P(),skew:U(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[In]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),le]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ai,le]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",ai,le]}],"grid-cols":[{"grid-cols":[ii]}],"col-start-end":[{col:["auto",{span:["full",ai,le]},le]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[ii]}],"row-start-end":[{row:["auto",{span:[ai,le]},le]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,t]}],"min-w":[{"min-w":[le,t,"min","max","fit"]}],"max-w":[{"max-w":[le,t,"none","full","min","max","fit","prose",{screen:[In]},In]}],h:[{h:[le,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,t,"auto","min","max","fit"]}],"font-size":[{text:["base",In,An]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pf]}],"font-family":[{font:[ii]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",Jo,Pf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,An]}],"underline-offset":[{"underline-offset":["auto",tn,le]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),_T]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ST]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[tn,le]}],"outline-w":[{outline:[tn,An]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[tn,An]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",In,ET]}],"shadow-color":[{shadow:[ii]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",In,le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ai,le]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[tn,An,Pf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AT=hT(TT);function A(...e){return AT(h1(e))}const IT=CP,_1=m.forwardRef(({className:e,...t},r)=>a.jsx(a1,{ref:r,className:A("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_1.displayName=a1.displayName;const OT=ho("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),N1=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(i1,{ref:n,className:A(OT({variant:t}),e),...r}));N1.displayName=i1.displayName;const MT=m.forwardRef(({className:e,...t},r)=>a.jsx(u1,{ref:r,className:A("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));MT.displayName=u1.displayName;const k1=m.forwardRef(({className:e,...t},r)=>a.jsx(d1,{ref:r,className:A("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(yl,{className:"h-4 w-4"})}));k1.displayName=d1.displayName;const E1=m.forwardRef(({className:e,...t},r)=>a.jsx(l1,{ref:r,className:A("text-sm font-semibold",e),...t}));E1.displayName=l1.displayName;const C1=m.forwardRef(({className:e,...t},r)=>a.jsx(c1,{ref:r,className:A("text-sm opacity-90",e),...t}));C1.displayName=c1.displayName;function DT(){const{toasts:e}=gr();return a.jsxs(IT,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return a.jsxs(N1,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(E1,{children:r}),n&&a.jsx(C1,{children:n})]}),s,a.jsx(k1,{})]},t)}),a.jsx(_1,{})]})}var sx=["light","dark"],LT="(prefers-color-scheme: dark)",$T=m.createContext(void 0),FT={setTheme:e=>{},themes:[]},zT=()=>{var e;return(e=m.useContext($T))!=null?e:FT};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=s?sx.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,g=!1,w=!0)=>{let y=i?i[x]:x,v=g?x+"|| ''":`'${y}'`,b="";return s&&w&&!g&&sx.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),r==="class"?g||y?b+=`c.add(${v})`:b+="null":y&&(b+=`d[s](n,${v})`),b},p=e?`!function(){${f}${h(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${LT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${d}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var UT=e=>{switch(e){case"success":return qT;case"info":return HT;case"warning":return WT;case"error":return KT;default:return null}},BT=Array(12).fill(0),VT=({visible:e})=>I.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},I.createElement("div",{className:"sonner-spinner"},BT.map((t,r)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),qT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),GT=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},rm=1,QT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:rm++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async o=>{if(XT(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||rm++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Wt=new QT,YT=(e,t)=>{let r=(t==null?void 0:t.id)||rm++;return Wt.addToast({title:e,...t,id:r}),r},XT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",JT=YT,ZT=()=>Wt.toasts,_e=Object.assign(JT,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:ZT});function eA(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}eA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ac(e){return e.label!==void 0}var tA=3,rA="32px",nA=4e3,sA=356,oA=14,aA=20,iA=200;function lA(...e){return e.filter(Boolean).join(" ")}var cA=e=>{var t,r,n,s,o,i,l,c,u,f;let{invert:d,toast:h,unstyled:p,interacting:x,setHeights:g,visibleToasts:w,heights:y,index:v,toasts:b,expanded:j,removeToast:S,defaultRichColors:k,closeButton:N,style:E,cancelButtonStyle:R,actionButtonStyle:T,className:M="",descriptionClassName:O="",duration:H,position:D,gap:X,loadingIcon:z,expandByDefault:G,classNames:C,icons:P,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:U,cn:B}=e,[Z,ne]=I.useState(!1),[we,ae]=I.useState(!1),[Q,ge]=I.useState(!1),[xe,me]=I.useState(!1),[be,ye]=I.useState(0),[gt,Vt]=I.useState(0),Rn=I.useRef(null),rr=I.useRef(null),Es=v===0,Yd=v+1<=w,rt=h.type,xo=h.dismissible!==!1,eC=h.className||"",tC=h.descriptionClassName||"",Ll=I.useMemo(()=>y.findIndex(ie=>ie.toastId===h.id)||0,[y,h.id]),rC=I.useMemo(()=>{var ie;return(ie=h.closeButton)!=null?ie:N},[h.closeButton,N]),Iv=I.useMemo(()=>h.duration||H||nA,[h.duration,H]),Xd=I.useRef(0),yo=I.useRef(0),Ov=I.useRef(0),wo=I.useRef(null),[Mv,nC]=D.split("-"),Dv=I.useMemo(()=>y.reduce((ie,Re,ke)=>ke>=Ll?ie:ie+Re.height,0),[y,Ll]),Lv=GT(),sC=h.invert||d,Jd=rt==="loading";yo.current=I.useMemo(()=>Ll*X+Dv,[Ll,Dv]),I.useEffect(()=>{ne(!0)},[]),I.useLayoutEffect(()=>{if(!Z)return;let ie=rr.current,Re=ie.style.height;ie.style.height="auto";let ke=ie.getBoundingClientRect().height;ie.style.height=Re,Vt(ke),g(Mr=>Mr.find(Dr=>Dr.toastId===h.id)?Mr.map(Dr=>Dr.toastId===h.id?{...Dr,height:ke}:Dr):[{toastId:h.id,height:ke,position:h.position},...Mr])},[Z,h.title,h.description,g,h.id]);let Pn=I.useCallback(()=>{ae(!0),ye(yo.current),g(ie=>ie.filter(Re=>Re.toastId!==h.id)),setTimeout(()=>{S(h)},iA)},[h,S,g,yo]);I.useEffect(()=>{if(h.promise&&rt==="loading"||h.duration===1/0||h.type==="loading")return;let ie,Re=Iv;return j||x||U&&Lv?(()=>{if(Ov.current<Xd.current){let ke=new Date().getTime()-Xd.current;Re=Re-ke}Ov.current=new Date().getTime()})():Re!==1/0&&(Xd.current=new Date().getTime(),ie=setTimeout(()=>{var ke;(ke=h.onAutoClose)==null||ke.call(h,h),Pn()},Re)),()=>clearTimeout(ie)},[j,x,G,h,Iv,Pn,h.promise,rt,U,Lv]),I.useEffect(()=>{let ie=rr.current;if(ie){let Re=ie.getBoundingClientRect().height;return Vt(Re),g(ke=>[{toastId:h.id,height:Re,position:h.position},...ke]),()=>g(ke=>ke.filter(Mr=>Mr.toastId!==h.id))}},[g,h.id]),I.useEffect(()=>{h.delete&&Pn()},[Pn,h.delete]);function oC(){return P!=null&&P.loading?I.createElement("div",{className:"sonner-loader","data-visible":rt==="loading"},P.loading):z?I.createElement("div",{className:"sonner-loader","data-visible":rt==="loading"},z):I.createElement(VT,{visible:rt==="loading"})}return I.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:rr,className:B(M,eC,C==null?void 0:C.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,C==null?void 0:C.default,C==null?void 0:C[rt],(r=h==null?void 0:h.classNames)==null?void 0:r[rt]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:k,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":Z,"data-promise":!!h.promise,"data-removed":we,"data-visible":Yd,"data-y-position":Mv,"data-x-position":nC,"data-index":v,"data-front":Es,"data-swiping":Q,"data-dismissible":xo,"data-type":rt,"data-invert":sC,"data-swipe-out":xe,"data-expanded":!!(j||G&&Z),style:{"--index":v,"--toasts-before":v,"--z-index":b.length-v,"--offset":`${we?be:yo.current}px`,"--initial-height":G?"auto":`${gt}px`,...E,...h.style},onPointerDown:ie=>{Jd||!xo||(Rn.current=new Date,ye(yo.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(ge(!0),wo.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Re,ke,Mr;if(xe||!xo)return;wo.current=null;let Dr=Number(((ie=rr.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),$l=new Date().getTime()-((Re=Rn.current)==null?void 0:Re.getTime()),aC=Math.abs(Dr)/$l;if(Math.abs(Dr)>=aA||aC>.11){ye(yo.current),(ke=h.onDismiss)==null||ke.call(h,h),Pn(),me(!0);return}(Mr=rr.current)==null||Mr.style.setProperty("--swipe-amount","0px"),ge(!1)},onPointerMove:ie=>{var Re;if(!wo.current||!xo)return;let ke=ie.clientY-wo.current.y,Mr=ie.clientX-wo.current.x,Dr=(Mv==="top"?Math.min:Math.max)(0,ke),$l=ie.pointerType==="touch"?10:2;Math.abs(Dr)>$l?(Re=rr.current)==null||Re.style.setProperty("--swipe-amount",`${ke}px`):Math.abs(Mr)>$l&&(wo.current=null)}},rC&&!h.jsx?I.createElement("button",{"aria-label":V,"data-disabled":Jd,"data-close-button":!0,onClick:Jd||!xo?()=>{}:()=>{var ie;Pn(),(ie=h.onDismiss)==null||ie.call(h,h)},className:B(C==null?void 0:C.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||I.isValidElement(h.title)?h.jsx||h.title:I.createElement(I.Fragment,null,rt||h.icon||h.promise?I.createElement("div",{"data-icon":"",className:B(C==null?void 0:C.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||oC():null,h.type!=="loading"?h.icon||(P==null?void 0:P[rt])||UT(rt):null):null,I.createElement("div",{"data-content":"",className:B(C==null?void 0:C.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},I.createElement("div",{"data-title":"",className:B(C==null?void 0:C.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?I.createElement("div",{"data-description":"",className:B(O,tC,C==null?void 0:C.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),I.isValidElement(h.cancel)?h.cancel:h.cancel&&ac(h.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||R,onClick:ie=>{var Re,ke;ac(h.cancel)&&xo&&((ke=(Re=h.cancel).onClick)==null||ke.call(Re,ie),Pn())},className:B(C==null?void 0:C.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,I.isValidElement(h.action)?h.action:h.action&&ac(h.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:ie=>{var Re,ke;ac(h.action)&&(ie.defaultPrevented||((ke=(Re=h.action).onClick)==null||ke.call(Re,ie),Pn()))},className:B(C==null?void 0:C.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function ox(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var uA=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:l,theme:c="light",richColors:u,duration:f,style:d,visibleToasts:h=tA,toastOptions:p,dir:x=ox(),gap:g=oA,loadingIcon:w,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:b,cn:j=lA}=e,[S,k]=I.useState([]),N=I.useMemo(()=>Array.from(new Set([r].concat(S.filter(U=>U.position).map(U=>U.position)))),[S,r]),[E,R]=I.useState([]),[T,M]=I.useState(!1),[O,H]=I.useState(!1),[D,X]=I.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=I.useRef(null),G=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=I.useRef(null),P=I.useRef(!1),V=I.useCallback(U=>{var B;(B=S.find(Z=>Z.id===U.id))!=null&&B.delete||Wt.dismiss(U.id),k(Z=>Z.filter(({id:ne})=>ne!==U.id))},[S]);return I.useEffect(()=>Wt.subscribe(U=>{if(U.dismiss){k(B=>B.map(Z=>Z.id===U.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{Bb.flushSync(()=>{k(B=>{let Z=B.findIndex(ne=>ne.id===U.id);return Z!==-1?[...B.slice(0,Z),{...B[Z],...U},...B.slice(Z+1)]:[U,...B]})})})}),[]),I.useEffect(()=>{if(c!=="system"){X(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:U})=>{X(U?"dark":"light")})},[c]),I.useEffect(()=>{S.length<=1&&M(!1)},[S]),I.useEffect(()=>{let U=B=>{var Z,ne;n.every(we=>B[we]||B.code===we)&&(M(!0),(Z=z.current)==null||Z.focus()),B.code==="Escape"&&(document.activeElement===z.current||(ne=z.current)!=null&&ne.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[n]),I.useEffect(()=>{if(z.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,P.current=!1)}},[z.current]),S.length?I.createElement("section",{"aria-label":`${v} ${G}`,tabIndex:-1},N.map((U,B)=>{var Z;let[ne,we]=U.split("-");return I.createElement("ol",{key:U,dir:x==="auto"?ox():x,tabIndex:-1,ref:z,className:i,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":ne,"data-x-position":we,style:{"--front-toast-height":`${((Z=E[0])==null?void 0:Z.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||rA,"--width":`${sA}px`,"--gap":`${g}px`,...d},onBlur:ae=>{P.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(P.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||P.current||(P.current=!0,C.current=ae.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{O||M(!1)},onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},S.filter(ae=>!ae.position&&B===0||ae.position===U).map((ae,Q)=>{var ge,xe;return I.createElement(cA,{key:ae.id,icons:y,index:Q,toast:ae,defaultRichColors:u,duration:(ge=p==null?void 0:p.duration)!=null?ge:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(xe=p==null?void 0:p.closeButton)!=null?xe:o,interacting:O,position:U,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:V,toasts:S.filter(me=>me.position==ae.position),heights:E.filter(me=>me.position==ae.position),setHeights:R,expandByDefault:s,gap:g,loadingIcon:w,expanded:T,pauseWhenPageIsHidden:b,cn:j})}))})):null};const dA=({...e})=>{const{theme:t="system"}=zT();return a.jsx(uA,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var fA=Fy.useId||(()=>{}),hA=0;function Yt(e){const[t,r]=m.useState(fA());return Ke(()=>{e||r(n=>n??String(hA++))},[e]),e||(t?`radix-${t}`:"")}const mA=["top","right","bottom","left"],ms=Math.min,Kt=Math.max,gu=Math.round,ic=Math.floor,ps=e=>({x:e,y:e}),pA={left:"right",right:"left",bottom:"top",top:"bottom"},gA={start:"end",end:"start"};function nm(e,t,r){return Kt(e,ms(t,r))}function wn(e,t){return typeof e=="function"?e(t):e}function bn(e){return e.split("-")[0]}function Da(e){return e.split("-")[1]}function sg(e){return e==="x"?"y":"x"}function og(e){return e==="y"?"height":"width"}function gs(e){return["top","bottom"].includes(bn(e))?"y":"x"}function ag(e){return sg(gs(e))}function vA(e,t,r){r===void 0&&(r=!1);const n=Da(e),s=ag(e),o=og(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=vu(i)),[i,vu(i)]}function xA(e){const t=vu(e);return[sm(e),t,sm(t)]}function sm(e){return e.replace(/start|end/g,t=>gA[t])}function yA(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function wA(e,t,r,n){const s=Da(e);let o=yA(bn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(sm)))),o}function vu(e){return e.replace(/left|right|bottom|top/g,t=>pA[t])}function bA(e){return{top:0,right:0,bottom:0,left:0,...e}}function R1(e){return typeof e!="number"?bA(e):{top:e,right:e,bottom:e,left:e}}function xu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function ax(e,t,r){let{reference:n,floating:s}=e;const o=gs(t),i=ag(t),l=og(i),c=bn(t),u=o==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-s.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-s.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Da(t)){case"start":p[i]-=h*(r&&u?-1:1);break;case"end":p[i]+=h*(r&&u?-1:1);break}return p}const jA=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=ax(u,n,c),h=n,p={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:y}=l[g],{x:v,y:b,data:j,reset:S}=await y({x:f,y:d,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});f=v??f,d=b??d,p={...p,[w]:{...p[w],...j}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:f,y:d}=ax(u,h,c)),g=-1)}return{x:f,y:d,placement:h,strategy:s,middlewareData:p}};async function Zi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=wn(t,e),x=R1(p),w=l[h?d==="floating"?"reference":"floating":d],y=xu(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),v=d==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=xu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-S.top+x.top)/j.y,bottom:(S.bottom-y.bottom+x.bottom)/j.y,left:(y.left-S.left+x.left)/j.x,right:(S.right-y.right+x.right)/j.x}}const SA=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=wn(e,t)||{};if(u==null)return{};const d=R1(f),h={x:r,y:n},p=ag(s),x=og(p),g=await i.getDimensions(u),w=p==="y",y=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=o.reference[x]+o.reference[p]-h[p]-o.floating[x],S=h[p]-o.reference[p],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=k?k[b]:0;(!N||!await(i.isElement==null?void 0:i.isElement(k)))&&(N=l.floating[b]||o.floating[x]);const E=j/2-S/2,R=N/2-g[x]/2-1,T=ms(d[y],R),M=ms(d[v],R),O=T,H=N-g[x]-M,D=N/2-g[x]/2+E,X=nm(O,D,H),z=!c.arrow&&Da(s)!=null&&D!==X&&o.reference[x]/2-(D<O?T:M)-g[x]/2<0,G=z?D<O?D-O:D-H:0;return{[p]:h[p]+G,data:{[p]:X,centerOffset:D-X-G,...z&&{alignmentOffset:G}},reset:z}}}),_A=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=wn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=bn(s),v=gs(l),b=bn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!g?[vu(l)]:xA(l)),k=x!=="none";!h&&k&&S.push(...wA(l,g,x,j));const N=[l,...S],E=await Zi(t,w),R=[];let T=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&R.push(E[y]),d){const D=vA(s,i,j);R.push(E[D[0]],E[D[1]])}if(T=[...T,{placement:s,overflows:R}],!R.every(D=>D<=0)){var M,O;const D=(((M=o.flip)==null?void 0:M.index)||0)+1,X=N[D];if(X)return{data:{index:D,overflows:T},reset:{placement:X}};let z=(O=T.filter(G=>G.overflows[0]<=0).sort((G,C)=>G.overflows[1]-C.overflows[1])[0])==null?void 0:O.placement;if(!z)switch(p){case"bestFit":{var H;const G=(H=T.filter(C=>{if(k){const P=gs(C.placement);return P===v||P==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(P=>P>0).reduce((P,V)=>P+V,0)]).sort((C,P)=>C[1]-P[1])[0])==null?void 0:H[0];G&&(z=G);break}case"initialPlacement":z=l;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function ix(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lx(e){return mA.some(t=>e[t]>=0)}const NA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=wn(e,t);switch(n){case"referenceHidden":{const o=await Zi(t,{...s,elementContext:"reference"}),i=ix(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:lx(i)}}}case"escaped":{const o=await Zi(t,{...s,altBoundary:!0}),i=ix(o,r.floating);return{data:{escapedOffsets:i,escaped:lx(i)}}}default:return{}}}}};async function kA(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=bn(r),l=Da(r),c=gs(r)==="y",u=["left","top"].includes(i)?-1:1,f=o&&c?-1:1,d=wn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const EA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await kA(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},CA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...c}=wn(e,t),u={x:r,y:n},f=await Zi(t,c),d=gs(bn(s)),h=sg(d);let p=u[h],x=u[d];if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=p+f[w],b=p-f[y];p=nm(v,p,b)}if(i){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=x+f[w],b=x-f[y];x=nm(v,x,b)}const g=l.fn({...t,[h]:p,[d]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:o,[d]:i}}}}}},RA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=wn(e,t),f={x:r,y:n},d=gs(s),h=sg(d);let p=f[h],x=f[d];const g=wn(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",j=o.reference[h]-o.floating[b]+w.mainAxis,S=o.reference[h]+o.reference[b]-w.mainAxis;p<j?p=j:p>S&&(p=S)}if(u){var y,v;const b=h==="y"?"width":"height",j=["top","left"].includes(bn(s)),S=o.reference[d]-o.floating[b]+(j&&((y=i.offset)==null?void 0:y[d])||0)+(j?0:w.crossAxis),k=o.reference[d]+o.reference[b]+(j?0:((v=i.offset)==null?void 0:v[d])||0)-(j?w.crossAxis:0);x<S?x=S:x>k&&(x=k)}return{[h]:p,[d]:x}}}},PA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=wn(e,t),f=await Zi(t,u),d=bn(s),h=Da(s),p=gs(s)==="y",{width:x,height:g}=o.floating;let w,y;d==="top"||d==="bottom"?(w=d,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,w=h==="end"?"top":"bottom");const v=g-f.top-f.bottom,b=x-f.left-f.right,j=ms(g-f[w],v),S=ms(x-f[y],b),k=!t.middlewareData.shift;let N=j,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=v),k&&!h){const T=Kt(f.left,0),M=Kt(f.right,0),O=Kt(f.top,0),H=Kt(f.bottom,0);p?E=x-2*(T!==0||M!==0?T+M:Kt(f.left,f.right)):N=g-2*(O!==0||H!==0?O+H:Kt(f.top,f.bottom))}await c({...t,availableWidth:E,availableHeight:N});const R=await i.getDimensions(l.floating);return x!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function id(){return typeof window<"u"}function La(e){return P1(e)?(e.nodeName||"").toLowerCase():"#document"}function Xt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jr(e){var t;return(t=(P1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function P1(e){return id()?e instanceof Node||e instanceof Xt(e).Node:!1}function Tr(e){return id()?e instanceof Element||e instanceof Xt(e).Element:!1}function Yr(e){return id()?e instanceof HTMLElement||e instanceof Xt(e).HTMLElement:!1}function cx(e){return!id()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xt(e).ShadowRoot}function wl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function TA(e){return["table","td","th"].includes(La(e))}function ld(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ig(e){const t=lg(),r=Tr(e)?Ar(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function AA(e){let t=vs(e);for(;Yr(t)&&!Na(t);){if(ig(t))return t;if(ld(t))return null;t=vs(t)}return null}function lg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Na(e){return["html","body","#document"].includes(La(e))}function Ar(e){return Xt(e).getComputedStyle(e)}function cd(e){return Tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vs(e){if(La(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cx(e)&&e.host||Jr(e);return cx(t)?t.host:t}function T1(e){const t=vs(e);return Na(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yr(t)&&wl(t)?t:T1(t)}function el(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=T1(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Xt(s);if(o){const l=om(i);return t.concat(i,i.visualViewport||[],wl(s)?s:[],l&&r?el(l):[])}return t.concat(s,el(s,[],r))}function om(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function A1(e){const t=Ar(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Yr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=gu(r)!==o||gu(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function cg(e){return Tr(e)?e:e.contextElement}function Zo(e){const t=cg(e);if(!Yr(t))return ps(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=A1(t);let i=(o?gu(r.width):r.width)/n,l=(o?gu(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const IA=ps(0);function I1(e){const t=Xt(e);return!lg()||!t.visualViewport?IA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function OA(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xt(e)?!1:t}function to(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=cg(e);let i=ps(1);t&&(n?Tr(n)&&(i=Zo(n)):i=Zo(e));const l=OA(o,r,n)?I1(o):ps(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,f=s.width/i.x,d=s.height/i.y;if(o){const h=Xt(o),p=n&&Tr(n)?Xt(n):n;let x=h,g=om(x);for(;g&&n&&p!==x;){const w=Zo(g),y=g.getBoundingClientRect(),v=Ar(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,j=y.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,d*=w.y,c+=b,u+=j,x=Xt(g),g=om(x)}}return xu({width:f,height:d,x:c,y:u})}function MA(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Jr(n),l=t?ld(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=ps(1);const f=ps(0),d=Yr(n);if((d||!d&&!o)&&((La(n)!=="body"||wl(i))&&(c=cd(n)),Yr(n))){const h=to(n);u=Zo(n),f.x=h.x+n.clientLeft,f.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x,y:r.y*u.y-c.scrollTop*u.y+f.y}}function DA(e){return Array.from(e.getClientRects())}function am(e,t){const r=cd(e).scrollLeft;return t?t.left+r:to(Jr(e)).left+r}function LA(e){const t=Jr(e),r=cd(e),n=e.ownerDocument.body,s=Kt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Kt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+am(e);const l=-r.scrollTop;return Ar(n).direction==="rtl"&&(i+=Kt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function $A(e,t){const r=Xt(e),n=Jr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=lg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function FA(e,t){const r=to(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Yr(e)?Zo(e):ps(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function ux(e,t,r){let n;if(t==="viewport")n=$A(e,r);else if(t==="document")n=LA(Jr(e));else if(Tr(t))n=FA(t,r);else{const s=I1(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return xu(n)}function O1(e,t){const r=vs(e);return r===t||!Tr(r)||Na(r)?!1:Ar(r).position==="fixed"||O1(r,t)}function zA(e,t){const r=t.get(e);if(r)return r;let n=el(e,[],!1).filter(l=>Tr(l)&&La(l)!=="body"),s=null;const o=Ar(e).position==="fixed";let i=o?vs(e):e;for(;Tr(i)&&!Na(i);){const l=Ar(i),c=ig(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||wl(i)&&!c&&O1(e,i))?n=n.filter(f=>f!==i):s=l,i=vs(i)}return t.set(e,n),n}function UA(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?ld(t)?[]:zA(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,f)=>{const d=ux(t,f,s);return u.top=Kt(d.top,u.top),u.right=ms(d.right,u.right),u.bottom=ms(d.bottom,u.bottom),u.left=Kt(d.left,u.left),u},ux(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function BA(e){const{width:t,height:r}=A1(e);return{width:t,height:r}}function VA(e,t,r){const n=Yr(t),s=Jr(t),o=r==="fixed",i=to(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=ps(0);if(n||!n&&!o)if((La(t)!=="body"||wl(s))&&(l=cd(t)),n){const p=to(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=am(s));let u=0,f=0;if(s&&!n&&!o){const p=s.getBoundingClientRect();f=p.top+l.scrollTop,u=p.left+l.scrollLeft-am(s,p)}const d=i.left+l.scrollLeft-c.x-u,h=i.top+l.scrollTop-c.y-f;return{x:d,y:h,width:i.width,height:i.height}}function Tf(e){return Ar(e).position==="static"}function dx(e,t){if(!Yr(e)||Ar(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Jr(e)===r&&(r=r.ownerDocument.body),r}function M1(e,t){const r=Xt(e);if(ld(e))return r;if(!Yr(e)){let s=vs(e);for(;s&&!Na(s);){if(Tr(s)&&!Tf(s))return s;s=vs(s)}return r}let n=dx(e,t);for(;n&&TA(n)&&Tf(n);)n=dx(n,t);return n&&Na(n)&&Tf(n)&&!ig(n)?r:n||AA(e)||r}const qA=async function(e){const t=this.getOffsetParent||M1,r=this.getDimensions,n=await r(e.floating);return{reference:VA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function WA(e){return Ar(e).direction==="rtl"}const HA={convertOffsetParentRelativeRectToViewportRelativeRect:MA,getDocumentElement:Jr,getClippingRect:UA,getOffsetParent:M1,getElementRects:qA,getClientRects:DA,getDimensions:BA,getScale:Zo,isElement:Tr,isRTL:WA};function KA(e,t){let r=null,n;const s=Jr(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:f,width:d,height:h}=e.getBoundingClientRect();if(l||t(),!d||!h)return;const p=ic(f),x=ic(s.clientWidth-(u+d)),g=ic(s.clientHeight-(f+h)),w=ic(u),v={rootMargin:-p+"px "+-x+"px "+-g+"px "+-w+"px",threshold:Kt(0,ms(1,c))||1};let b=!0;function j(S){const k=S[0].intersectionRatio;if(k!==c){if(!b)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(j,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,v)}r.observe(e)}return i(!0),o}function GA(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=cg(e),f=s||o?[...u?el(u):[],...el(t)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const d=u&&l?KA(u,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let x,g=c?to(e):null;c&&w();function w(){const y=to(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&r(),g=y,x=requestAnimationFrame(w)}return r(),()=>{var y;f.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const QA=EA,YA=CA,XA=_A,JA=PA,ZA=NA,fx=SA,eI=RA,tI=(e,t,r)=>{const n=new Map,s={platform:HA,...r},o={...s.platform,_c:n};return jA(e,t,{...s,platform:o})};var $c=typeof document<"u"?m.useLayoutEffect:m.useEffect;function yu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!yu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!yu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function D1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hx(e,t){const r=D1(e);return Math.round(t*r)/r}function Af(e){const t=m.useRef(e);return $c(()=>{t.current=e}),t}function rI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);yu(h,n)||p(n);const[x,g]=m.useState(null),[w,y]=m.useState(null),v=m.useCallback(C=>{C!==k.current&&(k.current=C,g(C))},[]),b=m.useCallback(C=>{C!==N.current&&(N.current=C,y(C))},[]),j=o||x,S=i||w,k=m.useRef(null),N=m.useRef(null),E=m.useRef(f),R=c!=null,T=Af(c),M=Af(s),O=Af(u),H=m.useCallback(()=>{if(!k.current||!N.current)return;const C={placement:t,strategy:r,middleware:h};M.current&&(C.platform=M.current),tI(k.current,N.current,C).then(P=>{const V={...P,isPositioned:O.current!==!1};D.current&&!yu(E.current,V)&&(E.current=V,fo.flushSync(()=>{d(V)}))})},[h,t,r,M,O]);$c(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(C=>({...C,isPositioned:!1})))},[u]);const D=m.useRef(!1);$c(()=>(D.current=!0,()=>{D.current=!1}),[]),$c(()=>{if(j&&(k.current=j),S&&(N.current=S),j&&S){if(T.current)return T.current(j,S,H);H()}},[j,S,H,T,R]);const X=m.useMemo(()=>({reference:k,floating:N,setReference:v,setFloating:b}),[v,b]),z=m.useMemo(()=>({reference:j,floating:S}),[j,S]),G=m.useMemo(()=>{const C={position:r,left:0,top:0};if(!z.floating)return C;const P=hx(z.floating,f.x),V=hx(z.floating,f.y);return l?{...C,transform:"translate("+P+"px, "+V+"px)",...D1(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:V}},[r,l,z.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:H,refs:X,elements:z,floatingStyles:G}),[f,H,X,z,G])}const nI=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?fx({element:n.current,padding:s}).fn(r):{}:n?fx({element:n,padding:s}).fn(r):{}}}},sI=(e,t)=>({...QA(e),options:[e,t]}),oI=(e,t)=>({...YA(e),options:[e,t]}),aI=(e,t)=>({...eI(e),options:[e,t]}),iI=(e,t)=>({...XA(e),options:[e,t]}),lI=(e,t)=>({...JA(e),options:[e,t]}),cI=(e,t)=>({...ZA(e),options:[e,t]}),uI=(e,t)=>({...nI(e),options:[e,t]});var dI="Arrow",L1=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(W.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});L1.displayName=dI;var fI=L1;function hI(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(d){const{scope:h,children:p,...x}=d,g=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,x=m.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,mI(s,...t)]}function mI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function ud(e){const[t,r]=m.useState(void 0);return Ke(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ug="Popper",[$1,$a]=hI(ug),[pI,F1]=$1(ug),z1=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return a.jsx(pI,{scope:t,anchor:n,onAnchorChange:s,children:r})};z1.displayName=ug;var U1="PopperAnchor",B1=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=F1(U1,r),i=m.useRef(null),l=re(t,i);return m.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(W.div,{...s,ref:l})});B1.displayName=U1;var dg="PopperContent",[gI,vI]=$1(dg),V1=m.forwardRef((e,t)=>{var Q,ge,xe,me,be,ye;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,w=F1(dg,r),[y,v]=m.useState(null),b=re(t,gt=>v(gt)),[j,S]=m.useState(null),k=ud(j),N=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,R=n+(o!=="center"?"-"+o:""),T=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(u)?u:[u],O=M.length>0,H={padding:T,boundary:M.filter(yI),altBoundary:O},{refs:D,floatingStyles:X,placement:z,isPositioned:G,middlewareData:C}=rI({strategy:"fixed",placement:R,whileElementsMounted:(...gt)=>GA(...gt,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[sI({mainAxis:s+E,alignmentAxis:i}),c&&oI({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?aI():void 0,...H}),c&&iI({...H}),lI({...H,apply:({elements:gt,rects:Vt,availableWidth:Rn,availableHeight:rr})=>{const{width:Es,height:Yd}=Vt.reference,rt=gt.floating.style;rt.setProperty("--radix-popper-available-width",`${Rn}px`),rt.setProperty("--radix-popper-available-height",`${rr}px`),rt.setProperty("--radix-popper-anchor-width",`${Es}px`),rt.setProperty("--radix-popper-anchor-height",`${Yd}px`)}}),j&&uI({element:j,padding:l}),wI({arrowWidth:N,arrowHeight:E}),h&&cI({strategy:"referenceHidden",...H})]}),[P,V]=H1(z),U=De(x);Ke(()=>{G&&(U==null||U())},[G,U]);const B=(Q=C.arrow)==null?void 0:Q.x,Z=(ge=C.arrow)==null?void 0:ge.y,ne=((xe=C.arrow)==null?void 0:xe.centerOffset)!==0,[we,ae]=m.useState();return Ke(()=>{y&&ae(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:G?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(me=C.transformOrigin)==null?void 0:me.x,(be=C.transformOrigin)==null?void 0:be.y].join(" "),...((ye=C.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(gI,{scope:r,placedSide:P,onArrowChange:S,arrowX:B,arrowY:Z,shouldHideArrow:ne,children:a.jsx(W.div,{"data-side":P,"data-align":V,...g,ref:b,style:{...g.style,animation:G?void 0:"none"}})})})});V1.displayName=dg;var q1="PopperArrow",xI={top:"bottom",right:"left",bottom:"top",left:"right"},W1=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=vI(q1,n),i=xI[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(fI,{...s,ref:r,style:{...s.style,display:"block"}})})});W1.displayName=q1;function yI(e){return e!==null}var wI=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:r,rects:n,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=H1(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=i?d:`${h}px`,g=`${-c}px`):u==="top"?(x=i?d:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=i?d:`${p}px`):u==="left"&&(x=`${n.floating.width+c}px`,g=i?d:`${p}px`),{data:{x,y:g}}}});function H1(e){const[t,r="center"]=e.split("-");return[t,r]}var fg=z1,hg=B1,mg=V1,pg=W1,[dd,mB]=pt("Tooltip",[$a]),fd=$a(),K1="TooltipProvider",bI=700,im="tooltip.open",[jI,gg]=dd(K1),G1=e=>{const{__scopeTooltip:t,delayDuration:r=bI,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,[i,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),a.jsx(jI,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:o})};G1.displayName=K1;var hd="Tooltip",[SI,md]=dd(hd),Q1=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=gg(hd,e.__scopeTooltip),u=fd(t),[f,d]=m.useState(null),h=Yt(),p=m.useRef(0),x=i??c.disableHoverableContent,g=l??c.delayDuration,w=m.useRef(!1),[y=!1,v]=Ft({prop:n,defaultProp:s,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(im))):c.onClose(),o==null||o(N)}}),b=m.useMemo(()=>y?w.current?"delayed-open":"instant-open":"closed",[y]),j=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,v(!0)},[v]),S=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),k=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,v(!0),p.current=0},g)},[g,v]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx(fg,{...u,children:a.jsx(SI,{scope:t,contentId:h,open:y,stateAttribute:b,trigger:f,onTriggerChange:d,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?k():j()},[c.isOpenDelayed,k,j]),onTriggerLeave:m.useCallback(()=>{x?S():(window.clearTimeout(p.current),p.current=0)},[S,x]),onOpen:j,onClose:S,disableHoverableContent:x,children:r})})};Q1.displayName=hd;var lm="TooltipTrigger",Y1=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=md(lm,r),o=gg(lm,r),i=fd(r),l=m.useRef(null),c=re(t,l,s.onTriggerChange),u=m.useRef(!1),f=m.useRef(!1),d=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),a.jsx(hg,{asChild:!0,...i,children:a.jsx(W.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:L(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:L(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:L(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:L(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:L(e.onBlur,s.onClose),onClick:L(e.onClick,s.onClose)})})});Y1.displayName=lm;var _I="TooltipPortal",[pB,NI]=dd(_I,{forceMount:void 0}),ka="TooltipContent",X1=m.forwardRef((e,t)=>{const r=NI(ka,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=md(ka,e.__scopeTooltip);return a.jsx(tt,{present:n||i.open,children:i.disableHoverableContent?a.jsx(J1,{side:s,...o,ref:t}):a.jsx(kI,{side:s,...o,ref:t})})}),kI=m.forwardRef((e,t)=>{const r=md(ka,e.__scopeTooltip),n=gg(ka,e.__scopeTooltip),s=m.useRef(null),o=re(t,s),[i,l]=m.useState(null),{trigger:c,onClose:u}=r,f=s.current,{onPointerInTransitChange:d}=n,h=m.useCallback(()=>{l(null),d(!1)},[d]),p=m.useCallback((x,g)=>{const w=x.currentTarget,y={x:x.clientX,y:x.clientY},v=PI(y,w.getBoundingClientRect()),b=TI(y,v),j=AI(g.getBoundingClientRect()),S=OI([...b,...j]);l(S),d(!0)},[d]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&f){const x=w=>p(w,f),g=w=>p(w,c);return c.addEventListener("pointerleave",x),f.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",g)}}},[c,f,p,h]),m.useEffect(()=>{if(i){const x=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),b=!II(y,i);v?h():b&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,f,i,u,h]),a.jsx(J1,{...e,ref:o})}),[EI,CI]=dd(hd,{isInside:!1}),J1=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=md(ka,r),u=fd(r),{onClose:f}=c;return m.useEffect(()=>(document.addEventListener(im,f),()=>document.removeEventListener(im,f)),[f]),m.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),a.jsx(Oa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:a.jsxs(mg,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Hp,{children:n}),a.jsx(EI,{scope:r,isInside:!0,children:a.jsx(uP,{id:c.contentId,role:"tooltip",children:s||n})})]})})});X1.displayName=ka;var Z1="TooltipArrow",RI=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=fd(r);return CI(Z1,r).isInside?null:a.jsx(pg,{...s,...n,ref:t})});RI.displayName=Z1;function PI(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function TI(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function AI(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function II(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,f=t[i].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function OI(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),MI(t)}function MI(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var DI=G1,LI=Q1,$I=Y1,ej=X1;const tj=DI,FI=LI,zI=$I,rj=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(ej,{ref:n,sideOffset:t,className:A("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));rj.displayName=ej.displayName;var Fa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ro=typeof window>"u"||"Deno"in globalThis;function sr(){}function UI(e,t){return typeof e=="function"?e(t):e}function cm(e){return typeof e=="number"&&e>=0&&e!==1/0}function nj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ea(e,t){return typeof e=="function"?e(t):e}function Er(e,t){return typeof e=="function"?e(t):e}function mx(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==vg(i,t.options))return!1}else if(!tl(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function px(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(no(t.options.mutationKey)!==no(o))return!1}else if(!tl(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function vg(e,t){return((t==null?void 0:t.queryKeyHashFn)||no)(e)}function no(e){return JSON.stringify(e,(t,r)=>um(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function tl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!tl(e[r],t[r])):!1}function sj(e,t){if(e===t)return e;const r=gx(e)&&gx(t);if(r||um(e)&&um(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const f=r?u:o[u];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=sj(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function wu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function gx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function um(e){if(!vx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!vx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function vx(e){return Object.prototype.toString.call(e)==="[object Object]"}function BI(e){return new Promise(t=>{setTimeout(t,e)})}function dm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?sj(e,t):t}function VI(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function qI(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var xg=Symbol();function oj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===xg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $s,Vn,sa,xy,WI=(xy=class extends Fa{constructor(){super();ee(this,$s);ee(this,Vn);ee(this,sa);q(this,sa,t=>{if(!ro&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_(this,Vn)||this.setEventListener(_(this,sa))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Vn))==null||t.call(this),q(this,Vn,void 0))}setEventListener(t){var r;q(this,sa,t),(r=_(this,Vn))==null||r.call(this),q(this,Vn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){_(this,$s)!==t&&(q(this,$s,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof _(this,$s)=="boolean"?_(this,$s):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$s=new WeakMap,Vn=new WeakMap,sa=new WeakMap,xy),yg=new WI,oa,qn,aa,yy,HI=(yy=class extends Fa{constructor(){super();ee(this,oa,!0);ee(this,qn);ee(this,aa);q(this,aa,t=>{if(!ro&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){_(this,qn)||this.setEventListener(_(this,aa))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,qn))==null||t.call(this),q(this,qn,void 0))}setEventListener(t){var r;q(this,aa,t),(r=_(this,qn))==null||r.call(this),q(this,qn,t(this.setOnline.bind(this)))}setOnline(t){_(this,oa)!==t&&(q(this,oa,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return _(this,oa)}},oa=new WeakMap,qn=new WeakMap,aa=new WeakMap,yy),bu=new HI;function fm(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function KI(e){return Math.min(1e3*2**e,3e4)}function aj(e){return(e??"online")==="online"?bu.isOnline():!0}var ij=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function If(e){return e instanceof ij}function lj(e){let t=!1,r=0,n=!1,s;const o=fm(),i=g=>{var w;n||(h(new ij(g)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>yg.isFocused()&&(e.networkMode==="always"||bu.isOnline())&&e.canRun(),f=()=>aj(e.networkMode)&&e.canRun(),d=g=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),o.resolve(g))},h=g=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),o.reject(g))},p=()=>new Promise(g=>{var w;s=y=>{(n||u())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(n)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var k;if(n)return;const v=e.retry??(ro?0:3),b=e.retryDelay??KI,j=typeof b=="function"?b(r,y):b,S=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!S){h(y);return}r++,(k=e.onFail)==null||k.call(e,r,y),BI(j).then(()=>u()?void 0:p()).then(()=>{t?h(y):x()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?x():p().then(x),o)}}function GI(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const o=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ye=GI(),Fs,wy,cj=(wy=class{constructor(){ee(this,Fs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cm(this.gcTime)&&q(this,Fs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ro?1/0:5*60*1e3))}clearGcTimeout(){_(this,Fs)&&(clearTimeout(_(this,Fs)),q(this,Fs,void 0))}},Fs=new WeakMap,wy),ia,la,nr,ft,ll,zs,Sr,rn,by,QI=(by=class extends cj{constructor(t){super();ee(this,Sr);ee(this,ia);ee(this,la);ee(this,nr);ee(this,ft);ee(this,ll);ee(this,zs);q(this,zs,!1),q(this,ll,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,nr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,ia,YI(this.options)),this.state=t.state??_(this,ia),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,ft))==null?void 0:t.promise}setOptions(t){this.options={..._(this,ll),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,nr).remove(this)}setData(t,r){const n=dm(this.state.data,t,this.options);return ce(this,Sr,rn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ce(this,Sr,rn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=_(this,ft))==null?void 0:n.promise;return(s=_(this,ft))==null||s.cancel(t),r?r.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,ia))}isActive(){return this.observers.some(t=>Er(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!nj(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=_(this,ft))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=_(this,ft))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,nr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(_(this,ft)&&(_(this,zs)?_(this,ft).cancel({revert:!0}):_(this,ft).cancelRetry()),this.scheduleGc()),_(this,nr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ce(this,Sr,rn).call(this,{type:"invalidate"})}fetch(t,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_(this,ft))return _(this,ft).continueRetry(),_(this,ft).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(q(this,zs,!0),n.signal)})},o=()=>{const d=oj(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),q(this,zs,!1),this.options.persister?this.options.persister(d,h,this):d(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),q(this,la,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&ce(this,Sr,rn).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,p,x,g;If(d)&&d.silent||ce(this,Sr,rn).call(this,{type:"error",error:d}),If(d)||((p=(h=_(this,nr).config).onError)==null||p.call(h,d,this),(g=(x=_(this,nr).config).onSettled)==null||g.call(x,this.state.data,d,this)),this.scheduleGc()};return q(this,ft,lj({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,p,x,g;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(w){l(w);return}(p=(h=_(this,nr).config).onSuccess)==null||p.call(h,d,this),(g=(x=_(this,nr).config).onSettled)==null||g.call(x,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{ce(this,Sr,rn).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{ce(this,Sr,rn).call(this,{type:"pause"})},onContinue:()=>{ce(this,Sr,rn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),_(this,ft).start()}},ia=new WeakMap,la=new WeakMap,nr=new WeakMap,ft=new WeakMap,ll=new WeakMap,zs=new WeakMap,Sr=new WeakSet,rn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...uj(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return If(s)&&s.revert&&_(this,la)?{..._(this,la),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ye.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),_(this,nr).notify({query:this,type:"updated",action:t})})},by);function uj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function YI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ur,jy,XI=(jy=class extends Fa{constructor(t={}){super();ee(this,Ur);this.config=t,q(this,Ur,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??vg(s,r);let i=this.get(o);return i||(i=new QI({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){_(this,Ur).has(t.queryHash)||(_(this,Ur).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=_(this,Ur).get(t.queryHash);r&&(t.destroy(),r===t&&_(this,Ur).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ye.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,Ur).get(t)}getAll(){return[..._(this,Ur).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>mx(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>mx(t,n)):r}notify(t){Ye.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ye.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ye.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ur=new WeakMap,jy),Br,yt,Us,Vr,On,Sy,JI=(Sy=class extends cj{constructor(t){super();ee(this,Vr);ee(this,Br);ee(this,yt);ee(this,Us);this.mutationId=t.mutationId,q(this,yt,t.mutationCache),q(this,Br,[]),this.state=t.state||dj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,Br).includes(t)||(_(this,Br).push(t),this.clearGcTimeout(),_(this,yt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,Br,_(this,Br).filter(r=>r!==t)),this.scheduleGc(),_(this,yt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,Br).length||(this.state.status==="pending"?this.scheduleGc():_(this,yt).remove(this))}continue(){var t;return((t=_(this,Us))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,l,c,u,f,d,h,p,x,g,w,y,v,b,j,S,k,N;q(this,Us,lj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,R)=>{ce(this,Vr,On).call(this,{type:"failed",failureCount:E,error:R})},onPause:()=>{ce(this,Vr,On).call(this,{type:"pause"})},onContinue:()=>{ce(this,Vr,On).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,yt).canRun(this)}));const r=this.state.status==="pending",n=!_(this,Us).canStart();try{if(!r){ce(this,Vr,On).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(s=_(this,yt).config).onMutate)==null?void 0:o.call(s,t,this));const R=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));R!==this.state.context&&ce(this,Vr,On).call(this,{type:"pending",context:R,variables:t,isPaused:n})}const E=await _(this,Us).start();return await((u=(c=_(this,yt).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,E,t,this.state.context)),await((p=(h=_(this,yt).config).onSettled)==null?void 0:p.call(h,E,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,E,null,t,this.state.context)),ce(this,Vr,On).call(this,{type:"success",data:E}),E}catch(E){try{throw await((y=(w=_(this,yt).config).onError)==null?void 0:y.call(w,E,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,E,t,this.state.context)),await((S=(j=_(this,yt).config).onSettled)==null?void 0:S.call(j,void 0,E,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,E,t,this.state.context)),E}finally{ce(this,Vr,On).call(this,{type:"error",error:E})}}finally{_(this,yt).runNext(this)}}},Br=new WeakMap,yt=new WeakMap,Us=new WeakMap,Vr=new WeakSet,On=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ye.batch(()=>{_(this,Br).forEach(n=>{n.onMutationUpdate(t)}),_(this,yt).notify({mutation:this,type:"updated",action:t})})},Sy);function dj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qt,cl,_y,ZI=(_y=class extends Fa{constructor(t={}){super();ee(this,qt);ee(this,cl);this.config=t,q(this,qt,new Map),q(this,cl,Date.now())}build(t,r,n){const s=new JI({mutationCache:this,mutationId:++Fl(this,cl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=lc(t),n=_(this,qt).get(r)??[];n.push(t),_(this,qt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=lc(t);if(_(this,qt).has(r)){const s=(n=_(this,qt).get(r))==null?void 0:n.filter(o=>o!==t);s&&(s.length===0?_(this,qt).delete(r):_(this,qt).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=_(this,qt).get(lc(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=_(this,qt).get(lc(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Ye.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[..._(this,qt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>px(r,n))}findAll(t={}){return this.getAll().filter(r=>px(t,r))}notify(t){Ye.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ye.batch(()=>Promise.all(t.map(r=>r.continue().catch(sr))))}},qt=new WeakMap,cl=new WeakMap,_y);function lc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function xx(e){return{onFetch:(t,r)=>{var f,d,h,p,x;const n=t.options,s=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=oj(t.options,t.fetchOptions),v=async(b,j,S)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const k={queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};w(k);const N=await y(k),{maxPages:E}=t.options,R=S?qI:VI;return{pages:R(b.pages,N,E),pageParams:R(b.pageParams,j,E)}};if(s&&o.length){const b=s==="backward",j=b?eO:yx,S={pages:o,pageParams:i},k=j(n,S);l=await v(S,k,b)}else{const b=e??o.length;do{const j=c===0?i[0]??n.initialPageParam:yx(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function yx(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function eO(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Be,Wn,Hn,ca,ua,Kn,da,fa,Ny,tO=(Ny=class{constructor(e={}){ee(this,Be);ee(this,Wn);ee(this,Hn);ee(this,ca);ee(this,ua);ee(this,Kn);ee(this,da);ee(this,fa);q(this,Be,e.queryCache||new XI),q(this,Wn,e.mutationCache||new ZI),q(this,Hn,e.defaultOptions||{}),q(this,ca,new Map),q(this,ua,new Map),q(this,Kn,0)}mount(){Fl(this,Kn)._++,_(this,Kn)===1&&(q(this,da,yg.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,Be).onFocus())})),q(this,fa,bu.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,Be).onOnline())})))}unmount(){var e,t;Fl(this,Kn)._--,_(this,Kn)===0&&((e=_(this,da))==null||e.call(this),q(this,da,void 0),(t=_(this,fa))==null||t.call(this),q(this,fa,void 0))}isFetching(e){return _(this,Be).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,Wn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_(this,Be).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=_(this,Be).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(ea(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return _(this,Be).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=_(this,Be).get(n.queryHash),o=s==null?void 0:s.state.data,i=UI(t,o);if(i!==void 0)return _(this,Be).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ye.batch(()=>_(this,Be).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_(this,Be).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=_(this,Be);Ye.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=_(this,Be),n={type:"active",...e};return Ye.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Ye.batch(()=>_(this,Be).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(sr).catch(sr)}invalidateQueries(e={},t={}){return Ye.batch(()=>{if(_(this,Be).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Ye.batch(()=>_(this,Be).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(sr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(sr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=_(this,Be).build(this,t);return r.isStaleByTime(ea(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sr).catch(sr)}fetchInfiniteQuery(e){return e.behavior=xx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sr).catch(sr)}ensureInfiniteQueryData(e){return e.behavior=xx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bu.isOnline()?_(this,Wn).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,Be)}getMutationCache(){return _(this,Wn)}getDefaultOptions(){return _(this,Hn)}setDefaultOptions(e){q(this,Hn,e)}setQueryDefaults(e,t){_(this,ca).set(no(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,ca).values()];let r={};return t.forEach(n=>{tl(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){_(this,ua).set(no(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,ua).values()];let r={};return t.forEach(n=>{tl(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,Hn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=vg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===xg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,Hn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,Be).clear(),_(this,Wn).clear()}},Be=new WeakMap,Wn=new WeakMap,Hn=new WeakMap,ca=new WeakMap,ua=new WeakMap,Kn=new WeakMap,da=new WeakMap,fa=new WeakMap,Ny),Pt,pe,ul,wt,Bs,ha,Gn,qr,dl,ma,pa,Vs,qs,Qn,ga,je,pi,hm,mm,pm,gm,vm,xm,ym,fj,ky,rO=(ky=class extends Fa{constructor(t,r){super();ee(this,je);ee(this,Pt);ee(this,pe);ee(this,ul);ee(this,wt);ee(this,Bs);ee(this,ha);ee(this,Gn);ee(this,qr);ee(this,dl);ee(this,ma);ee(this,pa);ee(this,Vs);ee(this,qs);ee(this,Qn);ee(this,ga,new Set);this.options=r,q(this,Pt,t),q(this,qr,null),q(this,Gn,fm()),this.options.experimental_prefetchInRender||_(this,Gn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,pe).addObserver(this),wx(_(this,pe),this.options)?ce(this,je,pi).call(this):this.updateResult(),ce(this,je,gm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wm(_(this,pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wm(_(this,pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ce(this,je,vm).call(this),ce(this,je,xm).call(this),_(this,pe).removeObserver(this)}setOptions(t,r){const n=this.options,s=_(this,pe);if(this.options=_(this,Pt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Er(this.options.enabled,_(this,pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ce(this,je,ym).call(this),_(this,pe).setOptions(this.options),n._defaulted&&!wu(this.options,n)&&_(this,Pt).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,pe),observer:this});const o=this.hasListeners();o&&bx(_(this,pe),s,this.options,n)&&ce(this,je,pi).call(this),this.updateResult(r),o&&(_(this,pe)!==s||Er(this.options.enabled,_(this,pe))!==Er(n.enabled,_(this,pe))||ea(this.options.staleTime,_(this,pe))!==ea(n.staleTime,_(this,pe)))&&ce(this,je,hm).call(this);const i=ce(this,je,mm).call(this);o&&(_(this,pe)!==s||Er(this.options.enabled,_(this,pe))!==Er(n.enabled,_(this,pe))||i!==_(this,Qn))&&ce(this,je,pm).call(this,i)}getOptimisticResult(t){const r=_(this,Pt).getQueryCache().build(_(this,Pt),t),n=this.createResult(r,t);return sO(this,n)&&(q(this,wt,n),q(this,ha,this.options),q(this,Bs,_(this,pe).state)),n}getCurrentResult(){return _(this,wt)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){_(this,ga).add(t)}getCurrentQuery(){return _(this,pe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=_(this,Pt).defaultQueryOptions(t),n=_(this,Pt).getQueryCache().build(_(this,Pt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ce(this,je,pi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,wt)))}createResult(t,r){var E;const n=_(this,pe),s=this.options,o=_(this,wt),i=_(this,Bs),l=_(this,ha),u=t!==n?t.state:_(this,ul),{state:f}=t;let d={...f},h=!1,p;if(r._optimisticResults){const R=this.hasListeners(),T=!R&&wx(t,r),M=R&&bx(t,n,r,s);(T||M)&&(d={...d,...uj(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:w}=d;if(r.select&&d.data!==void 0)if(o&&d.data===(i==null?void 0:i.data)&&r.select===_(this,dl))p=_(this,ma);else try{q(this,dl,r.select),p=r.select(d.data),p=dm(o==null?void 0:o.data,p,r),q(this,ma,p),q(this,qr,null)}catch(R){q(this,qr,R)}else p=d.data;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let R;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))R=o.data;else if(R=typeof r.placeholderData=="function"?r.placeholderData((E=_(this,pa))==null?void 0:E.state.data,_(this,pa)):r.placeholderData,r.select&&R!==void 0)try{R=r.select(R),q(this,qr,null)}catch(T){q(this,qr,T)}R!==void 0&&(w="success",p=dm(o==null?void 0:o.data,R,r),h=!0)}_(this,qr)&&(x=_(this,qr),p=_(this,ma),g=Date.now(),w="error");const y=d.fetchStatus==="fetching",v=w==="pending",b=w==="error",j=v&&y,S=p!==void 0,N={status:w,fetchStatus:d.fetchStatus,isPending:v,isSuccess:w==="success",isError:b,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:d.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&S,isStale:wg(t,r),refetch:this.refetch,promise:_(this,Gn)};if(this.options.experimental_prefetchInRender){const R=O=>{N.status==="error"?O.reject(N.error):N.data!==void 0&&O.resolve(N.data)},T=()=>{const O=q(this,Gn,N.promise=fm());R(O)},M=_(this,Gn);switch(M.status){case"pending":t.queryHash===n.queryHash&&R(M);break;case"fulfilled":(N.status==="error"||N.data!==M.value)&&T();break;case"rejected":(N.status!=="error"||N.error!==M.reason)&&T();break}}return N}updateResult(t){const r=_(this,wt),n=this.createResult(_(this,pe),this.options);if(q(this,Bs,_(this,pe).state),q(this,ha,this.options),_(this,Bs).data!==void 0&&q(this,pa,_(this,pe)),wu(n,r))return;q(this,wt,n);const s={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!_(this,ga).size)return!0;const c=new Set(l??_(this,ga));return this.options.throwOnError&&c.add("error"),Object.keys(_(this,wt)).some(u=>{const f=u;return _(this,wt)[f]!==r[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&o()&&(s.listeners=!0),ce(this,je,fj).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ce(this,je,gm).call(this)}},Pt=new WeakMap,pe=new WeakMap,ul=new WeakMap,wt=new WeakMap,Bs=new WeakMap,ha=new WeakMap,Gn=new WeakMap,qr=new WeakMap,dl=new WeakMap,ma=new WeakMap,pa=new WeakMap,Vs=new WeakMap,qs=new WeakMap,Qn=new WeakMap,ga=new WeakMap,je=new WeakSet,pi=function(t){ce(this,je,ym).call(this);let r=_(this,pe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(sr)),r},hm=function(){ce(this,je,vm).call(this);const t=ea(this.options.staleTime,_(this,pe));if(ro||_(this,wt).isStale||!cm(t))return;const n=nj(_(this,wt).dataUpdatedAt,t)+1;q(this,Vs,setTimeout(()=>{_(this,wt).isStale||this.updateResult()},n))},mm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,pe)):this.options.refetchInterval)??!1},pm=function(t){ce(this,je,xm).call(this),q(this,Qn,t),!(ro||Er(this.options.enabled,_(this,pe))===!1||!cm(_(this,Qn))||_(this,Qn)===0)&&q(this,qs,setInterval(()=>{(this.options.refetchIntervalInBackground||yg.isFocused())&&ce(this,je,pi).call(this)},_(this,Qn)))},gm=function(){ce(this,je,hm).call(this),ce(this,je,pm).call(this,ce(this,je,mm).call(this))},vm=function(){_(this,Vs)&&(clearTimeout(_(this,Vs)),q(this,Vs,void 0))},xm=function(){_(this,qs)&&(clearInterval(_(this,qs)),q(this,qs,void 0))},ym=function(){const t=_(this,Pt).getQueryCache().build(_(this,Pt),this.options);if(t===_(this,pe))return;const r=_(this,pe);q(this,pe,t),q(this,ul,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},fj=function(t){Ye.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(_(this,wt))}),_(this,Pt).getQueryCache().notify({query:_(this,pe),type:"observerResultsUpdated"})})},ky);function nO(e,t){return Er(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wx(e,t){return nO(e,t)||e.state.data!==void 0&&wm(e,t,t.refetchOnMount)}function wm(e,t,r){if(Er(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&wg(e,t)}return!1}function bx(e,t,r,n){return(e!==t||Er(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&wg(e,r)}function wg(e,t){return Er(t.enabled,e)!==!1&&e.isStaleByTime(ea(t.staleTime,e))}function sO(e,t){return!wu(e.getCurrentResult(),t)}var Yn,Xn,Tt,cn,mn,Fc,bm,Ey,oO=(Ey=class extends Fa{constructor(r,n){super();ee(this,mn);ee(this,Yn);ee(this,Xn);ee(this,Tt);ee(this,cn);q(this,Yn,r),this.setOptions(n),this.bindMethods(),ce(this,mn,Fc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=_(this,Yn).defaultMutationOptions(r),wu(this.options,n)||_(this,Yn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,Tt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&no(n.mutationKey)!==no(this.options.mutationKey)?this.reset():((s=_(this,Tt))==null?void 0:s.state.status)==="pending"&&_(this,Tt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=_(this,Tt))==null||r.removeObserver(this)}onMutationUpdate(r){ce(this,mn,Fc).call(this),ce(this,mn,bm).call(this,r)}getCurrentResult(){return _(this,Xn)}reset(){var r;(r=_(this,Tt))==null||r.removeObserver(this),q(this,Tt,void 0),ce(this,mn,Fc).call(this),ce(this,mn,bm).call(this)}mutate(r,n){var s;return q(this,cn,n),(s=_(this,Tt))==null||s.removeObserver(this),q(this,Tt,_(this,Yn).getMutationCache().build(_(this,Yn),this.options)),_(this,Tt).addObserver(this),_(this,Tt).execute(r)}},Yn=new WeakMap,Xn=new WeakMap,Tt=new WeakMap,cn=new WeakMap,mn=new WeakSet,Fc=function(){var n;const r=((n=_(this,Tt))==null?void 0:n.state)??dj();q(this,Xn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},bm=function(r){Ye.batch(()=>{var n,s,o,i,l,c,u,f;if(_(this,cn)&&this.hasListeners()){const d=_(this,Xn).variables,h=_(this,Xn).context;(r==null?void 0:r.type)==="success"?((s=(n=_(this,cn)).onSuccess)==null||s.call(n,r.data,d,h),(i=(o=_(this,cn)).onSettled)==null||i.call(o,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((c=(l=_(this,cn)).onError)==null||c.call(l,r.error,d,h),(f=(u=_(this,cn)).onSettled)==null||f.call(u,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(_(this,Xn))})})},Ey),hj=m.createContext(void 0),Zr=e=>{const t=m.useContext(hj);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},aO=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(hj.Provider,{value:e,children:t})),mj=m.createContext(!1),iO=()=>m.useContext(mj);mj.Provider;function lO(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var cO=m.createContext(lO()),uO=()=>m.useContext(cO);function pj(e,t){return typeof e=="function"?e(...t):!!e}function gj(){}var dO=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},fO=e=>{m.useEffect(()=>{e.clearReset()},[e])},hO=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&pj(r,[e.error,n]),mO=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},pO=(e,t)=>e.isLoading&&e.isFetching&&!t,gO=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,jx=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function vO(e,t,r){var f,d,h,p,x;const n=Zr(),s=iO(),o=uO(),i=n.defaultQueryOptions(e);(d=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,i),i._optimisticResults=s?"isRestoring":"optimistic",mO(i),dO(i,o),fO(o);const l=!n.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:c.subscribe(Ye.batchCalls(g));return c.updateResult(),w},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),gO(i,u))throw jx(i,c,o);if(hO({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,i,u),i.experimental_prefetchInRender&&!ro&&pO(u,s)){const g=l?jx(i,c,o):(x=n.getQueryCache().get(i.queryHash))==null?void 0:x.promise;g==null||g.catch(gj).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Xr(e,t){return vO(e,rO)}function jn(e,t){const r=Zr(),[n]=m.useState(()=>new oO(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(i=>n.subscribe(Ye.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=m.useCallback((i,l)=>{n.mutate(i,l).catch(gj)},[n]);if(s.error&&pj(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rl.apply(this,arguments)}var es;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(es||(es={}));const Sx="popstate";function xO(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return jm("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ju(s)}return wO(t,r,null,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yO(){return Math.random().toString(36).substr(2,8)}function _x(e,t){return{usr:e.state,key:e.key,idx:t}}function jm(e,t,r,n){return r===void 0&&(r=null),rl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?za(t):t,{state:r,key:t&&t.key||n||yO()})}function ju(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function za(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function wO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=es.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(rl({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function d(){l=es.Pop;let w=f(),y=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:y})}function h(w,y){l=es.Push;let v=jm(g.location,w,y);u=f()+1;let b=_x(v,u),j=g.createHref(v);try{i.pushState(b,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}o&&c&&c({action:l,location:g.location,delta:1})}function p(w,y){l=es.Replace;let v=jm(g.location,w,y);u=f();let b=_x(v,u),j=g.createHref(v);i.replaceState(b,"",j),o&&c&&c({action:l,location:g.location,delta:0})}function x(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:ju(w);return v=v.replace(/ $/,"%20"),We(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Sx,d),c=w,()=>{s.removeEventListener(Sx,d),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(w){return i.go(w)}};return g}var Nx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nx||(Nx={}));function bO(e,t,r){return r===void 0&&(r="/"),jO(e,t,r,!1)}function jO(e,t,r,n){let s=typeof t=="string"?za(t):t,o=bg(s.pathname||"/",r);if(o==null)return null;let i=xj(e);SO(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=OO(o);l=AO(i[c],u,n)}return l}function xj(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(We(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=cs([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(We(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xj(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:PO(u,o.index),routesMeta:f})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of yj(o.path))s(o,i,c)}),t}function yj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=yj(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function SO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:TO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _O=/^:[\w-]+$/,NO=3,kO=2,EO=1,CO=10,RO=-2,kx=e=>e==="*";function PO(e,t){let r=e.split("/"),n=r.length;return r.some(kx)&&(n+=RO),t&&(n+=kO),r.filter(s=>!kx(s)).reduce((s,o)=>s+(_O.test(o)?NO:o===""?EO:CO),n)}function TO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function AO(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=Ex({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Ex({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:cs([o,d.pathname]),pathnameBase:$O(cs([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=cs([o,d.pathnameBase]))}return i}function Ex(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=IO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let g=l[d]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[d];return p&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function IO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),vj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function OO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function MO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?za(e):e;return{pathname:r?r.startsWith("/")?r:DO(r,t):t,search:FO(n),hash:zO(s)}}function DO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Of(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jg(e,t){let r=LO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Sg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=za(e):(s=rl({},e),We(!s.pathname||!s.pathname.includes("?"),Of("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),Of("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),Of("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let d=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=MO(s,l),u=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const cs=e=>e.join("/").replace(/\/\/+/g,"/"),$O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function UO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wj=["post","put","patch","delete"];new Set(wj);const BO=["get",...wj];new Set(BO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nl.apply(this,arguments)}const _g=m.createContext(null),VO=m.createContext(null),bs=m.createContext(null),pd=m.createContext(null),Nn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),bj=m.createContext(null);function qO(e,t){let{relative:r}=t===void 0?{}:t;Ua()||We(!1);let{basename:n,navigator:s}=m.useContext(bs),{hash:o,pathname:i,search:l}=Sj(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:cs([n,i])),s.createHref({pathname:c,search:l,hash:o})}function Ua(){return m.useContext(pd)!=null}function Ir(){return Ua()||We(!1),m.useContext(pd).location}function jj(e){m.useContext(bs).static||m.useLayoutEffect(e)}function Et(){let{isDataRoute:e}=m.useContext(Nn);return e?nM():WO()}function WO(){Ua()||We(!1);let e=m.useContext(_g),{basename:t,future:r,navigator:n}=m.useContext(bs),{matches:s}=m.useContext(Nn),{pathname:o}=Ir(),i=JSON.stringify(jg(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return jj(()=>{l.current=!0}),m.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Sg(u,JSON.parse(i),o,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:cs([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,i,o,e])}function Ng(){let{matches:e}=m.useContext(Nn),t=e[e.length-1];return t?t.params:{}}function Sj(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(bs),{matches:s}=m.useContext(Nn),{pathname:o}=Ir(),i=JSON.stringify(jg(s,n.v7_relativeSplatPath));return m.useMemo(()=>Sg(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function HO(e,t){return KO(e,t)}function KO(e,t,r,n){Ua()||We(!1);let{navigator:s}=m.useContext(bs),{matches:o}=m.useContext(Nn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ir(),f;if(t){var d;let w=typeof t=="string"?za(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||We(!1),f=w}else f=u;let h=f.pathname||"/",p=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=bO(e,{pathname:p}),g=JO(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:cs([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:cs([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&g?m.createElement(pd.Provider,{value:{location:nl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:es.Pop}},g):g}function GO(){let e=rM(),t=UO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const QO=m.createElement(GO,null);class YO extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Nn.Provider,{value:this.props.routeContext},m.createElement(bj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XO(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(_g);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Nn.Provider,{value:t},n)}function JO(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||We(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=r,x=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||x){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,d,h)=>{let p,x=!1,g=null,w=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||QO,c&&(u<0&&h===0?(x=!0,w=null):u===h&&(x=!0,w=d.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),v=()=>{let b;return p?b=g:x?b=w:d.route.Component?b=m.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,m.createElement(XO,{match:d,routeContext:{outlet:f,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?m.createElement(YO,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var _j=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_j||{}),Su=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Su||{});function ZO(e){let t=m.useContext(_g);return t||We(!1),t}function eM(e){let t=m.useContext(VO);return t||We(!1),t}function tM(e){let t=m.useContext(Nn);return t||We(!1),t}function Nj(e){let t=tM(),r=t.matches[t.matches.length-1];return r.route.id||We(!1),r.route.id}function rM(){var e;let t=m.useContext(bj),r=eM(Su.UseRouteError),n=Nj(Su.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function nM(){let{router:e}=ZO(_j.UseNavigateStable),t=Nj(Su.UseNavigateStable),r=m.useRef(!1);return jj(()=>{r.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,nl({fromRouteId:t},o)))},[e,t])}function cc(e){let{to:t,replace:r,state:n,relative:s}=e;Ua()||We(!1);let{future:o,static:i}=m.useContext(bs),{matches:l}=m.useContext(Nn),{pathname:c}=Ir(),u=Et(),f=Sg(t,jg(l,o.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return m.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function vt(e){We(!1)}function sM(e){let{basename:t="/",children:r=null,location:n,navigationType:s=es.Pop,navigator:o,static:i=!1,future:l}=e;Ua()&&We(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:nl({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=za(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:x="default"}=n,g=m.useMemo(()=>{let w=bg(f,c);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:x},navigationType:s}},[c,f,d,h,p,x,s]);return g==null?null:m.createElement(bs.Provider,{value:u},m.createElement(pd.Provider,{children:r,value:g}))}function oM(e){let{children:t,location:r}=e;return HO(Sm(t),r)}new Promise(()=>{});function Sm(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let o=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Sm(n.props.children,o));return}n.type!==vt&&We(!1),!n.props.index||!n.props.children||We(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Sm(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_m.apply(this,arguments)}function aM(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function iM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lM(e,t){return e.button===0&&(!t||t==="_self")&&!iM(e)}function Nm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function cM(e,t){let r=Nm(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const uM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dM="6";try{window.__reactRouterVersion=dM}catch{}const fM="startTransition",Cx=Fy[fM];function hM(e){let{basename:t,children:r,future:n,window:s}=e,o=m.useRef();o.current==null&&(o.current=xO({window:s,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},f=m.useCallback(d=>{u&&Cx?Cx(()=>c(d)):c(d)},[c,u]);return m.useLayoutEffect(()=>i.listen(f),[i,f]),m.createElement(sM,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const mM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,so=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=aM(t,uM),{basename:p}=m.useContext(bs),x,g=!1;if(typeof u=="string"&&pM.test(u)&&(x=u,mM))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=bg(j.pathname,p);j.origin===b.origin&&S!=null?u=S+j.search+j.hash:g=!0}catch{}let w=qO(u,{relative:s}),y=gM(u,{replace:i,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function v(b){n&&n(b),b.defaultPrevented||y(b)}return m.createElement("a",_m({},h,{href:x||w,onClick:g||o?n:v,ref:r,target:c}))});var Rx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rx||(Rx={}));var Px;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Px||(Px={}));function gM(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Et(),u=Ir(),f=Sj(e,{relative:i});return m.useCallback(d=>{if(lM(d,r)){d.preventDefault();let h=n!==void 0?n:ju(u)===ju(f);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,f,n,s,r,e,o,i,l])}function gd(e){let t=m.useRef(Nm(e)),r=m.useRef(!1),n=Ir(),s=m.useMemo(()=>cM(n.search,r.current?null:t.current),[n.search]),o=Et(),i=m.useCallback((l,c)=>{const u=Nm(typeof l=="function"?l(s):l);r.current=!0,o("?"+u,c)},[o,s]);return[s,i]}const vM="modulepreload",xM=function(e){return"/"+e},Tx={},Bt=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=xM(c),c in Tx)return;Tx[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":vM,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},yM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ba);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class kg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class wM extends kg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bM extends kg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jM extends kg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var km;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(km||(km={}));var SM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class _M{constructor(t,{headers:r={},customFetch:n,region:s=km.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=yM(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return SM(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const f=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new wM(x)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new bM(f);if(!f.ok)throw new jM(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield f.json():h==="application/octet-stream"?p=yield f.blob():h==="text/event-stream"?p=f:h==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var It={},Eg={},vd={},bl={},xd={},yd={},NM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ea=NM();const kM=Ea.fetch,kj=Ea.fetch.bind(Ea),Ej=Ea.Headers,EM=Ea.Request,CM=Ea.Response,Ba=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ej,Request:EM,Response:CM,default:kj,fetch:kM},Symbol.toStringTag,{value:"Module"})),RM=uC(Ba);var wd={};Object.defineProperty(wd,"__esModule",{value:!0});let PM=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};wd.default=PM;var Cj=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yd,"__esModule",{value:!0});const TM=Cj(RM),AM=Cj(wd);let IM=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=TM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,f=null,d=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(f=[],u=null,h=200,p="OK")}catch{o.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new AM.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};yd.default=IM;var OM=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xd,"__esModule",{value:!0});const MM=OM(yd);let DM=class extends MM.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xd.default=DM;var LM=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bl,"__esModule",{value:!0});const $M=LM(xd);let FM=class extends $M.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};bl.default=FM;var zM=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vd,"__esModule",{value:!0});const li=zM(bl);let UM=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new li.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new li.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new li.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new li.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new li.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vd.default=UM;var bd={},jd={};Object.defineProperty(jd,"__esModule",{value:!0});jd.version=void 0;jd.version="0.0.0-automated";Object.defineProperty(bd,"__esModule",{value:!0});bd.DEFAULT_HEADERS=void 0;const BM=jd;bd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${BM.version}`};var Rj=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eg,"__esModule",{value:!0});const VM=Rj(vd),qM=Rj(bl),WM=bd;let HM=class Pj{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},WM.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new VM.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Pj(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new qM.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Eg.default=HM;var Va=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(It,"__esModule",{value:!0});It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const Tj=Va(Eg);It.PostgrestClient=Tj.default;const Aj=Va(vd);It.PostgrestQueryBuilder=Aj.default;const Ij=Va(bl);It.PostgrestFilterBuilder=Ij.default;const Oj=Va(xd);It.PostgrestTransformBuilder=Oj.default;const Mj=Va(yd);It.PostgrestBuilder=Mj.default;const Dj=Va(wd);It.PostgrestError=Dj.default;var KM=It.default={PostgrestClient:Tj.default,PostgrestQueryBuilder:Aj.default,PostgrestFilterBuilder:Ij.default,PostgrestTransformBuilder:Oj.default,PostgrestBuilder:Mj.default,PostgrestError:Dj.default};const{PostgrestClient:GM,PostgrestQueryBuilder:jB,PostgrestFilterBuilder:SB,PostgrestTransformBuilder:_B,PostgrestBuilder:NB,PostgrestError:kB}=KM;let Em;typeof window>"u"?Em=require("ws"):Em=window.WebSocket;const QM=Em,YM="2.11.10",XM={"X-Client-Info":`realtime-js/${YM}`},JM="1.0.0",Lj=1e4,ZM=1e3;var ta;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ta||(ta={}));var xt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xt||(xt={}));var Nr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Nr||(Nr={}));var Cm;(function(e){e.websocket="websocket"})(Cm||(Cm={}));var As;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(As||(As={}));class eD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class $j{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const Ax=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=tD(i,e,t,s),o),{})},tD=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?Fj(o,i):Rm(i)},Fj=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return oD(t,r)}switch(e){case Ee.bool:return rD(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return nD(t);case Ee.json:case Ee.jsonb:return sD(t);case Ee.timestamp:return aD(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Rm(t);default:return Rm(t)}},Rm=e=>e,rD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},nD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},oD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>Fj(t,l))}return e},aD=e=>typeof e=="string"?e.replace(" ","T"):e,zj=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Mf{constructor(t,r,n={},s=Lj){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ix;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ix||(Ix={}));class Pi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Pi.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pi.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,f)=>{i[u]||(c[u]=f)}),this.map(i,(u,f)=>{const d=o[u];if(d){const h=f.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),x=f.filter(w=>p.indexOf(w.presence_ref)<0),g=d.filter(w=>h.indexOf(w.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=f}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ox;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ox||(Ox={}));var Mx;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mx||(Mx={}));var on;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(on||(on={}));class Cg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mf(this,Nr.join,this.params,this.timeout),this.rejoinTimer=new $j(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Pi(this),this.broadcastEndpointURL=zj(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(f=>t==null?void 0:t(on.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(on.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(on.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,x=[];for(let g=0;g<p;g++){const w=h[g],{filter:{event:y,schema:v,table:b,filter:j}}=w,S=f&&f[g];if(S&&S.event===y&&S.schema===v&&S.table===b&&S.filter===j)x.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),this.state=xt.errored,t==null||t(on.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(on.SUBSCRIBED);return}}).receive("error",f=>{this.state=xt.errored,t==null||t(on.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(on.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Mf(this,Nr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mf(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Nr;if(n&&[l,c,u,f].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,g,w;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var x,g,w,y,v,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,S=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:w,commit_timestamp:y,type:v,errors:b}=x;h=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(h,n)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Cg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Nr.close,{},t)}_onError(t){this._on(Nr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ax(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ax(t.columns,t.old_record)),r}}const Dx=()=>{},iD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lD{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=XM,this.params={},this.timeout=Lj,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dx,this.ref=0,this.logger=Dx,this.conn=null,this.sendBuffer=[],this.serializer=new eD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Bt(async()=>{const{default:c}=await Promise.resolve().then(()=>Ba);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Cm.websocket}`,this.httpEndpoint=zj(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $j(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=QM),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new cD(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JM}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ta.connecting:return As.Connecting;case ta.open:return As.Open;case ta.closing:return As.Closing;default:return As.Closed}}isConnected(){return this.connectionState()===As.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Cg(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Nr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(ZM,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Nr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([iD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class cD{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ta.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Rg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class uD extends Rg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pm extends Rg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var dD=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Uj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ba);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fD=()=>dD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bt(()=>Promise.resolve().then(()=>Ba),void 0)).Response:Response}),Tm=e=>{if(Array.isArray(e))return e.map(r=>Tm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Tm(n)}),t};var po=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Df=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hD=(e,t,r)=>po(void 0,void 0,void 0,function*(){const n=yield fD();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new uD(Df(s),e.status||500))}).catch(s=>{t(new Pm(Df(s),s))}):t(new Pm(Df(e),e))}),mD=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function jl(e,t,r,n,s,o){return po(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,mD(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>hD(c,l,n))})})}function _u(e,t,r,n){return po(this,void 0,void 0,function*(){return jl(e,"GET",t,r,n)})}function Fn(e,t,r,n,s){return po(this,void 0,void 0,function*(){return jl(e,"POST",t,n,s,r)})}function pD(e,t,r,n,s){return po(this,void 0,void 0,function*(){return jl(e,"PUT",t,n,s,r)})}function gD(e,t,r,n){return po(this,void 0,void 0,function*(){return jl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Bj(e,t,r,n,s){return po(this,void 0,void 0,function*(){return jl(e,"DELETE",t,n,s,r)})}var Rt=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const vD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xD{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Uj(s)}uploadOrUpdate(t,r,n,s){return Rt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Lx),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Rt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Lx.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Je(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Rt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Fn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Rg("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}update(t,r,n){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Rt(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Rt(this,void 0,void 0,function*(){try{return{data:{path:(yield Fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Rt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Fn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Rt(this,void 0,void 0,function*(){try{const s=yield Fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}download(t,r){return Rt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield _u(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}info(t){return Rt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield _u(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Tm(n),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}exists(t){return Rt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield gD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Je(n)&&n instanceof Pm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Rt(this,void 0,void 0,function*(){try{return{data:yield Bj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}list(t,r,n){return Rt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},vD),r),{prefix:t||""});return{data:yield Fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const yD="2.7.1",wD={"X-Client-Info":`storage-js/${yD}`};var jo=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class bD{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},wD),r),this.fetch=Uj(n)}listBuckets(){return jo(this,void 0,void 0,function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Je(t))return{data:null,error:t};throw t}})}getBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return jo(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return jo(this,void 0,void 0,function*(){try{return{data:yield pD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}emptyBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}deleteBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield Bj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}}class jD extends bD{constructor(t,r={},n){super(t,r,n)}from(t){return new xD(this.url,this.headers,t,this.fetch)}}const SD="2.50.0";let gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";const _D={"X-Client-Info":`supabase-js-${gi}/${SD}`},ND={headers:_D},kD={schema:"public"},ED={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CD={};var RD=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const PD=e=>{let t;return e?t=e:typeof fetch>"u"?t=kj:t=fetch,(...r)=>t(...r)},TD=()=>typeof Headers>"u"?Ej:Headers,AD=(e,t,r)=>{const n=PD(r),s=TD();return(o,i)=>RD(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var ID=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function OD(e){return e.endsWith("/")?e:e+"/"}function MD(e,t){var r,n;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},f),i),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ID(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Vj="2.70.0",Po=30*1e3,Am=3,Lf=Am*Po,DD="http://localhost:9999",LD="supabase.auth.token",$D={"X-Client-Info":`gotrue-js/${Vj}`},Im="X-Supabase-Api-Version",qj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zD=6e5;class Pg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class UD extends Pg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function BD(e){return se(e)&&e.name==="AuthApiError"}class Wj extends Pg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class js extends Pg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Mn extends js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VD(e){return se(e)&&e.name==="AuthSessionMissingError"}class uc extends js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dc extends js{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fc extends js{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qD(e){return se(e)&&e.name==="AuthImplicitGrantRedirectError"}class $x extends js{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Om extends js{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $f(e){return se(e)&&e.name==="AuthRetryableFetchError"}class Fx extends js{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ti extends js{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zx=` 	
\r=`.split(""),WD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zx.length;t+=1)e[zx[t].charCodeAt(0)]=-2;for(let t=0;t<Nu.length;t+=1)e[Nu[t].charCodeAt(0)]=t;return e})();function Ux(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Nu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Nu[n]),t.queuedBits-=6}}function Hj(e,t,r){const n=WD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bx(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{GD(i,n,r)};for(let i=0;i<e.length;i+=1)Hj(e.charCodeAt(i),s,o);return t.join("")}function HD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function KD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}HD(n,t)}}function GD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function QD(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Hj(e.charCodeAt(s),r,n);return new Uint8Array(t)}function YD(e){const t=[];return KD(e,r=>t.push(r)),new Uint8Array(t)}function XD(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Ux(s,r,n)),Ux(null,r,n),t.join("")}function JD(e){return Math.round(Date.now()/1e3)+e}function ZD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const wr=()=>typeof window<"u"&&typeof document<"u",Cs={tested:!1,writable:!1},Ai=()=>{if(!wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cs.tested)return Cs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cs.tested=!0,Cs.writable=!0}catch{Cs.tested=!0,Cs.writable=!1}return Cs.writable};function e4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Kj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ba);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},t4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gj=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},hc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mc=async(e,t)=>{await e.removeItem(t)};class Sd{constructor(){this.promise=new Sd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Sd.promiseConstructor=Promise;function Ff(e){const t=e.split(".");if(t.length!==3)throw new Ti("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!FD.test(t[n]))throw new Ti("JWT not in base64url format");return{header:JSON.parse(Bx(t[0])),payload:JSON.parse(Bx(t[1])),signature:QD(t[2]),raw:{header:t[0],payload:t[1]}}}async function r4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function n4(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function s4(e){return("0"+e.toString(16)).substr(-2)}function o4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,s4).join("")}async function a4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function i4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await a4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function So(e,t,r=!1){const n=o4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Gj(e,`${t}-code-verifier`,s);const o=await i4(n);return[o,n===o?"plain":"s256"]}const l4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function c4(e){const t=e.headers.get(Im);if(!t||!t.match(l4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function u4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function d4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const f4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _o(e){if(!f4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var h4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ts=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),m4=[502,503,504];async function Vx(e){var t;if(!t4(e))throw new Om(Ts(e),0);if(m4.includes(e.status))throw new Om(Ts(e),e.status);let r;try{r=await e.json()}catch(o){throw new Wj(Ts(o),o)}let n;const s=c4(e);if(s&&s.getTime()>=qj["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Fx(Ts(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Mn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Fx(Ts(r),e.status,r.weak_password.reasons);throw new UD(Ts(r),e.status||500,n)}const p4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ue(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Im]||(o[Im]=qj["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await g4(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function g4(e,t,r,n,s,o){const i=p4(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Om(Ts(c),0)}if(l.ok||await Vx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Vx(c)}}function nn(e){var t;let r=null;w4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=JD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function qx(e){const t=nn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Bn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function v4(e){return{data:e,error:null}}function x4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=h4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function y4(e){return e}function w4(e){return e.access_token&&e.refresh_token&&e.expires_in}const zf=["global","local","others"];var b4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class j4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Kj(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=zf[0]){if(zf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zf.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bn})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=b4(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:x4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bn})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:y4});if(f.error)throw f.error;const d=await f.json(),h=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(se(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){_o(t);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bn})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){_o(t);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Bn})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){_o(t);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bn})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){_o(t.userId);try{const{data:r,error:n}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteFactor(t){_o(t.userId),_o(t.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}}const S4={getItem:e=>Ai()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ai()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ai()&&globalThis.localStorage.removeItem(e)}};function Wx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function _4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const No={debug:!!(globalThis&&Ai()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class N4 extends Qj{}async function k4(e,t,r){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),No.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{No.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw No.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new N4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(No.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}_4();const E4={url:DD,storageKey:LD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$D,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hx(e,t,r){return await r()}class sl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sl.nextInstanceID,sl.nextInstanceID+=1,this.instanceID>0&&wr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},E4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new j4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kj(s.fetch),this.lock=s.lock||Hx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:wr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=k4:this.lock=Hx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ai()?this.storage=S4:(this.memoryStorage={},this.storage=Wx(this.memoryStorage)):(this.memoryStorage={},this.storage=Wx(this.memoryStorage)),wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vj}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=e4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),wr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),qD(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return se(r)?{error:r}:{error:new Wj("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:nn}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(se(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await So(this.storage,this.storageKey)),o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:x},xform:nn})}else if("phone"in t){const{phone:f,password:d,options:h}=t;o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:nn})}else throw new dc("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(se(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qx})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qx})}else throw new dc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new uc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,o,i,l,c,u,f,d,h,p;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:w,wallet:y,statement:v,options:b}=t;let j;if(wr())if(typeof y=="object")j=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let N;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")N=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)N=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(f=b==null?void 0:b.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:w,error:y}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:XD(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:nn});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new uc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(se(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await hc(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:nn});if(await mc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new uc}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(se(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new uc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await So(this.storage,this.storageKey));const{error:d}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new dc("You must provide either an email or phone number.")}catch(l){if(se(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:nn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await So(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:v4})}catch(o){if(se(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Mn;const{error:s}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new dc("You must provide either an email or phone number and a type")}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await hc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Lf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mn}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Bn})})}catch(r){if(se(r))return VD(r)&&(await this._removeSession(),await mc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Mn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await So(this.storage,this.storageKey));const{data:u,error:f}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Bn});if(f)throw f;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mn;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Ff(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(se(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Mn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!wr())throw new fc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $x("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $x("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new fc("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=Po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const x=h-d;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,f);const{data:g,error:w}=await this._getUser(o);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:h,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(se(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await hc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(BD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await mc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ZD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await So(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(se(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,f;const{data:d,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return wr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(se(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await n4(async s=>(s>0&&await r4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&$f(o)&&Date.now()+i-n<Po})}catch(n){if(this._debug(r,"error",n),se(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),wr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await hc(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Lf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Lf}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),$f(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Sd;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Mn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),se(o)){const i={session:null,error:o};return $f(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Gj(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await mc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Po);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Po}ms, refresh threshold is ${Am} ticks`),s<=Am&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Qj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await So(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ff(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+zD>Date.now()))return n;const{data:s,error:o}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Ti("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new Ti("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Ff(n);if(u4(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=d4(s.alg),f=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,i,YD(`${l}.${c}`)))throw new Ti("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}}sl.nextInstanceID=0;const C4=sl;class R4 extends C4{constructor(t){super(t)}}var P4=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class T4{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=OD(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:kD,realtime:CD,auth:Object.assign(Object.assign({},ED),{storageKey:u}),global:ND},d=MD(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=AD(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new GM(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new _M(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new jD(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return P4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R4({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new lD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A4=(e,t,r)=>new T4(e,t,r),I4="https://rigurrwjiaucodxuuzeh.supabase.co",O4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ3VycndqaWF1Y29keHV1emVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3NDI1NTYsImV4cCI6MjA2NTMxODU1Nn0.nr5QAlB0UyA3VQWXolIsc8lXXzwj0Ur6Nj-ddr7f7AQ",$=A4(I4,O4),Yj=m.createContext(void 0),Sl=()=>{const e=m.useContext(Yj);if(!e)throw new Error("useOrganization must be used within an OrganizationProvider");return e},M4=["admin","auth","create-organization","login","terms-of-service","privacy-policy"],D4=e=>{const t=e.split("/").filter(r=>r);return t[0]==="admin"&&t.length>1&&t[1]!=="login"||t[0]==="org"&&t.length>1?t[1]:t.length>0&&!M4.includes(t[0])?t[0]:null},L4=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(!0),[o,i]=m.useState(null),l=Ir(),c=async()=>{s(!0),i(null);try{const u=D4(l.pathname);if(!u){r(null),s(!1);return}const{data:f,error:d}=await $.from("organizations").select("*").eq("slug",u).single();d?(d.code==="PGRST116"?i("Organization not found"):i(d.message||"Failed to load organization"),r(null)):(r(f),i(null))}catch(u){i(u.message||"An unexpected error occurred"),r(null)}finally{s(!1)}};return m.useEffect(()=>{c()},[l.pathname]),a.jsx(Yj.Provider,{value:{organization:t,loading:n,error:o,refreshOrganization:c},children:e})},Xj=m.createContext(void 0),$4=({children:e})=>{const[t,r]=m.useState(),n={dateRange:t,setDateRange:r};return a.jsx(Xj.Provider,{value:n,children:e})},F4=()=>{const e=m.useContext(Xj);if(e===void 0)throw new Error("useDashboard must be used within a DashboardProvider. Make sure the component calling useDashboard is wrapped with <DashboardProvider>.");return e},z4=async e=>{var t;try{console.log("Checking user roles for:",e),await new Promise(c=>setTimeout(c,100));const{data:r,error:n}=await $.rpc("get_current_user_admin_status");n&&console.error("Error checking admin status:",n);const{data:s,error:o}=await $.from("organization_users").select("organization_id, role, enhanced_role, organizations(slug)").eq("user_id",e).eq("status","active").single();o&&o.code!=="PGRST116"&&console.error("Error checking org memberships:",o);const i=!!r,l=!!(s!=null&&s.organization_id);return console.log("User roles determined:",{isAdmin:i,hasOrgRole:l,orgData:s,enhancedRole:s==null?void 0:s.enhanced_role}),{isAdmin:i,isOrgAdmin:l,currentOrganization:(s==null?void 0:s.organization_id)||null,currentOrganizationSlug:((t=s==null?void 0:s.organizations)==null?void 0:t.slug)||null}}catch(r){return console.error("Error checking user roles:",r),{isAdmin:!1,isOrgAdmin:!1,currentOrganization:null,currentOrganizationSlug:null}}},U4=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(null),[s,o]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(null),[f,d]=m.useState(null),[h,p]=m.useState(!0);return m.useEffect(()=>{let x=!0,g;const w=async v=>{try{const b=await z4(v);x&&(o(b.isAdmin),l(b.isOrgAdmin),u(b.currentOrganization),d(b.currentOrganizationSlug),p(!1))}catch(b){console.error("Error updating user roles:",b),x&&p(!1)}},{data:{subscription:y}}=$.auth.onAuthStateChange(async(v,b)=>{var j;x&&(console.log("Auth state change in useAuthState:",v,(j=b==null?void 0:b.user)==null?void 0:j.email),n(b),t((b==null?void 0:b.user)??null),g&&clearTimeout(g),b!=null&&b.user?g=setTimeout(()=>{x&&w(b.user.id)},200):(o(!1),l(!1),u(null),d(null),p(!1)))});return $.auth.getSession().then(({data:{session:v}})=>{var b;x&&(console.log("Initial session check:",(b=v==null?void 0:v.user)==null?void 0:b.email),n(v),t((v==null?void 0:v.user)??null),v!=null&&v.user?w(v.user.id):p(!1))}),()=>{x=!1,g&&clearTimeout(g),y.unsubscribe()}},[]),{user:e,session:r,isAdmin:s,isOrgAdmin:i,currentOrganization:c,currentOrganizationSlug:f,loading:h}},B4=()=>$.supabaseKey||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ3VycndqaWF1Y29keHV1emVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3NDI1NTYsImV4cCI6MjA2NTMxODU1Nn0.nr5QAlB0UyA3VQWXolIsc8lXXzwj0Ur6Nj-ddr7f7AQ",Jj=e=>{const t=window.location.origin,r=B4(),n=e.includes("?")?"&":"?";return`${t}${e}${n}apikey=${r}`};class Ks{static getBaseUrl(){return window.location.origin}static async signUp(t,r){try{const n=Jj("/auth-callback?type=signup"),{data:s,error:o}=await $.auth.signUp({email:t,password:r,options:{emailRedirectTo:n}});return{data:s,error:o}}catch(n){return console.error("Sign up error:",n),{data:null,error:n}}}static async signIn(t,r){try{const{data:n,error:s}=await $.auth.signInWithPassword({email:t,password:r});return{data:n,error:s}}catch(n){return console.error("Sign in error:",n),{data:null,error:n}}}static async resetPassword(t){try{const{data:r,error:n}=await $.functions.invoke("send-password-reset",{body:{email:t}});return n?(console.error("Password reset error:",n),{data:null,error:n}):{data:r,error:null}}catch(r){return console.error("Password reset error:",r),{data:null,error:r}}}static async updatePassword(t){try{const{data:r,error:n}=await $.auth.updateUser({password:t});return{data:r,error:n}}catch(r){return console.error("Update password error:",r),{data:null,error:r}}}static async signOut(){try{this.cleanupAuthState();const{error:t}=await $.auth.signOut({scope:"global"});return window.location.href="/auth",{error:t}}catch(t){return console.error("Sign out error:",t),window.location.href="/auth",{error:t}}}static cleanupAuthState(){localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&localStorage.removeItem(t)}),Object.keys(sessionStorage||{}).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&sessionStorage.removeItem(t)})}static async handlePostAuthRedirect(t){var r;try{console.log("Determining redirect path for user:",t.email),await new Promise(c=>setTimeout(c,2e3));let n=null,s=0;const o=5;for(;!n&&s<o;){s++,console.log(`Checking organization membership, attempt ${s}/${o}`);const{data:c,error:u}=await $.from("organization_users").select("organization_id, organizations(slug)").eq("user_id",t.id).limit(1);if(u&&console.error("Error checking organization membership:",u),c&&c.length>0){n=c,console.log("Found organization membership:",n);break}if(s<o){const f=s*1500;console.log(`No organization found, waiting ${f}ms before retry ${s+1}`),await new Promise(d=>setTimeout(d,f))}}if(n&&n.length>0){const c=(r=n[0].organizations)==null?void 0:r.slug;if(c)return console.log("User has organization, redirecting to:",`/admin/${c}`),`/admin/${c}`}const{data:i,error:l}=await $.rpc("get_current_user_admin_status");return l&&console.error("Error checking admin status:",l),i?(console.log("User is system admin, redirecting to:","/admin"),"/admin"):(console.log("No organization found after all retries, redirecting to:","/create-organization"),"/create-organization")}catch(n){return console.error("Post-auth redirect error:",n),"/create-organization"}}}const Zj=m.createContext(null),kn=()=>{const e=m.useContext(Zj);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},V4=({children:e})=>{const t=U4(),r=async(c,u)=>{console.log("Starting sign in process"),Ks.cleanupAuthState();try{const{error:f}=await $.auth.signInWithPassword({email:c,password:u});return f?(console.error("Sign in error:",f),{error:f}):(console.log("Sign in successful, waiting for auth state update"),{error:null})}catch(f){return console.error("Sign in error:",f),{error:f}}},n=async(c,u)=>{try{const f=Jj("/auth-callback?type=signup"),{error:d}=await $.auth.signUp({email:c,password:u,options:{emailRedirectTo:f}});return d?(console.error("Signup error:",d),{error:d}):(console.log("Signup successful"),{error:null})}catch(f){return console.error("Sign up error:",f),{error:f}}},s=async c=>{try{return await Ks.resetPassword(c)}catch(u){return console.error("Password reset error:",u),{error:u}}},o=async c=>{try{const{error:u}=await $.auth.updateUser({password:c});return{error:u}}catch(u){return console.error("Update password error:",u),{error:u}}},i=async()=>{try{Ks.cleanupAuthState(),await $.auth.signOut({scope:"global"}),window.location.href="/auth"}catch(c){console.error("Sign out error:",c),window.location.href="/auth"}},l=async()=>{t.user&&console.log("Refreshing user roles for:",t.user.id)};return a.jsx(Zj.Provider,{value:{...t,signIn:r,signUp:n,signOut:i,resetPassword:s,updatePassword:o,refreshUserRoles:l},children:e})},de=m.forwardRef(({className:e,variant:t="default",size:r="md",...n},s)=>{const o={default:"rounded-xl border bg-card text-card-foreground shadow-sm hover:shadow-md transition-all duration-200",elevated:"rounded-xl bg-card text-card-foreground shadow-lg hover:shadow-xl transition-all duration-300 border-0 hover:-translate-y-1",outlined:"rounded-xl border-2 bg-card text-card-foreground hover:border-primary/30 hover:shadow-sm transition-all duration-200",filled:"rounded-xl bg-slate-50 dark:bg-slate-800 text-card-foreground border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-750 transition-all duration-200",interactive:"rounded-xl border bg-card text-card-foreground shadow-sm hover:shadow-lg hover:-translate-y-1 cursor-pointer transition-all duration-300 hover:border-primary/20",glass:"rounded-xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border border-white/20 text-card-foreground shadow-lg hover:shadow-xl transition-all duration-300"};return a.jsx("div",{ref:s,className:A(o[t],e),...n})});de.displayName="Card";const $e=m.forwardRef(({className:e,size:t="md",...r},n)=>{const s={sm:"p-4",md:"p-6",lg:"p-8"};return a.jsx("div",{ref:n,className:A("flex flex-col space-y-1.5",s[t],e),...r})});$e.displayName="CardHeader";const Fe=m.forwardRef(({className:e,size:t="md",...r},n)=>{const s={sm:"text-lg",md:"text-title-large",lg:"text-2xl"};return a.jsx("h3",{ref:n,className:A("font-semibold leading-none tracking-tight",s[t],e),...r})});Fe.displayName="CardTitle";const oo=m.forwardRef(({className:e,size:t="md",...r},n)=>{const s={sm:"text-sm",md:"text-body-medium",lg:"text-base"};return a.jsx("p",{ref:n,className:A("text-muted-foreground",s[t],e),...r})});oo.displayName="CardDescription";const fe=m.forwardRef(({className:e,size:t="md",...r},n)=>{const s={sm:"p-4 pt-0",md:"p-6 pt-0",lg:"p-8 pt-0"};return a.jsx("div",{ref:n,className:A(s[t],e),...r})});fe.displayName="CardContent";const q4=m.forwardRef(({className:e,size:t="md",...r},n)=>{const s={sm:"p-4 pt-0",md:"p-6 pt-0",lg:"p-8 pt-0"};return a.jsx("div",{ref:n,className:A("flex items-center",s[t],e),...r})});q4.displayName="CardFooter";const Tg=ho("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 elevation-2 hover:elevation-3 active:elevation-1",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 elevation-2 hover:elevation-3",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground elevation-1 hover:elevation-2",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 elevation-1 hover:elevation-2",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?$t:"button";return a.jsx(i,{className:A(Tg({variant:t,size:r,className:e})),ref:o,...s})});J.displayName="Button";const W4=ho("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ut({className:e,variant:t,...r}){return a.jsx("div",{className:A(W4({variant:t}),e),...r})}const ao={owner:{variant:"destructive",icon:LP,label:"Owner",description:"Full access including billing and organization management",level:6,permissions:["*"]},admin:{variant:"default",icon:mo,label:"Admin",description:"Full access except billing and ownership changes",level:5,permissions:["manage_users","manage_questions","view_analytics","export_data","manage_integrations"]},manager:{variant:"secondary",icon:eo,label:"Manager",description:"Team management and question creation",level:4,permissions:["manage_questions","view_analytics","export_data","invite_users"]},analyst:{variant:"outline",icon:Qr,label:"Analyst",description:"Analytics access and data export",level:3,permissions:["view_analytics","export_data","manage_questions"]},member:{variant:"secondary",icon:ad,label:"Member",description:"Basic access to view analytics",level:2,permissions:["view_analytics"]},viewer:{variant:"outline",icon:Vo,label:"Viewer",description:"Read-only access to basic analytics",level:1,permissions:["view_analytics"]}},ku=e=>ao[e]||ao.member,Ag=(e,t)=>{var s,o;const r=((s=ao[e])==null?void 0:s.level)||0,n=((o=ao[t])==null?void 0:o.level)||0;return r>n},H4=e=>{var r;const t=((r=ao[e])==null?void 0:r.level)||0;return Object.entries(ao).filter(([,n])=>n.level<t).map(([n])=>n)},Ig=(e,t)=>{const r=ao[e];return r?r.permissions.includes("*")?!0:r.permissions.includes(t):!1},K4=e=>e.split("@")[0].slice(0,2).toUpperCase(),Eu=e=>new Date(e).toLocaleDateString(),G4=e=>e==="active"?"default":"secondary",eS=e=>{const t=new Date(e),r=new Date;return(t.getTime()-r.getTime())/(1e3*60*60)<=24},Og=({type:e,requiredRole:t,requiredPermission:r,organizationName:n,organizationSlug:s,currentUserRole:o,customMessage:i,showBackButton:l=!0,onRequestAccess:c})=>{const u=Et(),d=(()=>{switch(e){case"system-admin":return{icon:mo,title:"System Administrator Access Required",description:"This area is restricted to system administrators only. You need elevated privileges to access these features.",actionText:"Contact your system administrator to request access.",bgColor:"bg-red-50",iconColor:"text-red-600"};case"org-admin":return{icon:ad,title:"Organization Administrator Access Required",description:n?`You need administrator privileges for "${n}" to access this dashboard.`:"You need organization administrator privileges to access this area.",actionText:"Contact your organization administrator to request elevated permissions.",bgColor:"bg-amber-50",iconColor:"text-amber-600"};case"permission":return{icon:mu,title:"Permission Required",description:r?`You don't have the required permission: "${r}"`:"You don't have the necessary permissions to access this feature.",actionText:"Contact your administrator to request the required permissions.",bgColor:"bg-blue-50",iconColor:"text-blue-600"};case"authentication":return{icon:Xo,title:"Authentication Required",description:"You must be logged in to access this page.",actionText:"Please sign in to continue.",bgColor:"bg-gray-50",iconColor:"text-gray-600"};default:return{icon:mu,title:"Access Denied",description:"You don't have permission to access this page.",actionText:"Contact your administrator for assistance.",bgColor:"bg-gray-50",iconColor:"text-gray-600"}}})(),h=d.icon,p=t?ku(t):null,x=o?ku(o):null;return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(de,{className:`border-l-4 ${d.bgColor}`,children:[a.jsxs($e,{className:"text-center pb-4",children:[a.jsx("div",{className:`mx-auto w-16 h-16 ${d.bgColor} rounded-full flex items-center justify-center mb-4`,children:a.jsx(h,{className:`w-8 h-8 ${d.iconColor}`})}),a.jsx(Fe,{className:"text-xl font-semibold text-gray-900",children:d.title})]}),a.jsxs(fe,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 mb-4",children:i||d.description}),(e==="org-admin"||e==="permission")&&p&&a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Required role:"}),a.jsxs(Ut,{variant:p.variant,className:"flex items-center gap-1",children:[a.jsx(p.icon,{className:"w-3 h-3"}),p.label]})]}),x&&a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Your role:"}),a.jsxs(Ut,{variant:x.variant,className:"flex items-center gap-1",children:[a.jsx(x.icon,{className:"w-3 h-3"}),x.label]})]})]}),n&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Organization:"})," ",n]})}),a.jsx("p",{className:"text-sm text-gray-500",children:d.actionText})]}),a.jsxs("div",{className:"flex flex-col space-y-3",children:[e==="authentication"?a.jsx(J,{onClick:()=>u("/auth"),className:"w-full",children:"Sign In"}):a.jsxs(a.Fragment,{children:[c&&a.jsxs(J,{onClick:c,className:"w-full",variant:"default",children:[a.jsx(Ji,{className:"w-4 h-4 mr-2"}),"Request Access"]}),s&&e==="org-admin"&&a.jsx(J,{onClick:()=>u(`/${s}`),variant:"outline",className:"w-full",children:"View Public Page"})]}),l&&a.jsxs(J,{onClick:()=>u(-1),variant:"outline",className:"w-full",children:[a.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})]})]})})})},Q4=({customMessage:e,showBackButton:t=!0})=>a.jsx(Og,{type:"system-admin",customMessage:e,showBackButton:t}),Y4=({customMessage:e,showBackButton:t=!0,onRequestAccess:r})=>{const{organization:n}=Sl();return kn(),a.jsx(Og,{type:"org-admin",organizationName:n==null?void 0:n.name,organizationSlug:n==null?void 0:n.slug,customMessage:e,showBackButton:t,onRequestAccess:r})},Kx=({customMessage:e,showBackButton:t=!1})=>a.jsx(Og,{type:"authentication",customMessage:e,showBackButton:t}),Uf=({children:e,requireAdmin:t=!1,requireOrgAdmin:r=!1,showAccessDeniedPage:n=!0})=>{const[s,o]=m.useState(!1);try{const{user:i,isAdmin:l,isOrgAdmin:c,loading:u}=kn();return m.useEffect(()=>{if(!u&&(!i||t&&!l||r&&!c&&!l)){const f=setTimeout(()=>o(!0),100);return()=>clearTimeout(f)}},[u,i,l,c,t,r]),u?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}):i?t&&!l?s?n?a.jsx(Q4,{}):a.jsx(cc,{to:"/",replace:!0}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Verifying permissions..."})]})}):r&&!c&&!l?s?n?a.jsx(Y4,{}):a.jsx(cc,{to:"/",replace:!0}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Verifying permissions..."})]})}):a.jsx(a.Fragment,{children:e}):n?a.jsx(Kx,{}):a.jsx(cc,{to:"/auth",replace:!0})}catch(i){return console.error("Auth context not available:",i),n?a.jsx(Kx,{}):a.jsx(cc,{to:"/auth",replace:!0})}},oe=m.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:A("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));oe.displayName="Input";var X4="Label",tS=m.forwardRef((e,t)=>a.jsx(W.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));tS.displayName=X4;var rS=tS;const J4=ho("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),te=m.forwardRef(({className:e,...t},r)=>a.jsx(rS,{ref:r,className:A(J4(),e),...t}));te.displayName=rS.displayName;function Z4(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(d){const{scope:h,children:p,...x}=d,g=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,x=m.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,e5(s,...t)]}function e5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var t5=m.createContext(void 0);function Ss(e){const t=m.useContext(t5);return e||t||"ltr"}var Bf="rovingFocusGroup.onEntryFocus",r5={bubbles:!1,cancelable:!0},_d="RovingFocusGroup",[Mm,nS,n5]=Ia(_d),[s5,qa]=Z4(_d,[n5]),[o5,a5]=s5(_d),sS=m.forwardRef((e,t)=>a.jsx(Mm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Mm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(i5,{...e,ref:t})})}));sS.displayName=_d;var i5=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=m.useRef(null),p=re(t,h),x=Ss(o),[g=null,w]=Ft({prop:i,defaultProp:l,onChange:c}),[y,v]=m.useState(!1),b=De(u),j=nS(r),S=m.useRef(!1),[k,N]=m.useState(0);return m.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Bf,b),()=>E.removeEventListener(Bf,b)},[b]),a.jsx(o5,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(E=>w(E),[w]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>N(E=>E-1),[]),children:a.jsx(W.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:L(e.onMouseDown,()=>{S.current=!0}),onFocus:L(e.onFocus,E=>{const R=!S.current;if(E.target===E.currentTarget&&R&&!y){const T=new CustomEvent(Bf,r5);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const M=j().filter(z=>z.focusable),O=M.find(z=>z.active),H=M.find(z=>z.id===g),X=[O,H,...M].filter(Boolean).map(z=>z.ref.current);iS(X,f)}}S.current=!1}),onBlur:L(e.onBlur,()=>v(!1))})})}),oS="RovingFocusGroupItem",aS=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=e,l=Yt(),c=o||l,u=a5(oS,r),f=u.currentTabStopId===c,d=nS(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),a.jsx(Mm.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(W.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:L(e.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:L(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:L(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=u5(x,u.orientation,u.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=d().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const v=y.indexOf(x.currentTarget);y=u.loop?d5(y,v+1):y.slice(v+1)}setTimeout(()=>iS(y))}})})})});aS.displayName=oS;var l5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function c5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function u5(e,t,r){const n=c5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return l5[n]}function iS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function d5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Mg=sS,Dg=aS,Lg="Tabs",[f5,EB]=pt(Lg,[qa]),lS=qa(),[h5,$g]=f5(Lg),cS=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=Ss(l),[d,h]=Ft({prop:n,onChange:s,defaultProp:o});return a.jsx(h5,{scope:r,baseId:Yt(),value:d,onValueChange:h,orientation:i,dir:f,activationMode:c,children:a.jsx(W.div,{dir:f,"data-orientation":i,...u,ref:t})})});cS.displayName=Lg;var uS="TabsList",dS=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=$g(uS,r),i=lS(r);return a.jsx(Mg,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(W.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});dS.displayName=uS;var fS="TabsTrigger",hS=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=$g(fS,r),l=lS(r),c=gS(i.baseId,n),u=vS(i.baseId,n),f=n===i.value;return a.jsx(Dg,{asChild:!0,...l,focusable:!s,active:f,children:a.jsx(W.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:L(e.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?i.onValueChange(n):d.preventDefault()}),onKeyDown:L(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(n)}),onFocus:L(e.onFocus,()=>{const d=i.activationMode!=="manual";!f&&!s&&d&&i.onValueChange(n)})})})});hS.displayName=fS;var mS="TabsContent",pS=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,l=$g(mS,r),c=gS(l.baseId,n),u=vS(l.baseId,n),f=n===l.value,d=m.useRef(f);return m.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(tt,{present:s||f,children:({present:h})=>a.jsx(W.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&o})})});pS.displayName=mS;function gS(e,t){return`${e}-trigger-${t}`}function vS(e,t){return`${e}-content-${t}`}var m5=cS,xS=dS,yS=hS,wS=pS;const Nd=m5,_l=m.forwardRef(({className:e,...t},r)=>a.jsx(xS,{ref:r,className:A("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_l.displayName=xS.displayName;const cr=m.forwardRef(({className:e,...t},r)=>a.jsx(yS,{ref:r,className:A("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));cr.displayName=yS.displayName;const ur=m.forwardRef(({className:e,...t},r)=>a.jsx(wS,{ref:r,className:A("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ur.displayName=wS.displayName;const p5=ho("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ot=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:A(p5({variant:t}),e),...r}));ot.displayName="Alert";const Fg=m.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:A("mb-1 font-medium leading-none tracking-tight",e),...t}));Fg.displayName="AlertTitle";const at=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:A("text-sm [&_p]:leading-relaxed",e),...t}));at.displayName="AlertDescription";const g5=()=>jn({mutationFn:async({email:e})=>{var t,r,n,s;console.log("Sending password reset request for:",e);try{const{data:o,error:i}=await $.functions.invoke("send-password-reset",{body:{email:e.trim().toLowerCase()}});if(console.log("Password reset function response:",{data:o,error:i}),i){if(console.error("Supabase function invoke error:",i),(t=i.message)!=null&&t.includes("NetworkError")||(r=i.message)!=null&&r.includes("Failed to fetch"))throw new Error("Network error: Please check your internet connection and try again");if((n=i.message)!=null&&n.includes("FunctionsError")||(s=i.message)!=null&&s.includes("non-2xx status code")){const l=(o==null?void 0:o.error)||"Service error occurred. Please try again.";throw new Error(l)}throw new Error(i.message||"Failed to send password reset request")}if(!o)throw console.error("No data returned from password reset function"),new Error("No response received from server");if(typeof o=="object"&&o!==null&&"success"in o){const l=o;if(l.success===!1)throw console.error("Password reset failed:",l.error),new Error(l.error||"Failed to send password reset email");return console.log("Password reset successful:",l),l}return console.log("Password reset completed with response:",o),{success:!0,message:"Password reset email sent successfully"}}catch(o){console.error("Password reset error:",o);const i=o.message||"Failed to send password reset email. Please try again.";throw new Error(i)}},onSuccess:e=>{_e.success(e.message||"Password reset email sent! Check your inbox for instructions.")},onError:e=>{console.error("Password reset mutation error:",e);const t=e.message||"Failed to send password reset email";_e.error(t)}});function v5(){const[e,t]=m.useState(!1),r=Et(),{toast:n}=gr();return{processInvitation:async(o,i,l)=>{var c;t(!0);try{console.log("=== INVITATION PROCESSING START ==="),console.log("Processing invitation for:",o,"to org:",i,"userId:",l);const{data:u,error:f}=await $.from("organizations").select("id, name, slug").eq("slug",i).single();if(f||!u)throw console.error("Organization not found:",i,f),new Error("Organization not found");console.log("Found organization:",u);const{data:d,error:h}=await $.from("organization_users").select("id, role, enhanced_role, status").eq("user_id",l).eq("organization_id",u.id).maybeSingle();if(h&&console.error("Error checking membership:",h),d)return console.log("=== USER ALREADY IN ORGANIZATION ==="),console.log("Existing membership:",d),n({title:"Welcome back!",description:`You're already a member of ${u.name}`}),await new Promise(b=>setTimeout(b,1500)),r(`/admin/${i}`),{success:!0,message:"Already a member"};const{data:p,error:x}=await $.from("user_invitations").select("id, role, enhanced_role, status").eq("email",o.toLowerCase().trim()).eq("organization_id",u.id).eq("status","pending").order("created_at",{ascending:!1}).limit(1).maybeSingle();console.log("Found invitation:",p,"Error:",x);const g=(p==null?void 0:p.role)||"member",w=(p==null?void 0:p.enhanced_role)||"member";console.log("=== ADDING USER TO ORGANIZATION ==="),console.log("Adding user to organization with role:",g,"enhanced_role:",w);const{data:y,error:v}=await $.from("organization_users").insert({user_id:l,organization_id:u.id,email:o,role:g,enhanced_role:w,status:"active",accepted_at:new Date().toISOString()}).select().single();if(v){if(console.error("Error adding user to organization:",v),v.code==="23505"||(c=v.message)!=null&&c.includes("duplicate key"))return console.log("=== DUPLICATE KEY ERROR - USER ALREADY EXISTS ==="),n({title:"Welcome back!",description:`You're already a member of ${u.name}`}),await new Promise(b=>setTimeout(b,1500)),r(`/admin/${i}`),{success:!0,message:"Already a member"};throw new Error("Failed to join organization: "+v.message)}if(console.log("Successfully added user to organization:",y),console.log("=== INVITATION PROCESSING SUCCESS ==="),p){const{error:b}=await $.from("user_invitations").update({status:"accepted",updated_at:new Date().toISOString()}).eq("id",p.id);b?console.warn("Could not update invitation status:",b):console.log("Marked invitation as accepted and removed from pending")}return n({title:"Welcome!",description:`You've successfully joined ${u.name}`}),await new Promise(b=>setTimeout(b,2e3)),console.log("Redirecting to organization dashboard:",i),r(`/admin/${i}`),{success:!0,message:"Successfully joined organization"}}catch(u){console.error("=== INVITATION PROCESSING ERROR ==="),console.error("Error processing invitation:",u);const f=u instanceof Error?u.message:"Failed to process invitation";return n({title:"Error",description:f,variant:"destructive"}),{success:!1,error:f}}finally{t(!1)}},processing:e}}function x5(){const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,o]=m.useState(!1),[i,l]=m.useState(""),[c,u]=m.useState(!1);let f;try{f=kn()}catch(E){console.error("Auth context not available:",E),f={signIn:async()=>({error:{message:"Authentication not available"}}),signUp:async()=>({error:{message:"Authentication not available"}}),updatePassword:async()=>({error:{message:"Authentication not available"}})}}const{signIn:d,signUp:h,updatePassword:p}=f,x=g5(),{processInvitation:g,processing:w}=v5(),y=Et(),{toast:v}=gr(),[b]=gd(),j=async E=>{E.preventDefault(),o(!0),l(""),console.log("=== SIGN IN FLOW START ==="),console.log("Starting sign in process for:",e);const{error:R}=await d(e,r);if(R){l(R.message),o(!1);return}v({title:"Welcome back!",description:"You have been signed in successfully."}),console.log("Sign in successful, waiting for session..."),setTimeout(async()=>{try{const{data:{session:T}}=await $.auth.getSession();if(T!=null&&T.user){console.log("Session found, determining redirect path...");const M=await Ks.handlePostAuthRedirect(T.user);console.log("Redirecting to:",M),y(M)}else console.log("No session found after sign in, redirecting to auth"),y("/auth")}catch(T){console.error("Post-signin processing error:",T),y("/")}finally{o(!1)}},1e3)},S=async E=>{E.preventDefault(),o(!0),l(""),console.log("=== SIGN UP FLOW START ==="),console.log("Starting sign up process for:",e);const{error:R}=await h(e,r);if(R){console.error("Signup error:",R),l(R.message),o(!1);return}console.log("Signup successful"),v({title:"Account created!",description:"Account created! Please check your email to verify your account."}),o(!1)},k=async E=>{E.preventDefault(),o(!0),l("");try{await x.mutateAsync({email:e}),u(!1)}catch(R){l(R.message||"Failed to send password reset email")}finally{o(!1)}},N=async E=>{o(!0),l("");const{error:R}=await p(E);if(R){l(R.message),o(!1);return}v({title:"Password updated!",description:"Your password has been successfully updated."}),console.log("Password reset completed, redirecting to dashboard"),y("/"),o(!1)};return{email:e,setEmail:t,password:r,setPassword:n,loading:s||x.isPending||w,error:i,setError:l,showForgotPassword:c,setShowForgotPassword:u,handleSignIn:j,handleSignUp:S,handleForgotPassword:k,handleNewPassword:N,isPasswordReset:b.get("reset")==="true"}}const y5=()=>{const{email:e,setEmail:t,password:r,setPassword:n,loading:s,error:o,handleSignIn:i,handleSignUp:l,handleForgotPassword:c,handleNewPassword:u,showForgotPassword:f,setShowForgotPassword:d,isPasswordReset:h}=x5(),[p]=gd(),[x,g]=m.useState(!1),[w,y]=m.useState(""),[v,b]=m.useState(""),[j,S]=m.useState(""),k=p.get("setup-password")==="true",N=p.get("invitation")==="true",E=p.get("org"),R=p.get("email"),T=p.get("message");m.useEffect(()=>{k&&R&&t(decodeURIComponent(R))},[k,R,t]);const M=O=>{if(O.preventDefault(),w!==v){S("Passwords do not match");return}if(w.length<6){S("Password must be at least 6 characters");return}S(""),u(w)};return k?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(de,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs($e,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(fn,{className:"h-8 w-8"})}),a.jsx(Fe,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Set Your Password"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Complete your invitation to join the organization"}),E&&a.jsxs("p",{className:"text-sm text-sunset-600 font-medium",children:["Organization: ",E]})]}),a.jsx(fe,{children:a.jsxs("form",{onSubmit:M,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"invited-email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(oe,{id:"invited-email",type:"email",value:e,disabled:!0,className:"bg-gray-50 border-warm-gray-200 text-base cursor-not-allowed"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(te,{htmlFor:"new-password",className:"font-medium text-warm-gray-700",children:"Create Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(oe,{id:"new-password",type:x?"text":"password",value:w,onChange:O=>y(O.target.value),required:!0,placeholder:"Create your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!x),children:x?a.jsx(oc,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Vo,{className:"h-4 w-4 text-warm-gray-400"})})]}),a.jsx("p",{className:"text-xs text-warm-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"confirm-password",className:"font-medium text-warm-gray-700",children:"Confirm Password"}),a.jsx(oe,{id:"confirm-password",type:"password",value:v,onChange:O=>b(O.target.value),required:!0,placeholder:"Confirm your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),j&&a.jsx(ot,{className:"bg-red-50 border border-red-200",children:a.jsx(at,{className:"text-red-700",children:j})}),a.jsx(J,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Setting up...":"Complete Setup"})]})})]})})}):h?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(so,{to:"/auth",className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[a.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),a.jsxs(de,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs($e,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(fn,{className:"h-8 w-8"})}),a.jsx(Fe,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Set New Password"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Enter your new password below"})]}),a.jsx(fe,{children:a.jsxs("form",{onSubmit:M,className:"space-y-5",children:[a.jsxs("div",{className:"relative",children:[a.jsx(te,{htmlFor:"new-password",className:"font-medium text-warm-gray-700",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(oe,{id:"new-password",type:x?"text":"password",value:w,onChange:O=>y(O.target.value),required:!0,placeholder:"Enter new password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!x),children:x?a.jsx(oc,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Vo,{className:"h-4 w-4 text-warm-gray-400"})})]})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"confirm-password",className:"font-medium text-warm-gray-700",children:"Confirm Password"}),a.jsx(oe,{id:"confirm-password",type:"password",value:v,onChange:O=>b(O.target.value),required:!0,placeholder:"Confirm new password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),j&&a.jsx(ot,{className:"bg-red-50 border border-red-200",children:a.jsx(at,{className:"text-red-700",children:j})}),a.jsx(J,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Updating...":"Update Password"})]})})]})]})}):f?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("button",{onClick:()=>d(!1),className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[a.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),a.jsxs(de,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs($e,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(fn,{className:"h-8 w-8"})}),a.jsx(Fe,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Reset Password"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Enter your email to receive reset instructions"})]}),a.jsx(fe,{children:a.jsxs("form",{onSubmit:c,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"reset-email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(oe,{id:"reset-email",type:"email",value:e,onChange:O=>t(O.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),o&&a.jsx(ot,{className:"bg-red-50 border border-red-200",children:a.jsx(at,{className:"text-red-700",children:o})}),a.jsx(J,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Sending...":"Send Reset Link"})]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(so,{to:"/",className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[a.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsxs(de,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs($e,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(fn,{className:"h-8 w-8"})}),a.jsx(Fe,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:N?"Join Organization":"Welcome to Pulsify"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:N&&E?`You've been invited to join ${E.replace("-"," ")}`:"Sign in to your organization account"}),N&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 text-sm text-sunset-600",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"Organization Invitation"})]})]}),a.jsxs(fe,{children:[T&&a.jsxs(ot,{className:"bg-green-50 border border-green-200 mb-6",children:[a.jsx(zt,{className:"h-4 w-4 text-green-600"}),a.jsx(at,{className:"text-green-700",children:decodeURIComponent(T)})]}),a.jsxs(Nd,{defaultValue:"signin",className:"w-full",children:[a.jsxs(_l,{className:"grid w-full grid-cols-2 mb-6 bg-warm-gray-100/80 border border-warm-gray-200 rounded-lg shadow-sm",children:[a.jsx(cr,{value:"signin",className:"font-semibold text-warm-gray-700",children:"Sign In"}),a.jsx(cr,{value:"signup",className:"font-semibold text-warm-gray-700",children:N?"Create Account":"Sign Up"})]}),a.jsx(ur,{value:"signin",children:a.jsxs("form",{onSubmit:i,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(oe,{id:"email",type:"email",value:e,onChange:O=>t(O.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(te,{htmlFor:"password",className:"font-medium text-warm-gray-700",children:"Password"}),a.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-sm text-sunset-500 hover:text-sunset-600 font-medium transition-colors",children:"Forgot password?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(oe,{id:"password",type:x?"text":"password",value:r,onChange:O=>n(O.target.value),required:!0,placeholder:"Enter your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!x),children:x?a.jsx(oc,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Vo,{className:"h-4 w-4 text-warm-gray-400"})})]})]}),o&&a.jsx(ot,{className:"bg-red-50 border border-red-200",children:a.jsx(at,{className:"text-red-700",children:o})}),a.jsx(J,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Signing in...":N?"Join Organization":"Sign In"})]})}),a.jsx(ur,{value:"signup",children:a.jsxs("form",{onSubmit:l,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"signup-email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(oe,{id:"signup-email",type:"email",value:e,onChange:O=>t(O.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"signup-password",className:"font-medium text-warm-gray-700",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(oe,{id:"signup-password",type:x?"text":"password",value:r,onChange:O=>n(O.target.value),required:!0,placeholder:"Create a password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!x),children:x?a.jsx(oc,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Vo,{className:"h-4 w-4 text-warm-gray-400"})})]}),a.jsx("p",{className:"text-xs text-warm-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),o&&a.jsx(ot,{className:"bg-red-50 border border-red-200",children:a.jsx(at,{className:"text-red-700",children:o})}),a.jsx(J,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Creating account...":N?"Join Organization":"Sign Up"}),a.jsx("div",{className:"text-xs text-center text-warm-gray-400 mt-3",children:N?"After verifying your email, you'll be added to the organization.":"After verifying your email, your organization will be created in the next step."})]})})]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("span",{className:"text-xs flex items-center justify-center gap-2 text-warm-gray-400",children:[a.jsx(hs,{className:"w-3 h-3 text-sunset-500"}),"Real Insights. Real Impact."]})})]})})},w5=()=>a.jsx(y5,{}),b5=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,o]=m.useState(!1),[i,l]=m.useState(""),{signIn:c}=kn(),u=Et(),{toast:f}=gr(),d=async h=>{h.preventDefault(),o(!0),l("");const{error:p}=await c(e,r);if(p)l(p.message),o(!1);else{try{const{data:{session:x}}=await $.auth.getSession();if(x!=null&&x.user){const{data:g,error:w}=await $.rpc("get_current_user_admin_status");if(w){console.error("Error checking admin status:",w),l("Failed to verify admin privileges"),o(!1);return}g?(f({title:"Welcome back, Admin!",description:"You have been signed in successfully."}),u("/admin")):(l("Access denied. This login is for system administrators only."),await $.auth.signOut())}else l("Authentication failed. Please try again.")}catch(x){console.error("Error during admin verification:",x),l("Failed to verify admin privileges")}o(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(so,{to:"/",className:"inline-flex items-center text-slate-300 hover:text-white mb-8 transition-colors",children:[a.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsxs(de,{className:"bg-slate-800 border-slate-700",children:[a.jsxs($e,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-red-100 w-16 h-16 rounded-full flex items-center justify-center text-red-600 mb-4",children:a.jsx(mo,{className:"h-8 w-8"})}),a.jsx(Fe,{className:"text-2xl font-bold text-white",children:"System Administrator"}),a.jsx("p",{className:"text-slate-400",children:"Sign in to access the admin dashboard"})]}),a.jsxs(fe,{children:[a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"email",className:"text-slate-300",children:"Email"}),a.jsx(oe,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"admin@example.com"})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"password",className:"text-slate-300",children:"Password"}),a.jsx(oe,{id:"password",type:"password",value:r,onChange:h=>n(h.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"Enter your password"})]}),i&&a.jsx(ot,{className:"bg-red-900 border-red-700",children:a.jsx(at,{className:"text-red-200",children:i})}),a.jsx(J,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:s,children:s?"Signing in...":"Sign In as Admin"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-slate-400 text-sm",children:["Not an admin? ",a.jsx(so,{to:"/auth",className:"text-blue-400 hover:text-blue-300",children:"User Login"})]})})]})]})]})})},j5=async e=>{try{const{data:t,error:r}=await $.rpc("get_organization_stats_enhanced",{org_id:e});return r?(console.error("Error fetching organization stats:",r),null):t}catch(t){return console.error("Error fetching organization stats:",t),null}},S5=async()=>{try{const{data:e,error:t}=await $.from("organizations").select("*").order("created_at",{ascending:!1});return t?(console.error("Error fetching organizations:",t),[]):e||[]}catch(e){return console.error("Error fetching organizations:",e),[]}},Vf=async e=>{try{const{data:t,error:r}=await $.from("organizations").select("*").eq("slug",e).eq("is_active",!0).single();return r?(console.error("Error fetching organization by slug:",r),null):t}catch(t){return console.error("Error fetching organization by slug:",t),null}},_5=async e=>{try{const{data:t,error:r}=await $.from("organizations").select("*").eq("domain",e).eq("is_active",!0).single();return r?(console.error("Error fetching organization by domain:",r),null):t}catch(t){return console.error("Error fetching organization by domain:",t),null}},N5=async e=>{try{const{data:{user:t}}=await $.auth.getUser();let r="starter";(e.plan_type==="pro"||e.plan_type==="enterprise")&&(r=e.plan_type);const n={...e,created_by_user_id:(t==null?void 0:t.id)||e.created_by_user_id,is_active:!0,primary_color:e.primary_color||"#007ACE",secondary_color:e.secondary_color||"#073763",plan_type:r,max_responses:e.max_responses||100,features_config:e.features_config||null,trial_ends_at:e.trial_ends_at||null},{data:s,error:o}=await $.from("organizations").insert(n).select().single();return o?(console.error("Error creating organization:",o),null):(s!=null&&s.id&&(t!=null&&t.id)&&await $.from("organization_audit_log").insert({organization_id:s.id,action:"create_organization",performed_by:t.id,new_value:s}),s)}catch(t){return console.error("Error creating organization:",t),null}},bS=async(e,t)=>{try{const{plan_type:r,...n}=t;let s={...n};r!==void 0&&(r==="starter"||r==="pro"||r==="enterprise"?s.plan_type=r:s.plan_type="starter");const{data:o,error:i}=await $.from("organizations").update(s).eq("id",e).select().single();return i?(console.error("Error updating organization:",i),null):o}catch(r){return console.error("Error updating organization:",r),null}},k5=({onClose:e,onSubmit:t})=>{const[r,n]=m.useState({name:"",slug:"",domain:"",logo_url:"",primary_color:"#007ACE",secondary_color:"#073763",plan_type:"starter",trial_ends_at:"",billing_email:"",max_responses:100,features_config:void 0}),[s,o]=m.useState(!1),[i,l]=m.useState(""),c=d=>{if(d.preventDefault(),!r.name||!r.slug)return;let h;try{i.trim()&&(h=JSON.parse(i))}catch{alert("Invalid JSON in Feature Overrides!");return}t({...r,features_config:h,trial_ends_at:r.trial_ends_at?new Date(r.trial_ends_at).toISOString():void 0})},u=d=>d.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),f=d=>{n(h=>({...h,name:d,slug:u(d)}))};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx($e,{children:a.jsx(Fe,{children:"Create New Organization"})}),a.jsx(fe,{children:a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"name",children:"Organization Name *"}),a.jsx(oe,{id:"name",value:r.name,onChange:d=>f(d.target.value),placeholder:"Enter organization name",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"slug",children:"URL Slug *"}),a.jsx(oe,{id:"slug",value:r.slug,onChange:d=>n(h=>({...h,slug:d.target.value})),placeholder:"url-friendly-name",required:!0}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Will be accessible at /",r.slug]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"domain",children:"Custom Domain"}),a.jsx(oe,{id:"domain",value:r.domain,onChange:d=>n(h=>({...h,domain:d.target.value})),placeholder:"feedback.yourcompany.com"})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"billing_email",children:"Billing Email"}),a.jsx(oe,{id:"billing_email",type:"email",value:r.billing_email,onChange:d=>n(h=>({...h,billing_email:d.target.value})),placeholder:"billing@company.com"})]})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"logo_url",children:"Logo URL"}),a.jsx(oe,{id:"logo_url",value:r.logo_url,onChange:d=>n(h=>({...h,logo_url:d.target.value})),placeholder:"https://example.com/logo.png"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"primary_color",children:"Primary Color"}),a.jsx(oe,{id:"primary_color",type:"color",value:r.primary_color,onChange:d=>n(h=>({...h,primary_color:d.target.value}))})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"secondary_color",children:"Secondary Color"}),a.jsx(oe,{id:"secondary_color",type:"color",value:r.secondary_color,onChange:d=>n(h=>({...h,secondary_color:d.target.value}))})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"max_responses",children:"Max Responses"}),a.jsx(oe,{id:"max_responses",type:"number",value:r.max_responses,onChange:d=>n(h=>({...h,max_responses:parseInt(d.target.value)||100})),min:"1"})]})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"plan_type",children:"Plan Type / Tier"}),a.jsxs("select",{id:"plan_type",value:r.plan_type,onChange:d=>n(h=>({...h,plan_type:d.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"trial_ends_at",children:"Trial Ends At"}),a.jsx(oe,{id:"trial_ends_at",type:"datetime-local",value:r.trial_ends_at||"",onChange:d=>n(h=>({...h,trial_ends_at:d.target.value})),placeholder:"Trial end date"})]}),a.jsxs("div",{children:[a.jsx(J,{type:"button",variant:"outline",className:"w-full",onClick:()=>o(d=>!d),children:s?"Hide Feature Overrides":"Show Feature Overrides (Advanced)"}),s&&a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx(te,{htmlFor:"features_override",children:"Feature Overrides (JSON)"}),a.jsx("textarea",{id:"features_override",className:"w-full min-h-[120px] border rounded p-2 font-mono text-xs",placeholder:'e.g. { "analytics": true, "modules": {"settings": false} }',value:i,onChange:d=>l(d.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Advanced: Override plan tier settings on a per-feature basis."})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(J,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),a.jsx(J,{type:"submit",children:"Create Organization"})]})]})})]})})},E5=()=>Xr({queryKey:["system-user-management"],queryFn:async()=>{const{data:e,error:t}=await $.functions.invoke("system-user-management");if(t){if(t.context&&typeof t.context.json=="function")try{const n=await t.context.json();if(n.error)throw new Error(n.error)}catch{}throw new Error(`Failed to fetch system user data: ${t.message}`)}return{...e,users:((e==null?void 0:e.users)||[]).map(n=>({...n,organization_user_created_at:n.organization_user_created_at??n.created_at??null,role:n.enhanced_role||n.role||"member"})),invitations:((e==null?void 0:e.invitations)||[]).map(n=>({...n,role:n.enhanced_role||n.role||"member"}))}},staleTime:5*60*1e3}),C5=()=>{const e=Zr();return jn({mutationFn:async({userId:t,email:r,organizationId:n,role:s})=>{const{data:o,error:i}=await $.functions.invoke("assign-user-to-org",{body:{user_id:t,organization_id:n,role:s}});if(i){if(i.context&&typeof i.context.json=="function")try{const l=await i.context.json();if(l.error)throw new Error(l.error)}catch{}throw new Error(i.message||"An unknown error occurred.")}return o},onSuccess:()=>{e.invalidateQueries({queryKey:["system-user-management"]})}})},R5=()=>{const e=Zr();return jn({mutationFn:async()=>{const{data:t,error:r}=await $.functions.invoke("admin-approve-invitations");if(r){if(r.context&&typeof r.context.json=="function")try{const n=await r.context.json();if(n.error)throw new Error(n.error)}catch{}throw new Error(r.message)}return t},onSuccess:()=>{e.invalidateQueries({queryKey:["system-user-management"]})}})},Nl=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:A("w-full caption-bottom text-sm",e),...t})}));Nl.displayName="Table";const kl=m.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:A("[&_tr]:border-b",e),...t}));kl.displayName="TableHeader";const El=m.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:A("[&_tr:last-child]:border-0",e),...t}));El.displayName="TableBody";const P5=m.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:A("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));P5.displayName="TableFooter";const Sn=m.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:A("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Sn.displayName="TableRow";const Ae=m.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:A("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ae.displayName="TableHead";const Ie=m.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:A("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ie.displayName="TableCell";const T5=m.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:A("mt-4 text-sm text-muted-foreground",e),...t}));T5.displayName="TableCaption";const kd=({role:e,showIcon:t=!1,className:r=""})=>{const n=ku(e),s=n.icon;return a.jsxs(Ut,{variant:n.variant,className:r,children:[t&&a.jsx(s,{className:"w-3 h-3 mr-1"}),n.label]})},A5=({users:e,onAssignUser:t})=>e.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No users found in the system."}):a.jsx("div",{className:"rounded-md border",children:a.jsxs(Nl,{children:[a.jsx(kl,{children:a.jsxs(Sn,{children:[a.jsx(Ae,{children:"Email"}),a.jsx(Ae,{children:"Organization"}),a.jsx(Ae,{children:"Role"}),a.jsx(Ae,{children:"Status"}),a.jsx(Ae,{children:"Joined"}),a.jsx(Ae,{className:"w-[100px]",children:"Actions"})]})}),a.jsx(El,{children:e.map(r=>a.jsxs(Sn,{children:[a.jsx(Ie,{className:"font-medium",children:r.email}),a.jsx(Ie,{children:r.organizations?a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:r.organizations.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["/",r.organizations.slug]})]}):a.jsx("span",{className:"text-gray-400",children:"No organization"})}),a.jsx(Ie,{children:a.jsx(kd,{role:r.role})}),a.jsx(Ie,{children:a.jsx(Ut,{variant:r.status==="active"?"default":"secondary",children:r.status})}),a.jsx(Ie,{children:r.organization_user_created_at?new Date(r.organization_user_created_at).toLocaleDateString():new Date(r.created_at).toLocaleDateString()}),a.jsx(Ie,{children:a.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>t(r),className:"flex items-center gap-2",children:[a.jsx(rg,{className:"w-4 h-4"}),"Assign"]})})]},`${r.user_id}-${r.organization_id}`))})]})}),I5=({invitations:e})=>e.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Ji,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{children:"No pending invitations found."})]}):a.jsx("div",{className:"rounded-md border",children:a.jsxs(Nl,{children:[a.jsx(kl,{children:a.jsxs(Sn,{children:[a.jsx(Ae,{children:"Email"}),a.jsx(Ae,{children:"Organization"}),a.jsx(Ae,{children:"Role"}),a.jsx(Ae,{children:"Status"}),a.jsx(Ae,{children:"Expires"}),a.jsx(Ae,{children:"Created"})]})}),a.jsx(El,{children:e.map(t=>{const r=eS(t.expires_at);return a.jsxs(Sn,{children:[a.jsx(Ie,{className:"font-medium",children:t.email}),a.jsx(Ie,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:t.organizations.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["/",t.organizations.slug]})]})}),a.jsx(Ie,{children:a.jsx(kd,{role:t.role})}),a.jsx(Ie,{children:a.jsx(Ut,{variant:"secondary",children:t.status})}),a.jsx(Ie,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:r?"text-red-600":"",children:new Date(t.expires_at).toLocaleDateString()}),r&&a.jsxs(Ut,{variant:"destructive",className:"flex items-center gap-1",children:[a.jsx(_a,{className:"w-3 h-3"}),"Soon"]})]})}),a.jsx(Ie,{children:new Date(t.created_at).toLocaleDateString()})]},t.id)})})]})}),Cu=({size:e="md",text:t="Loading...",className:r=""})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return a.jsxs("div",{className:`flex items-center justify-center space-x-2 ${r}`,children:[a.jsx(v1,{className:`animate-spin ${n[e]}`}),t&&a.jsx("span",{className:"text-gray-600",children:t})]})};var qf="focusScope.autoFocusOnMount",Wf="focusScope.autoFocusOnUnmount",Gx={bubbles:!1,cancelable:!0},O5="FocusScope",Ed=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=De(s),f=De(o),d=m.useRef(null),h=re(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?d.current=j:Dn(d.current,{select:!0})},w=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Dn(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Dn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){Yx.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(qf,Gx);l.addEventListener(qf,u),l.dispatchEvent(y),y.defaultPrevented||(M5(z5(jS(l)),{select:!0}),document.activeElement===g&&Dn(l))}return()=>{l.removeEventListener(qf,u),setTimeout(()=>{const y=new CustomEvent(Wf,Gx);l.addEventListener(Wf,f),l.dispatchEvent(y),y.defaultPrevented||Dn(g??document.body,{select:!0}),l.removeEventListener(Wf,f),Yx.remove(p)},0)}}},[l,u,f,p]);const x=m.useCallback(g=>{if(!r&&!n||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const v=g.currentTarget,[b,j]=D5(v);b&&j?!g.shiftKey&&y===j?(g.preventDefault(),r&&Dn(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&Dn(j,{select:!0})):y===v&&g.preventDefault()}},[r,n,p.paused]);return a.jsx(W.div,{tabIndex:-1,...i,ref:h,onKeyDown:x})});Ed.displayName=O5;function M5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Dn(n,{select:t}),document.activeElement!==r)return}function D5(e){const t=jS(e),r=Qx(t,e),n=Qx(t.reverse(),e);return[r,n]}function jS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Qx(e,t){for(const r of e)if(!L5(r,{upTo:t}))return r}function L5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $5(e){return e instanceof HTMLInputElement&&"select"in e}function Dn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&$5(e)&&t&&e.select()}}var Yx=F5();function F5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Xx(e,t),e.unshift(t)},remove(t){var r;e=Xx(e,t),(r=e[0])==null||r.resume()}}}function Xx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function z5(e){return e.filter(t=>t.tagName!=="A")}var Hf=0;function zg(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jx()),document.body.insertAdjacentElement("beforeend",e[1]??Jx()),Hf++,()=>{Hf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Hf--}},[])}function Jx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hr=function(){return Hr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Hr.apply(this,arguments)};function SS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function U5(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var zc="right-scroll-bar-position",Uc="width-before-scroll-bar",B5="with-scroll-bars-hidden",V5="--removed-body-scroll-bar-size";function Kf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function q5(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var W5=typeof window<"u"?m.useLayoutEffect:m.useEffect,Zx=new WeakMap;function H5(e,t){var r=q5(null,function(n){return e.forEach(function(s){return Kf(s,n)})});return W5(function(){var n=Zx.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||Kf(l,null)}),o.forEach(function(l){s.has(l)||Kf(l,i)})}Zx.set(r,e)},[e]),r}function K5(e){return e}function G5(e,t){t===void 0&&(t=K5);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var f=i;i=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),r}}}};return s}function Q5(e){e===void 0&&(e={});var t=G5(null);return t.options=Hr({async:!0,ssr:!1},e),t}var _S=function(e){var t=e.sideCar,r=SS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Hr({},r))};_S.isSideCarExport=!0;function Y5(e,t){return e.useMedium(t),_S}var NS=Q5(),Gf=function(){},Cd=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Gf,onWheelCapture:Gf,onTouchMoveCapture:Gf}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noIsolation,x=e.inert,g=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,v=e.gapMode,b=SS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=H5([r,t]),k=Hr(Hr({},b),s);return m.createElement(m.Fragment,null,f&&m.createElement(j,{sideCar:NS,removeScrollBar:u,shards:d,noIsolation:p,inert:x,setCallbacks:o,allowPinchZoom:!!g,lockRef:r,gapMode:v}),i?m.cloneElement(m.Children.only(l),Hr(Hr({},k),{ref:S})):m.createElement(y,Hr({},k,{className:c,ref:S}),l))});Cd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cd.classNames={fullWidth:Uc,zeroRight:zc};var X5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=X5();return t&&e.setAttribute("nonce",t),e}function Z5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tL=function(){var e=0,t=null;return{add:function(r){e==0&&(t=J5())&&(Z5(t,r),eL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rL=function(){var e=tL();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kS=function(){var e=rL(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},nL={left:0,top:0,right:0,gap:0},Qf=function(e){return parseInt(e||"",10)||0},sL=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Qf(r),Qf(n),Qf(s)]},oL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nL;var t=sL(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},aL=kS(),ra="data-scroll-locked",iL=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(B5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ra,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Uc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(zc," .").concat(zc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Uc," .").concat(Uc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ra,`] {
    `).concat(V5,": ").concat(l,`px;
  }
`)},ey=function(){var e=parseInt(document.body.getAttribute(ra)||"0",10);return isFinite(e)?e:0},lL=function(){m.useEffect(function(){return document.body.setAttribute(ra,(ey()+1).toString()),function(){var e=ey()-1;e<=0?document.body.removeAttribute(ra):document.body.setAttribute(ra,e.toString())}},[])},cL=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;lL();var o=m.useMemo(function(){return oL(s)},[s]);return m.createElement(aL,{styles:iL(o,!t,s,r?"":"!important")})},Dm=!1;if(typeof window<"u")try{var pc=Object.defineProperty({},"passive",{get:function(){return Dm=!0,!0}});window.addEventListener("test",pc,pc),window.removeEventListener("test",pc,pc)}catch{Dm=!1}var ko=Dm?{passive:!1}:!1,uL=function(e){return e.tagName==="TEXTAREA"},ES=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uL(e)&&r[t]==="visible")},dL=function(e){return ES(e,"overflowY")},fL=function(e){return ES(e,"overflowX")},ty=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=CS(e,n);if(s){var o=RS(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hL=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},mL=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},CS=function(e,t){return e==="v"?dL(t):fL(t)},RS=function(e,t){return e==="v"?hL(t):mL(t)},pL=function(e,t){return e==="h"&&t==="rtl"?-1:1},gL=function(e,t,r,n,s){var o=pL(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,f=i>0,d=0,h=0;do{var p=RS(e,l),x=p[0],g=p[1],w=p[2],y=g-w-o*x;(x||y)&&CS(e,l)&&(d+=y,h+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!s)||!f&&(Math.abs(h)<1||!s))&&(u=!0),u},gc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ry=function(e){return[e.deltaX,e.deltaY]},ny=function(e){return e&&"current"in e?e.current:e},vL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yL=0,Eo=[];function wL(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(yL++)[0],o=m.useState(kS)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=U5([e.lockRef.current],(e.shards||[]).map(ny),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=gc(g),v=r.current,b="deltaX"in g?g.deltaX:v[0]-y[0],j="deltaY"in g?g.deltaY:v[1]-y[1],S,k=g.target,N=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&N==="h"&&k.type==="range")return!1;var E=ty(N,k);if(!E)return!0;if(E?S=N:(S=N==="v"?"h":"v",E=ty(N,k)),!E)return!1;if(!n.current&&"changedTouches"in g&&(b||j)&&(n.current=S),!S)return!0;var R=n.current||S;return gL(R,w,g,R==="h"?b:j,!0)},[]),c=m.useCallback(function(g){var w=g;if(!(!Eo.length||Eo[Eo.length-1]!==o)){var y="deltaY"in w?ry(w):gc(w),v=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&vL(S.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(i.current.shards||[]).map(ny).filter(Boolean).filter(function(S){return S.contains(w.target)}),j=b.length>0?l(w,b[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(g,w,y,v){var b={name:g,delta:w,target:y,should:v,shadowParent:bL(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),f=m.useCallback(function(g){r.current=gc(g),n.current=void 0},[]),d=m.useCallback(function(g){u(g.type,ry(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,gc(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return Eo.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ko),document.addEventListener("touchmove",c,ko),document.addEventListener("touchstart",f,ko),function(){Eo=Eo.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,ko),document.removeEventListener("touchmove",c,ko),document.removeEventListener("touchstart",f,ko)}},[]);var p=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(o,{styles:xL(s)}):null,p?m.createElement(cL,{gapMode:e.gapMode}):null)}function bL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const jL=Y5(NS,wL);var Rd=m.forwardRef(function(e,t){return m.createElement(Cd,Hr({},e,{ref:t,sideCar:jL}))});Rd.classNames=Cd.classNames;var SL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Co=new WeakMap,vc=new WeakMap,xc={},Yf=0,PS=function(e){return e&&(e.host||PS(e.parentNode))},_L=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=PS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},NL=function(e,t,r,n){var s=_L(t,Array.isArray(e)?e:[e]);xc[r]||(xc[r]=new WeakMap);var o=xc[r],i=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var p=h.getAttribute(n),x=p!==null&&p!=="false",g=(Co.get(h)||0)+1,w=(o.get(h)||0)+1;Co.set(h,g),o.set(h,w),i.push(h),g===1&&x&&vc.set(h,!0),w===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return f(t),l.clear(),Yf++,function(){i.forEach(function(d){var h=Co.get(d)-1,p=o.get(d)-1;Co.set(d,h),o.set(d,p),h||(vc.has(d)||d.removeAttribute(n),vc.delete(d)),p||d.removeAttribute(r)}),Yf--,Yf||(Co=new WeakMap,Co=new WeakMap,vc=new WeakMap,xc={})}},Ug=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=SL(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),NL(n,s,r,"aria-hidden")):function(){return null}},Bg="Dialog",[TS,AS]=pt(Bg),[kL,Or]=TS(Bg),IS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,f]=Ft({prop:n,defaultProp:s,onChange:o});return a.jsx(kL,{scope:t,triggerRef:l,contentRef:c,contentId:Yt(),titleId:Yt(),descriptionId:Yt(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(d=>!d),[f]),modal:i,children:r})};IS.displayName=Bg;var OS="DialogTrigger",MS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Or(OS,r),o=re(t,s.triggerRef);return a.jsx(W.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Wg(s.open),...n,ref:o,onClick:L(e.onClick,s.onOpenToggle)})});MS.displayName=OS;var Vg="DialogPortal",[EL,DS]=TS(Vg,{forceMount:void 0}),LS=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Or(Vg,t);return a.jsx(EL,{scope:t,forceMount:r,children:m.Children.map(n,i=>a.jsx(tt,{present:r||o.open,children:a.jsx(vl,{asChild:!0,container:s,children:i})}))})};LS.displayName=Vg;var Ru="DialogOverlay",$S=m.forwardRef((e,t)=>{const r=DS(Ru,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Or(Ru,e.__scopeDialog);return o.modal?a.jsx(tt,{present:n||o.open,children:a.jsx(CL,{...s,ref:t})}):null});$S.displayName=Ru;var CL=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Or(Ru,r);return a.jsx(Rd,{as:$t,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(W.div,{"data-state":Wg(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),io="DialogContent",FS=m.forwardRef((e,t)=>{const r=DS(io,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Or(io,e.__scopeDialog);return a.jsx(tt,{present:n||o.open,children:o.modal?a.jsx(RL,{...s,ref:t}):a.jsx(PL,{...s,ref:t})})});FS.displayName=io;var RL=m.forwardRef((e,t)=>{const r=Or(io,e.__scopeDialog),n=m.useRef(null),s=re(t,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return Ug(o)},[]),a.jsx(zS,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:L(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:L(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:L(e.onFocusOutside,o=>o.preventDefault())})}),PL=m.forwardRef((e,t)=>{const r=Or(io,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(zS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),zS=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Or(io,r),c=m.useRef(null),u=re(t,c);return zg(),a.jsxs(a.Fragment,{children:[a.jsx(Ed,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Oa,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Wg(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(AL,{titleId:l.titleId}),a.jsx(OL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),qg="DialogTitle",US=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Or(qg,r);return a.jsx(W.h2,{id:s.titleId,...n,ref:t})});US.displayName=qg;var BS="DialogDescription",VS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Or(BS,r);return a.jsx(W.p,{id:s.descriptionId,...n,ref:t})});VS.displayName=BS;var qS="DialogClose",WS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Or(qS,r);return a.jsx(W.button,{type:"button",...n,ref:t,onClick:L(e.onClick,()=>s.onOpenChange(!1))})});WS.displayName=qS;function Wg(e){return e?"open":"closed"}var HS="DialogTitleWarning",[TL,KS]=H2(HS,{contentName:io,titleName:qg,docsSlug:"dialog"}),AL=({titleId:e})=>{const t=KS(HS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},IL="DialogDescriptionWarning",OL=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KS(IL).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Hg=IS,GS=MS,Kg=LS,Cl=$S,Rl=FS,Pl=US,Tl=VS,Al=WS;const Il=Hg,QS=GS,ML=Kg,CB=Al,YS=m.forwardRef(({className:e,...t},r)=>a.jsx(Cl,{ref:r,className:A("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));YS.displayName=Cl.displayName;const Wa=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(ML,{children:[a.jsx(YS,{}),a.jsxs(Rl,{ref:n,className:A("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(Al,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(yl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wa.displayName=Rl.displayName;const Ha=({className:e,...t})=>a.jsx("div",{className:A("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ha.displayName="DialogHeader";const DL=({className:e,...t})=>a.jsx("div",{className:A("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});DL.displayName="DialogFooter";const Ka=m.forwardRef(({className:e,...t},r)=>a.jsx(Pl,{ref:r,className:A("text-lg font-semibold leading-none tracking-tight",e),...t}));Ka.displayName=Pl.displayName;const LL=m.forwardRef(({className:e,...t},r)=>a.jsx(Tl,{ref:r,className:A("text-sm text-muted-foreground",e),...t}));LL.displayName=Tl.displayName;function ol(e,[t,r]){return Math.min(r,Math.max(t,e))}function Pd(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var $L=[" ","Enter","ArrowUp","ArrowDown"],FL=[" ","Enter"],Ol="Select",[Td,Ad,zL]=Ia(Ol),[Ga,RB]=pt(Ol,[zL,$a]),Id=$a(),[UL,_s]=Ga(Ol),[BL,VL]=Ga(Ol),XS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:x}=e,g=Id(t),[w,y]=m.useState(null),[v,b]=m.useState(null),[j,S]=m.useState(!1),k=Ss(u),[N=!1,E]=Ft({prop:n,defaultProp:s,onChange:o}),[R,T]=Ft({prop:i,defaultProp:l,onChange:c}),M=m.useRef(null),O=w?x||!!w.closest("form"):!0,[H,D]=m.useState(new Set),X=Array.from(H).map(z=>z.props.value).join(";");return a.jsx(fg,{...g,children:a.jsxs(UL,{required:p,scope:t,trigger:w,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Yt(),value:R,onValueChange:T,open:N,onOpenChange:E,dir:k,triggerPointerDownPosRef:M,disabled:h,children:[a.jsx(Td.Provider,{scope:t,children:a.jsx(BL,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(z=>{D(G=>new Set(G).add(z))},[]),onNativeOptionRemove:m.useCallback(z=>{D(G=>{const C=new Set(G);return C.delete(z),C})},[]),children:r})}),O?a.jsxs(j_,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:R,onChange:z=>T(z.target.value),disabled:h,form:x,children:[R===void 0?a.jsx("option",{value:""}):null,Array.from(H)]},X):null]})})};XS.displayName=Ol;var JS="SelectTrigger",ZS=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Id(r),i=_s(JS,r),l=i.disabled||n,c=re(t,i.onTriggerChange),u=Ad(r),f=m.useRef("touch"),[d,h,p]=S_(g=>{const w=u().filter(b=>!b.disabled),y=w.find(b=>b.value===i.value),v=__(w,g,y);v!==void 0&&i.onValueChange(v.value)}),x=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(hg,{asChild:!0,...o,children:a.jsx(W.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":b_(i.value)?"":void 0,...s,ref:c,onClick:L(s.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&x(g)}),onPointerDown:L(s.onPointerDown,g=>{f.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:L(s.onKeyDown,g=>{const w=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&$L.includes(g.key)&&(x(),g.preventDefault())})})})});ZS.displayName=JS;var e_="SelectValue",t_=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=_s(e_,r),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,d=re(t,c.onValueNodeChange);return Ke(()=>{u(f)},[u,f]),a.jsx(W.span,{...l,ref:d,style:{pointerEvents:"none"},children:b_(c.value)?a.jsx(a.Fragment,{children:i}):o})});t_.displayName=e_;var qL="SelectIcon",r_=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(W.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});r_.displayName=qL;var WL="SelectPortal",n_=e=>a.jsx(vl,{asChild:!0,...e});n_.displayName=WL;var lo="SelectContent",s_=m.forwardRef((e,t)=>{const r=_s(lo,e.__scopeSelect),[n,s]=m.useState();if(Ke(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?fo.createPortal(a.jsx(o_,{scope:e.__scopeSelect,children:a.jsx(Td.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(a_,{...e,ref:t})});s_.displayName=lo;var br=10,[o_,Ns]=Ga(lo),HL="SelectContentImpl",a_=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w,...y}=e,v=_s(lo,r),[b,j]=m.useState(null),[S,k]=m.useState(null),N=re(t,Q=>j(Q)),[E,R]=m.useState(null),[T,M]=m.useState(null),O=Ad(r),[H,D]=m.useState(!1),X=m.useRef(!1);m.useEffect(()=>{if(b)return Ug(b)},[b]),zg();const z=m.useCallback(Q=>{const[ge,...xe]=O().map(ye=>ye.ref.current),[me]=xe.slice(-1),be=document.activeElement;for(const ye of Q)if(ye===be||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===ge&&S&&(S.scrollTop=0),ye===me&&S&&(S.scrollTop=S.scrollHeight),ye==null||ye.focus(),document.activeElement!==be))return},[O,S]),G=m.useCallback(()=>z([E,b]),[z,E,b]);m.useEffect(()=>{H&&G()},[H,G]);const{onOpenChange:C,triggerPointerDownPosRef:P}=v;m.useEffect(()=>{if(b){let Q={x:0,y:0};const ge=me=>{var be,ye;Q={x:Math.abs(Math.round(me.pageX)-(((be=P.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(me.pageY)-(((ye=P.current)==null?void 0:ye.y)??0))}},xe=me=>{Q.x<=10&&Q.y<=10?me.preventDefault():b.contains(me.target)||C(!1),document.removeEventListener("pointermove",ge),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",xe,{capture:!0})}}},[b,C,P]),m.useEffect(()=>{const Q=()=>C(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[C]);const[V,U]=S_(Q=>{const ge=O().filter(be=>!be.disabled),xe=ge.find(be=>be.ref.current===document.activeElement),me=__(ge,Q,xe);me&&setTimeout(()=>me.ref.current.focus())}),B=m.useCallback((Q,ge,xe)=>{const me=!X.current&&!xe;(v.value!==void 0&&v.value===ge||me)&&(R(Q),me&&(X.current=!0))},[v.value]),Z=m.useCallback(()=>b==null?void 0:b.focus(),[b]),ne=m.useCallback((Q,ge,xe)=>{const me=!X.current&&!xe;(v.value!==void 0&&v.value===ge||me)&&M(Q)},[v.value]),we=n==="popper"?Lm:i_,ae=we===Lm?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return a.jsx(o_,{scope:r,content:b,viewport:S,onViewportChange:k,itemRefCallback:B,selectedItem:E,onItemLeave:Z,itemTextRefCallback:ne,focusSelectedItem:G,selectedItemText:T,position:n,isPositioned:H,searchRef:V,children:a.jsx(Rd,{as:$t,allowPinchZoom:!0,children:a.jsx(Ed,{asChild:!0,trapped:v.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:L(s,Q=>{var ge;(ge=v.trigger)==null||ge.focus({preventScroll:!0}),Q.preventDefault()}),children:a.jsx(Oa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(we,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Q=>Q.preventDefault(),...y,...ae,onPlaced:()=>D(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:L(y.onKeyDown,Q=>{const ge=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ge&&Q.key.length===1&&U(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let me=O().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const be=Q.target,ye=me.indexOf(be);me=me.slice(ye+1)}setTimeout(()=>z(me)),Q.preventDefault()}})})})})})})});a_.displayName=HL;var KL="SelectItemAlignedPosition",i_=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=_s(lo,r),i=Ns(lo,r),[l,c]=m.useState(null),[u,f]=m.useState(null),d=re(t,N=>f(N)),h=Ad(r),p=m.useRef(!1),x=m.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:v}=i,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&w&&y){const N=o.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(o.dir!=="rtl"){const be=T.left-E.left,ye=R.left-be,gt=N.left-ye,Vt=N.width+gt,Rn=Math.max(Vt,E.width),rr=window.innerWidth-br,Es=ol(ye,[br,Math.max(br,rr-Rn)]);l.style.minWidth=Vt+"px",l.style.left=Es+"px"}else{const be=E.right-T.right,ye=window.innerWidth-R.right-be,gt=window.innerWidth-N.right-ye,Vt=N.width+gt,Rn=Math.max(Vt,E.width),rr=window.innerWidth-br,Es=ol(ye,[br,Math.max(br,rr-Rn)]);l.style.minWidth=Vt+"px",l.style.right=Es+"px"}const M=h(),O=window.innerHeight-br*2,H=g.scrollHeight,D=window.getComputedStyle(u),X=parseInt(D.borderTopWidth,10),z=parseInt(D.paddingTop,10),G=parseInt(D.borderBottomWidth,10),C=parseInt(D.paddingBottom,10),P=X+z+H+C+G,V=Math.min(w.offsetHeight*5,P),U=window.getComputedStyle(g),B=parseInt(U.paddingTop,10),Z=parseInt(U.paddingBottom,10),ne=N.top+N.height/2-br,we=O-ne,ae=w.offsetHeight/2,Q=w.offsetTop+ae,ge=X+z+Q,xe=P-ge;if(ge<=ne){const be=M.length>0&&w===M[M.length-1].ref.current;l.style.bottom="0px";const ye=u.clientHeight-g.offsetTop-g.offsetHeight,gt=Math.max(we,ae+(be?Z:0)+ye+G),Vt=ge+gt;l.style.height=Vt+"px"}else{const be=M.length>0&&w===M[0].ref.current;l.style.top="0px";const gt=Math.max(ne,X+g.offsetTop+(be?B:0)+ae)+xe;l.style.height=gt+"px",g.scrollTop=ge-ne+g.offsetTop}l.style.margin=`${br}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,l,u,g,w,y,o.dir,n]);Ke(()=>b(),[b]);const[j,S]=m.useState();Ke(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=m.useCallback(N=>{N&&x.current===!0&&(b(),v==null||v(),x.current=!1)},[b,v]);return a.jsx(QL,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(W.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});i_.displayName=KL;var GL="SelectPopperPosition",Lm=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=br,...o}=e,i=Id(r);return a.jsx(mg,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lm.displayName=GL;var[QL,Gg]=Ga(lo,{}),$m="SelectViewport",l_=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=Ns($m,r),i=Gg($m,r),l=re(t,o.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Td.Slot,{scope:r,children:a.jsx(W.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:L(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const x=window.innerHeight-br*2,g=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),y=Math.max(g,w);if(y<x){const v=y+p,b=Math.min(x,v),j=v-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});l_.displayName=$m;var c_="SelectGroup",[YL,XL]=Ga(c_),JL=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Yt();return a.jsx(YL,{scope:r,id:s,children:a.jsx(W.div,{role:"group","aria-labelledby":s,...n,ref:t})})});JL.displayName=c_;var u_="SelectLabel",d_=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=XL(u_,r);return a.jsx(W.div,{id:s.id,...n,ref:t})});d_.displayName=u_;var Pu="SelectItem",[ZL,f_]=Ga(Pu),h_=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=_s(Pu,r),c=Ns(Pu,r),u=l.value===n,[f,d]=m.useState(o??""),[h,p]=m.useState(!1),x=re(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,s)}),g=Yt(),w=m.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(ZL,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(v=>{d(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Td.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:a.jsx(W.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:L(i.onFocus,()=>p(!0)),onBlur:L(i.onBlur,()=>p(!1)),onClick:L(i.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:L(i.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:L(i.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:L(i.onPointerMove,v=>{var b;w.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:L(i.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:L(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(FL.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});h_.displayName=Pu;var vi="SelectItemText",m_=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=_s(vi,r),l=Ns(vi,r),c=f_(vi,r),u=VL(vi,r),[f,d]=m.useState(null),h=re(t,y=>d(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),p=f==null?void 0:f.textContent,x=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return Ke(()=>(g(x),()=>w(x)),[g,w,x]),a.jsxs(a.Fragment,{children:[a.jsx(W.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?fo.createPortal(o.children,i.valueNode):null]})});m_.displayName=vi;var p_="SelectItemIndicator",g_=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return f_(p_,r).isSelected?a.jsx(W.span,{"aria-hidden":!0,...n,ref:t}):null});g_.displayName=p_;var Fm="SelectScrollUpButton",v_=m.forwardRef((e,t)=>{const r=Ns(Fm,e.__scopeSelect),n=Gg(Fm,e.__scopeSelect),[s,o]=m.useState(!1),i=re(t,n.onScrollButtonChange);return Ke(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(y_,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});v_.displayName=Fm;var zm="SelectScrollDownButton",x_=m.forwardRef((e,t)=>{const r=Ns(zm,e.__scopeSelect),n=Gg(zm,e.__scopeSelect),[s,o]=m.useState(!1),i=re(t,n.onScrollButtonChange);return Ke(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(y_,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});x_.displayName=zm;var y_=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=Ns("SelectScrollButton",r),i=m.useRef(null),l=Ad(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ke(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(W.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:L(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:L(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:L(s.onPointerLeave,()=>{c()})})}),e3="SelectSeparator",w_=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(W.div,{"aria-hidden":!0,...n,ref:t})});w_.displayName=e3;var Um="SelectArrow",t3=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Id(r),o=_s(Um,r),i=Ns(Um,r);return o.open&&i.position==="popper"?a.jsx(pg,{...s,...n,ref:t}):null});t3.displayName=Um;function b_(e){return e===""||e===void 0}var j_=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),o=re(t,s),i=Pd(r);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&f){const d=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(d)}},[i,r]),a.jsx(xl,{asChild:!0,children:a.jsx("select",{...n,ref:o,defaultValue:r})})});j_.displayName="BubbleSelect";function S_(e){const t=De(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function __(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=r3(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function r3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var n3=XS,N_=ZS,s3=t_,o3=r_,a3=n_,k_=s_,i3=l_,E_=d_,C_=h_,l3=m_,c3=g_,R_=v_,P_=x_,T_=w_;const A_=n3,I_=s3,Qg=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(N_,{ref:n,className:A("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(o3,{asChild:!0,children:a.jsx(sd,{className:"h-4 w-4 opacity-50"})})]}));Qg.displayName=N_.displayName;const O_=m.forwardRef(({className:e,...t},r)=>a.jsx(R_,{ref:r,className:A("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Zp,{className:"h-4 w-4"})}));O_.displayName=R_.displayName;const M_=m.forwardRef(({className:e,...t},r)=>a.jsx(P_,{ref:r,className:A("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(sd,{className:"h-4 w-4"})}));M_.displayName=P_.displayName;const Yg=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(a3,{children:a.jsxs(k_,{ref:s,className:A("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(O_,{}),a.jsx(i3,{className:A("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(M_,{})]})}));Yg.displayName=k_.displayName;const u3=m.forwardRef(({className:e,...t},r)=>a.jsx(E_,{ref:r,className:A("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));u3.displayName=E_.displayName;const Xg=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(C_,{ref:n,className:A("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(c3,{children:a.jsx(nd,{className:"h-4 w-4"})})}),a.jsx(l3,{children:t})]}));Xg.displayName=C_.displayName;const d3=m.forwardRef(({className:e,...t},r)=>a.jsx(T_,{ref:r,className:A("-mx-1 my-1 h-px bg-muted",e),...t}));d3.displayName=T_.displayName;const Jg=({currentUserRole:e,selectedRole:t,onRoleChange:r,disabled:n=!1})=>{const s=H4(e),o=[...s];return t&&!s.includes(t)&&o.push(t),a.jsxs(A_,{value:t,onValueChange:r,disabled:n,children:[a.jsx(Qg,{children:a.jsx(I_,{placeholder:"Select a role"})}),a.jsx(Yg,{children:o.map(i=>{const l=ku(i);return a.jsx(Xg,{value:i,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(l.icon,{className:"w-4 h-4"}),a.jsx("span",{children:l.label})]})},i)})})]})},f3=({isOpen:e,user:t,organizations:r,onClose:n,onSubmit:s,isSubmitting:o})=>{const[i,l]=m.useState(""),[c,u]=m.useState("member"),f=h=>{h.preventDefault(),t&&i&&s(t.user_id,t.email,i,c)},d=()=>{l(""),u("member"),n()};return t?a.jsx(Il,{open:e,onOpenChange:d,children:a.jsxs(Wa,{className:"sm:max-w-md",children:[a.jsx(Ha,{children:a.jsx(Ka,{children:"Assign User to Organization"})}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"User Email"}),a.jsx("div",{className:"p-2 bg-gray-50 rounded border",children:t.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"organization",children:"Organization"}),a.jsxs(A_,{value:i,onValueChange:l,required:!0,children:[a.jsx(Qg,{children:a.jsx(I_,{placeholder:"Select an organization"})}),a.jsx(Yg,{children:r.map(h=>a.jsxs(Xg,{value:h.id,children:[h.name," (/",h.slug,")"]},h.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"role",children:"Role"}),a.jsx(Jg,{currentUserRole:"owner",selectedRole:c,onRoleChange:u})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(J,{type:"button",variant:"outline",onClick:d,children:"Cancel"}),a.jsx(J,{type:"submit",disabled:o||!i,children:o?"Assigning...":"Assign User"})]})]})]})}):null};var D_="AlertDialog",[h3,PB]=pt(D_,[AS]),En=AS(),L_=e=>{const{__scopeAlertDialog:t,...r}=e,n=En(t);return a.jsx(Hg,{...n,...r,modal:!0})};L_.displayName=D_;var m3="AlertDialogTrigger",$_=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=En(r);return a.jsx(GS,{...s,...n,ref:t})});$_.displayName=m3;var p3="AlertDialogPortal",F_=e=>{const{__scopeAlertDialog:t,...r}=e,n=En(t);return a.jsx(Kg,{...n,...r})};F_.displayName=p3;var g3="AlertDialogOverlay",z_=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=En(r);return a.jsx(Cl,{...s,...n,ref:t})});z_.displayName=g3;var na="AlertDialogContent",[v3,x3]=h3(na),U_=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=En(r),i=m.useRef(null),l=re(t,i),c=m.useRef(null);return a.jsx(TL,{contentName:na,titleName:B_,docsSlug:"alert-dialog",children:a.jsx(v3,{scope:r,cancelRef:c,children:a.jsxs(Rl,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:L(s.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(Hp,{children:n}),a.jsx(w3,{contentRef:i})]})})})});U_.displayName=na;var B_="AlertDialogTitle",V_=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=En(r);return a.jsx(Pl,{...s,...n,ref:t})});V_.displayName=B_;var q_="AlertDialogDescription",W_=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=En(r);return a.jsx(Tl,{...s,...n,ref:t})});W_.displayName=q_;var y3="AlertDialogAction",H_=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=En(r);return a.jsx(Al,{...s,...n,ref:t})});H_.displayName=y3;var K_="AlertDialogCancel",G_=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=x3(K_,r),o=En(r),i=re(t,s);return a.jsx(Al,{...o,...n,ref:i})});G_.displayName=K_;var w3=({contentRef:e})=>{const t=`\`${na}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${na}\` by passing a \`${q_}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${na}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},b3=L_,j3=$_,S3=F_,Q_=z_,Y_=U_,X_=H_,J_=G_,Z_=V_,eN=W_;const Zg=b3,ev=j3,_3=S3,tN=m.forwardRef(({className:e,...t},r)=>a.jsx(Q_,{className:A("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));tN.displayName=Q_.displayName;const Od=m.forwardRef(({className:e,...t},r)=>a.jsxs(_3,{children:[a.jsx(tN,{}),a.jsx(Y_,{ref:r,className:A("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Od.displayName=Y_.displayName;const Md=({className:e,...t})=>a.jsx("div",{className:A("flex flex-col space-y-2 text-center sm:text-left",e),...t});Md.displayName="AlertDialogHeader";const Dd=({className:e,...t})=>a.jsx("div",{className:A("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Dd.displayName="AlertDialogFooter";const Ld=m.forwardRef(({className:e,...t},r)=>a.jsx(Z_,{ref:r,className:A("text-lg font-semibold",e),...t}));Ld.displayName=Z_.displayName;const $d=m.forwardRef(({className:e,...t},r)=>a.jsx(eN,{ref:r,className:A("text-sm text-muted-foreground",e),...t}));$d.displayName=eN.displayName;const Fd=m.forwardRef(({className:e,...t},r)=>a.jsx(X_,{ref:r,className:A(Tg(),e),...t}));Fd.displayName=X_.displayName;const zd=m.forwardRef(({className:e,...t},r)=>a.jsx(J_,{ref:r,className:A(Tg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));zd.displayName=J_.displayName;const N3=({organizations:e})=>{const{data:t,isLoading:r,error:n}=E5(),[s,o]=m.useState(!1),[i,l]=m.useState(null),c=C5(),u=R5(),f=x=>{l(x),o(!0)},d=()=>{l(null),o(!1)},h=(x,g,w,y)=>{c.mutate({userId:x,email:g,organizationId:w,role:y},{onSuccess:()=>{_e.success(`User ${g} assigned successfully.`),d()},onError:v=>{_e.error(`Failed to assign user: ${v.message}`)}})},p=()=>{u.mutate(void 0,{onSuccess:x=>{_e.success(`Approval process complete. ${x.approvedCount} invitations approved.`),x.failedCount>0&&_e.info(`${x.failedCount} invitations could not be approved (e.g. user not registered).`)},onError:x=>{_e.error(`Failed to approve invitations: ${x.message}`)}})};return r?a.jsx(Cu,{text:"Loading system-wide user data..."}):n?a.jsxs(ot,{variant:"destructive",children:[a.jsx(JP,{className:"h-4 w-4"}),a.jsx(Fg,{children:"Error Fetching Data"}),a.jsx(at,{children:n.message})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(de,{children:[a.jsxs($e,{children:[a.jsx(Fe,{children:"All Organization Users"}),a.jsx(oo,{children:"A comprehensive list of all users across all organizations with their enhanced roles. You can assign existing users to new organizations from here."})]}),a.jsx(fe,{children:a.jsx(A5,{users:(t==null?void 0:t.users)||[],onAssignUser:f})})]}),a.jsxs(de,{children:[a.jsxs($e,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Fe,{children:"All Pending Invitations"}),a.jsx(oo,{children:"A comprehensive list of all pending invitations across all organizations with enhanced role information."})]}),(t==null?void 0:t.invitations)&&t.invitations.length>0&&a.jsxs(Zg,{children:[a.jsx(ev,{asChild:!0,children:a.jsx(J,{disabled:u.isPending,children:u.isPending?"Approving...":"Approve All Pending"})}),a.jsxs(Od,{children:[a.jsxs(Md,{children:[a.jsx(Ld,{children:"Are you sure?"}),a.jsx($d,{children:"This will attempt to approve all pending invitations for which a user account already exists. Users will be added to the respective organizations with their designated enhanced roles. This action cannot be undone."})]}),a.jsxs(Dd,{children:[a.jsx(zd,{children:"Cancel"}),a.jsx(Fd,{onClick:p,disabled:u.isPending,children:"Continue"})]})]})]})]}),a.jsx(fe,{children:a.jsx(I5,{invitations:(t==null?void 0:t.invitations)||[]})})]}),a.jsx(f3,{isOpen:s,user:i,organizations:e,onClose:d,onSubmit:h,isSubmitting:c.isPending})]})},k3=({organizations:e})=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(de,{children:a.jsxs(fe,{className:"p-4",children:[a.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.length)||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Organizations"})]})}),a.jsx(de,{children:a.jsxs(fe,{className:"p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:(e==null?void 0:e.filter(t=>t.is_active).length)||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]})})]});var Bm=["Enter"," "],E3=["ArrowDown","PageUp","Home"],rN=["ArrowUp","PageDown","End"],C3=[...E3,...rN],R3={ltr:[...Bm,"ArrowRight"],rtl:[...Bm,"ArrowLeft"]},P3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ml="Menu",[al,T3,A3]=Ia(Ml),[go,nN]=pt(Ml,[A3,$a,qa]),Ud=$a(),sN=qa(),[I3,vo]=go(Ml),[O3,Dl]=go(Ml),oN=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,l=Ud(t),[c,u]=m.useState(null),f=m.useRef(!1),d=De(o),h=Ss(s);return m.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),a.jsx(fg,{...l,children:a.jsx(I3,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:a.jsx(O3,{scope:t,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:i,children:n})})})};oN.displayName=Ml;var M3="MenuAnchor",tv=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ud(r);return a.jsx(hg,{...s,...n,ref:t})});tv.displayName=M3;var rv="MenuPortal",[D3,aN]=go(rv,{forceMount:void 0}),iN=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=vo(rv,t);return a.jsx(D3,{scope:t,forceMount:r,children:a.jsx(tt,{present:r||o.open,children:a.jsx(vl,{asChild:!0,container:s,children:n})})})};iN.displayName=rv;var fr="MenuContent",[L3,nv]=go(fr),lN=m.forwardRef((e,t)=>{const r=aN(fr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=vo(fr,e.__scopeMenu),i=Dl(fr,e.__scopeMenu);return a.jsx(al.Provider,{scope:e.__scopeMenu,children:a.jsx(tt,{present:n||o.open,children:a.jsx(al.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx($3,{...s,ref:t}):a.jsx(F3,{...s,ref:t})})})})}),$3=m.forwardRef((e,t)=>{const r=vo(fr,e.__scopeMenu),n=m.useRef(null),s=re(t,n);return m.useEffect(()=>{const o=n.current;if(o)return Ug(o)},[]),a.jsx(sv,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:L(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),F3=m.forwardRef((e,t)=>{const r=vo(fr,e.__scopeMenu);return a.jsx(sv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),sv=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:x,...g}=e,w=vo(fr,r),y=Dl(fr,r),v=Ud(r),b=sN(r),j=T3(r),[S,k]=m.useState(null),N=m.useRef(null),E=re(t,N,w.onContentChange),R=m.useRef(0),T=m.useRef(""),M=m.useRef(0),O=m.useRef(null),H=m.useRef("right"),D=m.useRef(0),X=x?Rd:m.Fragment,z=x?{as:$t,allowPinchZoom:!0}:void 0,G=P=>{var Q,ge;const V=T.current+P,U=j().filter(xe=>!xe.disabled),B=document.activeElement,Z=(Q=U.find(xe=>xe.ref.current===B))==null?void 0:Q.textValue,ne=U.map(xe=>xe.textValue),we=X3(ne,V,Z),ae=(ge=U.find(xe=>xe.textValue===we))==null?void 0:ge.ref.current;(function xe(me){T.current=me,window.clearTimeout(R.current),me!==""&&(R.current=window.setTimeout(()=>xe(""),1e3))})(V),ae&&setTimeout(()=>ae.focus())};m.useEffect(()=>()=>window.clearTimeout(R.current),[]),zg();const C=m.useCallback(P=>{var U,B;return H.current===((U=O.current)==null?void 0:U.side)&&Z3(P,(B=O.current)==null?void 0:B.area)},[]);return a.jsx(L3,{scope:r,searchRef:T,onItemEnter:m.useCallback(P=>{C(P)&&P.preventDefault()},[C]),onItemLeave:m.useCallback(P=>{var V;C(P)||((V=N.current)==null||V.focus(),k(null))},[C]),onTriggerLeave:m.useCallback(P=>{C(P)&&P.preventDefault()},[C]),pointerGraceTimerRef:M,onPointerGraceIntentChange:m.useCallback(P=>{O.current=P},[]),children:a.jsx(X,{...z,children:a.jsx(Ed,{asChild:!0,trapped:s,onMountAutoFocus:L(o,P=>{var V;P.preventDefault(),(V=N.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Oa,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:a.jsx(Mg,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:L(c,P=>{y.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(mg,{role:"menu","aria-orientation":"vertical","data-state":_N(w.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:L(g.onKeyDown,P=>{const U=P.target.closest("[data-radix-menu-content]")===P.currentTarget,B=P.ctrlKey||P.altKey||P.metaKey,Z=P.key.length===1;U&&(P.key==="Tab"&&P.preventDefault(),!B&&Z&&G(P.key));const ne=N.current;if(P.target!==ne||!C3.includes(P.key))return;P.preventDefault();const ae=j().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);rN.includes(P.key)&&ae.reverse(),Q3(ae)}),onBlur:L(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(R.current),T.current="")}),onPointerMove:L(e.onPointerMove,il(P=>{const V=P.target,U=D.current!==P.clientX;if(P.currentTarget.contains(V)&&U){const B=P.clientX>D.current?"right":"left";H.current=B,D.current=P.clientX}}))})})})})})})});lN.displayName=fr;var z3="MenuGroup",ov=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(W.div,{role:"group",...n,ref:t})});ov.displayName=z3;var U3="MenuLabel",cN=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(W.div,{...n,ref:t})});cN.displayName=U3;var Tu="MenuItem",sy="menu.itemSelect",Bd=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=m.useRef(null),i=Dl(Tu,e.__scopeMenu),l=nv(Tu,e.__scopeMenu),c=re(t,o),u=m.useRef(!1),f=()=>{const d=o.current;if(!r&&d){const h=new CustomEvent(sy,{bubbles:!0,cancelable:!0});d.addEventListener(sy,p=>n==null?void 0:n(p),{once:!0}),Kp(d,h),h.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(uN,{...s,ref:c,disabled:r,onClick:L(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:L(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:L(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||Bm.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Bd.displayName=Tu;var uN=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=nv(Tu,r),l=sN(r),c=m.useRef(null),u=re(t,c),[f,d]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[o.children]),a.jsx(al.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(Dg,{asChild:!0,...l,focusable:!n,children:a.jsx(W.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:L(e.onPointerMove,il(x=>{n?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:L(e.onPointerLeave,il(x=>i.onItemLeave(x))),onFocus:L(e.onFocus,()=>d(!0)),onBlur:L(e.onBlur,()=>d(!1))})})})}),B3="MenuCheckboxItem",dN=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(gN,{scope:e.__scopeMenu,checked:r,children:a.jsx(Bd,{role:"menuitemcheckbox","aria-checked":Au(r)?"mixed":r,...s,ref:t,"data-state":iv(r),onSelect:L(s.onSelect,()=>n==null?void 0:n(Au(r)?!0:!r),{checkForDefaultPrevented:!1})})})});dN.displayName=B3;var fN="MenuRadioGroup",[V3,q3]=go(fN,{value:void 0,onValueChange:()=>{}}),hN=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=De(n);return a.jsx(V3,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(ov,{...s,ref:t})})});hN.displayName=fN;var mN="MenuRadioItem",pN=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=q3(mN,e.__scopeMenu),o=r===s.value;return a.jsx(gN,{scope:e.__scopeMenu,checked:o,children:a.jsx(Bd,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":iv(o),onSelect:L(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});pN.displayName=mN;var av="MenuItemIndicator",[gN,W3]=go(av,{checked:!1}),vN=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=W3(av,r);return a.jsx(tt,{present:n||Au(o.checked)||o.checked===!0,children:a.jsx(W.span,{...s,ref:t,"data-state":iv(o.checked)})})});vN.displayName=av;var H3="MenuSeparator",xN=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(W.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});xN.displayName=H3;var K3="MenuArrow",yN=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ud(r);return a.jsx(pg,{...s,...n,ref:t})});yN.displayName=K3;var G3="MenuSub",[TB,wN]=go(G3),xi="MenuSubTrigger",bN=m.forwardRef((e,t)=>{const r=vo(xi,e.__scopeMenu),n=Dl(xi,e.__scopeMenu),s=wN(xi,e.__scopeMenu),o=nv(xi,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},f=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),a.jsx(tv,{asChild:!0,...u,children:a.jsx(uN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":_N(r.open),...e,ref:ed(t,s.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:L(e.onPointerMove,il(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:L(e.onPointerLeave,il(d=>{var p,x;f();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(x=r.content)==null?void 0:x.dataset.side,w=g==="right",y=w?-5:5,v=h[w?"left":"right"],b=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:v,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:L(e.onKeyDown,d=>{var p;const h=o.searchRef.current!=="";e.disabled||h&&d.key===" "||R3[n.dir].includes(d.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),d.preventDefault())})})})});bN.displayName=xi;var jN="MenuSubContent",SN=m.forwardRef((e,t)=>{const r=aN(fr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=vo(fr,e.__scopeMenu),i=Dl(fr,e.__scopeMenu),l=wN(jN,e.__scopeMenu),c=m.useRef(null),u=re(t,c);return a.jsx(al.Provider,{scope:e.__scopeMenu,children:a.jsx(tt,{present:n||o.open,children:a.jsx(al.Slot,{scope:e.__scopeMenu,children:a.jsx(sv,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:L(e.onFocusOutside,f=>{f.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:L(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:L(e.onKeyDown,f=>{var p;const d=f.currentTarget.contains(f.target),h=P3[i.dir].includes(f.key);d&&h&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});SN.displayName=jN;function _N(e){return e?"open":"closed"}function Au(e){return e==="indeterminate"}function iv(e){return Au(e)?"indeterminate":e?"checked":"unchecked"}function Q3(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Y3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function X3(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=Y3(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function J3(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,f=t[i].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function Z3(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return J3(r,t)}function il(e){return t=>t.pointerType==="mouse"?e(t):void 0}var e6=oN,t6=tv,r6=iN,n6=lN,s6=ov,o6=cN,a6=Bd,i6=dN,l6=hN,c6=pN,u6=vN,d6=xN,f6=yN,h6=bN,m6=SN,lv="DropdownMenu",[p6,AB]=pt(lv,[nN]),Ct=nN(),[g6,NN]=p6(lv),kN=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=Ct(t),u=m.useRef(null),[f=!1,d]=Ft({prop:s,defaultProp:o,onChange:i});return a.jsx(g6,{scope:t,triggerId:Yt(),triggerRef:u,contentId:Yt(),open:f,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:l,children:a.jsx(e6,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};kN.displayName=lv;var EN="DropdownMenuTrigger",CN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=NN(EN,r),i=Ct(r);return a.jsx(t6,{asChild:!0,...i,children:a.jsx(W.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:ed(t,o.triggerRef),onPointerDown:L(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:L(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});CN.displayName=EN;var v6="DropdownMenuPortal",RN=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ct(t);return a.jsx(r6,{...n,...r})};RN.displayName=v6;var PN="DropdownMenuContent",TN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=NN(PN,r),o=Ct(r),i=m.useRef(!1);return a.jsx(n6,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:L(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:L(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!s.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TN.displayName=PN;var x6="DropdownMenuGroup",y6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ct(r);return a.jsx(s6,{...s,...n,ref:t})});y6.displayName=x6;var w6="DropdownMenuLabel",AN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ct(r);return a.jsx(o6,{...s,...n,ref:t})});AN.displayName=w6;var b6="DropdownMenuItem",IN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ct(r);return a.jsx(a6,{...s,...n,ref:t})});IN.displayName=b6;var j6="DropdownMenuCheckboxItem",ON=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ct(r);return a.jsx(i6,{...s,...n,ref:t})});ON.displayName=j6;var S6="DropdownMenuRadioGroup",_6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ct(r);return a.jsx(l6,{...s,...n,ref:t})});_6.displayName=S6;var N6="DropdownMenuRadioItem",MN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ct(r);return a.jsx(c6,{...s,...n,ref:t})});MN.displayName=N6;var k6="DropdownMenuItemIndicator",DN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ct(r);return a.jsx(u6,{...s,...n,ref:t})});DN.displayName=k6;var E6="DropdownMenuSeparator",LN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ct(r);return a.jsx(d6,{...s,...n,ref:t})});LN.displayName=E6;var C6="DropdownMenuArrow",R6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ct(r);return a.jsx(f6,{...s,...n,ref:t})});R6.displayName=C6;var P6="DropdownMenuSubTrigger",$N=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ct(r);return a.jsx(h6,{...s,...n,ref:t})});$N.displayName=P6;var T6="DropdownMenuSubContent",FN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ct(r);return a.jsx(m6,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FN.displayName=T6;var A6=kN,I6=CN,O6=RN,zN=TN,UN=AN,BN=IN,VN=ON,qN=MN,WN=DN,HN=LN,KN=$N,GN=FN;const QN=A6,YN=I6,M6=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(KN,{ref:s,className:A("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Jp,{className:"ml-auto h-4 w-4"})]}));M6.displayName=KN.displayName;const D6=m.forwardRef(({className:e,...t},r)=>a.jsx(GN,{ref:r,className:A("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));D6.displayName=GN.displayName;const cv=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(O6,{children:a.jsx(zN,{ref:n,sideOffset:t,className:A("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));cv.displayName=zN.displayName;const uv=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(BN,{ref:n,className:A("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));uv.displayName=BN.displayName;const L6=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(VN,{ref:s,className:A("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(WN,{children:a.jsx(nd,{className:"h-4 w-4"})})}),t]}));L6.displayName=VN.displayName;const $6=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(qN,{ref:n,className:A("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(WN,{children:a.jsx(od,{className:"h-2 w-2 fill-current"})})}),t]}));$6.displayName=qN.displayName;const F6=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(UN,{ref:n,className:A("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));F6.displayName=UN.displayName;const Vm=m.forwardRef(({className:e,...t},r)=>a.jsx(HN,{ref:r,className:A("-mx-1 my-1 h-px bg-muted",e),...t}));Vm.displayName=HN.displayName;var dv="Avatar",[z6,IB]=pt(dv),[U6,XN]=z6(dv),JN=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=m.useState("idle");return a.jsx(U6,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(W.span,{...n,ref:t})})});JN.displayName=dv;var ZN="AvatarImage",ek=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=XN(ZN,r),l=B6(n,o.referrerPolicy),c=De(u=>{s(u),i.onImageLoadingStatusChange(u)});return Ke(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(W.img,{...o,ref:t,src:n}):null});ek.displayName=ZN;var tk="AvatarFallback",rk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=XN(tk,r),[i,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(W.span,{...s,ref:t}):null});rk.displayName=tk;function B6(e,t){const[r,n]=m.useState("idle");return Ke(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,i=l=>()=>{s&&n(l)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var nk=JN,sk=ek,ok=rk;const ak=m.forwardRef(({className:e,...t},r)=>a.jsx(nk,{ref:r,className:A("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ak.displayName=nk.displayName;const V6=m.forwardRef(({className:e,...t},r)=>a.jsx(sk,{ref:r,className:A("aspect-square h-full w-full",e),...t}));V6.displayName=sk.displayName;const ik=m.forwardRef(({className:e,...t},r)=>a.jsx(ok,{ref:r,className:A("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ik.displayName=ok.displayName;const q6=({email:e,size:t="md"})=>{const r={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-10 w-10"};return a.jsx(ak,{className:r[t],children:a.jsx(ik,{children:K4(e)})})},lk=e=>{const{user:t}=kn(),{data:r}=Xr({queryKey:["user-enhanced-role",t==null?void 0:t.id,e],queryFn:async()=>{if(!(t!=null&&t.id)||!e)return null;const{data:h}=await $.from("organization_users").select("enhanced_role").eq("user_id",t.id).eq("organization_id",e).single();return(h==null?void 0:h.enhanced_role)||null},enabled:!!(t!=null&&t.id)&&!!e}),{data:n}=Xr({queryKey:["user-permissions",t==null?void 0:t.id,e,r],queryFn:async()=>{if(!(t!=null&&t.id)||!e||!r)return{};const{data:h}=await $.from("role_permissions").select("permission_key, permission_value").eq("role",r),p={};return h==null||h.forEach(({permission_key:x,permission_value:g})=>{try{const w=g;w&&typeof w=="object"&&"allowed"in w&&(p[x]=w)}catch(w){console.warn(`Failed to parse permission for ${x}:`,w)}}),p},enabled:!!(t!=null&&t.id)&&!!e&&!!r}),s=h=>{if(!r)return!1;const p=n==null?void 0:n[h];return p?p.allowed:Ig(r,h)};return{userRole:r,permissions:n,checkPermission:s,canManageUsers:()=>s("manage_users"),canManageOrganization:()=>s("manage_organization"),canViewAnalytics:()=>s("view_analytics"),canExportData:()=>s("export_data"),canManageQuestions:()=>s("manage_questions"),canManageIntegrations:()=>s("manage_integrations"),canManageBilling:()=>s("manage_billing")}},W6=({members:e,loading:t,organizationId:r,onUpdateRole:n,onRemoveMember:s})=>{const{userRole:o,canManageUsers:i}=lk(r),l=(u,f)=>{n(u.user_id,f)},c=u=>{if(!i()||!o)return!1;const f=u.enhanced_role||u.role||"member";return Ag(o,f)};return t?a.jsx(de,{children:a.jsx(fe,{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Loading members..."})})}):!e||e.length===0?a.jsx(de,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(ad,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{children:"No members found"}),a.jsx("p",{className:"text-sm",children:"Invite users to get started"})]})})}):a.jsx(de,{children:a.jsx(fe,{className:"p-0",children:a.jsxs(Nl,{children:[a.jsx(kl,{children:a.jsxs(Sn,{children:[a.jsx(Ae,{children:"Member"}),a.jsx(Ae,{children:"Role"}),a.jsx(Ae,{children:"Status"}),a.jsx(Ae,{children:"Joined"}),a.jsx(Ae,{children:"Invited By"}),a.jsx(Ae,{className:"w-[100px]",children:"Actions"})]})}),a.jsx(El,{children:e.map(u=>{var h;const f=u.enhanced_role||u.role||"member",d=c(u);return a.jsxs(Sn,{children:[a.jsx(Ie,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(q6,{email:u.email}),a.jsx("div",{children:a.jsx("div",{className:"font-medium",children:u.email})})]})}),a.jsx(Ie,{children:d?a.jsx(Jg,{currentUserRole:o||"member",selectedRole:f,onRoleChange:p=>l(u,p)}):a.jsx(kd,{role:f})}),a.jsx(Ie,{children:a.jsx(Ut,{variant:G4(u.status),children:u.status})}),a.jsx(Ie,{children:u.accepted_at?Eu(u.accepted_at):Eu(u.created_at)}),a.jsx(Ie,{children:((h=u.invited_by)==null?void 0:h.email)||"-"}),a.jsx(Ie,{children:d&&a.jsxs(QN,{children:[a.jsx(YN,{asChild:!0,children:a.jsx(J,{variant:"ghost",size:"sm",children:a.jsx(FP,{className:"h-4 w-4"})})}),a.jsx(cv,{align:"end",children:a.jsxs(Zg,{children:[a.jsx(ev,{asChild:!0,children:a.jsxs(uv,{className:"text-red-600",onSelect:p=>p.preventDefault(),children:[a.jsx(eT,{className:"h-4 w-4 mr-2"}),"Remove Member"]})}),a.jsxs(Od,{children:[a.jsxs(Md,{children:[a.jsx(Ld,{children:"Remove Member"}),a.jsxs($d,{children:["Are you sure you want to remove ",u.email," from this organization? This action cannot be undone."]})]}),a.jsxs(Dd,{children:[a.jsx(zd,{children:"Cancel"}),a.jsx(Fd,{onClick:()=>s(u.user_id),className:"bg-red-600 hover:bg-red-700",children:"Remove"})]})]})]})})]})})]},u.id)})})]})})})},H6=e=>Xr({queryKey:["organization-members",e],queryFn:async()=>{console.log("Fetching organization members for:",e);const{data:t,error:r}=await $.from("organization_users").select(`
          id,
          user_id,
          email,
          role,
          enhanced_role,
          status,
          created_at,
          accepted_at,
          invited_by_user_id
        `).eq("organization_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching organization members:",r),r;const n=await Promise.all((t||[]).map(async s=>{let o=null;if(s.invited_by_user_id){const{data:i}=await $.from("organization_users").select("email").eq("user_id",s.invited_by_user_id).eq("organization_id",e).single();i?o={email:i.email}:o={email:"Unknown"}}return{...s,invited_by:o}}));return console.log("Organization members fetched:",n),n},enabled:!!e,retry:3,retryDelay:1e3}),K6=e=>{const{data:t,...r}=H6(e);return{activeMembers:(t==null?void 0:t.filter(s=>s.status==="active"))||[],...r}},G6=e=>{const t=Zr();return jn({mutationFn:async({userId:r,newRole:n})=>{console.log("Updating user role:",{userId:r,newRole:n,organizationId:e});const{data:s,error:o}=await $.from("organization_users").update({enhanced_role:n,role:n==="owner"||n==="admin"?"admin":"member"}).eq("user_id",r).eq("organization_id",e).select().single();if(o)throw console.error("Error updating user role:",o),o;return s},onSuccess:()=>{zr({title:"User role updated successfully"}),t.invalidateQueries({queryKey:["organization-members",e]})},onError:r=>{console.error("Role update error:",r),zr({title:"Error updating user role",description:r.message||"An unexpected error occurred",variant:"destructive"})}})},Q6=e=>{const{activeMembers:t,isLoading:r,error:n}=K6(e),s=G6(e);return{activeMembers:t,membersLoading:r,membersError:n,handleUpdateRole:(i,l)=>{s.mutate({userId:i,newRole:l})},updateRoleMutation:s}},Y6=e=>Xr({queryKey:["organization-invitations",e],queryFn:async()=>{console.log("Fetching organization invitations for:",e);const{data:t,error:r}=await $.from("user_invitations").select(`
          id,
          email,
          role,
          enhanced_role,
          status,
          created_at,
          expires_at,
          invited_by_user_id,
          organization_id
        `).eq("organization_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching organization invitations:",r),r;return await Promise.all((t||[]).map(async s=>{if(s.invited_by_user_id)try{const{data:o}=await $.from("organization_users").select("email").eq("user_id",s.invited_by_user_id).eq("organization_id",e).single();return{...s,invited_by:o?{email:o.email}:null}}catch(o){return console.error("Error fetching invited by user:",o),{...s,invited_by:null}}return s}))},enabled:!!e,retry:2,staleTime:30*1e3}),X6=({rpcName:e,queryKeysToInvalidate:t,successMessage:r,errorMessage:n,onSuccessCustom:s,paramsMapper:o})=>{const i=Zr();return jn({mutationFn:async l=>{const{data:c,error:u}=await $.rpc(e,o(l));if(u)throw u;const f=c;if(f&&typeof f=="object"&&"success"in f){const d=f;if(!d.success)throw new Error(d.error)}return f},onSuccess:l=>{t.forEach(c=>{i.invalidateQueries({queryKey:c})}),s?s(l):_e.success(r)},onError:l=>{_e.error(l.message||n)}})};class J6{formatLog(t,r,n){const s=new Date().toISOString(),o=n?` ${JSON.stringify(n)}`:"";return`[${s}] ${t.toUpperCase()}: ${r}${o}`}info(t,r){console.log(this.formatLog("info",t,r))}warn(t,r){console.warn(this.formatLog("warn",t,r))}error(t,r){console.error(this.formatLog("error",t,r))}debug(t,r){}}const Ne=new J6,Z6=(e,t,r)=>{const n={...t,...r};Ne.error(e,n)},e$=()=>{const e=Zr();return jn({mutationFn:async t=>{Ne.info("useEnhancedCancelInvitation: Cancelling invitation",{invitationId:t});const{data:r,error:n}=await $.from("user_invitations").select("email, organization_id").eq("id",t).single();if(n)throw new Error("Failed to fetch invitation details");const{error:s}=await $.from("user_invitations").delete().eq("id",t);if(s)throw new Error("Failed to cancel invitation");const{error:o}=await $.from("organization_users").delete().eq("email",r.email).eq("organization_id",r.organization_id);o&&Ne.warn("Could not remove user from organization_users (may not exist)",{email:r.email,organizationId:r.organization_id})},onSuccess:()=>{e.invalidateQueries({queryKey:["organization-invitations"]}),e.invalidateQueries({queryKey:["organization-members"]}),_e.success("Invitation cancelled and user removed successfully"),Ne.info("useEnhancedCancelInvitation: Invitation cancelled successfully")},onError:t=>{Ne.error("useEnhancedCancelInvitation: Cancellation failed",{error:t.message}),_e.error(t.message||"Failed to cancel invitation")}})},t$={ORGANIZATION_MEMBERS:["organization-members"],ORGANIZATION_INVITATIONS:["organization-invitations"]},r$=e$,n$=()=>X6({rpcName:"remove_user_from_organization",queryKeysToInvalidate:[t$.ORGANIZATION_MEMBERS],successMessage:"User removed from organization successfully",errorMessage:"Failed to remove user",paramsMapper:({userId:e,organizationId:t})=>({p_user_id:e,p_organization_id:t})}),s$=e=>{const t=Q6(e),{data:r=[],isLoading:n,error:s}=Y6(e),o=r$(),i=l=>{o.mutate(l)};return{...t,pendingInvitations:r,invitationsLoading:n,invitationsError:s,pendingInvitationsCount:r.length,handleCancelInvitation:i,cancelInvitationLoading:o.isPending}},o$=({organizationName:e})=>a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),a.jsxs("p",{className:"text-gray-600",children:["Manage members and invitations for ",e]})]})}),a$=({activeMembersCount:e,adminsCount:t,pendingInvitationsCount:r})=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(de,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zt,{className:"h-5 w-5 text-sunset-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:e}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]})]})})}),a.jsx(de,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mo,{className:"h-5 w-5 text-coral-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:t}),a.jsx("p",{className:"text-sm text-gray-600",children:"Admins"})]})]})})}),a.jsx(de,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ji,{className:"h-5 w-5 text-golden-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:r}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pending Invitations"})]})]})})})]}),Is=class Is{constructor(){Ge(this,"config",{enableLogging:!0,enableReporting:!0,maxRetries:3})}static getInstance(){return Is.instance||(Is.instance=new Is),Is.instance}handleError(t,r){const n=this.normalizeError(t,r);return this.config.enableLogging&&this.logError(n),this.config.enableReporting&&n.severity==="critical"&&this.reportError(n),n}async handleAsync(t,r){try{return await t()}catch(n){throw this.handleError(n,r)}}createError(t,r,n="medium",s){return{code:t,message:r,context:s,timestamp:Date.now(),severity:n,details:s}}normalizeError(t,r){return"code"in t&&"severity"in t?{...t,context:{...t.context,...r},details:{...t.details,...r}}:{code:"UNKNOWN_ERROR",message:t.message||"An unexpected error occurred",context:r,timestamp:Date.now(),severity:"medium",details:r}}logError(t){const r=t.severity==="critical"?"error":"warn";console[r]("Application Error:",{code:t.code,message:t.message,severity:t.severity,timestamp:new Date(t.timestamp).toISOString(),context:t.context})}reportError(t){typeof window<"u"&&window.console&&console.error("Critical Error Reported:",t)}};Ge(Is,"instance");let qm=Is;const Wm=qm.getInstance(),ir=(e,t,r="medium",n)=>Wm.createError(e,t,r,n),yr=e=>({success:!1,error:e,code:e.code}),Xf=e=>({success:!0,data:e}),ln=(e,t)=>e instanceof Error?Wm.handleError(e):Wm.createError("UNKNOWN_ERROR",t||"An unknown error occurred"),$r=(e,t,r)=>{const n=ir("LOG_ERROR",e,"low",t);console.error(e,n)},i$={NETWORK_ERROR:"NETWORK_ERROR",SYSTEM_NETWORK_ERROR:"SYSTEM_NETWORK_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",VALIDATION_REQUIRED_FIELD:"VALIDATION_REQUIRED_FIELD",VALIDATION_INVALID_EMAIL:"VALIDATION_INVALID_EMAIL",VALIDATION_INVALID_FORMAT:"VALIDATION_INVALID_FORMAT",VALIDATION_INVALID_INPUT:"VALIDATION_INVALID_INPUT",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",SYSTEM_ERROR:"SYSTEM_ERROR",SYSTEM_DATABASE_ERROR:"SYSTEM_DATABASE_ERROR",SYSTEM_UNKNOWN_ERROR:"SYSTEM_UNKNOWN_ERROR",BUSINESS_USER_ALREADY_EXISTS:"BUSINESS_USER_ALREADY_EXISTS",BUSINESS_ORGANIZATION_NOT_FOUND:"BUSINESS_ORGANIZATION_NOT_FOUND",NOT_FOUND:"NOT_FOUND",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR"},St=i$,l$=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),c$=e=>e==null?!1:typeof e=="string"?e.trim().length>0:Array.isArray(e)?e.length>0:!0,u$=(e,t=0,r=1/0)=>{const n=e.trim().length;return n>=t&&n<=r},ck=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),jt={required:e=>({validate:c$,message:`${e} is required`,code:St.VALIDATION_REQUIRED_FIELD}),email:()=>({validate:l$,message:"Please provide a valid email address",code:St.VALIDATION_INVALID_EMAIL}),length:(e,t,r)=>({validate:n=>u$(n,e,t),message:`${r} must be between ${e} and ${t} characters`,code:St.VALIDATION_INVALID_FORMAT}),uuid:e=>({validate:ck,message:`${e} must be a valid UUID`,code:St.VALIDATION_INVALID_FORMAT})},uk=(e,t)=>{const r=[];for(const n of t)n.validate(e)||r.push(ir(n.code,n.message,"medium"));return{isValid:r.length===0,errors:r}},Iu=(e,t)=>{const r=[];for(const[n,s]of Object.entries(t)){const o=e[n],i=uk(o,s);r.push(...i.errors)}return{isValid:r.length===0,errors:r}},d$=e=>e.trim().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),f$=e=>{const t=d$(e).toLowerCase(),r=uk(t,[jt.email()]);return{...r,sanitizedEmail:r.isValid?t:void 0}};class fv{constructor(t){Ge(this,"_value");this._value=t}static create(t){const r=f$(t);if(!r.isValid){const n=r.errors[0]||ir(St.VALIDATION_INVALID_EMAIL,"Invalid email format","medium");throw new Error(n.message)}return new fv(r.sanitizedEmail)}get value(){return this._value}equals(t){return this._value===t._value}toString(){return this._value}}class hv{constructor(t){Ge(this,"_value");this._value=t}static create(t){if(!ck(t)){const r=ir(St.VALIDATION_INVALID_FORMAT,"Invalid organization ID format","medium");throw new Error(r.message)}return new hv(t)}get value(){return this._value}equals(t){return this._value===t._value}toString(){return this._value}}class h${validateInvitationRequest(t){const r={organizationId:t.organizationId,role:t.role,email:t.email,enhancedRole:t.enhancedRole};return Iu(r,{organizationId:[jt.required("Organization ID"),jt.uuid("Organization ID")],role:[jt.required("Role"),jt.length(1,50,"Role")]})}processSupabaseResponse(t,r){var n;if(r){const s=r instanceof Error?r.message:String(r);if(s.includes("NetworkError")||s.includes("Failed to fetch")){const i=ir(St.SYSTEM_NETWORK_ERROR,"Network connection failed. Please check your internet connection.","high");return $r("Network error in invitation service",{originalError:s}),yr(i)}if(s.includes("FunctionsError")){const i=typeof t=="object"&&t!==null&&"error"in t?String(t.error):"Service temporarily unavailable. Please try again.",l=ir(St.SYSTEM_DATABASE_ERROR,i,"high");return $r("Database error in invitation service",{originalError:s}),yr(l)}const o=ln(r,"Failed to process invitation");return $r("Unknown error in invitation process"),yr(o)}if(!t){const s=ir(St.SYSTEM_UNKNOWN_ERROR,"No response received from invitation service","high");return $r("No data received from invitation service"),yr(s)}if(typeof t=="object"&&t!==null&&"success"in t){const s=t;if(s.success===!1){const o=(n=s.message)!=null&&n.includes("already exists")?St.BUSINESS_USER_ALREADY_EXISTS:St.BUSINESS_ORGANIZATION_NOT_FOUND,i=ir(o,s.message||"Invitation failed","medium");return $r("Business logic error in invitation",{response:s}),yr(i)}return Xf(s)}return Xf({success:!0,message:"Invitation processed successfully",type:"invitation_sent"})}async inviteUser(t){Ne.info("UserInvitationService: Processing invitation request",{email:t.email,organizationId:t.organizationId,role:t.role});const r=this.validateInvitationRequest(t);if(!r.isValid){const n=r.errors[0];return $r("Validation failed for invitation request",{...t}),yr(n)}try{const n={email:t.email,organizationId:t.organizationId,role:t.role,enhancedRole:t.enhancedRole||t.role},{data:s,error:o}=await $.functions.invoke("enhanced-invite-user",{body:n});return Ne.debug("UserInvitationService: Received response from edge function",{hasData:!!s,hasError:!!o}),this.processSupabaseResponse(s,o)}catch(n){const s=ln(n,"Failed to send invitation. Please try again.");return $r("Exception in invitation service",{...t}),yr(s)}}async cancelInvitation(t){Ne.info("UserInvitationService: Cancelling invitation",{invitationId:t.invitationId});const r={invitationId:t.invitationId},n=Iu(r,{invitationId:[jt.required("Invitation ID"),jt.uuid("Invitation ID")]});if(!n.isValid){const s=n.errors[0];return $r("Validation failed for cancel invitation",{...t}),yr(s)}try{const{error:s}=await $.from("user_invitations").update({status:"cancelled"}).eq("id",t.invitationId);if(s){const o=ir(St.SYSTEM_DATABASE_ERROR,"Failed to cancel invitation","medium",{supabaseError:s});return $r("Database error cancelling invitation",{...t}),yr(o)}return Ne.info("UserInvitationService: Invitation cancelled successfully",{invitationId:t.invitationId}),Xf(void 0)}catch(s){const o=ln(s,"Failed to cancel invitation");return $r("Exception cancelling invitation",{...t}),yr(o)}}async resendInvitation(t){Ne.info("UserInvitationService: Resending invitation",{invitationId:t.invitationId});const r=ir(St.SYSTEM_UNKNOWN_ERROR,"Resend invitation feature not yet implemented","low");return yr(r)}}class m${constructor(t=new h$){this.invitationService=t}async inviteUser(t){Ne.info("UserInvitationApplicationService: Processing invitation request",{email:t.email,organizationId:t.organizationId,role:t.role});try{const r=fv.create(t.email),n=hv.create(t.organizationId),s={email:r.value,organizationId:n.value,role:t.role,enhancedRole:t.enhancedRole},o=await this.invitationService.inviteUser(s);return Ne.info("UserInvitationApplicationService: Invitation processed successfully",{success:o.success}),o}catch(r){throw Ne.error("UserInvitationApplicationService: Invitation failed",{error:r instanceof Error?r.message:String(r),request:t}),r}}async cancelInvitation(t){return Ne.info("UserInvitationApplicationService: Cancelling invitation",{invitationId:t}),this.invitationService.cancelInvitation({invitationId:t})}async resendInvitation(t){return Ne.info("UserInvitationApplicationService: Resending invitation",{invitationId:t}),this.invitationService.resendInvitation({invitationId:t})}}const p$=new m$,g$=()=>{const e=Zr();return jn({mutationFn:async t=>{var r;Ne.info("useEnhancedInviteUser: Starting invitation process",{email:t.email,organizationId:t.organizationId,role:t.role,enhancedRole:t.enhancedRole});try{const n=await p$.inviteUser(t);if(!n.success){const s=n;throw new Error(((r=s.error)==null?void 0:r.message)||"Invitation failed")}return n.data}catch(n){Ne.error("useEnhancedInviteUser: Invitation failed",{error:n instanceof Error?n.message:String(n),params:t});const s=n instanceof Error?n.message:"Failed to invite user. Please try again.";throw new Error(s)}},onSuccess:t=>{[{queryKey:["organization-members"]},{queryKey:["organization-invitations"]}].forEach(({queryKey:s})=>{e.invalidateQueries({queryKey:s})});const n=t.type==="direct_add"?"User added to organization successfully!":"Invitation sent successfully! The user will receive an email with instructions to join.";_e.success(n),Ne.info("useEnhancedInviteUser: Invitation completed successfully",{type:t.type,message:t.message})},onError:t=>{Ne.error("useEnhancedInviteUser: Invitation mutation failed",{error:t.message}),_e.error(t.message||"Failed to invite user")}})},oy={email:"",role:"member"},v$=({organizationId:e,trigger:t})=>{const[r,n]=m.useState(!1),[s,o]=m.useState(oy),[i,l]=m.useState(""),{userRole:c}=lk(e),u=g$(),f=()=>{o(oy),l("")},d=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w.trim()),h=w=>{w.preventDefault(),l("");const y=s.email.trim();if(!y){l("Email address is required");return}if(!d(y)){l("Please enter a valid email address");return}console.log("Submitting invitation:",{email:y,organizationId:e,role:s.role}),u.mutate({email:y,organizationId:e,role:s.role,enhancedRole:s.role},{onSuccess:()=>{f(),n(!1)},onError:v=>{console.error("Invitation failed:",v),l(v.message||"Failed to send invitation")}})},p=(w,y)=>{o(v=>({...v,[w]:y})),i&&l("")},x=s.email.trim().length>0&&d(s.email.trim()),g=a.jsxs(J,{children:[a.jsx(rg,{className:"w-4 h-4 mr-2"}),"Invite User"]});return a.jsxs(Il,{open:r,onOpenChange:w=>{n(w),w||f()},children:[a.jsx(QS,{asChild:!0,children:t||g}),a.jsxs(Wa,{className:"sm:max-w-md",children:[a.jsx(Ha,{children:a.jsx(Ka,{children:"Invite User to Organization"})}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i&&a.jsxs(ot,{variant:"destructive",children:[a.jsx(Xi,{className:"h-4 w-4"}),a.jsx(at,{children:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"email",children:"Email Address"}),a.jsx(oe,{id:"email",type:"email",placeholder:"user@example.com",value:s.email,onChange:w=>p("email",w.target.value),required:!0,className:i&&i.includes("email")?"border-red-500":""}),a.jsx("p",{className:"text-sm text-gray-500",children:"The user will receive an email invitation to join your organization and set up their account."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"role",children:"Role"}),a.jsx(Jg,{currentUserRole:c||"member",selectedRole:s.role,onRoleChange:w=>p("role",w)})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(J,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:u.isPending,children:"Cancel"}),a.jsx(J,{type:"submit",disabled:u.isPending||!x,children:u.isPending?"Sending Invitation...":"Send Invitation"})]})]})]})]})},x$=({expiresAt:e})=>{const t=eS(e);return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:t?"text-red-600":"",children:Eu(e)}),t&&a.jsxs(Ut,{variant:"destructive",className:"flex items-center gap-1",children:[a.jsx(_a,{className:"w-3 h-3"}),"Expiring Soon"]})]})},y$=({invitation:e,onCancel:t})=>a.jsxs(Zg,{children:[a.jsx(ev,{asChild:!0,children:a.jsx(J,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:a.jsx(yl,{className:"h-4 w-4"})})}),a.jsxs(Od,{children:[a.jsxs(Md,{children:[a.jsx(Ld,{children:"Cancel Invitation"}),a.jsxs($d,{children:["Are you sure you want to cancel the invitation for ",e.email,"? They will no longer be able to join using this invitation."]})]}),a.jsxs(Dd,{children:[a.jsx(zd,{children:"Keep Invitation"}),a.jsx(Fd,{onClick:()=>t(e.id),className:"bg-red-600 hover:bg-red-700",children:"Cancel Invitation"})]})]})]}),w$=({invitations:e,loading:t,onCancelInvitation:r})=>t?a.jsx(de,{children:a.jsx(fe,{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Loading invitations..."})})}):e.length===0?a.jsx(de,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(Ji,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{children:"No pending invitations"}),a.jsx("p",{className:"text-sm",children:"All invitations have been processed"})]})})}):a.jsx(de,{children:a.jsx(fe,{className:"p-0",children:a.jsxs(Nl,{children:[a.jsx(kl,{children:a.jsxs(Sn,{children:[a.jsx(Ae,{children:"Email"}),a.jsx(Ae,{children:"Role"}),a.jsx(Ae,{children:"Invited"}),a.jsx(Ae,{children:"Expires"}),a.jsx(Ae,{children:"Invited By"}),a.jsx(Ae,{className:"w-[100px]",children:"Actions"})]})}),a.jsx(El,{children:e.map(n=>{var o;const s=n.enhanced_role||n.role;return a.jsxs(Sn,{children:[a.jsx(Ie,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ji,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:n.email})]})}),a.jsx(Ie,{children:a.jsx(kd,{role:s})}),a.jsx(Ie,{children:Eu(n.created_at)}),a.jsx(Ie,{children:a.jsx(x$,{expiresAt:n.expires_at})}),a.jsx(Ie,{children:((o=n.invited_by)==null?void 0:o.email)||"-"}),a.jsx(Ie,{children:a.jsx(y$,{invitation:n,onCancel:r})})]},n.id)})})]})})});class qo{static async getUserRole(t,r){const n=`${t}-${r}`,s=this.roleCache.get(n);if(s&&Date.now()-s.timestamp<this.CACHE_TTL)return s.role;try{const{data:o,error:i}=await $.from("organization_users").select("enhanced_role").eq("user_id",t).eq("organization_id",r).single();if(i||!o)return null;const l=o.enhanced_role;return this.roleCache.set(n,{role:l,timestamp:Date.now()}),l}catch(o){return console.error("Error fetching user role:",o),null}}static async checkPermission(t,r,n){if(t.isAdmin)return{allowed:!0,reason:"System admin access"};let s=t.userRole;if(!s&&(s=await this.getUserRole(t.userId,t.organizationId),!s))return{allowed:!1,reason:"User role not found"};if(!Ig(s,r))return{allowed:!1,reason:`Role '${s}' lacks permission '${r}'`,requiredRole:this.getMinimumRoleForPermission(r)};if(r==="manage_users"&&n){const i=await this.getUserRole(n,t.organizationId);if(i&&!Ag(s,i))return{allowed:!1,reason:`Cannot manage user with role '${i}'`,requiredRole:i}}return{allowed:!0}}static async requirePermission(t,r,n){const s=await this.checkPermission(t,r,n);if(!s.allowed)throw new b$(s.reason||"Access denied",s.requiredRole)}static getMinimumRoleForPermission(t){return{view_analytics:"viewer",export_data:"analyst",manage_questions:"analyst",manage_users:"manager",manage_integrations:"admin",manage_organization:"admin",manage_billing:"owner"}[t]||"admin"}static clearCache(t,r){t&&r?this.roleCache.delete(`${t}-${r}`):this.roleCache.clear()}}Ge(qo,"roleCache",new Map),Ge(qo,"CACHE_TTL",5*60*1e3);class b$ extends Error{constructor(t,r){super(t),this.requiredRole=r,this.name="RBACError"}}const j$=e=>{const{user:t,isAdmin:r,isOrgAdmin:n}=kn(),s=m.useMemo(()=>!(t!=null&&t.id)||!e?null:{userId:t.id,organizationId:e,isAdmin:r},[t==null?void 0:t.id,e,r]),{data:o,isLoading:i,error:l}=Xr({queryKey:["user-role-rbac",t==null?void 0:t.id,e],queryFn:async()=>{if(!s)return null;try{const h=await qo.getUserRole(s.userId,s.organizationId);return console.log("User role fetched:",h,"for user:",s.userId),h}catch(h){return console.error("Error fetching user role:",h),null}},enabled:!!s,staleTime:5*60*1e3,retry:3}),c=m.useCallback(async(h,p)=>s?qo.checkPermission({...s,userRole:o||void 0},h,p):{allowed:!1,reason:"No valid context"},[s,o]),u=m.useCallback(async(h,p)=>{if(!s)throw new Error("No valid RBAC context");return qo.requirePermission({...s,userRole:o||void 0},h,p)},[s,o]),f=m.useCallback(h=>{if(!s||!o)return console.log("Permission check failed: no context or role",{context:!!s,userRole:o}),!1;if(r||n)return console.log("Permission granted: admin access"),!0;const p=Ig(o,h);return console.log("Permission check:",{permission:h,userRole:o,allowed:p}),p},[s,o,r,n]),d=m.useCallback(async h=>{if(!s||!o)return!1;if(r||n)return!0;try{const p=await qo.getUserRole(h,s.organizationId);return p?Ag(o,p):!1}catch(p){return console.error("Error checking user management permission:",p),!1}},[s,o,r,n]);return{userRole:o,isLoading:i,error:l,checkPermission:c,requirePermission:u,hasPermission:f,canManageUser:d,isAdmin:r||!1}},S$=({organizationId:e,organizationName:t})=>{const{membersLoading:r,handleUpdateRole:n,activeMembers:s,pendingInvitations:o,invitationsLoading:i,pendingInvitationsCount:l,handleCancelInvitation:c}=s$(e),u=n$(),{hasPermission:f,userRole:d,isLoading:h}=j$(e),p=y=>{if(!f("manage_users")){console.warn("User attempted to remove member without permission");return}u.mutate({userId:y,organizationId:e})},x=(y,v)=>{if(!f("manage_users")){console.warn("User attempted to update role without permission");return}n(y,v)};if(h||r)return a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading user management..."})]})});if(!f("manage_users"))return a.jsxs(ot,{variant:"destructive",children:[a.jsx(Xo,{className:"h-4 w-4"}),a.jsx(at,{children:"You don't have permission to manage users. Contact your organization administrator for access."})]});const g=s.filter(y=>{const v=y.enhanced_role||y.role;return["admin","owner"].includes(v||"")}).length,w=(o==null?void 0:o.length)||0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(o$,{organizationName:t}),a.jsx(v$,{organizationId:e})]}),a.jsx(a$,{activeMembersCount:s.length,adminsCount:g,pendingInvitationsCount:w}),a.jsxs(Nd,{defaultValue:"members",className:"w-full",children:[a.jsxs(_l,{children:[a.jsxs(cr,{value:"members",children:["Active Members (",s.length,")"]}),a.jsxs(cr,{value:"invitations",children:["Pending Invitations (",w,")"]})]}),a.jsx(ur,{value:"members",children:a.jsx(W6,{members:s,loading:r,organizationId:e,onUpdateRole:x,onRemoveMember:p})}),a.jsx(ur,{value:"invitations",children:a.jsx(w$,{invitations:o,loading:i,onCancelInvitation:c})})]})]})},_$=async e=>{try{const{data:t,error:r}=await $.from("organization_assets").select("*").eq("organization_id",e).eq("is_active",!0).order("display_order").order("created_at");return r?(console.error("Error fetching organization assets:",r),[]):t||[]}catch(t){return console.error("Error fetching organization assets:",t),[]}},N$=async e=>{try{const{data:t,error:r}=await $.from("organization_themes").select("*").eq("organization_id",e).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();return r?(console.error("Error fetching organization theme:",r),null):t}catch(t){return console.error("Error fetching organization theme:",t),null}},k$=({open:e,onClose:t,organization:r,onSave:n})=>{const[s,o]=m.useState("basic"),[i,l]=m.useState({name:r.name||"",slug:r.slug||"",domain:r.domain||"",logo_url:r.logo_url||"",primary_color:r.primary_color||"#007ACE",secondary_color:r.secondary_color||"#073763",billing_email:r.billing_email||"",max_responses:r.max_responses||100,plan_type:r.plan_type||"starter",trial_ends_at:r.trial_ends_at?r.trial_ends_at.substring(0,16):"",features_config:r.features_config?JSON.stringify(r.features_config,null,2):""}),[c,u]=m.useState(!1),{toast:f}=gr();function d(p,x){l(g=>({...g,[p]:x}))}async function h(p){p.preventDefault(),u(!0);let x;try{i.features_config.trim()&&(x=JSON.parse(i.features_config))}catch{f({title:"Invalid JSON in Features Config",variant:"destructive"}),u(!1);return}const g={name:i.name,slug:i.slug,domain:i.domain,logo_url:i.logo_url,primary_color:i.primary_color,secondary_color:i.secondary_color,billing_email:i.billing_email,max_responses:Number(i.max_responses),plan_type:i.plan_type,trial_ends_at:i.trial_ends_at?new Date(i.trial_ends_at).toISOString():void 0,features_config:x},w=await bS(r.id,g);u(!1),w?(f({title:"Organization updated!"}),n(w),t()):f({title:"Failed to update organization",variant:"destructive"})}return a.jsx(Il,{open:e,onOpenChange:p=>!p&&t(),children:a.jsxs(Wa,{className:"max-w-xl",children:[a.jsx(Ha,{children:a.jsx(Ka,{children:"Edit Organization"})}),a.jsxs(Nd,{value:s,onValueChange:o,className:"mt-2",children:[a.jsxs(_l,{className:"w-full grid grid-cols-3 mb-4",children:[a.jsx(cr,{value:"basic",children:"Basic Info"}),a.jsx(cr,{value:"plan",children:"Plan & Limits"}),a.jsx(cr,{value:"features",children:"Features"})]}),a.jsxs("form",{onSubmit:h,children:[a.jsxs(ur,{value:"basic",className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(te,{children:"Name"}),a.jsx(oe,{value:i.name,onChange:p=>d("name",p.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Slug"}),a.jsx(oe,{value:i.slug,onChange:p=>d("slug",p.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Domain"}),a.jsx(oe,{value:i.domain,onChange:p=>d("domain",p.target.value)})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Logo URL"}),a.jsx(oe,{value:i.logo_url,onChange:p=>d("logo_url",p.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{children:[a.jsx(te,{children:"Primary Color"}),a.jsx(oe,{type:"color",value:i.primary_color,onChange:p=>d("primary_color",p.target.value)})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Secondary Color"}),a.jsx(oe,{type:"color",value:i.secondary_color,onChange:p=>d("secondary_color",p.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Billing Email"}),a.jsx(oe,{value:i.billing_email,onChange:p=>d("billing_email",p.target.value),type:"email"})]})]}),a.jsxs(ur,{value:"plan",className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(te,{children:"Plan Type"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2",value:i.plan_type,onChange:p=>d("plan_type",p.target.value),children:[a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Trial Ends At"}),a.jsx(oe,{type:"datetime-local",value:i.trial_ends_at,onChange:p=>d("trial_ends_at",p.target.value)})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Max Responses"}),a.jsx(oe,{type:"number",value:i.max_responses,min:1,onChange:p=>d("max_responses",p.target.value)})]})]}),a.jsx(ur,{value:"features",className:"space-y-3",children:a.jsxs("div",{children:[a.jsx(te,{children:"Features Config Override (JSON)"}),a.jsx("textarea",{className:"w-full font-mono border rounded min-h-[120px] p-2 text-xs",value:i.features_config,onChange:p=>d("features_config",p.target.value),placeholder:'{ "analytics": true, "modules": {"settings": false} }'}),a.jsx("p",{className:"text-xs text-gray-500",children:"Advanced: Override default plan features."})]})}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx(J,{type:"button",variant:"outline",onClick:t,disabled:c,children:"Cancel"}),a.jsx(J,{type:"submit",disabled:c,children:c?"Saving...":"Save Changes"})]})]})]})]})})},E$=({org:e,onToggleActive:t,onUpdatePlan:r})=>{const[n,s]=m.useState(!1),[o,i]=m.useState(!1),[l,c]=m.useState(e);return a.jsxs(a.Fragment,{children:[a.jsx(de,{className:`transition-all ${l.is_active?"border-green-200":"border-red-200 opacity-75"}`,children:a.jsxs(fe,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:l.name}),a.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold ${l.is_active?"bg-green-100 text-green-800":"bg-gray-200 text-gray-600"}`,children:l.is_active?"Active":"Inactive"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yi,{className:"w-4 h-4"}),a.jsxs("span",{children:["Slug: ",l.slug]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(IP,{className:"w-4 h-4"}),a.jsxs("span",{children:["Created: ",new Date(l.created_at).toLocaleDateString()]})]}),l.domain&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yi,{className:"w-4 h-4"}),a.jsxs("span",{children:["Domain: ",l.domain]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsxs("span",{children:["Max Responses: ",l.max_responses||100]})]})]})]})]}),a.jsx("div",{className:"flex flex-col space-y-2",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(J,{variant:l.is_active?"destructive":"default",size:"sm",onClick:()=>t(l.id,l.is_active),children:l.is_active?"Deactivate":"Activate"}),a.jsx(J,{variant:"outline",size:"sm",onClick:()=>i(!0),children:"Edit"}),a.jsxs(Il,{open:n,onOpenChange:s,children:[a.jsx(QS,{asChild:!0,children:a.jsxs(J,{variant:"outline",size:"sm",children:[a.jsx(rg,{className:"w-4 h-4 mr-1"}),"Users"]})}),a.jsxs(Wa,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Ha,{children:a.jsxs(Ka,{children:["User Management - ",l.name]})}),a.jsx(S$,{organizationId:l.id,organizationName:l.name})]})]})]})})]}),!1]})}),o&&a.jsx(k$,{open:o,onClose:()=>i(!1),organization:l,onSave:f=>c(f)})]})},C$=({organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Organizations"}),a.jsx("p",{className:"text-gray-600",children:"Manage all organizations in the system"})]}),a.jsxs(J,{onClick:t,children:[a.jsx(eg,{className:"w-4 h-4 mr-2"}),"Add Organization"]})]}),a.jsx(k3,{organizations:e}),a.jsx("div",{className:"grid gap-4",children:e==null?void 0:e.map(s=>a.jsx(E$,{org:s,onToggleActive:r,onUpdatePlan:n},s.id))})]}),R$=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(!1),[s,o]=m.useState(!1),[i,l]=m.useState(!0);m.useEffect(()=>{c()},[]);const c=async()=>{try{console.log("Loading Flask wrapper URL...");const{data:d,error:h}=await $.from("system_settings").select("setting_value").eq("setting_key","flask_sms_wrapper_base_url").single();if(h&&h.code!=="PGRST116"){console.error("Error loading Flask URL:",h),zr({title:"Error",description:"Failed to load Flask wrapper URL",variant:"destructive"});return}console.log("Flask URL loaded:",d==null?void 0:d.setting_value),t((d==null?void 0:d.setting_value)||"")}catch(d){console.error("Error loading Flask URL:",d)}finally{l(!1)}},u=async()=>{n(!0);try{console.log("Saving Flask wrapper URL:",e);const{error:d}=await $.from("system_settings").upsert({setting_key:"flask_sms_wrapper_base_url",setting_value:e.trim(),description:"Base URL for the Flask SMS wrapper API"},{onConflict:"setting_key"});if(d)throw console.error("Error saving Flask URL:",d),d;console.log("Flask URL saved successfully"),zr({title:"Success",description:"Flask wrapper URL saved successfully"})}catch(d){console.error("Error saving Flask URL:",d),zr({title:"Error",description:`Failed to save Flask wrapper URL: ${d.message}`,variant:"destructive"})}finally{n(!1)}},f=async()=>{if(!e.trim()){zr({title:"Error",description:"Please enter a Flask wrapper URL first",variant:"destructive"});return}o(!0);try{const d=e.trim().replace(/\/$/,"")+"/health";console.log("Testing Flask connection to:",d);const h=await fetch(d,{method:"GET",headers:{"Content-Type":"application/json"}});console.log("Flask test response:",h.status,h.statusText),h.ok?zr({title:"Success",description:"Flask wrapper API is reachable"}):zr({title:"Warning",description:`Flask wrapper returned status: ${h.status}`,variant:"destructive"})}catch(d){console.error("Error testing Flask connection:",d),zr({title:"Error",description:"Failed to connect to Flask wrapper API. Check the URL and try again.",variant:"destructive"})}finally{o(!1)}};return i?a.jsxs(de,{children:[a.jsx($e,{children:a.jsxs(Fe,{className:"flex items-center gap-2",children:[a.jsx(eo,{className:"w-5 h-5"}),"Flask SMS Wrapper Settings"]})}),a.jsx(fe,{children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),a.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"})]})})]}):a.jsxs(de,{children:[a.jsx($e,{children:a.jsxs(Fe,{className:"flex items-center gap-2",children:[a.jsx(eo,{className:"w-5 h-5"}),"Flask SMS Wrapper Settings"]})}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"flask-url",children:"Flask Wrapper Base URL"}),a.jsx(oe,{id:"flask-url",type:"url",placeholder:"http://localhost:5000 or https://your-flask-api.com",value:e,onChange:d=>t(d.target.value)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The base URL for your Flask SMS wrapper API (without trailing slash)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(J,{onClick:u,disabled:r,className:"flex-1",children:[a.jsx(x1,{className:"w-4 h-4 mr-2"}),r?"Saving...":"Save URL"]}),a.jsxs(J,{onClick:f,disabled:s||!e.trim(),variant:"outline",children:[a.jsx(ZP,{className:"w-4 h-4 mr-2"}),s?"Testing...":"Test Connection"]})]}),e&&a.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"font-medium",children:"Expected endpoints:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[a.jsxs("li",{children:[" POST ",e,"/send-sms - Send SMS messages"]}),a.jsxs("li",{children:[" GET ",e,"/health - Health check (optional)"]})]}),a.jsx("p",{className:"mt-2 font-medium",children:"Required headers:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[a.jsx("li",{children:" Content-Type: application/json"}),a.jsx("li",{children:" X-Signature: HMAC-SHA256 signature for verification"})]})]})]})]})},P$=({organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})=>a.jsxs(Nd,{defaultValue:"organizations",className:"w-full",children:[a.jsxs(_l,{className:"grid w-full grid-cols-4",children:[a.jsxs(cr,{value:"organizations",className:"flex items-center gap-2",children:[a.jsx(Yi,{className:"w-4 h-4"}),"Organizations"]}),a.jsxs(cr,{value:"users",className:"flex items-center gap-2",children:[a.jsx(Zt,{className:"w-4 h-4"}),"Users"]}),a.jsxs(cr,{value:"system",className:"flex items-center gap-2",children:[a.jsx(eo,{className:"w-4 h-4"}),"System Settings"]}),a.jsxs(cr,{value:"integrations",className:"flex items-center gap-2",children:[a.jsx(MP,{className:"w-4 h-4"}),"API Settings"]})]}),a.jsx(ur,{value:"organizations",className:"mt-6",children:a.jsx(C$,{organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})}),a.jsx(ur,{value:"users",className:"mt-6",children:a.jsx(N3,{organizations:e})}),a.jsx(ur,{value:"system",className:"mt-6",children:a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"System Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and integrations."})]})})}),a.jsx(ur,{value:"integrations",className:"mt-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"API Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Configure external API integrations and wrapper services."})]}),a.jsx(R$,{})]})})]}),T$=()=>{const[e,t]=m.useState(!1),r=Zr(),{data:n=[],isLoading:s}=Xr({queryKey:["organizations"],queryFn:S5}),o=jn({mutationFn:({id:u,updates:f})=>bS(u,f),onSuccess:()=>{r.invalidateQueries({queryKey:["organizations"]}),_e.success("Organization updated successfully")},onError:()=>{_e.error("Failed to update organization")}}),i=jn({mutationFn:u=>N5(u),onSuccess:()=>{r.invalidateQueries({queryKey:["organizations"]}),t(!1),_e.success("Organization created successfully")},onError:()=>{_e.error("Failed to create organization")}}),l=(u,f)=>{o.mutate({id:u,updates:{is_active:!f}})},c=(u,f)=>{o.mutate({id:u,updates:{plan_type:f}})};return s?a.jsx("div",{className:"p-8",children:"Loading admin dashboard..."}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage organizations, view statistics, and configure system settings"})]}),a.jsx(P$,{organizations:n,onCreateClick:()=>t(!0),onToggleActive:l,onUpdatePlan:c}),e&&a.jsx(k5,{onClose:()=>t(!1),onSubmit:u=>i.mutate(u)})]})})},A$=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(!1),[s,o]=m.useState(""),[i,l]=m.useState(!1),c=Et(),{toast:u}=gr(),{user:f,refreshUserRoles:d}=kn();return m.useEffect(()=>{(async()=>{if(!f){o("You must be logged in to create an organization");return}n(!0),o("");try{console.log("Creating organization for user:",f.email);const p=f.email?`${f.email.split("@")[0][0].toUpperCase()}${f.email.split("@")[0].slice(1)}'s Organization`:"My Organization";t(p);let x=p.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim().substring(0,50),g=x,w=1,{data:y}=await $.from("organizations").select("slug").eq("slug",g).single();for(;y;)if(g=`${x}-${w}`,{data:y}=await $.from("organizations").select("slug").eq("slug",g).single(),w++,w>100)throw new Error("Unable to generate unique slug");console.log("Creating organization with slug:",g);const{data:v,error:b}=await $.from("organizations").insert({name:p,slug:g,created_by_user_id:f.id,is_active:!0,billing_email:f.email,plan_type:"starter"}).select().single();if(b)throw b;console.log("Organization created:",v.id);const{error:j}=await $.from("organization_users").insert({user_id:f.id,organization_id:v.id,email:f.email,role:"admin",status:"active",accepted_at:new Date().toISOString()});if(j)throw j;console.log("User added to organization as admin"),l(!0),u({title:"Organization Created!",description:`Welcome to ${p}. Redirecting to your dashboard...`}),await d(),setTimeout(()=>{console.log("Redirecting to organization dashboard:",g),c(`/admin/${g}`)},2e3)}catch(p){console.error("Error creating organization:",p),o(p.message||"Failed to create organization")}finally{n(!1)}})()},[f]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(de,{className:"shadow-lg",children:[a.jsxs($e,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center text-blue-600 mb-4",children:a.jsx(fn,{className:"h-8 w-8"})}),a.jsx(Fe,{className:"text-2xl font-bold",children:i?"You're all set!":"Creating Your Organization"}),a.jsx("p",{className:"text-gray-600",children:i?"Welcome to your dashboard.":"Please wait while we set up your organization..."})]}),a.jsxs(fe,{children:[s&&a.jsx(ot,{children:a.jsx(at,{children:s})}),!i&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsx(J,{variant:"ghost",disabled:!0,className:"pointer-events-none select-none",children:r?"Creating organization...":"Preparing..."})})]})]})})})},Os=class Os{constructor(){Ge(this,"services",new Map);Ge(this,"singletonInstances",new Map)}static getInstance(){return Os.instance||(Os.instance=new Os),Os.instance}register(t,r,n=!1){this.services.set(t,{factory:r,singleton:n})}registerInstance(t,r){this.services.set(t,{instance:r})}resolve(t){const r=this.services.get(t);if(!r)throw new Error(`Service not registered: ${String(t)}`);if(r.instance)return r.instance;if(r.singleton){const n=this.singletonInstances.get(t);if(n)return n;if(r.factory){const s=r.factory();return this.singletonInstances.set(t,s),s}}if(r.factory)return r.factory();throw new Error(`Unable to resolve service: ${String(t)}`)}isRegistered(t){return this.services.has(t)}clear(){this.services.clear(),this.singletonInstances.clear()}};Ge(Os,"instance");let Hm=Os;const yc=Hm.getInstance(),wc={ANALYTICS_SERVICE:Symbol("AnalyticsService"),PERFORMANCE_SERVICE:Symbol("PerformanceService"),NOTIFICATION_SERVICE:Symbol("NotificationService"),USER_SERVICE:Symbol("UserService"),ORGANIZATION_SERVICE:Symbol("OrganizationService"),FEEDBACK_SERVICE:Symbol("FeedbackService"),CACHE_SERVICE:Symbol("CacheService"),LOGGER_SERVICE:Symbol("LoggerService"),VALIDATION_SERVICE:Symbol("ValidationService")};class I${constructor(){Ge(this,"cache",new Map);Ge(this,"CACHE_TTL",5*60*1e3)}async getAnalytics(t){const r=this.cache.get(t);if(r&&Date.now()-r.timestamp<this.CACHE_TTL)return r.data;try{const{data:n}=await $.rpc("get_organization_stats_enhanced",{org_id:t});if(!n)throw new Error("No analytics data available");const s=n,o={organizationId:t,metrics:{totalSessions:s.total_sessions||0,completedSessions:s.completed_sessions||0,averageScore:s.avg_session_score||0,completionRate:s.completed_sessions&&s.total_sessions?s.completed_sessions/s.total_sessions*100:0,responseTime:await this.calculateAverageResponseTime(t)},trends:await this.getTrendData(t),insights:await this.generateInsights(t)};return this.cache.set(t,{data:o,timestamp:Date.now()}),o}catch(n){throw console.error("Error fetching analytics:",n),new Error("Failed to fetch analytics data")}}async getRealTimeMetrics(t){const{data:r}=await $.rpc("get_organization_stats",{org_id:t});if(!r)throw new Error("No metrics data available");const n=r;return{totalSessions:n.total_sessions||0,completedSessions:n.completed_sessions||0,averageScore:n.avg_session_score||0,completionRate:n.completed_sessions&&n.total_sessions?n.completed_sessions/n.total_sessions*100:0,responseTime:await this.calculateAverageResponseTime(t)}}async trackInteraction(t,r){console.log("Tracking interaction:",t,r)}async generateInsights(t){const r=[];try{const n=await this.getRealTimeMetrics(t);n.completionRate>80?r.push("Excellent completion rate - users are highly engaged"):n.completionRate<50&&r.push("Low completion rate - consider reviewing form length or question clarity"),n.averageScore>80?r.push("High satisfaction scores indicate strong performance"):n.averageScore<60&&r.push("Lower satisfaction scores suggest areas for improvement"),n.responseTime>300&&r.push("Response times are high - consider optimizing form performance")}catch(n){console.error("Error generating insights:",n)}return r}async calculateAverageResponseTime(t){const{data:r}=await $.from("feedback_responses").select("response_time_ms").eq("organization_id",t).not("response_time_ms","is",null).limit(100).order("created_at",{ascending:!1});if(!r||r.length===0)return 0;const n=r.map(s=>s.response_time_ms).filter(s=>s!==null);return n.length>0?Math.round(n.reduce((s,o)=>s+o,0)/n.length/1e3):0}async getTrendData(t){const{data:r}=await $.from("feedback_sessions").select("created_at, total_score").eq("organization_id",t).gte("created_at",new Date(Date.now()-2592e6).toISOString()).order("created_at",{ascending:!0});if(!r)return[];const n=r.reduce((s,o)=>{const i=new Date(o.created_at).toISOString().split("T")[0];return s[i]||(s[i]={sessions:0,totalScore:0,count:0}),s[i].sessions++,o.total_score&&(s[i].totalScore+=o.total_score,s[i].count++),s},{});return Object.entries(n).map(([s,o])=>({date:s,sessions:o.sessions,score:o.count>0?Math.round(o.totalScore/o.count):0}))}}class O${constructor(){Ge(this,"metrics",[]);Ge(this,"componentMetrics",new Map);Ge(this,"measurements",new Map);Ge(this,"MAX_METRICS",1e3)}trackComponentRender(t,r){const n=this.componentMetrics.get(t);n?(n.renderCount++,n.renderTime=(n.renderTime+r)/2,n.lastRender=Date.now()):this.componentMetrics.set(t,{componentName:t,renderTime:r,renderCount:1,lastRender:Date.now()}),this.addMetric({name:`component.${t}.render`,value:r,unit:"ms",timestamp:Date.now()})}getMetrics(){return[...this.metrics].sort((t,r)=>r.timestamp-t.timestamp)}getComponentMetrics(){return Array.from(this.componentMetrics.values()).sort((t,r)=>r.lastRender-t.lastRender)}clearMetrics(){this.metrics=[],this.componentMetrics.clear(),this.measurements.clear()}startMeasurement(t){this.measurements.set(t,performance.now())}endMeasurement(t){const r=this.measurements.get(t);if(!r)return console.warn(`No measurement started for: ${t}`),0;const n=performance.now()-r;return this.measurements.delete(t),this.addMetric({name:t,value:n,unit:"ms",timestamp:Date.now()}),n}addMetric(t){this.metrics.push(t),this.metrics.length>this.MAX_METRICS&&(this.metrics=this.metrics.slice(-Math.floor(this.MAX_METRICS*.8)))}}class M${async sendNotification(t){var n,s;const{error:r}=await $.from("notifications").insert({type:t.type,title:t.title,message:t.message,metadata:t.metadata?JSON.parse(JSON.stringify(t.metadata)):null,organization_id:(n=t.metadata)==null?void 0:n.organizationId,user_id:((s=t.metadata)==null?void 0:s.userId)||null});if(r)throw console.error("Error sending notification:",r),new Error("Failed to send notification")}async getNotifications(t){const{data:r,error:n}=await $.from("notifications").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(50);if(n)throw console.error("Error fetching notifications:",n),new Error("Failed to fetch notifications");return(r||[]).map(s=>({id:s.id,type:s.type,title:s.title,message:s.message,timestamp:new Date(s.created_at).getTime(),read:s.is_read,metadata:s.metadata||{}}))}async markAsRead(t){const{error:r}=await $.from("notifications").update({is_read:!0}).eq("id",t);if(r)throw console.error("Error marking notification as read:",r),new Error("Failed to mark notification as read")}async getPreferences(t){return{emailNotifications:!0,browserNotifications:!0,feedbackAlerts:!0,systemUpdates:!0}}async updatePreferences(t,r){console.log("Updating preferences for user:",t,r)}}class D${async getUsers(t,r,n){try{let s=$.from("organization_users").select("*",{count:"exact"});t.organizationId&&(s=s.eq("organization_id",t.organizationId)),t.role&&(s=s.eq("role",t.role)),t.isActive!==void 0&&(s=s.eq("status",t.isActive?"active":"inactive")),t.search&&(s=s.ilike("email",`%${t.search}%`));const o=r*n,i=o+n-1;s=s.range(o,i);const{data:l,error:c,count:u}=await s;if(c)throw new Error(c.message);return{users:(l||[]).map(d=>({id:d.user_id,email:d.email,role:d.role,organizationId:d.organization_id,isActive:d.status==="active",createdAt:d.created_at,updatedAt:d.updated_at})),total:u||0,page:r,limit:n,hasMore:(u||0)>(r+1)*n}}catch(s){throw Ne.error("Failed to get users",{filters:t,page:r,limit:n,error:s}),ln(s,"Failed to retrieve users")}}async getUserById(t){try{const{data:r,error:n}=await $.from("organization_users").select("*").eq("user_id",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return{id:r.user_id,email:r.email,role:r.role,organizationId:r.organization_id,isActive:r.status==="active",createdAt:r.created_at,updatedAt:r.updated_at}}catch(r){throw Ne.error("Failed to get user by ID",{userId:t,error:r}),ln(r,"Failed to retrieve user")}}async getUser(t){return this.getUserById(t)}async updateUser(t,r){try{const{data:n,error:s}=await $.from("organization_users").update({email:r.email,role:r.role,status:r.isActive?"active":"inactive"}).eq("user_id",t).select().single();if(s)throw new Error(s.message);return{id:n.user_id,email:n.email,role:n.role,organizationId:n.organization_id,isActive:n.status==="active",createdAt:n.created_at,updatedAt:n.updated_at}}catch(n){throw Ne.error("Failed to update user",{userId:t,updates:r,error:n}),ln(n,"Failed to update user")}}async inviteUser(t){var r;try{const n={email:t.email,organizationId:t.organizationId,role:t.role,invitedBy:t.invitedBy},s=Iu(n,{email:[jt.required("Email"),jt.email()],organizationId:[jt.required("Organization ID")],role:[jt.required("Role")],invitedBy:[jt.required("Invited By")]});if(!s.isValid)return{success:!1,error:((r=s.errors[0])==null?void 0:r.message)||"Validation failed"};const{data:o,error:i}=await $.rpc("invite_user_to_organization",{p_email:t.email,p_organization_id:t.organizationId,p_role:t.role});if(i)return{success:!1,error:i.message};const l=o;return l!=null&&l.success?{success:!0,invitationId:l.invitation_id}:{success:!1,error:(l==null?void 0:l.error)||"Invitation failed"}}catch(n){return Ne.error("Failed to invite user",{params:t,error:n}),{success:!1,error:"Failed to invite user. Please try again."}}}async updateUserRole(t){var r;try{const n={userId:t.userId,role:t.role,updatedBy:t.updatedBy},s=Iu(n,{userId:[jt.required("User ID")],role:[jt.required("Role")],updatedBy:[jt.required("Updated By")]});if(!s.isValid)throw ir(St.VALIDATION_ERROR,((r=s.errors[0])==null?void 0:r.message)||"Validation failed");const{error:o}=await $.from("organization_users").update({role:t.role}).eq("user_id",t.userId);if(o)throw new Error(o.message)}catch(n){throw Ne.error("Failed to update user role",{params:t,error:n}),ln(n,"Failed to update user role")}}async deactivateUser(t,r){try{const{error:n}=await $.from("organization_users").update({status:"inactive"}).eq("user_id",t);if(n)throw new Error(n.message)}catch(n){throw Ne.error("Failed to deactivate user",{userId:t,deactivatedBy:r,error:n}),ln(n,"Failed to deactivate user")}}async reactivateUser(t,r){try{const{error:n}=await $.from("organization_users").update({status:"active"}).eq("user_id",t);if(n)throw new Error(n.message)}catch(n){throw Ne.error("Failed to reactivate user",{userId:t,reactivatedBy:r,error:n}),ln(n,"Failed to reactivate user")}}async getUsersByOrganization(t){return(await this.getUsers({organizationId:t},0,1e3)).users}async hasPermission(t,r){try{const n=await this.getUserById(t);if(!n)return!1;switch(r){case"manage_users":return["super_admin","org_admin"].includes(n.role);case"view_users":return["super_admin","org_admin","member"].includes(n.role);default:return!1}}catch(n){return Ne.error("Failed to check user permission",{userId:t,permission:r,error:n}),!1}}}function L$(){yc.register(wc.ANALYTICS_SERVICE,()=>new I$,!0),yc.register(wc.PERFORMANCE_SERVICE,()=>new O$,!0),yc.register(wc.NOTIFICATION_SERVICE,()=>new M$,!0),yc.register(wc.USER_SERVICE,()=>new D$,!0)}const mv=()=>{Et();const[e,t]=m.useState(!0),[r,n]=m.useState(0),s=()=>{typeof window<"u"&&(window.scrollY>r&&window.scrollY>100?t(!1):t(!0),n(window.scrollY))};return m.useEffect(()=>{if(typeof window<"u")return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[r]),a.jsx("header",{className:`fixed top-0 w-full bg-transparent backdrop-blur-lg border-b border-warm-gray-100/20 dark:border-dark-warm-200/20 z-50 transition-transform duration-300 ${e?"translate-y-0":"-translate-y-full"}`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-between items-center py-4",children:a.jsxs(so,{to:"/",className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(fn,{className:"w-8 h-8 text-sunset-500","aria-label":"Pulsify pulse icon"}),a.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-sunset-500 rounded-full opacity-20 animate-ping"})]}),a.jsx("span",{className:"text-2xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:"Pulsify"})]})})})})},Ca=({variant:e="light"})=>{const t=e==="dark";return a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:`absolute -top-40 -right-40 w-96 h-96 ${t?"bg-gradient-to-br from-sunset-500/20 via-coral-500/15 to-golden-400/10":"bg-gradient-to-br from-sunset-200/40 via-coral-200/30 to-golden-200/20"} rounded-full blur-3xl animate-blob`,style:{borderRadius:"60% 40% 30% 70% / 60% 30% 70% 40%",animationDelay:"0s"}}),a.jsx("div",{className:`absolute top-1/3 -left-32 w-80 h-80 ${t?"bg-gradient-to-tr from-golden-400/15 via-sunset-500/20 to-coral-500/10":"bg-gradient-to-tr from-golden-300/30 via-sunset-300/40 to-coral-300/20"} rounded-full blur-2xl animate-flow`,style:{borderRadius:"30% 60% 70% 40% / 50% 60% 30% 60%",animationDelay:"2s"}}),a.jsx("div",{className:`absolute bottom-20 right-1/4 w-64 h-64 ${t?"bg-gradient-to-bl from-coral-500/20 via-golden-400/15 to-sunset-500/10":"bg-gradient-to-bl from-coral-200/35 via-golden-200/25 to-sunset-200/15"} rounded-full blur-2xl animate-float`,style:{borderRadius:"70% 30% 60% 40% / 40% 50% 60% 50%",animationDelay:"4s"}}),a.jsx("div",{className:`absolute top-1/2 left-1/3 w-32 h-32 ${t?"bg-gradient-to-r from-sunset-400/25 to-golden-400/20":"bg-gradient-to-r from-sunset-200/50 to-golden-200/40"} rounded-full blur-xl animate-morph`,style:{animationDelay:"1s"}}),a.jsx("div",{className:`absolute bottom-1/3 left-2/3 w-24 h-24 ${t?"bg-gradient-to-l from-coral-400/20 to-sunset-400/15":"bg-gradient-to-l from-coral-200/45 to-sunset-200/35"} rounded-full blur-lg animate-fluid-move`,style:{animationDelay:"3s"}}),a.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-br from-transparent via-dark-warm-50/10 to-dark-warm-100/20":"bg-gradient-to-br from-transparent via-white/10 to-warm-gray-50/20"}`})]})},$$=()=>{const e=[{icon:a.jsx(yn,{className:"w-4 h-4"}),value:"94%",label:"Satisfaction Rate",position:"top-20 right-20",delay:"0s"},{icon:a.jsx(Zt,{className:"w-4 h-4"}),value:"2,000+",label:"Happy Customers",position:"top-1/3 left-16",delay:"1s"},{icon:a.jsx(g1,{className:"w-4 h-4"}),value:"15M+",label:"Feedback Collected",position:"bottom-1/3 right-16",delay:"2s"},{icon:a.jsx(Qr,{className:"w-4 h-4"}),value:"40%",label:"Growth Increase",position:"bottom-32 left-1/4",delay:"3s"}];return a.jsx("div",{className:"absolute inset-0 pointer-events-none hidden lg:block",children:e.map((t,r)=>a.jsx("div",{className:`absolute ${t.position} bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm border border-warm-gray-200/50 dark:border-dark-warm-300/50 rounded-2xl p-4 shadow-lg shadow-warm-gray-900/5 dark:shadow-dark-warm-50/20 animate-float`,style:{animationDelay:t.delay},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-lg text-white",children:t.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:t.value}),a.jsx("div",{className:"text-xs text-warm-gray-600 dark:text-dark-warm-600",children:t.label})]})]})},r))})},F$=()=>{const e=Et();return a.jsxs("section",{className:"relative min-h-screen bg-white dark:bg-dark-warm-50 overflow-hidden flex flex-col",children:[a.jsx(Ca,{}),a.jsx(Ca,{variant:"dark"}),a.jsx($$,{}),a.jsx("div",{className:"relative w-full flex-grow flex items-center max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 sm:pt-32",children:a.jsxs("div",{className:"text-center space-y-12 animate-fade-in w-full",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600",children:[a.jsxs("div",{className:"flex -space-x-1",children:[a.jsx("div",{className:"w-6 h-6 bg-sunset-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle"}),a.jsx("div",{className:"w-6 h-6 bg-golden-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"w-6 h-6 bg-coral-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle",style:{animationDelay:"1s"}})]}),a.jsx("span",{className:"text-sm font-medium",children:"Trusted by 2,000+ businesses worldwide"})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(fn,{className:"w-12 h-12 text-sunset-500 animate-pulse-gentle"}),a.jsx("div",{className:"absolute inset-0 w-12 h-12 bg-sunset-500 rounded-full opacity-20 animate-ping"})]}),a.jsx("h1",{className:"text-6xl lg:text-8xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 tracking-tight",children:"Pulsify"})]}),a.jsx("div",{className:"relative",children:a.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-bold text-warm-gray-800 dark:text-dark-warm-800 leading-tight max-w-5xl mx-auto",children:["Turn feedback into"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"revenue"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full animate-scale-in"})]}),".",a.jsx("span",{className:"block text-2xl lg:text-4xl mt-4 font-medium text-warm-gray-600 dark:text-dark-warm-600",children:"Get insights 10x faster. Reduce churn by 30%."})]})})]}),a.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed max-w-4xl mx-auto font-medium",children:"Our AI-powered platform unifies and analyzes customer feedback, delivering actionable insights to help you build better products and prevent customer churn."}),a.jsx("div",{className:"flex justify-center pt-8",children:a.jsx(J,{onClick:()=>e("/auth"),className:"bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white font-semibold shadow-lg shadow-sunset-500/25 px-10 py-4 rounded-full text-xl h-auto transition-all duration-300 hover:scale-105",children:a.jsxs("span",{className:"flex items-center justify-center space-x-3",children:[a.jsx("span",{children:"Start Free Trial"}),a.jsx(Xp,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})})})]})}),a.jsx("div",{className:"relative w-full flex justify-center pb-8 px-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-8 text-sm text-warm-gray-500 dark:text-dark-warm-500",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"font-medium",children:"No credit card required"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),a.jsx("span",{className:"font-medium",children:"14-day free trial"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",style:{animationDelay:"1s"}}),a.jsx("span",{className:"font-medium",children:"Setup in under 5 minutes"})]})]})})]})},z$=()=>{const e=[{icon:a.jsx(Yi,{className:"h-6 w-6"}),title:"Small Businesses",description:"Restaurant owners, retail stores, and service providers looking to understand customer satisfaction"},{icon:a.jsx(Zt,{className:"h-6 w-6"}),title:"Growing Companies",description:"Mid-size businesses scaling operations and needing structured feedback management"},{icon:a.jsx(yn,{className:"h-6 w-6"}),title:"Enterprise Teams",description:"Large organizations requiring advanced analytics and team collaboration features"}],t=[{step:"01",title:"Collect",description:"Deploy feedback forms across touchpoints or send SMS surveys to gather customer insights",icon:a.jsx(Zs,{className:"h-8 w-8"})},{step:"02",title:"Analyze",description:"AI automatically categorizes and analyzes sentiment in real-time with machine learning",icon:a.jsx(Qr,{className:"h-8 w-8"})},{step:"03",title:"Act",description:"Get actionable insights and track improvements with intelligent recommendations",icon:a.jsx(tg,{className:"h-8 w-8"})}];return a.jsxs("section",{className:"relative py-24 bg-warm-gray-50 dark:bg-dark-warm-50 overflow-hidden",children:[a.jsx(Ca,{}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx(Zt,{className:"w-5 h-5 text-sunset-500"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Who It's For"})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Built for"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"every business"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-3xl mx-auto leading-relaxed font-medium mb-12",children:"Whether you're starting out or scaling up, Pulsify helps you understand and improve customer satisfaction"}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((r,n)=>a.jsxs("div",{className:"group relative bg-white/95 dark:bg-dark-warm-100/95 rounded-2xl p-8 border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sunset-500/5 via-coral-500/5 to-golden-400/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-xl flex items-center justify-center text-white mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:r.icon}),a.jsx("h3",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-3",children:r.title}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed text-sm",children:r.description})]})]},n))})]}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx("div",{className:"w-2 h-2 bg-sunset-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"How It Works"}),a.jsx("div",{className:"w-2 h-2 bg-coral-500 rounded-full animate-pulse",style:{animationDelay:"1s"}})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Simple."," ",a.jsx("span",{className:"relative",children:a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"Powerful."})})," ","Effective."]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-3xl mx-auto leading-relaxed font-medium",children:"Three simple steps to transform feedback into growth"})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-12",children:t.map((r,n)=>a.jsxs("div",{className:"text-center group relative",children:[n<2&&a.jsx("div",{className:"hidden md:block absolute top-16 left-3/4 w-1/2 h-0.5 bg-gradient-to-r from-sunset-300 to-coral-300 dark:from-sunset-600 dark:to-coral-600 opacity-30"}),a.jsxs("div",{className:"relative mb-8 group-hover:scale-110 transition-transform duration-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-400 rounded-2xl flex items-center justify-center text-white mx-auto shadow-xl group-hover:shadow-2xl transition-shadow duration-300",children:r.icon}),a.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-400 rounded-2xl mx-auto opacity-20 animate-pulse"})]}),a.jsx("div",{className:"absolute -top-3 -right-3 w-12 h-12 bg-white dark:bg-dark-warm-100 rounded-full border-4 border-sunset-500 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:a.jsx("span",{className:"text-lg font-space font-black text-sunset-600",children:r.step})})]}),a.jsx("h3",{className:"text-xl lg:text-2xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-4",children:r.title}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium",children:r.description})]},n))})]})]})},U$=()=>a.jsxs("section",{className:"relative py-24 bg-white dark:bg-background overflow-hidden",children:[a.jsx(Ca,{variant:"dark"}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid lg:grid-cols-12 gap-16 items-center",children:[a.jsxs("div",{className:"lg:col-span-5 text-center lg:text-left",children:[a.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx(Qr,{className:"w-5 h-5 text-sunset-500"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Platform Overview"})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Your"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"complete"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})," ","customer feedback platform"]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium mb-8",children:"Pulsify is an AI-powered feedback management system that helps businesses collect, analyze, and act on customer insights to drive growth and improve satisfaction"}),a.jsx("div",{className:"space-y-4",children:["Real-time sentiment analysis","Multi-channel feedback collection","Automated insights & recommendations"].map((e,t)=>a.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-sunset-500 rounded-full"}),a.jsx("span",{className:"text-warm-gray-700 dark:text-dark-warm-700 font-medium",children:e})]},t))})]}),a.jsx("div",{className:"lg:col-span-7",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"bg-white/95 dark:bg-dark-warm-100/95 rounded-3xl shadow-xl border border-warm-gray-200 dark:border-dark-warm-200 p-8 transition-all duration-500 hover:shadow-2xl hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 mt-1",children:"Real-time insights"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),a.jsx("div",{className:"w-3 h-3 bg-sunset-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"w-3 h-3 bg-coral-500 rounded-full animate-pulse",style:{animationDelay:"1s"}})]})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{icon:a.jsx(Zt,{className:"w-5 h-5"}),value:"2.8k+",label:"Responses",color:"from-sunset-500 to-coral-500"},{icon:a.jsx(g1,{className:"w-5 h-5"}),value:"94%",label:"Satisfaction",color:"from-coral-500 to-golden-400"},{icon:a.jsx(yn,{className:"w-5 h-5"}),value:"+23%",label:"Growth",color:"from-golden-400 to-sunset-500"},{icon:a.jsx(Qr,{className:"w-5 h-5"}),value:"4.8",label:"Avg Rating",color:"from-sunset-500 to-coral-500"}].map((e,t)=>a.jsxs("div",{className:"bg-white/90 dark:bg-dark-warm-200/90 rounded-xl p-4 border border-warm-gray-200/50 dark:border-dark-warm-300/50 hover:-translate-y-1 transition-transform duration-300",children:[a.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${e.color} rounded-lg flex items-center justify-center text-white mb-2`,children:e.icon}),a.jsx("div",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:e.value}),a.jsx("div",{className:"text-xs text-warm-gray-600 dark:text-dark-warm-600",children:e.label})]},t))}),a.jsx("div",{className:"bg-warm-gray-50 dark:bg-dark-warm-200 rounded-xl p-6 min-h-32 flex items-center justify-center border border-warm-gray-200 dark:border-dark-warm-300",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-xl flex items-center justify-center text-white mx-auto mb-3",children:a.jsx(Qr,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-lg font-space font-bold text-warm-gray-700 dark:text-dark-warm-700",children:"Interactive Analytics"})]})})]}),a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 bg-gradient-to-br from-sunset-400 to-coral-400 rounded-xl opacity-20 animate-float"}),a.jsx("div",{className:"absolute -bottom-4 -right-4 w-16 h-16 bg-gradient-to-br from-golden-400 to-sunset-400 rounded-2xl opacity-20 animate-float",style:{animationDelay:"2s"}})]})})]})})]}),B$=()=>{const e=[{problem:"Lost customers due to poor experiences",solution:"Get real-time alerts when issues arise",icon:a.jsx(Zt,{className:"h-6 w-6"}),gradient:"from-sunset-500 to-coral-500"},{problem:"Making decisions without customer insights",solution:"AI-powered analytics reveal hidden patterns",icon:a.jsx(Qr,{className:"h-6 w-6"}),gradient:"from-coral-500 to-golden-400"},{problem:"Scattered feedback across multiple channels",solution:"Unified platform for all customer touchpoints",icon:a.jsx(Zs,{className:"h-6 w-6"}),gradient:"from-golden-400 to-sunset-500"}],t=[{icon:a.jsx(Zs,{className:"h-6 w-6"}),title:"Multi-Channel Collection",description:"Forms, SMS, QR codes - collect feedback everywhere customers are",gradient:"from-sunset-500 to-coral-500",benefits:["Email & SMS surveys","Web forms & QR codes","Social media integration"]},{icon:a.jsx(Qr,{className:"h-6 w-6"}),title:"AI-Powered Analysis",description:"Automatic sentiment analysis and categorization for instant insights",gradient:"from-coral-500 to-golden-400",benefits:["Real-time sentiment analysis","Automated categorization","Trend identification"]},{icon:a.jsx(pu,{className:"h-6 w-6"}),title:"Real-Time Alerts",description:"Get notified immediately when feedback requires urgent attention",gradient:"from-golden-400 to-sunset-500",benefits:["Instant notifications","Priority flagging","Custom alert rules"]},{icon:a.jsx(mo,{className:"h-6 w-6"}),title:"Enterprise Security",description:"Bank-grade security with SOC 2 compliance and data protection",gradient:"from-sunset-500 to-coral-500",benefits:["SOC 2 compliance","End-to-end encryption","GDPR compliant"]}];return a.jsxs("section",{className:"relative py-24 bg-white dark:bg-background overflow-hidden",children:[a.jsx(Ca,{}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx(yn,{className:"w-5 h-5 text-sunset-500"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Why It Matters"})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Stop losing"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"customers"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})," ","to poor experiences"]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-4xl mx-auto leading-relaxed font-medium mb-12",children:"Without proper feedback management, businesses miss critical insights that could prevent customer churn and drive growth"}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:e.map((r,n)=>a.jsxs("div",{className:"group relative bg-white/95 dark:bg-dark-warm-100/95 rounded-2xl p-6 border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 via-orange-500/5 to-yellow-500/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-xl flex items-center justify-center text-white mx-auto mb-4 group-hover:scale-110 transition-transform duration-300`,children:r.icon}),a.jsxs("div",{className:"text-sm font-semibold text-red-600 dark:text-red-400 mb-2",children:["Problem: ",r.problem]}),a.jsxs("div",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["Solution: ",r.solution]})]})]},n))})]}),a.jsx("div",{className:"text-center mb-16",children:a.jsx("h3",{className:"text-2xl lg:text-4xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-12",children:"Powerful features that make the difference"})}),a.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:t.map((r,n)=>a.jsxs(de,{className:"group relative border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg bg-white/95 dark:bg-dark-warm-100/95 hover:shadow-xl transition-all duration-300 rounded-2xl overflow-hidden hover:-translate-y-1",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sunset-500/5 via-coral-500/5 to-golden-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx($e,{className:"pb-4 relative",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-xl flex items-center justify-center text-white flex-shrink-0 group-hover:scale-110 transition-transform duration-300`,children:r.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx(Fe,{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 leading-tight mb-2",children:r.title}),a.jsx(oo,{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium",children:r.description})]})]})}),a.jsx(fe,{className:"pt-0 relative",children:a.jsx("div",{className:"space-y-2",children:r.benefits.map((s,o)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zt,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-warm-gray-600 dark:text-dark-warm-600 font-medium",children:s})]},o))})})]},n))})]})]})},V$=()=>{const e=Et(),[t,r]=m.useState(!1),n=[{icon:a.jsx(_a,{className:"w-8 h-8"}),title:"Customer complaints increasing?",description:"Don't wait until it's too late - start monitoring satisfaction now"},{icon:a.jsx(hs,{className:"w-8 h-8"}),title:"Competing on customer experience?",description:"Get ahead of competitors with better customer insights"},{icon:a.jsx(pu,{className:"w-8 h-8"}),title:"Growing fast and losing touch?",description:"Scale your business without losing the personal connection"}],s=[{name:"Starter",monthlyPrice:7,yearlyPrice:70,period:t?"/year":"/month",description:"Perfect for small teams getting started with feedback.",features:["Up to 5 team members","1,000 responses/month","Standard Analytics","Email Support"],popular:!1,cta:"Start Free Trial",gradient:"from-warm-gray-100 to-warm-gray-50"},{name:"Growth",monthlyPrice:27,yearlyPrice:270,period:t?"/year":"/month",description:"For growing businesses who need to scale their feedback operations.",features:["Up to 15 team members","5,000 responses/month","AI-Powered Insights","Priority Support","Custom Branding"],popular:!0,cta:"Start Free Trial",gradient:"from-sunset-50 to-coral-50"},{name:"Pro",monthlyPrice:97,yearlyPrice:970,period:t?"/year":"/month",description:"For established businesses that require advanced control and integrations.",features:["Up to 30 team members","20,000 responses/month","API Access","Advanced Integrations","Team Collaboration Tools"],popular:!1,cta:"Start Free Trial",gradient:"from-golden-50 to-sunset-50"},{name:"Enterprise",monthlyPrice:247,yearlyPrice:2470,period:t?"/year":"/month",description:"Tailored solutions for large organizations with complex needs.",features:["Unlimited team members","Custom response limits","Dedicated Success Manager","SLA & Advanced Security","On-premise deployment"],popular:!1,cta:"Start Free Trial",gradient:"from-warm-gray-100 to-warm-gray-50"}],o=i=>t?i.yearlyPrice:i.monthlyPrice;return a.jsxs("section",{id:"pricing",className:"relative py-32 bg-gradient-to-br from-warm-gray-50 via-white to-sunset-50/30 dark:from-dark-warm-50 dark:via-dark-warm-100 dark:to-dark-warm-50 overflow-hidden",children:[a.jsx(Ca,{}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-24 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-8",children:[a.jsx(_a,{className:"w-6 h-6 text-sunset-500"}),a.jsx("span",{className:"text-lg font-space font-medium",children:"When You Need It"})]}),a.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-8 leading-tight",children:["The"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"right time"}),a.jsx("div",{className:"absolute -bottom-3 left-0 right-0 h-2 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full animate-scale-in"})]})," ","is now"]}),a.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium max-w-4xl mx-auto mb-16",children:"Don't wait until customer satisfaction becomes a crisis. Start building better relationships today."}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:n.map((i,l)=>a.jsxs("div",{className:"bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm rounded-3xl p-8 border border-warm-gray-200/50 dark:border-dark-warm-300/50 group hover:scale-105 transition-all duration-300",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl flex items-center justify-center text-white mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:i.icon}),a.jsx("h3",{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-4",children:i.title}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed",children:i.description})]},l))})]}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-8",children:[a.jsx(pu,{className:"w-6 h-6 text-sunset-500"}),a.jsx("span",{className:"text-lg font-space font-medium",children:"Where To Get Started"})]}),a.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-8 leading-tight",children:["Choose your"," ",a.jsx("span",{className:"relative",children:a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"growth path"})})]}),a.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium max-w-4xl mx-auto mb-12",children:"Start free, scale as you grow. Upgrade or downgrade anytime."}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-16",children:[a.jsx("span",{className:`text-lg font-medium ${t?"text-warm-gray-600 dark:text-dark-warm-600":"text-sunset-600 dark:text-sunset-400"}`,children:"Monthly"}),a.jsx("button",{onClick:()=>r(!t),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-sunset-500 focus:ring-offset-2 ${t?"bg-sunset-500":"bg-warm-gray-300 dark:bg-dark-warm-400"}`,children:a.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${t?"translate-x-7":"translate-x-1"}`})}),a.jsxs("span",{className:`text-lg font-medium ${t?"text-sunset-600 dark:text-sunset-400":"text-warm-gray-600 dark:text-dark-warm-600"}`,children:["Yearly",a.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 text-sm rounded-full",children:"Save 20%"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8 max-w-7xl mx-auto mb-16 items-stretch",children:s.map((i,l)=>a.jsxs(de,{className:`flex flex-col border-0 shadow-lg relative transition-all duration-300 rounded-3xl group ${i.popular?"bg-white dark:bg-dark-warm-100 shadow-2xl shadow-sunset-500/20 ring-2 ring-sunset-500 z-10":"bg-white/60 dark:bg-dark-warm-100/60 backdrop-blur-md border border-warm-gray-200/50 dark:border-dark-warm-300/50 hover:bg-white dark:hover:bg-dark-warm-100 hover:shadow-xl hover:scale-[1.02]"}`,children:[i.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-20",children:a.jsx(Ut,{className:"bg-gradient-to-r from-sunset-500 to-coral-500 text-white px-6 py-2 text-base font-space font-bold shadow-lg rounded-full",children:"Most Popular"})}),a.jsxs($e,{className:"text-center pb-8 pt-12",children:[a.jsx(Fe,{className:"text-3xl font-space font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-2",children:i.name}),a.jsxs("div",{className:"mt-6 mb-4",children:[a.jsxs("span",{className:"text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900",children:["$",o(i)]}),i.period&&a.jsx("span",{className:"text-warm-gray-500 dark:text-dark-warm-500 text-lg font-medium",children:i.period})]}),a.jsx(oo,{className:"text-warm-gray-600 dark:text-dark-warm-600 text-base leading-relaxed px-4",children:i.description})]}),a.jsxs(fe,{className:"flex flex-col flex-grow px-8 pb-8",children:[a.jsx("ul",{className:"space-y-4 flex-grow",children:i.features.map((c,u)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(zt,{className:"h-6 w-6 text-green-500 mr-3 mt-1 flex-shrink-0"}),a.jsx("span",{className:"text-warm-gray-700 dark:text-dark-warm-600 font-medium text-base",children:c})]},u))}),a.jsx(J,{className:"w-full mt-10",variant:i.popular?"default":"outline",size:"lg",onClick:()=>e("/auth"),children:a.jsxs("span",{className:"flex items-center justify-center",children:[i.cta,a.jsx(Xp,{className:"ml-3 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]})]},l))}),a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm rounded-2xl p-8 max-w-2xl mx-auto border border-warm-gray-200/50 dark:border-dark-warm-300/50 shadow-lg",children:a.jsxs("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 font-medium text-lg",children:["All plans include a ",a.jsx("span",{className:"text-sunset-600 dark:text-sunset-400 font-semibold",children:"14-day free trial"}),a.jsx("br",{}),"No setup fees  Cancel anytime  Full feature access"]})})})]})]})},q$=()=>a.jsxs("section",{className:"relative py-32 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-500 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 left-20 w-40 h-40 bg-white/10 rounded-full animate-float blur-xl"}),a.jsx("div",{className:"absolute bottom-20 right-20 w-32 h-32 bg-white/10 rounded-full animate-pulse-gentle blur-lg"}),a.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-white/5 rounded-full animate-morph blur-lg"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-36 h-36 bg-white/5 rounded-full animate-blob blur-xl"}),a.jsx("div",{className:"absolute top-40 right-40 w-64 h-64 bg-white/5 rounded-full blur-3xl animate-flow",style:{borderRadius:"60% 40% 30% 70% / 60% 30% 70% 40%"}}),a.jsx("div",{className:"absolute bottom-40 left-40 w-48 h-48 bg-white/5 rounded-full blur-2xl animate-float",style:{borderRadius:"30% 60% 70% 40% / 50% 60% 30% 60%"}})]}),a.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx(fn,{className:"w-8 h-8 text-white animate-pulse-gentle","aria-label":"Pulsify pulse icon"}),a.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-white rounded-full opacity-20 animate-ping"})]}),a.jsx("span",{className:"text-white/90 text-lg font-space font-medium",children:"Join 2,000+ happy customers"})]}),a.jsxs("h2",{className:"text-5xl lg:text-7xl font-space font-black text-white mb-10 leading-tight","aria-label":"Ready to transform your customer feedback?",children:["Ready to"," ",a.jsxs("span",{className:"relative",children:["transform",a.jsx("div",{className:"absolute -bottom-4 left-0 right-0 h-2 bg-white rounded-full animate-scale-in"})]}),a.jsx("br",{}),"your customer feedback?"]}),a.jsxs("p",{className:"text-2xl lg:text-3xl text-white/95 leading-relaxed max-w-4xl mx-auto font-medium",children:["Join thousands of businesses using Pulsify to make"," ",a.jsx("span",{className:"font-bold",children:"better decisions"})]})]})]}),W$=()=>{const[e,t]=m.useState(!1);m.useEffect(()=>{const n=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches;(n==="dark"||!n&&s)&&(t(!0),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=!e;t(n),n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return a.jsx(J,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full",children:e?a.jsx(XP,{className:"h-5 w-5 text-golden-400"}):a.jsx(WP,{className:"h-5 w-5 text-warm-gray-600"})})},ay=({href:e,children:t,isRouterLink:r=!1})=>r?a.jsx(so,{to:e,className:"text-warm-gray-400 hover:text-white transition-colors duration-300 text-base",children:t}):a.jsx("a",{href:e,className:"text-warm-gray-400 hover:text-white transition-colors duration-300 text-base",children:t}),pv=()=>a.jsx("footer",{className:"bg-warm-gray-900 dark:bg-dark-warm-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(fn,{className:"w-8 h-8 text-sunset-500","aria-label":"Pulsify pulse icon"}),a.jsx("span",{className:"text-2xl font-space font-bold text-white",children:"Pulsify"})]}),a.jsx("p",{className:"text-base text-warm-gray-400 max-w-xs",children:"Real Insights. Real Impact."}),a.jsxs("div",{className:"text-base text-warm-gray-400 mt-4 space-y-1",children:[a.jsx("p",{children:"info@pulsify.bunisystems.com"}),a.jsx("p",{children:"+254207862379"}),a.jsx("p",{children:"Nairobi, Kenya"})]})]})}),a.jsxs("div",{className:"mt-12 border-t border-warm-gray-700 pt-8 flex flex-col-reverse sm:flex-row sm:justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-x-6 gap-y-4",children:[a.jsxs("p",{className:"text-base text-warm-gray-500",children:[" ",new Date().getFullYear()," Pulsify. All rights reserved."]}),a.jsxs("div",{className:"flex items-center gap-x-6",children:[a.jsx(ay,{href:"/privacy-policy",isRouterLink:!0,children:"Privacy Policy"}),a.jsx(ay,{href:"/terms-of-service",isRouterLink:!0,children:"Terms of Service"})]})]}),a.jsx(W$,{})]})]})}),H$=[{icon:a.jsx(YP,{className:"h-10 w-10 text-sunset-500"}),name:"SOC 2 Compliant",description:"Enterprise-grade security standards."},{icon:a.jsx(mu,{className:"h-10 w-10 text-coral-500"}),name:"GDPR & CCPA Ready",description:"Your data privacy is our priority."},{icon:a.jsx($P,{className:"h-10 w-10 text-golden-500"}),name:"99.9% Uptime SLA",description:"Reliable service you can count on."}],K$=()=>a.jsx("section",{className:"py-24 bg-warm-gray-50 dark:bg-dark-warm-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-base font-semibold text-sunset-600 dark:text-sunset-400 tracking-wider uppercase",children:"Trusted & Secure"}),a.jsx("p",{className:"mt-2 text-3xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 tracking-tight sm:text-4xl",children:"Your peace of mind is our top priority"}),a.jsx("p",{className:"mt-5 max-w-prose mx-auto text-xl text-warm-gray-500 dark:text-dark-warm-500",children:"We employ best-in-class security practices to keep your data safe, secure, and private."})]}),a.jsx("div",{className:"mt-12",children:a.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:H$.map(e=>a.jsx("div",{className:"pt-6",children:a.jsx("div",{className:"flow-root bg-white dark:bg-dark-warm-200 rounded-lg px-6 pb-8 shadow-lg",children:a.jsxs("div",{className:"-mt-6",children:[a.jsx("div",{children:a.jsx("span",{className:"inline-flex items-center justify-center p-3 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-md shadow-lg",children:I.cloneElement(e.icon,{className:"h-8 w-8 text-white"})})}),a.jsx("h3",{className:"mt-8 text-lg font-medium text-warm-gray-900 dark:text-dark-warm-900 tracking-tight",children:e.name}),a.jsx("p",{className:"mt-5 text-base text-warm-gray-500 dark:text-dark-warm-500",children:e.description})]})})},e.name))})})]})});var gv="Collapsible",[G$,dk]=pt(gv),[Q$,vv]=G$(gv),fk=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c=!1,u]=Ft({prop:n,defaultProp:s,onChange:i});return a.jsx(Q$,{scope:r,disabled:o,contentId:Yt(),open:c,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),children:a.jsx(W.div,{"data-state":yv(c),"data-disabled":o?"":void 0,...l,ref:t})})});fk.displayName=gv;var hk="CollapsibleTrigger",mk=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=vv(hk,r);return a.jsx(W.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":yv(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:L(e.onClick,s.onOpenToggle)})});mk.displayName=hk;var xv="CollapsibleContent",pk=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=vv(xv,e.__scopeCollapsible);return a.jsx(tt,{present:r||s.open,children:({present:o})=>a.jsx(Y$,{...n,ref:t,present:o})})});pk.displayName=xv;var Y$=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=e,i=vv(xv,r),[l,c]=m.useState(n),u=m.useRef(null),f=re(t,u),d=m.useRef(0),h=d.current,p=m.useRef(0),x=p.current,g=i.open||l,w=m.useRef(g),y=m.useRef();return m.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),Ke(()=>{const v=u.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const b=v.getBoundingClientRect();d.current=b.height,p.current=b.width,w.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),c(n)}},[i.open,n]),a.jsx(W.div,{"data-state":yv(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...o,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&s})});function yv(e){return e?"open":"closed"}var X$=fk,J$=mk,Z$=pk,Cn="Accordion",eF=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[wv,tF,rF]=Ia(Cn),[Vd,OB]=pt(Cn,[rF,dk]),bv=dk(),gk=I.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,o=n;return a.jsx(wv.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(aF,{...o,ref:t}):a.jsx(oF,{...s,ref:t})})});gk.displayName=Cn;var[vk,nF]=Vd(Cn),[xk,sF]=Vd(Cn,{collapsible:!1}),oF=I.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[l,c]=Ft({prop:r,defaultProp:n,onChange:s});return a.jsx(vk,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:I.useCallback(()=>o&&c(""),[o,c]),children:a.jsx(xk,{scope:e.__scopeAccordion,collapsible:o,children:a.jsx(yk,{...i,ref:t})})})}),aF=I.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=e,[i=[],l]=Ft({prop:r,defaultProp:n,onChange:s}),c=I.useCallback(f=>l((d=[])=>[...d,f]),[l]),u=I.useCallback(f=>l((d=[])=>d.filter(h=>h!==f)),[l]);return a.jsx(vk,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:a.jsx(xk,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(yk,{...o,ref:t})})})}),[iF,qd]=Vd(Cn),yk=I.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:o="vertical",...i}=e,l=I.useRef(null),c=re(l,t),u=tF(r),d=Ss(s)==="ltr",h=L(e.onKeyDown,p=>{var E;if(!eF.includes(p.key))return;const x=p.target,g=u().filter(R=>{var T;return!((T=R.ref.current)!=null&&T.disabled)}),w=g.findIndex(R=>R.ref.current===x),y=g.length;if(w===-1)return;p.preventDefault();let v=w;const b=0,j=y-1,S=()=>{v=w+1,v>j&&(v=b)},k=()=>{v=w-1,v<b&&(v=j)};switch(p.key){case"Home":v=b;break;case"End":v=j;break;case"ArrowRight":o==="horizontal"&&(d?S():k());break;case"ArrowDown":o==="vertical"&&S();break;case"ArrowLeft":o==="horizontal"&&(d?k():S());break;case"ArrowUp":o==="vertical"&&k();break}const N=v%y;(E=g[N].ref.current)==null||E.focus()});return a.jsx(iF,{scope:r,disabled:n,direction:s,orientation:o,children:a.jsx(wv.Slot,{scope:r,children:a.jsx(W.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:h})})})}),Ou="AccordionItem",[lF,jv]=Vd(Ou),wk=I.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,o=qd(Ou,r),i=nF(Ou,r),l=bv(r),c=Yt(),u=n&&i.value.includes(n)||!1,f=o.disabled||e.disabled;return a.jsx(lF,{scope:r,open:u,disabled:f,triggerId:c,children:a.jsx(X$,{"data-orientation":o.orientation,"data-state":kk(u),...l,...s,ref:t,disabled:f,open:u,onOpenChange:d=>{d?i.onItemOpen(n):i.onItemClose(n)}})})});wk.displayName=Ou;var bk="AccordionHeader",jk=I.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=qd(Cn,r),o=jv(bk,r);return a.jsx(W.h3,{"data-orientation":s.orientation,"data-state":kk(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});jk.displayName=bk;var Km="AccordionTrigger",Sk=I.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=qd(Cn,r),o=jv(Km,r),i=sF(Km,r),l=bv(r);return a.jsx(wv.ItemSlot,{scope:r,children:a.jsx(J$,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...n,ref:t})})});Sk.displayName=Km;var _k="AccordionContent",Nk=I.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=qd(Cn,r),o=jv(_k,r),i=bv(r);return a.jsx(Z$,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Nk.displayName=_k;function kk(e){return e?"open":"closed"}var cF=gk,uF=wk,dF=jk,Ek=Sk,Ck=Nk;const fF=cF,Rk=m.forwardRef(({className:e,...t},r)=>a.jsx(uF,{ref:r,className:A("border-b",e),...t}));Rk.displayName="AccordionItem";const Pk=m.forwardRef(({className:e,children:t,...r},n)=>a.jsx(dF,{className:"flex",children:a.jsxs(Ek,{ref:n,className:A("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(sd,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Pk.displayName=Ek.displayName;const Tk=m.forwardRef(({className:e,children:t,...r},n)=>a.jsx(Ck,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:A("pb-4 pt-0",e),children:t})}));Tk.displayName=Ck.displayName;const hF=[{question:"What is Pulsify?",answer:"Pulsify is an AI-powered customer feedback platform that helps businesses collect, analyze, and act on customer insights to drive growth. We unify feedback from various channels and provide actionable analytics."},{question:"Is there a free trial?",answer:"Yes, we offer a 14-day free trial on our Professional plan. No credit card is required to get started. You can explore all the features and see how Pulsify can benefit your business."},{question:"What kind of support do you offer?",answer:"We offer email support on the Starter plan and priority email and chat support on the Professional plan. Enterprise customers receive a dedicated success manager and custom support SLAs."},{question:"Can I integrate Pulsify with other tools?",answer:"Our Professional and Enterprise plans also include API access for custom integrations."},{question:"How is my data secured?",answer:"We take data security very seriously. Our platform is SOC 2 compliant, and all data is encrypted end-to-end. We follow industry best practices to ensure your data is safe and private."},{question:"Can I customize the feedback forms?",answer:"Yes! You can customize the look and feel of your feedback forms to match your brand, including colors, logos, and custom domains (on supported plans)."}],mF=()=>a.jsx("section",{id:"faq",className:"py-24 bg-white dark:bg-background",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 sm:text-4xl",children:"Frequently Asked Questions"}),a.jsx("p",{className:"mt-4 text-lg text-warm-gray-600 dark:text-dark-warm-600",children:"Have questions? We have answers. If you can't find what you're looking for, feel free to contact us."})]}),a.jsx("div",{className:"mt-12",children:a.jsx(fF,{type:"single",collapsible:!0,className:"w-full",children:hF.map((e,t)=>a.jsxs(Rk,{value:`item-${t}`,className:"border-b border-warm-gray-200 dark:border-dark-warm-200",children:[a.jsx(Pk,{className:"text-left text-lg font-medium text-warm-gray-900 dark:text-dark-warm-900 hover:no-underline py-6",children:e.question}),a.jsx(Tk,{className:"text-base text-warm-gray-600 dark:text-dark-warm-600 pb-6",children:e.answer})]},t))})})]})}),pF=()=>a.jsxs("div",{className:"min-h-screen bg-white dark:bg-background transition-colors duration-300",children:[a.jsx(mv,{}),a.jsx(F$,{}),a.jsx(U$,{}),a.jsx(K$,{}),a.jsx(z$,{}),a.jsx(B$,{}),a.jsx(V$,{}),a.jsx(mF,{}),a.jsx(q$,{}),a.jsx(pv,{})]}),gF=()=>a.jsx(pF,{}),Qa=()=>{var o;const{organization:e}=Sl(),[t,r]=m.useState({assets:[],theme:null,logoAsset:null}),[n,s]=m.useState(!0);return m.useEffect(()=>{(async()=>{if(!e){s(!1);return}try{s(!0);const[l,c]=await Promise.all([_$(e.id),N$(e.id)]),u=l.find(f=>f.asset_type==="logo")||null;r({assets:l,theme:c,logoAsset:u})}catch(l){console.error("Error loading organization config:",l)}finally{s(!1)}})()},[e]),{...t,isLoading:n,organization:e,colors:((o=t.theme)==null?void 0:o.colors)||{primary:(e==null?void 0:e.primary_color)||"#073763",secondary:(e==null?void 0:e.secondary_color)||"#007ACE",accent:"#f97316"},flowConfig:(e==null?void 0:e.flow_configuration)||{},headerTitle:(e==null?void 0:e.feedback_header_title)||"Share Your Experience",headerSubtitle:(e==null?void 0:e.feedback_header_subtitle)||"Help us serve you better with your valuable feedback",welcomeTitle:(e==null?void 0:e.welcome_screen_title)||"Share Your Experience",welcomeDescription:(e==null?void 0:e.welcome_screen_description)||"Help us serve you better with your valuable feedback. Your input helps us improve our services and better serve our community.",thankYouTitle:(e==null?void 0:e.thank_you_title)||"Thank You for Your Feedback!",thankYouMessage:(e==null?void 0:e.thank_you_message)||"Your valuable feedback has been received and will help us improve our services."}},Ak=({title:e,subtitle:t,showSecureIndicator:r=!1})=>{const{colors:n,logoAsset:s,organization:o}=Qa(),i={background:`linear-gradient(to right, ${n.primary}, ${n.accent})`},l=(o==null?void 0:o.name)||"Pulsify";return a.jsxs("div",{className:"p-8 text-white text-center",style:i,children:[(s==null?void 0:s.asset_url)&&a.jsx("img",{src:s.asset_url,alt:s.asset_name||`${l} Logo`,className:"h-20 mx-auto mb-6 drop-shadow-lg object-contain",onError:c=>{c.target.src="/lovable-uploads/pulse-favicon-64.png",c.target.alt="Pulsify Logo"}}),a.jsx("h1",{className:"text-4xl font-bold mb-3",children:e==="Pulselify"?"Pulsify":e}),a.jsx("p",{className:"text-xl text-blue-100",children:t==="Turn Customer Feedback Into Growth"?"Real Insights. Real Impact.":t}),r&&a.jsx("div",{className:"flex items-center justify-center mt-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-green-300",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Secure & Confidential"})]})})]})},Wd=()=>{const{organization:e,logoAsset:t,colors:r,isLoading:n}=Qa(),[s,o]=m.useState(!1),i={primary:"#073763",secondary:"#007ACE",accent:"#f97316",background:"#f8fafc",surface:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280"},l={primary:r.primary||i.primary,secondary:r.secondary||i.secondary,accent:r.accent||i.accent,background:r.background||i.background,surface:r.surface||i.surface,textPrimary:r.text_primary||i.textPrimary,textSecondary:r.text_secondary||i.textSecondary},u={logoUrl:(t==null?void 0:t.asset_url)||(e==null?void 0:e.logo_url)||"/lovable-uploads/367347fe-02da-4338-b8ba-91138293d303.png",logoAlt:`${(e==null?void 0:e.name)||"Organization"} Logo`},f=()=>{if(typeof document>"u"||s)return;const d=document.documentElement;d.style.setProperty("--brand-primary",l.primary),d.style.setProperty("--brand-secondary",l.secondary),d.style.setProperty("--brand-accent",l.accent),d.style.setProperty("--brand-background",l.background),d.style.setProperty("--brand-surface",l.surface),d.style.setProperty("--brand-text-primary",l.textPrimary),d.style.setProperty("--brand-text-secondary",l.textSecondary);const h=`linear-gradient(to right, ${l.primary}, ${l.accent})`,p=`linear-gradient(to right, ${l.primary}, ${l.secondary})`;d.style.setProperty("--brand-gradient-primary-accent",h),d.style.setProperty("--brand-gradient-primary-secondary",p),o(!0)};return m.useEffect(()=>{!n&&e&&f()},[l.primary,l.secondary,l.accent,n,e]),{colors:l,assets:u,isLoading:n,organizationName:(e==null?void 0:e.name)||"Organization",applyBrandingStyles:f}},Mu=({children:e,onClick:t,size:r="lg",variant:n="primary",className:s,disabled:o=!1})=>{const{colors:i}=Wd(),c=(()=>{switch(n){case"primary":return{background:`linear-gradient(to right, ${i.primary}, ${i.accent})`,"&:hover":{background:`linear-gradient(to right, ${i.primary}dd, ${i.accent}dd)`}};case"secondary":return{backgroundColor:i.secondary,"&:hover":{backgroundColor:`${i.secondary}dd`}};case"outline":return{borderColor:i.primary,color:i.primary,"&:hover":{backgroundColor:i.primary,color:"white"}};default:return{}}})();return a.jsx(J,{onClick:t,size:r,disabled:o,className:A("text-white font-semibold transform transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl",n==="primary"&&"text-white",n==="outline"&&"bg-transparent border-2",s),style:c,children:e})},vF=({onStart:e})=>{const{colors:t,welcomeTitle:r,welcomeDescription:n}=Qa(),s={background:`linear-gradient(135deg, ${t.primary}22 0%, ${t.secondary}22 50%, ${t.accent}22 100%)`};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:s,children:a.jsxs(de,{className:"max-w-2xl w-full shadow-2xl border-0 overflow-hidden",children:[a.jsx(Ak,{title:r,subtitle:n}),a.jsxs(fe,{className:"p-8",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.secondary}20`},children:a.jsx(_a,{className:"h-6 w-6",style:{color:t.secondary}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Quick & Easy"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Takes only 3-5 minutes"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.accent}20`},children:a.jsx(mo,{className:"h-6 w-6",style:{color:t.accent}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Confidential"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Your privacy is protected"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.primary}20`},children:a.jsx(Zt,{className:"h-6 w-6",style:{color:t.primary}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Your Voice Matters"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Every response helps improve our services"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.accent}20`},children:a.jsx(hs,{className:"h-6 w-6",style:{color:t.accent}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Make a Difference"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Shape the future of our services"})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(Mu,{onClick:e,size:"lg",className:"px-12 py-4 text-lg",children:"Start Feedback Survey"}),a.jsx("p",{className:"text-sm mt-4 text-gray-600",children:"Your responses are anonymous and help us improve our services"})]})]})]})})},iy=()=>{const{colors:e}=Qa(),t={background:`linear-gradient(135deg, ${e.primary}1A 0%, ${e.secondary}1A 50%, ${e.accent}1A 100%)`};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:t,children:a.jsxs("div",{className:"text-center animate-fade-in",children:[a.jsx("div",{className:"relative mb-6",children:a.jsx(v1,{className:"h-16 w-16 animate-spin mx-auto",style:{color:e.accent}})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:e.primary},children:"Loading Your Feedback Form"}),a.jsx("p",{className:"text-gray-600 animate-pulse",children:"Preparing your personalized experience..."}),a.jsx("div",{className:"mt-4 flex justify-center space-x-1",children:[0,1,2].map(r=>a.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:e.accent,animationDelay:`${r*.1}s`}},r))})]})})},ks=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(!1);m.useEffect(()=>{const o=()=>{const i=window.innerWidth;t(i<768),n(i>=768&&i<1024)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const s="ontouchstart"in window||navigator.maxTouchPoints>0;return{isMobile:e,isTablet:r,isDesktop:!e&&!r,isTouchDevice:s,screenSize:e?"mobile":r?"tablet":"desktop"}},xF=({children:e})=>{const{isMobile:t}=ks();return a.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 ${t?"pb-24":""}`,children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-orange-400/10 rounded-full blur-3xl"})]}),e]})},Ik=m.forwardRef(({...e},t)=>a.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));Ik.displayName="Breadcrumb";const Ok=m.forwardRef(({className:e,...t},r)=>a.jsx("ol",{ref:r,className:A("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));Ok.displayName="BreadcrumbList";const Mk=m.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:A("inline-flex items-center gap-1.5",e),...t}));Mk.displayName="BreadcrumbItem";const yF=m.forwardRef(({asChild:e,className:t,...r},n)=>{const s=e?$t:"a";return a.jsx(s,{ref:n,className:A("transition-colors hover:text-foreground",t),...r})});yF.displayName="BreadcrumbLink";const Dk=m.forwardRef(({className:e,...t},r)=>a.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:A("font-normal text-foreground",e),...t}));Dk.displayName="BreadcrumbPage";const wF=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=[{name:"Service Quality",range:[0,2]},{name:"Customer Experience",range:[3,5]},{name:"Overall Satisfaction",range:[6,t-1]}],o=n.find(i=>e>=i.range[0]&&e<=i.range[1]);return a.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsx(Ik,{children:a.jsx(Ok,{className:"flex-wrap",children:n.map((i,l)=>{const c=i===o,u=i.range.every(f=>r.includes(f));return a.jsx(Mk,{className:"flex items-center",children:a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full transition-all ${c?"bg-blue-100 text-blue-700":u?"bg-green-100 text-green-700":"text-gray-500"}`,children:[u?a.jsx(zt,{className:"h-4 w-4"}):a.jsx(od,{className:"h-4 w-4"}),a.jsx(Dk,{className:"font-medium",children:i.name})]})},i.name)})})})})},bF=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=(e+1)/t*100,s=()=>n<25?"Great start! Your feedback matters.":n<50?"You're doing amazing! Keep going.":n<75?"Almost there! Your input is valuable.":"Final stretch! Thank you for your time.",o=()=>n<33?a.jsx(tg,{className:"h-4 w-4 text-blue-600"}):n<66?a.jsx(yn,{className:"h-4 w-4 text-orange-600"}):a.jsx(hs,{className:"h-4 w-4 text-green-600"});return a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-orange-50 rounded-xl p-4 border border-blue-200/50",children:a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[o(),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:s()})]}),a.jsxs("div",{className:"text-sm font-bold text-orange-600",children:[Math.round(n),"%"]})]})})},jF=({currentIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s})=>{const o=s<30?"fast":s<60?"steady":"thoughtful",i=()=>{switch(o){case"fast":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"steady":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}},l=()=>{switch(o){case"fast":return a.jsx(yn,{className:"h-3 w-3"});case"steady":return a.jsx(tg,{className:"h-3 w-3"});default:return a.jsx(hs,{className:"h-3 w-3"})}};return a.jsxs("div",{className:"flex items-center justify-between mb-6 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"font-medium",children:[e+1," of ",t]}),r.includes(e)&&a.jsx(zt,{className:"h-4 w-4 text-green-500"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(_a,{className:"h-4 w-4 text-blue-500"}),a.jsxs("span",{children:["~",n,"s left"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(hs,{className:"h-4 w-4 text-orange-500"}),a.jsxs("span",{children:[s,"s avg"]})]}),a.jsx(Ut,{className:`${i()} shadow-sm border`,children:a.jsxs("div",{className:"flex items-center space-x-1",children:[l(),a.jsx("span",{className:"font-medium",children:o})]})})]})]})},SF=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=(e+1)/t*100;return a.jsxs("div",{className:"mb-4 bg-white/80 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[r.includes(e)?a.jsx(zt,{className:"h-5 w-5 text-green-500"}):a.jsx(od,{className:"h-5 w-5 text-gray-400"}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e+1," of ",t]})]}),a.jsxs("span",{className:"text-sm font-bold text-orange-600",children:[Math.round(n),"%"]})]}),a.jsx("div",{className:"relative w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-orange-500 rounded-full transition-all duration-500",style:{width:`${n}%`}})}),a.jsx("div",{className:"flex justify-center mt-2",children:a.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(t,8)},(s,o)=>a.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${o<=e?"bg-blue-500":"bg-gray-300"}`},o))})})]})},_F=({currentQuestionIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s})=>{const{isMobile:o}=ks(),{colors:i}=Wd();return o?a.jsx(SF,{currentIndex:e,totalQuestions:t,completedQuestions:r}):a.jsxs("div",{className:"mb-8 p-4 rounded-lg border",style:{backgroundColor:`${i.primary}08`,borderColor:`${i.primary}30`},role:"progressbar","aria-valuenow":e+1,"aria-valuemin":1,"aria-valuemax":t,children:[a.jsx(wF,{currentIndex:e,totalQuestions:t,completedQuestions:r}),a.jsx(jF,{currentIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s}),a.jsx(bF,{currentIndex:e,totalQuestions:t,completedQuestions:r})]})},NF=({value:e,onChange:t,max:r=5})=>a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"flex space-x-2",children:Array.from({length:r},(n,s)=>{const o=s+1;return a.jsx("button",{type:"button",onClick:()=>t(o),className:"transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[#007ACE] rounded","aria-label":`Rate ${o} out of ${r} stars`,children:a.jsx(hs,{className:`h-10 w-10 ${o<=e?"text-yellow-400 fill-yellow-400":"text-gray-300 hover:text-yellow-400"}`})},s)})}),e>0&&a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"text-lg font-medium text-[#073763]",children:[e," out of ",r," stars"]})})]}),kF=({value:e,onChange:t})=>{const r=s=>s<=6?"Detractor":s<=8?"Passive":"Promoter",n=s=>s<=6?"text-red-600":s<=8?"text-yellow-600":"text-green-600";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[a.jsx("span",{children:"Not likely at all"}),a.jsx("span",{children:"Extremely likely"})]}),a.jsx("div",{className:"grid grid-cols-11 gap-2",children:Array.from({length:11},(s,o)=>a.jsx("button",{type:"button",onClick:()=>t(o),className:`
              h-12 w-full rounded-lg border-2 transition-all duration-200 
              font-medium text-sm hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#007ACE]
              ${e===o?"bg-gradient-to-r from-[#073763] to-[#007ACE] text-white border-[#073763]":"bg-white border-gray-300 text-gray-700 hover:border-[#007ACE]"}
            `,"aria-label":`Rate ${o} out of 10`,children:o},o))}),e!==void 0&&a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"text-lg font-medium text-[#073763]",children:["Score: ",e,"/10"]}),a.jsx("div",{className:`text-sm font-medium ${n(e)}`,children:r(e)})]})]})},EF=({value:e,onChange:t,scale:r={min:1,max:5,minLabel:"Strongly Disagree",maxLabel:"Strongly Agree"}})=>{const{min:n,max:s,minLabel:o,maxLabel:i}=r,l=Array.from({length:s-n+1},(u,f)=>n+f),c=u=>u===n?o:u===s?i:s-n===4?["","Disagree","Neutral","Agree",""][u-n]:`${u}`;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-4",children:[a.jsx("span",{children:o}),a.jsx("span",{children:i})]}),a.jsx("div",{className:"space-y-3",children:l.map(u=>a.jsxs("label",{className:`
              flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
              hover:bg-blue-50 hover:border-[#007ACE]
              ${e===u?"bg-gradient-to-r from-[#073763] to-[#007ACE] text-white border-[#073763]":"bg-white border-gray-300"}
            `,children:[a.jsx("input",{type:"radio",name:"likert",value:u,checked:e===u,onChange:()=>t(u),className:"sr-only"}),a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx("span",{className:"font-medium",children:c(u)}),a.jsxs("span",{className:"text-sm opacity-75",children:["(",u,")"]})]})]},u))})]})};var Sv="Checkbox",[CF,MB]=pt(Sv),[RF,PF]=CF(Sv),Lk=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=m.useState(null),x=re(t,j=>p(j)),g=m.useRef(!1),w=h?f||!!h.closest("form"):!0,[y=!1,v]=Ft({prop:s,defaultProp:o,onChange:u}),b=m.useRef(y);return m.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const S=()=>v(b.current);return j.addEventListener("reset",S),()=>j.removeEventListener("reset",S)}},[h,v]),a.jsxs(RF,{scope:r,state:y,disabled:l,children:[a.jsx(W.button,{type:"button",role:"checkbox","aria-checked":us(y)?"mixed":y,"aria-required":i,"data-state":zk(y),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:x,onKeyDown:L(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:L(e.onClick,j=>{v(S=>us(S)?!0:!S),w&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),w&&a.jsx(TF,{control:h,bubbles:!g.current,name:n,value:c,checked:y,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:us(o)?!1:o})]})});Lk.displayName=Sv;var $k="CheckboxIndicator",Fk=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=PF($k,r);return a.jsx(tt,{present:n||us(o.state)||o.state===!0,children:a.jsx(W.span,{"data-state":zk(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Fk.displayName=$k;var TF=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...o}=e,i=m.useRef(null),l=Pd(r),c=ud(t);m.useEffect(()=>{const f=i.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&p){const x=new Event("click",{bubbles:n});f.indeterminate=us(r),p.call(f,us(r)?!1:r),f.dispatchEvent(x)}},[l,r,n]);const u=m.useRef(us(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function us(e){return e==="indeterminate"}function zk(e){return us(e)?"indeterminate":e?"checked":"unchecked"}var Uk=Lk,AF=Fk;const Bk=m.forwardRef(({className:e,...t},r)=>a.jsx(Uk,{ref:r,className:A("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(AF,{className:A("flex items-center justify-center text-current"),children:a.jsx(nd,{className:"h-4 w-4"})})}));Bk.displayName=Uk.displayName;var _v="Radio",[IF,Vk]=pt(_v),[OF,MF]=IF(_v),qk=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,form:u,...f}=e,[d,h]=m.useState(null),p=re(t,w=>h(w)),x=m.useRef(!1),g=d?u||!!d.closest("form"):!0;return a.jsxs(OF,{scope:r,checked:s,disabled:i,children:[a.jsx(W.button,{type:"button",role:"radio","aria-checked":s,"data-state":Kk(s),"data-disabled":i?"":void 0,disabled:i,value:l,...f,ref:p,onClick:L(e.onClick,w=>{s||c==null||c(),g&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),g&&a.jsx(DF,{control:d,bubbles:!x.current,name:n,value:l,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});qk.displayName=_v;var Wk="RadioIndicator",Hk=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=MF(Wk,r);return a.jsx(tt,{present:n||o.checked,children:a.jsx(W.span,{"data-state":Kk(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});Hk.displayName=Wk;var DF=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=m.useRef(null),i=Pd(r),l=ud(t);return m.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[i,r,n]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Kk(e){return e?"checked":"unchecked"}var LF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Nv="RadioGroup",[$F,DB]=pt(Nv,[qa,Vk]),Gk=qa(),Qk=Vk(),[FF,zF]=$F(Nv),Yk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:f=!0,onValueChange:d,...h}=e,p=Gk(r),x=Ss(u),[g,w]=Ft({prop:o,defaultProp:s,onChange:d});return a.jsx(FF,{scope:r,name:n,required:i,disabled:l,value:g,onValueChange:w,children:a.jsx(Mg,{asChild:!0,...p,orientation:c,dir:x,loop:f,children:a.jsx(W.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...h,ref:t})})})});Yk.displayName=Nv;var Xk="RadioGroupItem",Jk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=zF(Xk,r),i=o.disabled||n,l=Gk(r),c=Qk(r),u=m.useRef(null),f=re(t,u),d=o.value===s.value,h=m.useRef(!1);return m.useEffect(()=>{const p=g=>{LF.includes(g.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),a.jsx(Dg,{asChild:!0,...l,focusable:!i,active:d,children:a.jsx(qk,{disabled:i,required:o.required,checked:d,...c,...s,name:o.name,ref:f,onCheck:()=>o.onValueChange(s.value),onKeyDown:L(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:L(s.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});Jk.displayName=Xk;var UF="RadioGroupIndicator",Zk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=Qk(r);return a.jsx(Hk,{...s,...n,ref:t})});Zk.displayName=UF;var eE=Yk,tE=Jk,BF=Zk;const kv=m.forwardRef(({className:e,...t},r)=>a.jsx(eE,{className:A("grid gap-2",e),...t,ref:r}));kv.displayName=eE.displayName;const Ev=m.forwardRef(({className:e,...t},r)=>a.jsx(tE,{ref:r,className:A("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(BF,{className:"flex items-center justify-center",children:a.jsx(od,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ev.displayName=tE.displayName;const VF=({options:e,value:t,onChange:r,multiple:n})=>{const s=i=>{r(i)},o=(i,l)=>{const c=Array.isArray(t)?t:[];r(l?[...c,i]:c.filter(u=>u!==i))};return n?a.jsx("div",{className:"space-y-3",children:e.map((i,l)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-blue-50 transition-colors",children:[a.jsx(Bk,{id:`option-${l}`,checked:Array.isArray(t)&&t.includes(i),onCheckedChange:c=>o(i,c),className:"data-[state=checked]:bg-[#073763] data-[state=checked]:border-[#073763]"}),a.jsx("label",{htmlFor:`option-${l}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:i})]},l))}):a.jsx(kv,{value:t,onValueChange:s,children:a.jsx("div",{className:"space-y-3",children:e.map((i,l)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-blue-50 transition-colors",children:[a.jsx(Ev,{value:i,id:`option-${l}`,className:"border-[#073763] text-[#073763]"}),a.jsx("label",{htmlFor:`option-${l}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:i})]},l))})})},rE=m.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:A("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));rE.displayName="Textarea";const qF=({value:e,onChange:t,placeholder:r="Please share your thoughts...",maxLength:n=500})=>a.jsxs("div",{className:"space-y-3",children:[a.jsx(rE,{value:e,onChange:s=>t(s.target.value),placeholder:r,maxLength:n,className:"min-h-[120px] resize-none border-gray-300 focus:border-[#007ACE] focus:ring-[#007ACE]"}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[a.jsx("span",{children:"Share any additional thoughts or suggestions"}),a.jsxs("span",{children:[e.length,"/",n]})]})]}),WF=({value:e,onChange:t,options:r})=>{const n=r.filter(o=>o&&o.trim()),s=n.length>0?n:["","",""];return a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"flex space-x-4",children:s.map((o,i)=>a.jsx("button",{type:"button",onClick:()=>t(o),className:`text-6xl p-4 rounded-full transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[#f97316] ${e===o?"bg-orange-100 scale-110":"hover:bg-gray-100"}`,"aria-label":`Select ${o} rating`,children:o},i))}),e&&a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"text-lg font-medium text-[#073763]",children:["You selected: ",e]})})]})},HF=({value:e,onChange:t,options:r})=>{const[n,s]=m.useState(e||[...r]);m.useEffect(()=>{e&&e.length>0?s(e):s([...r])},[e,r]);const o=(c,u)=>{c.dataTransfer.setData("text/plain",u.toString())},i=c=>{c.preventDefault()},l=(c,u)=>{c.preventDefault();const f=parseInt(c.dataTransfer.getData("text/plain")),d=[...n],h=d[f];d.splice(f,1),d.splice(u,0,h),s(d),t(d)};return a.jsxs("div",{className:"space-y-2",children:[n.map((c,u)=>a.jsxs("div",{draggable:!0,onDragStart:f=>o(f,u),onDragOver:i,onDrop:f=>l(f,u),className:"flex items-center p-3 bg-white border border-gray-200 rounded-lg cursor-move hover:shadow-md transition-shadow",children:[a.jsx("span",{className:"flex items-center justify-center w-8 h-8 bg-[#f97316] text-white rounded-full text-sm font-medium mr-3",children:u+1}),a.jsx(zP,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsx("span",{className:"flex-1 text-gray-800",children:c})]},c)),a.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Drag and drop to reorder items by importance (1 = most important)"})]})},KF=({value:e={},onChange:t,options:r,scale:n={min:1,max:5}})=>{const s=(o,i)=>{t({...e,[o]:i})};return a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3 border-b border-gray-200",children:"Aspect"}),Array.from({length:n.max-n.min+1},(o,i)=>a.jsx("th",{className:"text-center p-3 border-b border-gray-200 min-w-[60px]",children:n.min+i},i))]})}),a.jsx("tbody",{children:r.map(o=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"p-3 border-b border-gray-100 font-medium",children:o}),Array.from({length:n.max-n.min+1},(i,l)=>{var u;const c=n.min+l;return a.jsx("td",{className:"p-3 border-b border-gray-100 text-center",children:a.jsx(kv,{value:((u=e[o])==null?void 0:u.toString())||"",onValueChange:f=>s(o,parseInt(f)),children:a.jsx(Ev,{value:c.toString()})})},c)})]},o))})]}),a.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[a.jsx("span",{children:n.minLabel||`${n.min} - Poor`}),a.jsx("span",{children:n.maxLabel||`${n.max} - Excellent`})]})]})};var nE=["PageUp","PageDown"],sE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oE={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ya="Slider",[Gm,GF,QF]=Ia(Ya),[aE,LB]=pt(Ya,[QF]),[YF,Hd]=aE(Ya),iE=m.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:f,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:x,...g}=e,w=m.useRef(new Set),y=m.useRef(0),b=i==="horizontal"?XF:JF,[j=[],S]=Ft({prop:f,defaultProp:u,onChange:M=>{var H;(H=[...w.current][y.current])==null||H.focus(),d(M)}}),k=m.useRef(j);function N(M){const O=nz(j,M);T(M,O)}function E(M){T(M,y.current)}function R(){const M=k.current[y.current];j[y.current]!==M&&h(j)}function T(M,O,{commit:H}={commit:!1}){const D=iz(o),X=lz(Math.round((M-n)/o)*o+n,D),z=ol(X,[n,s]);S((G=[])=>{const C=tz(G,z,O);if(az(C,c*o)){y.current=C.indexOf(z);const P=String(C)!==String(G);return P&&H&&h(C),P?C:G}else return G})}return a.jsx(YF,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:y,thumbs:w.current,values:j,orientation:i,form:x,children:a.jsx(Gm.Provider,{scope:e.__scopeSlider,children:a.jsx(Gm.Slot,{scope:e.__scopeSlider,children:a.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:L(g.onPointerDown,()=>{l||(k.current=j)}),min:n,max:s,inverted:p,onSlideStart:l?void 0:N,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:R,onHomeKeyDown:()=>!l&&T(n,0,{commit:!0}),onEndKeyDown:()=>!l&&T(s,j.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:O})=>{if(!l){const X=nE.includes(M.key)||M.shiftKey&&sE.includes(M.key)?10:1,z=y.current,G=j[z],C=o*X*O;T(G+C,z,{commit:!0})}}})})})})});iE.displayName=Ya;var[lE,cE]=aE(Ya,{startEdge:"left",endEdge:"right",size:"width",direction:1}),XF=m.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[d,h]=m.useState(null),p=re(t,b=>h(b)),x=m.useRef(),g=Ss(s),w=g==="ltr",y=w&&!o||!w&&o;function v(b){const j=x.current||d.getBoundingClientRect(),S=[0,j.width],N=Cv(S,y?[r,n]:[n,r]);return x.current=j,N(b-j.left)}return a.jsx(lE,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:a.jsx(uE,{dir:g,"data-orientation":"horizontal",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const j=v(b.clientX);i==null||i(j)},onSlideMove:b=>{const j=v(b.clientX);l==null||l(j)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:b=>{const S=oE[y?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:S?-1:1})}})})}),JF=m.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=m.useRef(null),d=re(t,f),h=m.useRef(),p=!s;function x(g){const w=h.current||f.current.getBoundingClientRect(),y=[0,w.height],b=Cv(y,p?[n,r]:[r,n]);return h.current=w,b(g-w.top)}return a.jsx(lE,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:a.jsx(uE,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const w=x(g.clientY);o==null||o(w)},onSlideMove:g=>{const w=x(g.clientY);i==null||i(w)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const y=oE[p?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:y?-1:1})}})})}),uE=m.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=Hd(Ya,r);return a.jsx(W.span,{...u,ref:t,onKeyDown:L(e.onKeyDown,d=>{d.key==="Home"?(i(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):nE.concat(sE).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:L(e.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),f.thumbs.has(h)?h.focus():n(d)}),onPointerMove:L(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&s(d)}),onPointerUp:L(e.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),o(d))})})}),dE="SliderTrack",fE=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Hd(dE,r);return a.jsx(W.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});fE.displayName=dE;var Qm="SliderRange",hE=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Hd(Qm,r),o=cE(Qm,r),i=m.useRef(null),l=re(t,i),c=s.values.length,u=s.values.map(h=>pE(h,s.min,s.max)),f=c>1?Math.min(...u):0,d=100-Math.max(...u);return a.jsx(W.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[o.startEdge]:f+"%",[o.endEdge]:d+"%"}})});hE.displayName=Qm;var Ym="SliderThumb",mE=m.forwardRef((e,t)=>{const r=GF(e.__scopeSlider),[n,s]=m.useState(null),o=re(t,l=>s(l)),i=m.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return a.jsx(ZF,{...e,ref:o,index:i})}),ZF=m.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...o}=e,i=Hd(Ym,r),l=cE(Ym,r),[c,u]=m.useState(null),f=re(t,v=>u(v)),d=c?i.form||!!c.closest("form"):!0,h=ud(c),p=i.values[n],x=p===void 0?0:pE(p,i.min,i.max),g=rz(n,i.values.length),w=h==null?void 0:h[l.size],y=w?sz(w,x,l.direction):0;return m.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${y}px)`},children:[a.jsx(Gm.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(W.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:f,style:p===void 0?{display:"none"}:e.style,onFocus:L(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),d&&a.jsx(ez,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},n)]})});mE.displayName=Ym;var ez=e=>{const{value:t,...r}=e,n=m.useRef(null),s=Pd(t);return m.useEffect(()=>{const o=n.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(o,t),o.dispatchEvent(u)}},[s,t]),a.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function tz(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,o)=>s-o)}function pE(e,t,r){const o=100/(r-t)*(e-t);return ol(o,[0,100])}function rz(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function nz(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function sz(e,t,r){const n=e/2,o=Cv([0,50],[0,n]);return(n-o(t)*r)*r}function oz(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function az(e,t){if(t>0){const r=oz(e);return Math.min(...r)>=t}return!0}function Cv(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function iz(e){return(String(e).split(".")[1]||"").length}function lz(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var gE=iE,cz=fE,uz=hE,dz=mE;const vE=m.forwardRef(({className:e,...t},r)=>a.jsxs(gE,{ref:r,className:A("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(cz,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(uz,{className:"absolute h-full bg-primary"})}),a.jsx(dz,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));vE.displayName=gE.displayName;const fz=({value:e,onChange:t,scale:r={min:1,max:10}})=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"px-3",children:a.jsx(vE,{value:[e||r.min],onValueChange:n=>t(n[0]),min:r.min,max:r.max,step:1,className:"w-full"})}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsx("span",{children:r.minLabel||`${r.min}`}),a.jsx("span",{className:"text-lg font-medium text-[#f97316]",children:e||r.min}),a.jsx("span",{children:r.maxLabel||`${r.max}`})]}),a.jsx("div",{className:"flex justify-between text-xs text-gray-500",children:Array.from({length:r.max-r.min+1},(n,s)=>a.jsx("span",{className:"text-center",children:r.min+s},s))})]}),hz=({children:e,title:t,required:r,isAnswered:n,className:s=""})=>a.jsxs(de,{className:`
      mb-6 shadow-lg border-0 
      animate-fade-in
      transition-all duration-300 ease-out
      hover:shadow-xl hover:scale-[1.02]
      ${n?"ring-2 ring-green-400 ring-opacity-50":""}
      ${s}
    `,children:[a.jsxs($e,{className:`
        bg-gradient-to-r from-[#f97316] to-[#fb923c] text-white rounded-t-lg 
        relative overflow-hidden
        ${n?"bg-gradient-to-r from-green-500 to-green-600":""}
      `,children:[a.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Fe,{className:"text-xl pr-4 animate-fade-in",children:t}),r&&a.jsxs("span",{className:"text-orange-200 text-sm flex items-center mt-1 animate-fade-in",children:[a.jsx("span",{className:"text-red-300 mr-1",children:"*"}),"Required"]})]}),n&&a.jsx(zt,{className:"h-6 w-6 text-green-300 flex-shrink-0 animate-scale-in"})]}),n&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 to-green-600/20 animate-fade-in"})]}),a.jsx(fe,{className:"p-6 transition-all duration-200",children:e})]}),mz=({children:e,title:t,required:r,isAnswered:n})=>a.jsxs(de,{className:`
      mb-20 shadow-lg border-0 mx-2
      animate-fade-in
      transition-all duration-300 ease-out
      ${n?"ring-2 ring-green-400 ring-opacity-50":""}
    `,children:[a.jsx($e,{className:`
        bg-gradient-to-r from-[#f97316] to-[#fb923c] text-white rounded-t-lg 
        relative overflow-hidden p-4
        ${n?"bg-gradient-to-r from-green-500 to-green-600":""}
      `,children:a.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[a.jsxs("div",{className:"flex-1 pr-2",children:[a.jsx(Fe,{className:"text-lg leading-tight animate-fade-in",children:t}),r&&a.jsxs("span",{className:"text-orange-200 text-xs flex items-center mt-1",children:[a.jsx("span",{className:"text-red-300 mr-1",children:"*"}),"Required"]})]}),n&&a.jsx(zt,{className:"h-6 w-6 text-green-300 flex-shrink-0 animate-scale-in"})]})}),a.jsx(fe,{className:"p-4",children:e})]}),pz=({children:e,className:t=""})=>{const{isMobile:r,isTouchDevice:n}=ks(),s=`
    ${r&&n?"touch-manipulation":""}
    ${r?"min-h-[44px]":"min-h-[40px]"}
    ${t}
  `;return a.jsx("div",{className:s,style:{WebkitTapHighlightColor:"transparent"},children:e})},gz=({question:e,value:t,onChange:r,validation:n})=>{const{isMobile:s}=ks(),o=t!=null&&t!=="",i=(n==null?void 0:n.isValid)!==!1,l=()=>{const u={value:t,onChange:r};switch(e.type){case"star":return a.jsx(NF,{...u});case"nps":return a.jsx(kF,{...u});case"likert":return a.jsx(EF,{...u,scale:e.scale});case"emoji":return a.jsx(WF,{...u,options:e.options||[]});case"ranking":return a.jsx(HF,{...u,options:e.options||[]});case"matrix":return a.jsx(KF,{...u,options:e.options||[],scale:e.scale});case"slider":return a.jsx(fz,{...u,scale:e.scale});case"single-choice":case"multi-choice":return a.jsx(VF,{options:e.options||[],...u,multiple:e.type==="multi-choice"});case"text":return a.jsx(qF,{value:t||"",onChange:r,placeholder:"Please share your thoughts..."});default:return null}},c=s?mz:hz;return a.jsxs(c,{title:e.question,required:e.required,isAnswered:o&&i,children:[(n==null?void 0:n.errors)&&n.errors.length>0&&a.jsxs(ot,{className:"mb-4 border-red-200 bg-red-50 animate-fade-in",children:[a.jsx(Xi,{className:"h-4 w-4 text-red-600"}),a.jsx(at,{className:"text-red-700",children:n.errors[0]})]}),(n==null?void 0:n.warnings)&&n.warnings.length>0&&a.jsxs(ot,{className:"mb-4 border-yellow-200 bg-yellow-50 animate-fade-in",children:[a.jsx(hu,{className:"h-4 w-4 text-yellow-600"}),a.jsx(at,{className:"text-yellow-700",children:n.warnings[0]})]}),a.jsx(pz,{children:a.jsx("div",{role:"group","aria-labelledby":`question-${e.id}`,className:"animate-fade-in",children:l()})})]})},vz=({currentQuestionIndex:e,totalQuestions:t,canGoNext:r,onPrevious:n,onNext:s})=>{const o=e===t-1;return a.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-3",children:a.jsxs("div",{className:"flex justify-between items-center gap-3",children:[a.jsxs(J,{variant:"outline",size:"lg",onClick:n,disabled:e===0,className:"flex-1 border-[#073763] text-[#073763] hover:bg-[#073763] hover:text-white disabled:opacity-30",children:[a.jsx(p1,{className:"h-5 w-5 mr-1"}),"Previous"]}),a.jsx(J,{size:"lg",onClick:s,disabled:!r,className:"flex-1 bg-gradient-to-r from-[#073763] to-[#007ACE] hover:from-[#062c52] hover:to-[#0066a6] text-white disabled:opacity-30",children:o?a.jsxs(a.Fragment,{children:[a.jsx(QP,{className:"h-5 w-5 mr-1"}),"Submit"]}):a.jsxs(a.Fragment,{children:["Next",a.jsx(Jp,{className:"h-5 w-5 ml-1"})]})})]})})})},xz=e=>{const{isMobile:t}=ks();if(t)return a.jsx(vz,{...e});const{currentQuestionIndex:r,totalQuestions:n,canGoNext:s,onPrevious:o,onNext:i}=e,l=r===n-1;return a.jsxs("div",{className:"flex justify-between items-center animate-fade-in",children:[a.jsxs(Mu,{variant:"outline",onClick:o,disabled:r===0,className:"flex items-center gap-2",children:[a.jsx(p1,{size:16}),"Previous"]}),a.jsxs(Mu,{onClick:i,disabled:!s,className:"flex items-center gap-2",children:[l?"Submit":"Next",!l&&a.jsx(Jp,{size:16})]})]})},yz=({onNext:e,onPrevious:t,canGoNext:r,isFirstQuestion:n})=>(m.useEffect(()=>{const s=o=>{if(!(o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement))switch(o.key){case"ArrowRight":case"Enter":r&&(o.preventDefault(),e());break;case"ArrowLeft":n||(o.preventDefault(),t());break}};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,t,r,n]),a.jsx("div",{className:"fixed bottom-4 right-4 bg-white/80 backdrop-blur-sm rounded-lg p-2 shadow-lg border text-xs text-gray-500",children:a.jsx("div",{children:"  Navigate  Enter Submit"})})),wz=({currentQuestion:e,responses:t,onSuggestionClick:r})=>{const s=(()=>{var l;const o=Object.values(t),i=o.filter(c=>typeof c=="number"&&c>=4||typeof c=="string"&&c.includes("good")).length/o.length;switch(e.type){case"star":return i>.6?[5,4]:[3,4];case"text":return i>.6?["Great service overall!","Very satisfied with the experience"]:["Could be improved","Good but has room for enhancement"];case"single-choice":return((l=e.options)==null?void 0:l.slice(0,2))||[];default:return[]}})();return s.length===0?null:a.jsxs(de,{className:"mt-4 bg-blue-50 border-blue-200 animate-fade-in",children:[a.jsx($e,{className:"pb-3",children:a.jsxs(Fe,{className:"text-sm flex items-center gap-2 text-blue-700",children:[a.jsx(VP,{className:"h-4 w-4"}),"Smart Suggestions"]})}),a.jsx(fe,{className:"pt-0",children:a.jsx("div",{className:"space-y-2",children:s.slice(0,2).map((o,i)=>a.jsxs(J,{variant:"outline",size:"sm",className:"w-full justify-between text-left h-auto p-3 hover:bg-blue-100",onClick:()=>r(o),children:[a.jsx("span",{className:"truncate",children:String(o)}),a.jsx(Xp,{className:"h-3 w-3 ml-2 flex-shrink-0"})]},i))})})]})},bz=()=>{const[e,t]=m.useState(!1);return a.jsxs("div",{className:"mb-4 text-center",children:[a.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"text-gray-500 hover:text-gray-700",children:[a.jsx(hu,{className:"h-3 w-3 mr-1"}),"Data Usage",e?a.jsx(Zp,{className:"h-3 w-3 ml-1"}):a.jsx(sd,{className:"h-3 w-3 ml-1"})]}),e&&a.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg text-xs text-gray-600 animate-fade-in",children:[a.jsx("p",{children:"Your responses are stored locally and used only for feedback analysis."}),a.jsx("p",{className:"mt-1",children:"No personal information is collected or shared."})]})]})},jz=({onSave:e,onPause:t,hasUnsavedChanges:r})=>{const{toast:n}=gr(),s=()=>{e(),n({title:"Progress saved",description:"You can continue later from where you left off"})};return a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsxs(J,{variant:"outline",size:"sm",onClick:s,disabled:!r,className:"text-xs",children:[a.jsx(x1,{className:"h-3 w-3 mr-1"}),"Save Progress"]}),a.jsxs(J,{variant:"outline",size:"sm",onClick:t,className:"text-xs",children:[a.jsx(KP,{className:"h-3 w-3 mr-1"}),"Pause & Exit"]})]})},Sz=({children:e,className:t=""})=>{const{isMobile:r,isTablet:n}=ks(),{colors:s}=Wd(),o=`
    ${r?"px-4 py-2":n?"px-6 py-4":"px-8 py-6"}
    ${r?"max-w-full":n?"max-w-3xl":"max-w-4xl"}
    mx-auto min-h-screen
    ${t}
  `,i={background:`linear-gradient(135deg, ${s.primary}08 0%, ${s.secondary}08 50%, ${s.accent}08 100%)`};return a.jsx("div",{className:o,style:i,children:e})},_z=()=>{const{organization:e,colors:t,headerTitle:r,headerSubtitle:n}=Qa();return e?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50 to-orange-50 rounded-2xl opacity-50"}),a.jsx("div",{className:"relative text-center py-4 px-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${t.primary}, ${t.secondary})`},children:r}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 max-w-2xl mx-auto leading-relaxed",children:n}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500 pt-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{children:"Secure & Confidential"})]})]})})]}):null},Nz=()=>null,kz=({questions:e,currentQuestionIndex:t,responses:r,completedQuestions:n,hasConsented:s,canGoNext:o,estimatedTimeRemaining:i,averageResponseTime:l,hasUnsavedChanges:c,onQuestionResponse:u,onNext:f,onPrevious:d,onSaveProgress:h,onPauseAndExit:p,getValidationResult:x})=>{const{isMobile:g}=ks(),w=e[t];return s?a.jsxs(Sz,{children:[a.jsx(Nz,{}),a.jsx(_z,{}),a.jsxs("div",{className:`bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 ${g?"p-4":"p-8"}`,children:[a.jsx(_F,{currentQuestionIndex:t,totalQuestions:e.length,completedQuestions:n,estimatedTimeRemaining:i,averageResponseTime:l}),a.jsx(gz,{question:w,value:r[w==null?void 0:w.id],onChange:y=>u(w.id,y),validation:x(w==null?void 0:w.id)}),!g&&a.jsx(wz,{currentQuestion:w,responses:r,onSuggestionClick:y=>u(w.id,y)}),!g&&a.jsx("div",{className:"my-6",children:a.jsx(jz,{onSave:h,onPause:p,hasUnsavedChanges:c})}),a.jsx(xz,{currentQuestionIndex:t,totalQuestions:e.length,canGoNext:o,onPrevious:d,onNext:f}),!g&&a.jsx(bz,{})]}),!g&&a.jsx(yz,{onNext:f,onPrevious:d,canGoNext:o,isFirstQuestion:t===0})]}):null},Ez=({isVisible:e,onAccept:t})=>{const{colors:r,organizationName:n}=Wd();if(!e)return null;const s={background:`linear-gradient(135deg, ${r.primary}dd 0%, ${r.secondary}dd 50%, ${r.accent}dd 100%)`};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:s,children:a.jsxs(de,{className:"max-w-2xl w-full shadow-2xl border-0 overflow-hidden",children:[a.jsx(Ak,{title:`${n} Feedback`,subtitle:"Your feedback drives our commitment to excellence. Share your experience to help us serve you better.",showSecureIndicator:!0}),a.jsx(fe,{className:"p-8",children:a.jsxs("div",{className:"border rounded-lg p-6",style:{backgroundColor:`${r.primary}08`,borderColor:`${r.primary}30`},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(mo,{className:"h-5 w-5",style:{color:r.primary}}),a.jsx("h3",{className:"text-lg font-semibold",style:{color:r.primary},children:"Your Privacy Matters"})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",style:{color:r.textSecondary},children:[a.jsx(mu,{className:"h-4 w-4",style:{color:r.secondary}}),a.jsx("span",{children:"Encrypted & Secure"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",style:{color:r.textSecondary},children:[a.jsx(Vo,{className:"h-4 w-4",style:{color:r.secondary}}),a.jsx("span",{children:"Anonymous & Confidential"})]})]}),a.jsx("div",{className:"text-center",children:a.jsx(Mu,{onClick:t,size:"lg",className:"px-12 py-3 text-lg",children:"I understand"})})]})})]})})},Cz=({isOpen:e,responses:t,questions:r,onClose:n})=>{const{organization:s,logoAsset:o,colors:i,thankYouTitle:l,thankYouMessage:c}=Qa();if(!s)return null;const u=t.reduce((p,x)=>p+(x.score||0),0),f=t.length>0?Math.round(u/t.length):0,d=Math.round(t.length/r.length*100),h=t.reduce((p,x)=>{const g=r.find(w=>w.id===x.questionId);return g&&g.category&&(p[g.category]||(p[g.category]={total:0,count:0}),p[g.category].total+=x.score||0,p[g.category].count+=1),p},{});return a.jsx(Il,{open:e,onOpenChange:n,children:a.jsxs(Wa,{className:"sm:max-w-lg bg-gradient-to-br from-white to-gray-50 border-0 shadow-2xl",children:[a.jsxs(Ha,{className:"text-center space-y-6 pb-6",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center shadow-lg",style:{backgroundColor:`${i.primary}10`},children:a.jsx(zt,{className:"w-12 h-12",style:{color:i.primary}})}),a.jsx("div",{className:"absolute -inset-2 rounded-full blur-lg opacity-30",style:{backgroundColor:i.primary}})]}),(o==null?void 0:o.asset_url)&&a.jsx("img",{src:o.asset_url,alt:o.asset_name||`${s.name} Logo`,className:"h-12 w-auto opacity-80"})]}),a.jsx(Ka,{className:"text-3xl font-bold bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${i.primary}, ${i.secondary})`},children:l})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-center text-gray-700 text-lg leading-relaxed px-4",children:c}),a.jsxs("div",{className:"p-6 bg-white/60 rounded-xl border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-center mb-4",style:{color:i.primary},children:"Your Feedback Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx(hs,{className:"w-6 h-6 mr-1",style:{color:i.primary}})}),a.jsxs("div",{className:"text-2xl font-bold",style:{color:i.primary},children:[f,"/5"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx(zt,{className:"w-6 h-6 mr-1",style:{color:i.primary}})}),a.jsxs("div",{className:"text-2xl font-bold",style:{color:i.primary},children:[d,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),Object.keys(h).length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 text-center",children:"Ratings by Category:"}),Object.entries(h).map(([p,x])=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-600",children:p}),a.jsxs("span",{className:"font-medium",style:{color:i.primary},children:[Math.round(x.total/x.count),"/5"]})]},p))]})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx(J,{onClick:n,size:"lg",className:"text-white font-semibold px-8 py-3 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",style:{backgroundColor:i.primary,background:`linear-gradient(135deg, ${i.primary}, ${i.secondary})`},children:"Complete"})})]})]})})},Rz=({showPrivacyNotice:e,isComplete:t,finalResponses:r,questions:n,onAcceptPrivacy:s,onReset:o})=>a.jsxs(a.Fragment,{children:[a.jsx(Ez,{isVisible:e,onAccept:s}),a.jsx(Cz,{isOpen:t,responses:r,questions:n,onClose:o})]}),Jf=({orgLoading:e,orgError:t,organization:r})=>e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}):t||!r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Organization Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:t||"The requested organization could not be found or is not active."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):null,Zf="https://rigurrwjiaucodxuuzeh.supabase.co/functions/v1/questions-crud",eh=async()=>{const{data:{session:e},error:t}=await $.auth.getSession();if(t||!(e!=null&&e.access_token))throw new Error("Authentication required");return{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"}},th=async e=>{if(!e.ok){let t;try{t=await e.json()}catch{t={error:`HTTP ${e.status}: ${e.statusText}`}}console.error("API Error Response:",{status:e.status,statusText:e.statusText,error:t});const r=t.error||t.message||`HTTP ${e.status}: ${e.statusText}`;throw new Error(r)}try{return await e.json()}catch(t){throw console.error("Error parsing response JSON:",t),new Error("Invalid response format from server")}},Pz=e=>{var t,r;return{id:e.id,type:e.question_type,question:e.question_text,required:e.is_required||!1,category:e.category,options:((t=e.question_options)==null?void 0:t.map(n=>n.option_text))||[],scale:(r=e.question_scale_config)!=null&&r[0]?{min:e.question_scale_config[0].min_value,max:e.question_scale_config[0].max_value,minLabel:e.question_scale_config[0].min_label,maxLabel:e.question_scale_config[0].max_label}:void 0}},Tz=async e=>{if(!e)return console.warn("fetchQuestions called without organizationSlug"),[];try{const{data:t,error:r}=await $.functions.invoke("public-questions",{body:{organizationSlug:e}});if(r)throw console.error("Error fetching questions for form:",r),r;return t.map(Pz)}catch(t){throw console.error("Error fetching questions for form:",t),t}},$B={async getQuestions(){try{const e=await eh(),t=await fetch(Zf,{method:"GET",headers:e}),r=await th(t);return console.log("Successfully fetched questions:",(r==null?void 0:r.length)||0),r}catch(e){throw console.error("Error fetching questions:",e),e}},async createQuestion(e){try{console.log("Creating question:",e);const t=await eh(),r=await fetch(Zf,{method:"POST",headers:t,body:JSON.stringify(e)}),n=await th(r);return console.log("Successfully created question:",n==null?void 0:n.id),n}catch(t){throw console.error("Error creating question:",t),t}},async updateQuestion(e,t){try{console.log("Updating question:",e,t);const r=await eh(),n=await fetch(Zf,{method:"PUT",headers:r,body:JSON.stringify({id:e,...t})}),s=await th(n);return console.log("Successfully updated question:",s==null?void 0:s.id),s}catch(r){throw console.error("Error updating question:",r),r}},async deleteQuestion(e){try{console.log("Deleting question:",e);const{data:t,error:r}=await $.rpc("safe_delete_question",{question_uuid:e});if(r)throw console.error("Error deleting question:",r),r;const n={deleted:t,archived:!t};return console.log("Question deletion result:",n),n}catch(t){throw console.error("Error deleting question:",t),t}},async getQuestionTypes(){try{const{data:e,error:t}=await $.from("question_types").select("*").order("name");if(t)throw console.error("Error fetching question types:",t),t;return console.log("Successfully fetched question types:",(e==null?void 0:e.length)||0),e||[]}catch(e){return console.error("Error fetching question types:",e),[]}},async getQuestionCategories(){try{const{data:e,error:t}=await $.from("question_categories").select("*").order("name");if(t)throw console.error("Error fetching question categories:",t),t;return console.log("Successfully fetched question categories:",(e==null?void 0:e.length)||0),e||[]}catch(e){return console.error("Error fetching question categories:",e),[]}}},Az=e=>{const[t,r]=m.useState(0);return{currentQuestionIndex:t,goToNext:()=>{t<e-1&&r(i=>i+1)},goToPrevious:()=>{t>0&&r(i=>i-1)},resetNavigation:()=>{r(0)},isLastQuestion:t===e-1,isFirstQuestion:t===0}},Iz=()=>{const[e,t]=m.useState({}),[r,n]=m.useState(!1),{organization:s}=Sl(),{toast:o}=gr();return{responses:e,isSubmitting:r,handleResponse:(d,h)=>{t(p=>({...p,[d]:h}))},loadResponses:d=>{t(d)},generateFinalResponses:()=>Object.entries(e).map(([d,h])=>({questionId:d,value:h,score:Math.floor(Math.random()*5)+1,category:"QualityService"})),submitResponses:async(d,h)=>{if(!(s!=null&&s.id))throw new Error("Organization not found");n(!0);try{console.log("Submitting feedback via Edge Function...");const{data:p,error:x}=await $.functions.invoke("submit-feedback",{body:{responses:e,organizationId:s.id,questions:d,timingData:h}});if(x)throw x;if(!p.success)throw new Error(p.error||"Failed to submit feedback");return o({title:"Feedback submitted successfully!",description:`${p.responseCount} responses recorded`}),console.log("Feedback submitted successfully:",p),{id:p.sessionId,total_score:p.totalScore}}catch(p){throw console.error("Error submitting feedback:",p),o({title:"Error submitting feedback",description:"Please try again later",variant:"destructive"}),p}finally{n(!1)}},resetResponses:()=>{t({})},organizationId:s==null?void 0:s.id}},Oz=(e,t,r=2e3)=>{gr();const n=m.useRef();return m.useEffect(()=>(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{try{localStorage.setItem(t,JSON.stringify(e)),console.log("Auto-saved form data")}catch(i){console.error("Failed to auto-save:",i)}},r),()=>{n.current&&clearTimeout(n.current)}),[e,t,r]),{loadSavedData:()=>{try{const i=localStorage.getItem(t);return i?JSON.parse(i):null}catch(i){return console.error("Failed to load saved data:",i),null}},clearSavedData:()=>{try{localStorage.removeItem(t),console.log("Cleared saved form data")}catch(i){console.error("Failed to clear saved data:",i)}}}},Mz=()=>{const[e,t]=m.useState({}),r=m.useCallback((o,i)=>{const l=[],c=[];switch(o.required&&((i==null||i==="")&&l.push("This field is required"),(o.type==="multi-choice"||o.type==="ranking")&&Array.isArray(i)&&i.length===0&&l.push("Please select at least one option"),o.type==="matrix"&&(!i||Object.keys(i).length===0)&&l.push("Please rate all aspects")),o.type){case"text":i&&typeof i=="string"&&(i.length<3&&o.required&&c.push("Consider providing more detailed feedback"),i.length>500&&l.push("Response is too long (maximum 500 characters)"));break;case"star":i!==void 0&&(i<1||i>5)&&l.push("Rating must be between 1 and 5 stars");break;case"nps":i!==void 0&&(i<0||i>10)&&l.push("NPS score must be between 0 and 10");break;case"slider":const u=o.scale||{min:1,max:10};i!==void 0&&(i<u.min||i>u.max)&&l.push(`Value must be between ${u.min} and ${u.max}`);break;case"matrix":if(i&&o.options){const f=o.options.filter(d=>!i[d]);f.length>0&&o.required&&l.push(`Please rate: ${f.join(", ")}`)}break}return{isValid:l.length===0,errors:l,warnings:c}},[]),n=m.useCallback((o,i)=>{const l={};return o.forEach(c=>{l[c.id]=r(c,i[c.id])}),t(l),l},[r]),s=m.useCallback(o=>e[o]||{isValid:!0,errors:[],warnings:[]},[e]);return{validateQuestion:r,validateAllQuestions:n,getValidationResult:s,validationResults:e}},xE=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(!0),[s,o]=m.useState(null),i=Ng(),l=Ir();return m.useEffect(()=>{(async()=>{const u=l.pathname;console.log("useOrganization - Starting detection for path:",u),n(!0),o(null),t(null);let f=null;const d=i.orgSlug||i.slug,h=["admin","auth","login","create-organization","terms-of-service","privacy-policy"];if(d&&h.includes(d)){console.log(`useOrganization - Path matched special route "${d}", skipping org detection.`),n(!1);return}const x=new URL(window.location.href).hostname;if(x!=="localhost"&&!x.includes("lovable.app")&&!x.includes("lovableproject.com")){console.log("useOrganization - Checking domain:",x);try{f=await _5(x),console.log("useOrganization - Domain result:",f)}catch(w){console.warn("useOrganization - Domain check failed:",w)}}if(!f&&x.includes(".")){const w=x.split(".")[0];if(w!=="www"&&w!=="feedback"&&!w.includes("preview--")){console.log("useOrganization - Checking subdomain:",w);try{f=await Vf(w),console.log("useOrganization - Subdomain result:",f)}catch(y){console.warn("useOrganization - Subdomain check failed:",y)}}}if(!f&&d){console.log("useOrganization - Checking slug from params:",d);try{f=await Vf(d),console.log("useOrganization - Slug result:",f)}catch(w){console.error("useOrganization - Slug check failed:",w)}}if(!f&&u==="/"){console.log("useOrganization - No org found, defaulting to police-sacco for root path");try{f=await Vf("police-sacco"),console.log("useOrganization - Default police-sacco result:",f)}catch(w){console.error("useOrganization - Default police-sacco failed:",w)}}t(f);const g=d&&!h.includes(d);!f&&g&&(console.log("useOrganization - No organization found for slug:",d),o("Organization not found")),n(!1),console.log("useOrganization - Detection finished. Final org:",(f==null?void 0:f.name)||"none")})()},[i.slug,i.orgSlug,l.pathname]),{organization:e,isLoading:r,error:s}};let bc;const Dz=new Uint8Array(16);function Lz(){if(!bc&&(bc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bc(Dz)}const nt=[];for(let e=0;e<256;++e)nt.push((e+256).toString(16).slice(1));function $z(e,t=0){return nt[e[t+0]]+nt[e[t+1]]+nt[e[t+2]]+nt[e[t+3]]+"-"+nt[e[t+4]]+nt[e[t+5]]+"-"+nt[e[t+6]]+nt[e[t+7]]+"-"+nt[e[t+8]]+nt[e[t+9]]+"-"+nt[e[t+10]]+nt[e[t+11]]+nt[e[t+12]]+nt[e[t+13]]+nt[e[t+14]]+nt[e[t+15]]}const Fz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ly={randomUUID:Fz};function cy(e,t,r){if(ly.randomUUID&&!t&&!e)return ly.randomUUID();e=e||{};const n=e.random||(e.rng||Lz)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,$z(n)}class zz{constructor(){Ge(this,"sessionTimes",new Map)}startSession(t){this.sessionTimes.set(t,{sessionId:t,startTime:Date.now(),questionTimes:[]})}startQuestion(t,r){const n=this.sessionTimes.get(t);if(!n)return;const s=n.questionTimes[n.questionTimes.length-1];s&&!s.endTime&&(s.endTime=Date.now(),s.responseTime=s.endTime-s.startTime),n.questionTimes.push({questionId:r,startTime:Date.now(),endTime:0,responseTime:0})}endQuestion(t,r){const n=this.sessionTimes.get(t);if(!n)return 0;const s=n.questionTimes.find(o=>o.questionId===r);return!s||s.endTime?(s==null?void 0:s.responseTime)||0:(s.endTime=Date.now(),s.responseTime=s.endTime-s.startTime,s.responseTime)}endSession(t){const r=this.sessionTimes.get(t);if(!r)return 0;const n=r.questionTimes[r.questionTimes.length-1];return n&&!n.endTime&&(n.endTime=Date.now(),n.responseTime=n.endTime-n.startTime),r.endTime=Date.now(),r.totalResponseTime=r.endTime-r.startTime,r.totalResponseTime}getSessionTime(t){return this.sessionTimes.get(t)}calculateCategoryAverages(t){const r=new Map;return t.forEach(n=>{const s=this.sessionTimes.get(n.sessionId);if(!s)return;const o=s.questionTimes.find(i=>i.questionId===n.questionId);!o||!o.responseTime||(r.has(n.category)||r.set(n.category,[]),r.get(n.category).push(o.responseTime))}),Array.from(r.entries()).map(([n,s])=>({category:n,averageTime:s.reduce((o,i)=>o+i,0)/s.length,totalResponses:s.length,minTime:Math.min(...s),maxTime:Math.max(...s)}))}clearSession(t){this.sessionTimes.delete(t)}}const Ro=new zz,Uz=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!1),[s,o]=m.useState([]),[i,l]=m.useState(!0),[c,u]=m.useState([]),[f,d]=m.useState(null),{organization:h,isLoading:p}=xE(),{toast:x}=gr(),{responses:g,isSubmitting:w,handleResponse:y,generateFinalResponses:v,submitResponses:b,resetResponses:j,loadResponses:S}=Iz(),{currentQuestionIndex:k,goToNext:N,goToPrevious:E,resetNavigation:R}=Az(e.length),{validateQuestion:T,getValidationResult:M}=Mz(),O=m.useRef(!1),H=m.useRef(null),D=m.useRef(cy()),{loadSavedData:X,clearSavedData:z}=Oz({responses:g,currentQuestionIndex:k,completedQuestions:c},h?`feedback-${h.slug}`:"feedback-default");m.useEffect(()=>{(async()=>{if(console.log("useFeedbackForm - Loading questions, org loading:",p,"organization:",h),p)return;const Z=(h==null?void 0:h.id)||"fallback";if(O.current&&H.current===Z){console.log("useFeedbackForm - Questions already loaded for this organization");return}try{l(!0),d(null);const ne=await Tz(h==null?void 0:h.slug);console.log("useFeedbackForm - Questions loaded:",ne),t(ne),O.current=!0,H.current=(h==null?void 0:h.id)||"fallback",Ro.startSession(D.current);const we=X();we&&Object.keys(we.responses||{}).length>0&&(x({title:"Previous session restored",description:"We've restored your previous answers"}),S(we.responses),u(we.completedQuestions||[]))}catch(ne){console.error("useFeedbackForm - Error loading questions:",ne),d("We couldn't load the survey questions. Please check your connection and try again.")}finally{l(!1)}})()},[h==null?void 0:h.id,h==null?void 0:h.slug,p]),m.useEffect(()=>{if(e.length>0){const B=e[k].id;Ro.startQuestion(D.current,B)}},[k,e]);const G=()=>{const B=e[k];if(!B)return!1;const Z=g[B.id];return T(B,Z).isValid},C=(B,Z)=>{y(B,Z);const ne=e.findIndex(we=>we.id===B);ne!==-1&&!c.includes(ne)&&u(we=>[...we,ne])},P=async()=>{try{console.log("Submitting feedback to database..."),Ro.endSession(D.current);const B=Ro.getSessionTime(D.current);await b(e,B);const Z=v();o(Z),n(!0),z(),Ro.clearSession(D.current)}catch(B){console.error("Error submitting feedback:",B)}};return{questions:e,currentQuestionIndex:k,responses:g,isComplete:r,finalResponses:s,isLoading:i||w,questionsError:f,completedQuestions:c,handleResponse:C,isCurrentQuestionAnswered:G,goToNext:()=>{k<e.length-1?N():P()},goToPrevious:E,resetForm:()=>{D.current&&Ro.clearSession(D.current),D.current=cy(),R(),j(),n(!1),o([]),u([]),z(),d(null),O.current=!1,H.current=null},getValidationResult:M}},Bz=(e,t)=>{const r=Object.keys(e).length,n=r/t*100,s=Object.values(e).reduce((o,i)=>typeof i=="string"&&i.length>10?o+20:Array.isArray(i)&&i.length>1?o+15:o+10,0)/r||0;return Math.min(100,(n+s)/2)},Vz=e=>{const t=e.reduce((n,s)=>n+s.score,0)/e.length||0,r=t>=80?"positive":t>=60?"neutral":"needs_improvement";return{responseTime:Math.floor(Math.random()*300)+60,completionRate:e.length/10*100,engagementScore:t,satisfactionTrend:r,commonPatterns:["High satisfaction with services","Mobile app needs improvement"]}},qz=(e,t,r)=>{const[n,s]=m.useState(null),[o,i]=m.useState(Date.now()),[l,c]=m.useState([]),u=()=>{i(Date.now())},f=()=>{const p=Math.floor((Date.now()-o)/1e3);c(x=>[...x,p])},d=()=>l.length>0?Math.round(l.reduce((p,x)=>p+x,0)/l.length):30,h=p=>{const x=d();return(t-p)*x};return m.useEffect(()=>{if(r.length>0){const p=Vz(r);s(p)}},[r]),{analytics:n,trackQuestionStart:u,trackQuestionResponse:f,getAverageResponseTime:d,getEstimatedTimeRemaining:h,engagementScore:Bz(e,t)}},Wz=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(!0);return m.useEffect(()=>{localStorage.getItem("feedback-privacy-consent")==="true"&&(t(!0),n(!1))},[]),{hasConsented:e,showPrivacyNotice:r,acceptPrivacy:()=>{localStorage.setItem("feedback-privacy-consent","true"),t(!0),n(!1)}}},Hz=(e,t,r)=>{const{toast:n}=gr(),s=()=>{const l={responses:e,currentQuestionIndex:t,completedQuestions:r,timestamp:new Date().toISOString()};localStorage.setItem("feedback-save-continue",JSON.stringify(l))},o=()=>{s(),n({title:"Session paused",description:"Your progress has been saved. Return anytime to continue."}),window.location.reload()},i=Object.keys(e).length>0;return{saveProgress:s,pauseAndExit:o,hasUnsavedChanges:i}},Kz=()=>{const[e,t]=m.useState(!0),{organization:r,isLoading:n,error:s}=xE();console.log("FeedbackForm - Organization state:",{organization:r,orgLoading:n,orgError:s});const{questions:o,currentQuestionIndex:i,responses:l,isComplete:c,finalResponses:u,isLoading:f,questionsError:d,completedQuestions:h,handleResponse:p,isCurrentQuestionAnswered:x,goToNext:g,goToPrevious:w,resetForm:y,getValidationResult:v}=Uz(),{trackQuestionStart:b,trackQuestionResponse:j,getAverageResponseTime:S,getEstimatedTimeRemaining:k}=qz(l,o.length,u),{hasConsented:N,showPrivacyNotice:E,acceptPrivacy:R}=Wz(),{saveProgress:T,pauseAndExit:M,hasUnsavedChanges:O}=Hz(l,i,h);m.useEffect(()=>{!e&&o.length>0&&b()},[i,b,e,o.length]);const H=(z,G)=>{p(z,G),j()},D=()=>{t(!1)},X=()=>{y(),t(!0)};return n?(console.log("FeedbackForm - Showing loading state"),a.jsx(iy,{})):s||!r?(console.log("FeedbackForm - Showing error boundary for org"),a.jsx(Jf,{orgLoading:n,orgError:s,organization:r})):d?(console.log("FeedbackForm - Showing error boundary for questions"),a.jsx(Jf,{orgLoading:!1,orgError:d,organization:r})):f?(console.log("FeedbackForm - Questions loading"),a.jsx(iy,{})):e?(console.log("FeedbackForm - Showing welcome screen"),a.jsx(vF,{onStart:D})):o.length===0?(console.log("FeedbackForm - No questions available"),a.jsx(Jf,{orgLoading:!1,orgError:"No questions configured for this organization",organization:r})):(console.log("FeedbackForm - Rendering main content"),a.jsxs(xF,{children:[a.jsx(kz,{questions:o,currentQuestionIndex:i,responses:l,completedQuestions:h,hasConsented:N,canGoNext:x(),estimatedTimeRemaining:k(i),averageResponseTime:S(),hasUnsavedChanges:O,onQuestionResponse:H,onNext:g,onPrevious:w,onSaveProgress:T,onPauseAndExit:M,getValidationResult:v}),a.jsx(Rz,{showPrivacyNotice:E,isComplete:c,finalResponses:u,questions:o,onAcceptPrivacy:R,onReset:X})]}))},uy=()=>a.jsx(Kz,{}),rh=768;function Gz(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${rh-1}px)`),n=()=>{t(window.innerWidth<rh)};return r.addEventListener("change",n),t(window.innerWidth<rh),()=>r.removeEventListener("change",n)},[]),!!e}const Qz="sidebar:state",Yz=60*60*24*7,Xz="16rem",Jz="3rem",Zz="b",yE=m.createContext(null);function Kd(){const e=m.useContext(yE);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const wE=m.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:o,...i},l)=>{const c=Gz(),[u,f]=m.useState(!1),[d,h]=m.useState(e),p=t??d,x=m.useCallback(v=>{const b=typeof v=="function"?v(p):v;r?r(b):h(b),document.cookie=`${Qz}=${b}; path=/; max-age=${Yz}`},[r,p]),g=m.useCallback(()=>c?f(v=>!v):x(v=>!v),[c,x,f]);m.useEffect(()=>{const v=b=>{b.key===Zz&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),g())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[g]);const w=p?"expanded":"collapsed",y=m.useMemo(()=>({state:w,open:p,setOpen:x,isMobile:c,openMobile:u,setOpenMobile:f,toggleSidebar:g}),[w,p,x,c,u,f,g]);return a.jsx(yE.Provider,{value:y,children:a.jsx(tj,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":Xz,"--sidebar-width-icon":Jz,...s},className:A("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...i,children:o})})})});wE.displayName="SidebarProvider";const eU=Hg,tU=Kg,bE=m.forwardRef(({className:e,...t},r)=>a.jsx(Cl,{className:A("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));bE.displayName=Cl.displayName;const rU=ho("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),jE=m.forwardRef(({side:e="right",className:t,children:r,...n},s)=>a.jsxs(tU,{children:[a.jsx(bE,{}),a.jsxs(Rl,{ref:s,className:A(rU({side:e}),t),...n,children:[r,a.jsxs(Al,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(yl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jE.displayName=Rl.displayName;const nU=m.forwardRef(({className:e,...t},r)=>a.jsx(Pl,{ref:r,className:A("text-lg font-semibold text-foreground",e),...t}));nU.displayName=Pl.displayName;const sU=m.forwardRef(({className:e,...t},r)=>a.jsx(Tl,{ref:r,className:A("text-sm text-muted-foreground",e),...t}));sU.displayName=Tl.displayName;const oU="18rem",SE=m.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...o},i)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:f}=Kd();return r==="none"?a.jsx("div",{className:A("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:i,...o,children:s}):l?a.jsx(eU,{open:u,onOpenChange:f,...o,children:a.jsx(jE,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":oU},side:e,children:a.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):a.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:A("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:A("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});SE.displayName="Sidebar";const _E=m.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=Kd();return a.jsxs(J,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:A("h-7 w-7",e),onClick:o=>{t==null||t(o),s()},...r,children:[a.jsx(HP,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});_E.displayName="SidebarTrigger";const aU=m.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Kd();return a.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:A("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});aU.displayName="SidebarRail";var iU="Separator",dy="horizontal",lU=["horizontal","vertical"],NE=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=dy,...s}=e,o=cU(n)?n:dy,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(W.div,{"data-orientation":o,...l,...s,ref:t})});NE.displayName=iU;function cU(e){return lU.includes(e)}var kE=NE;const EE=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(kE,{ref:s,decorative:r,orientation:t,className:A("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));EE.displayName=kE.displayName;const uU=m.forwardRef(({className:e,...t},r)=>a.jsx("main",{ref:r,className:A("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));uU.displayName="SidebarInset";const dU=m.forwardRef(({className:e,...t},r)=>a.jsx(oe,{ref:r,"data-sidebar":"input",className:A("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));dU.displayName="SidebarInput";const CE=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"header",className:A("flex flex-col gap-2 p-2",e),...t}));CE.displayName="SidebarHeader";const fU=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"footer",className:A("flex flex-col gap-2 p-2",e),...t}));fU.displayName="SidebarFooter";const hU=m.forwardRef(({className:e,...t},r)=>a.jsx(EE,{ref:r,"data-sidebar":"separator",className:A("mx-2 w-auto bg-sidebar-border",e),...t}));hU.displayName="SidebarSeparator";const RE=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"content",className:A("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));RE.displayName="SidebarContent";const PE=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group",className:A("relative flex w-full min-w-0 flex-col p-2",e),...t}));PE.displayName="SidebarGroup";const TE=m.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?$t:"div";return a.jsx(s,{ref:n,"data-sidebar":"group-label",className:A("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});TE.displayName="SidebarGroupLabel";const mU=m.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?$t:"button";return a.jsx(s,{ref:n,"data-sidebar":"group-action",className:A("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});mU.displayName="SidebarGroupAction";const AE=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group-content",className:A("w-full text-sm",e),...t}));AE.displayName="SidebarGroupContent";function Xm({className:e,...t}){return a.jsx("div",{className:A("animate-pulse rounded-md bg-muted",e),...t})}const IE=m.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu",className:A("flex w-full min-w-0 flex-col gap-1",e),...t}));IE.displayName="SidebarMenu";const OE=m.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,"data-sidebar":"menu-item",className:A("group/menu-item relative",e),...t}));OE.displayName="SidebarMenuItem";const pU=ho("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ME=m.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:o,...i},l)=>{const c=e?$t:"button",{isMobile:u,state:f}=Kd(),d=a.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:A(pU({variant:r,size:n}),o),...i});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(FI,{children:[a.jsx(zI,{asChild:!0,children:d}),a.jsx(rj,{side:"right",align:"center",hidden:f!=="collapsed"||u,...s})]})):d});ME.displayName="SidebarMenuButton";const gU=m.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const o=t?$t:"button";return a.jsx(o,{ref:s,"data-sidebar":"menu-action",className:A("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});gU.displayName="SidebarMenuAction";const vU=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:A("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));vU.displayName="SidebarMenuBadge";const xU=m.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:A("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&a.jsx(Xm,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(Xm,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});xU.displayName="SidebarMenuSkeleton";const yU=m.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:A("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));yU.displayName="SidebarMenuSub";const wU=m.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));wU.displayName="SidebarMenuSubItem";const bU=m.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},o)=>{const i=e?$t:"a";return a.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:A("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});bU.displayName="SidebarMenuSubButton";const jU=({organizationName:e,activeTab:t,onTabChange:r,stats:n,isLoading:s=!1})=>{var u;ks();const{signOut:o}=kn(),i=Et(),l=async()=>{await o(),i("/auth")},c=[{label:"Overview",items:[{id:"overview",label:"Dashboard",icon:BP,badge:((u=n==null?void 0:n.growth_metrics)==null?void 0:u.growth_rate)>0?`+${n.growth_metrics.growth_rate}%`:void 0}]},{label:"Analytics",items:[{id:"feedback",label:"Feedback",icon:Zs,badge:(n==null?void 0:n.total_responses)||0},{id:"customer-insights",label:"Insights",icon:yn},{id:"sentiment",label:"Sentiment",icon:AP},{id:"performance",label:"Performance",icon:yn}]},{label:"Management",items:[{id:"questions",label:"Questions",icon:OP,badge:(n==null?void 0:n.total_questions)||0},{id:"members",label:"Team",icon:Zt,badge:(n==null?void 0:n.active_members)||0}]},{label:"System",items:[{id:"integrations",label:"Integrations",icon:pu},{id:"settings",label:"Settings",icon:eo}]}];return a.jsxs(SE,{className:"border-r-0 bg-white dark:bg-slate-900 shadow-lg",children:[a.jsx(CE,{className:"p-0 border-b border-slate-100 dark:border-slate-800",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-sm",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"P"})}),a.jsx("h1",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Pulsify"})]})})}),a.jsx(RE,{className:"px-3 py-2 space-y-6",children:c.map((f,d)=>a.jsxs(PE,{className:"space-y-2",children:[a.jsx(TE,{className:"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider px-3 py-1",children:f.label}),a.jsx(AE,{children:a.jsx(IE,{className:"space-y-1",children:f.items.map(h=>{const p=t===h.id;return a.jsx(OE,{children:a.jsxs(ME,{onClick:()=>r(h.id),className:A("w-full h-10 px-3 rounded-md transition-all duration-200 group relative","flex items-center justify-between gap-3","hover:bg-orange-50 dark:hover:bg-orange-950/20","focus:bg-orange-50 dark:focus:bg-orange-950/20","focus:outline-none focus:ring-2 focus:ring-orange-200/50 dark:focus:ring-orange-800/50",p&&["bg-orange-100/70 dark:bg-orange-950/40","text-orange-700 dark:text-orange-300","shadow-sm shadow-orange-100/50 dark:shadow-orange-900/20","before:absolute before:left-0 before:top-1/2 before:-translate-y-1/2","before:w-0.5 before:h-6 before:bg-orange-500 before:rounded-r-full"]),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[a.jsx(h.icon,{className:A("w-4 h-4 shrink-0 transition-colors",p?"text-orange-600 dark:text-orange-400":"text-slate-500 dark:text-slate-400 group-hover:text-slate-700 dark:group-hover:text-slate-300")}),a.jsx("span",{className:A("text-sm font-medium",p?"text-orange-700 dark:text-orange-300":"text-slate-700 dark:text-slate-300 group-hover:text-slate-900 dark:group-hover:text-slate-100"),children:h.label})]}),s&&t===h.id?a.jsx(Cu,{size:"sm",text:"",className:"w-4 h-4 shrink-0"}):h.badge&&a.jsx(Ut,{variant:"secondary",className:A("text-xs px-1.5 py-0.5 min-w-0 shrink-0 font-medium",p?"bg-orange-200/80 text-orange-800 dark:bg-orange-900/60 dark:text-orange-200":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400"),children:h.badge})]})},h.id)})})})]},f.label))}),a.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 mt-auto",children:a.jsxs(J,{variant:"ghost",className:"w-full justify-start h-10 text-slate-600 hover:text-slate-900 hover:bg-slate-50 dark:text-slate-400 dark:hover:text-slate-100 dark:hover:bg-slate-800",onClick:l,children:[a.jsx(qP,{className:"w-4 h-4 mr-3"}),"Sign out"]})})]})},jc={getResponsiveValue:(e,t)=>{const r=["xs","sm","md","lg","xl"],n=r.indexOf(t);for(let s=n;s>=0;s--){const o=r[s];if(e[o]!==void 0)return e[o]}return Object.values(e)[0]},generateResponsiveClasses:(e,t)=>Object.entries(t).map(([r,n])=>`${r==="xs"?"":`${r}:`}${e}-[${n}]`).join(" "),supportsHover:()=>typeof window<"u"&&window.matchMedia("(hover: hover)").matches,prefersReducedMotion:()=>typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,prefersHighContrast:()=>typeof window<"u"&&window.matchMedia("(prefers-contrast: high)").matches},Xa=()=>{const[e,t]=m.useState(typeof window<"u"?window.innerWidth:1024),[r,n]=m.useState({prefersReducedMotion:!1,prefersHighContrast:!1});m.useEffect(()=>{if(typeof window>"u")return;const l=()=>{t(window.innerWidth)},c=()=>{n({prefersReducedMotion:jc.prefersReducedMotion(),prefersHighContrast:jc.prefersHighContrast()})};window.addEventListener("resize",l);const u=window.matchMedia("(prefers-reduced-motion: reduce)"),f=window.matchMedia("(prefers-contrast: high)");return u.addEventListener("change",c),f.addEventListener("change",c),l(),c(),()=>{window.removeEventListener("resize",l),u.removeEventListener("change",c),f.removeEventListener("change",c)}},[]);const s=m.useMemo(()=>{const c=e<480?"xs":e<768?"sm":e<1024?"md":e<1440?"lg":"xl";return{currentBreakpoint:c,isMobile:e<768,isTablet:e>=768&&e<1024,isDesktop:e>=1024,isBreakpoint:u=>c===u,isBreakpointUp:u=>e>={xs:0,sm:480,md:768,lg:1024,xl:1440}[u],isBreakpointDown:u=>e<={xs:479,sm:767,md:1023,lg:1439,xl:1/0}[u]}},[e]),o=m.useMemo(()=>{if(typeof window>"u")return{isTouchDevice:!1,hasHover:!1,supportsHover:!1};const l="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,c=jc.supportsHover();return{isTouchDevice:l,hasHover:c,supportsHover:c}},[]),i=m.useMemo(()=>{const l=s.isMobile||s.isTablet&&o.isTouchDevice,c=o.isTouchDevice||s.isMobile;return{shouldUseCompactLayout:l,shouldUseTouch:c,getResponsiveValue:f=>jc.getResponsiveValue(f,s.currentBreakpoint)}},[s,o]);return{screenWidth:e,...s,breakpoint:s.isMobile?"mobile":s.isTablet?"tablet":"desktop",...o,...r,...i}},SU=[{id:"overview",label:"Analytics",icon:Qr,path:"/overview"},{id:"members",label:"Members",icon:Zt,path:"/members"},{id:"feedback",label:"Feedback",icon:Zs,path:"/feedback"},{id:"insights",label:"Insights",icon:yn,path:"/insights"},{id:"settings",label:"Settings",icon:eo,path:"/settings"}],_U=({items:e=SU,organizationSlug:t})=>{const r=Ir(),{isMobile:n,prefersReducedMotion:s}=Xa(),o=l=>t?`/admin/${t}${l.path}`:l.path,i=l=>{const c=o(l);return r.pathname===c||r.pathname.startsWith(c)};return n?a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-lg border-t border-gray-200 safe-area-inset-bottom",children:a.jsx("div",{className:"flex items-center justify-around max-w-full mx-auto px-2 py-2",children:e.slice(0,5).map(l=>{const c=l.icon,u=i(l);return a.jsxs(so,{to:o(l),className:A("flex flex-col items-center gap-1 py-2 px-2 min-w-0 flex-1 rounded-lg transition-all",!s&&"duration-200","active:scale-95 active:bg-gray-100",u?"text-primary bg-primary/10":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"),children:[a.jsxs("div",{className:"relative",children:[a.jsx(c,{className:A("w-5 h-5",u&&"scale-110")}),l.badge&&a.jsx(Ut,{variant:"destructive",className:"absolute -top-2 -right-2 w-4 h-4 p-0 text-xs flex items-center justify-center min-w-4",children:typeof l.badge=="number"&&l.badge>99?"99+":l.badge})]}),a.jsx("span",{className:A("text-xs font-medium truncate max-w-full text-center",u&&"font-semibold"),children:l.label})]},l.id)})})}):null},NU=async e=>{const{data:t,error:r}=await $.from("notifications").select("*").eq("organization_id",e).order("created_at",{ascending:!1}).limit(50);if(r)throw console.error("Error fetching notifications:",r),r;return t},kU=e=>{const t=Zr(),[r,n]=m.useState(0),{data:s=[],isLoading:o,error:i}=Xr({queryKey:["notifications",e],queryFn:()=>NU(e),enabled:!!e,refetchOnWindowFocus:!1,staleTime:3e4});return m.useEffect(()=>{if(!e)return;const d=$.channel(`notifications-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`organization_id=eq.${e}`},h=>{console.log("New notification received:",h.new),t.setQueryData(["notifications",e],x=>[h.new,...x||[]]);const p=Date.now();p-r>3e3&&(_e(h.new.title,{description:h.new.message,action:{label:"View",onClick:()=>{console.log("View notification:",h.new.id)}},duration:5e3,className:EU(h.new.type)}),n(p))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`organization_id=eq.${e}`},h=>{console.log("Notification updated:",h.new),t.setQueryData(["notifications",e],p=>(p==null?void 0:p.map(x=>x.id===h.new.id?h.new:x))||[])}).on("postgres_changes",{event:"DELETE",schema:"public",table:"notifications",filter:`organization_id=eq.${e}`},h=>{console.log("Notification deleted:",h.old),t.setQueryData(["notifications",e],p=>(p==null?void 0:p.filter(x=>x.id!==h.old.id))||[])}).subscribe();return()=>{console.log("Unsubscribing from notifications channel"),$.removeChannel(d)}},[e,t,r]),{notifications:s,isLoading:o,error:i,markAsRead:async d=>{t.setQueryData(["notifications",e],h=>(h==null?void 0:h.map(p=>p.id===d?{...p,is_read:!0}:p))||[]);try{const{error:h}=await $.from("notifications").update({is_read:!0}).eq("id",d);h&&(console.error("Error marking notification as read:",h),t.invalidateQueries({queryKey:["notifications",e]}),_e.error("Failed to mark notification as read"))}catch(h){console.error("Unexpected error:",h),t.invalidateQueries({queryKey:["notifications",e]}),_e.error("Failed to mark notification as read")}},markAllAsRead:async()=>{const d=s.filter(h=>!h.is_read);if(d.length!==0){t.setQueryData(["notifications",e],h=>(h==null?void 0:h.map(p=>({...p,is_read:!0})))||[]);try{const{error:h}=await $.from("notifications").update({is_read:!0}).eq("organization_id",e).eq("is_read",!1);h?(console.error("Error marking all notifications as read:",h),t.invalidateQueries({queryKey:["notifications",e]}),_e.error("Failed to mark all notifications as read")):_e.success(`Marked ${d.length} notifications as read`)}catch(h){console.error("Unexpected error:",h),t.invalidateQueries({queryKey:["notifications",e]}),_e.error("Failed to mark all notifications as read")}}},removeNotification:async d=>{const h=t.getQueryData(["notifications",e]);t.setQueryData(["notifications",e],p=>(p==null?void 0:p.filter(x=>x.id!==d))||[]);try{const{error:p}=await $.from("notifications").delete().eq("id",d);p&&(console.error("Error removing notification:",p),t.setQueryData(["notifications",e],h),_e.error("Failed to remove notification"))}catch(p){console.error("Unexpected error:",p),t.setQueryData(["notifications",e],h),_e.error("Failed to remove notification")}},clearAllNotifications:async()=>{if(s.length===0)return;const d=t.getQueryData(["notifications",e]);t.setQueryData(["notifications",e],[]);try{const{error:h}=await $.from("notifications").delete().eq("organization_id",e);h?(console.error("Error clearing all notifications:",h),t.setQueryData(["notifications",e],d),_e.error("Failed to clear all notifications")):_e.success("All notifications cleared")}catch(h){console.error("Unexpected error:",h),t.setQueryData(["notifications",e],d),_e.error("Failed to clear all notifications")}},unreadCount:s.filter(d=>!d.is_read).length}},EU=e=>{switch(e){case"success":return"border-green-200 bg-green-50";case"warning":return"border-yellow-200 bg-yellow-50";case"error":return"border-red-200 bg-red-50";default:return"border-blue-200 bg-blue-50"}};function it(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function CU(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const FB=6048e5,zB=864e5,Sc=43200,fy=1440;let RU={};function PU(){return RU}function hy(e){const t=it(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Bc(e,t){const r=it(e),n=it(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function TU(e){return CU(e,Date.now())}function AU(e,t){const r=it(e),n=it(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function IU(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function OU(e,t){return+it(e)-+it(t)}function MU(e){const t=it(e);return t.setHours(23,59,59,999),t}function DU(e){const t=it(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function LU(e){const t=it(e);return+MU(t)==+DU(t)}function $U(e,t){const r=it(e),n=it(t),s=Bc(r,n),o=Math.abs(AU(r,n));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let l=Bc(r,n)===-s;LU(it(e))&&o===1&&Bc(e,n)===1&&(l=!1),i=s*(o-Number(l))}return i===0?0:i}function FU(e,t,r){const n=OU(e,t)/1e3;return IU(r==null?void 0:r.roundingMethod)(n)}const zU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UU=(e,t,r)=>{let n;const s=zU[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function nh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const BU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WU={date:nh({formats:BU,defaultWidth:"full"}),time:nh({formats:VU,defaultWidth:"full"}),dateTime:nh({formats:qU,defaultWidth:"full"})},HU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KU=(e,t,r,n)=>HU[e];function ci(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const GU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},QU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},e8=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},t8={ordinalNumber:e8,era:ci({values:GU,defaultWidth:"wide"}),quarter:ci({values:QU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ci({values:YU,defaultWidth:"wide"}),day:ci({values:XU,defaultWidth:"wide"}),dayPeriod:ci({values:JU,defaultWidth:"wide",formattingValues:ZU,defaultFormattingWidth:"wide"})};function ui(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?n8(l,d=>d.test(i)):r8(l,d=>d.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(i.length);return{value:u,rest:f}}}function r8(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function n8(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function s8(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const o8=/^(\d+)(th|st|nd|rd)?/i,a8=/\d+/i,i8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l8={any:[/^b/i,/^(a|c)/i]},c8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u8={any:[/1/i,/2/i,/3/i,/4/i]},d8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},p8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},g8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v8={ordinalNumber:s8({matchPattern:o8,parsePattern:a8,valueCallback:e=>parseInt(e,10)}),era:ui({matchPatterns:i8,defaultMatchWidth:"wide",parsePatterns:l8,defaultParseWidth:"any"}),quarter:ui({matchPatterns:c8,defaultMatchWidth:"wide",parsePatterns:u8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ui({matchPatterns:d8,defaultMatchWidth:"wide",parsePatterns:f8,defaultParseWidth:"any"}),day:ui({matchPatterns:h8,defaultMatchWidth:"wide",parsePatterns:m8,defaultParseWidth:"any"}),dayPeriod:ui({matchPatterns:p8,defaultMatchWidth:"any",parsePatterns:g8,defaultParseWidth:"any"})},x8={code:"en-US",formatDistance:UU,formatLong:WU,formatRelative:KU,localize:t8,match:v8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function y8(e,t,r){const n=PU(),s=(r==null?void 0:r.locale)??n.locale??x8,o=2520,i=Bc(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=it(t),u=it(e)):(c=it(e),u=it(t));const f=FU(u,c),d=(hy(u)-hy(c))/1e3,h=Math.round((f-d)/60);let p;if(h<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<fy){const x=Math.round(h/60);return s.formatDistance("aboutXHours",x,l)}else{if(h<o)return s.formatDistance("xDays",1,l);if(h<Sc){const x=Math.round(h/fy);return s.formatDistance("xDays",x,l)}else if(h<Sc*2)return p=Math.round(h/Sc),s.formatDistance("aboutXMonths",p,l)}if(p=$U(u,c),p<12){const x=Math.round(h/Sc);return s.formatDistance("xMonths",x,l)}else{const x=p%12,g=Math.trunc(p/12);return x<3?s.formatDistance("aboutXYears",g,l):x<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function w8(e,t){return y8(e,TU(e),t)}function b8(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Rv="ScrollArea",[DE,UB]=pt(Rv),[j8,vr]=DE(Rv),LE=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[l,c]=m.useState(null),[u,f]=m.useState(null),[d,h]=m.useState(null),[p,x]=m.useState(null),[g,w]=m.useState(null),[y,v]=m.useState(0),[b,j]=m.useState(0),[S,k]=m.useState(!1),[N,E]=m.useState(!1),R=re(t,M=>c(M)),T=Ss(s);return a.jsx(j8,{scope:r,type:n,dir:T,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:E,onCornerWidthChange:v,onCornerHeightChange:j,children:a.jsx(W.div,{dir:T,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});LE.displayName=Rv;var $E="ScrollAreaViewport",FE=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:o,...i}=e,l=vr($E,r),c=m.useRef(null),u=re(t,c,l.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),a.jsx(W.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:A8({asChild:s,children:n},f=>a.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});FE.displayName=$E;var en="ScrollAreaScrollbar",Pv=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=vr(en,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(S8,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(_8,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(zE,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(Tv,{...n,ref:t}):null});Pv.displayName=en;var S8=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=vr(en,e.__scopeScrollArea),[o,i]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(tt,{present:r||o,children:a.jsx(zE,{"data-state":o?"visible":"hidden",...n,ref:t})})}),_8=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=vr(en,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Qd(()=>c("SCROLL_END"),100),[l,c]=b8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,f=o?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const p=u[f];d!==p&&(c("SCROLL"),i()),d=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,o,c,i]),a.jsx(tt,{present:r||l!=="hidden",children:a.jsx(Tv,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:L(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:L(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),zE=m.forwardRef((e,t)=>{const r=vr(en,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=m.useState(!1),l=e.orientation==="horizontal",c=Qd(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:f)}},10);return Ra(r.viewport,c),Ra(r.content,c),a.jsx(tt,{present:n||o,children:a.jsx(Tv,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Tv=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=vr(en,e.__scopeScrollArea),o=m.useRef(null),i=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=WE(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function d(h,p){return P8(h,i.current,l,p)}return r==="horizontal"?a.jsx(N8,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=my(h,l,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,s.dir))}}):r==="vertical"?a.jsx(k8,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=my(h,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),N8=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=vr(en,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=re(t,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(BE,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gd(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),KE(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Lu(i.paddingLeft),paddingEnd:Lu(i.paddingRight)}})}})}),k8=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=vr(en,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=re(t,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(BE,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gd(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),KE(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Lu(i.paddingTop),paddingEnd:Lu(i.paddingBottom)}})}})}),[E8,UE]=DE(en),BE=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...h}=e,p=vr(en,r),[x,g]=m.useState(null),w=re(t,R=>g(R)),y=m.useRef(null),v=m.useRef(""),b=p.viewport,j=n.content-n.viewport,S=De(f),k=De(c),N=Qd(d,10);function E(R){if(y.current){const T=R.clientX-y.current.left,M=R.clientY-y.current.top;u({x:T,y:M})}}return m.useEffect(()=>{const R=T=>{const M=T.target;(x==null?void 0:x.contains(M))&&S(T,j)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[b,x,j,S]),m.useEffect(k,[n,k]),Ra(x,N),Ra(p.content,N),a.jsx(E8,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:De(o),onThumbPointerUp:De(i),onThumbPositionChange:k,onThumbPointerDown:De(l),children:a.jsx(W.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:L(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),y.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(R))}),onPointerMove:L(e.onPointerMove,E),onPointerUp:L(e.onPointerUp,R=>{const T=R.target;T.hasPointerCapture(R.pointerId)&&T.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Du="ScrollAreaThumb",VE=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=UE(Du,e.__scopeScrollArea);return a.jsx(tt,{present:r||s.hasThumb,children:a.jsx(C8,{ref:t,...n})})}),C8=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=vr(Du,r),i=UE(Du,r),{onThumbPositionChange:l}=i,c=re(t,d=>i.onThumbChange(d)),u=m.useRef(),f=Qd(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const d=o.viewport;if(d){const h=()=>{if(f(),!u.current){const p=T8(d,l);u.current=p,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[o.viewport,f,l]),a.jsx(W.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:L(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),x=d.clientX-p.left,g=d.clientY-p.top;i.onThumbPointerDown({x,y:g})}),onPointerUp:L(e.onPointerUp,i.onThumbPointerUp)})});VE.displayName=Du;var Av="ScrollAreaCorner",qE=m.forwardRef((e,t)=>{const r=vr(Av,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(R8,{...e,ref:t}):null});qE.displayName=Av;var R8=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=vr(Av,r),[o,i]=m.useState(0),[l,c]=m.useState(0),u=!!(o&&l);return Ra(s.scrollbarX,()=>{var d;const f=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),Ra(s.scrollbarY,()=>{var d;const f=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),u?a.jsx(W.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Lu(e){return e?parseInt(e,10):0}function WE(e,t){const r=e/t;return isNaN(r)?0:r}function Gd(e){const t=WE(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function P8(e,t,r,n="ltr"){const s=Gd(r),o=s/2,i=t||o,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,d=n==="ltr"?[0,f]:[f*-1,0];return HE([c,u],d)(e)}function my(e,t,r="ltr"){const n=Gd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],u=ol(e,c);return HE([0,i],[0,l])(u)}function HE(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function KE(e,t){return e>0&&e<t}var T8=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Qd(e,t){const r=De(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Ra(e,t){const r=De(t);Ke(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function A8(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=m.Children.only(n);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var GE=LE,I8=FE,O8=qE;const QE=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(GE,{ref:n,className:A("relative overflow-hidden",e),...r,children:[a.jsx(I8,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(YE,{}),a.jsx(O8,{})]}));QE.displayName=GE.displayName;const YE=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(Pv,{ref:n,orientation:t,className:A("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(VE,{className:"relative flex-1 rounded-full bg-border"})}));YE.displayName=Pv.displayName;const M8=({organizationId:e})=>{const{notifications:t,isLoading:r,error:n,markAsRead:s,markAllAsRead:o,removeNotification:i,unreadCount:l}=kU(e),c=d=>{switch(d){case"info":return a.jsx(hu,{className:"w-4 h-4 text-blue-600"});case"warning":return a.jsx(Xo,{className:"w-4 h-4 text-yellow-600"});case"success":return a.jsx(zt,{className:"w-4 h-4 text-green-600"});case"error":return a.jsx(Xo,{className:"w-4 h-4 text-red-600"});default:return a.jsx(hu,{className:"w-4 h-4"})}},u=d=>{var p;let h=d.message;return h.includes("N/A")&&(h=h.replace("For question: N/A","New feedback response received")),(p=d.metadata)!=null&&p.question_text&&d.metadata.question_text!=="N/A"&&(h=`For question: ${d.metadata.question_text}`),h},f=t.slice(0,10);return a.jsxs(QN,{children:[a.jsx(YN,{asChild:!0,children:a.jsxs(J,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(ex,{className:"w-5 h-5"}),l>0&&a.jsx(Ut,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:l>9?"9+":l})]})}),a.jsxs(cv,{align:"end",className:"w-80",children:[a.jsxs("div",{className:"p-2 flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold",children:"Notifications"}),l>0&&a.jsxs(J,{variant:"ghost",size:"sm",onClick:o,className:"text-xs h-6 px-2",children:[a.jsx(nd,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),a.jsx(Vm,{}),n?a.jsxs("div",{className:"p-4 text-center text-red-500 text-sm",children:[a.jsx(Xo,{className:"w-4 h-4 mx-auto mb-1"}),"Failed to load notifications"]}):r?a.jsx("div",{className:"p-2 space-y-2",children:Array.from({length:3}).map((d,h)=>a.jsx(Xm,{className:"h-16 w-full"},h))}):f.length===0?a.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:[a.jsx(ex,{className:"w-4 h-4 mx-auto mb-1 opacity-50"}),"You're all caught up!"]}):a.jsxs(QE,{className:"max-h-[400px]",children:[f.map(d=>a.jsx(uv,{className:"p-0",onSelect:h=>h.preventDefault(),children:a.jsx("div",{className:`w-full p-3 ${d.is_read?"":"bg-blue-50 dark:bg-blue-900/20"}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[c(d.type),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:d.title}),!d.is_read&&a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full ml-2 mt-1 flex-shrink-0"})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 mt-1",children:u(d)}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:w8(new Date(d.created_at),{addSuffix:!0})})]})]}),a.jsxs("div",{className:"flex items-center shrink-0 pl-2 space-x-1",children:[!d.is_read&&a.jsx(J,{variant:"ghost",size:"sm",title:"Mark as read",onClick:h=>{h.stopPropagation(),s(d.id)},className:"h-7 w-7 p-0 hover:bg-green-100",children:a.jsx(zt,{className:"w-4 h-4 text-gray-500 hover:text-green-600"})}),a.jsx(J,{variant:"ghost",size:"sm",title:"Dismiss",onClick:h=>{h.stopPropagation(),i(d.id)},className:"h-7 w-7 p-0 hover:bg-red-100",children:a.jsx(yl,{className:"w-4 h-4 text-gray-500 hover:text-red-600"})})]})]})})},d.id)),t.length>10&&a.jsxs(a.Fragment,{children:[a.jsx(Vm,{}),a.jsx("div",{className:"p-2 text-center",children:a.jsxs("span",{className:"text-xs text-gray-500",children:[t.length-10," more notifications..."]})})]})]})]})]})},py=({organizationName:e,organizationId:t,currentPage:r,onNavigate:n})=>{const{user:s}=kn(),{organization:o}=Sl(),i=()=>{if(s!=null&&s.email){const f=s.email.split("@")[0];return f.charAt(0).toUpperCase()+f.slice(1)}return"there"},l=()=>{const f=new Date().getHours();return f<12?"Good morning":f<17?"Good afternoon":"Good evening"},c=()=>{switch(r){case"overview":return"Here's your dashboard overview for today.";case"feedback":return"Here's your latest customer feedback activity.";case"members":return"Manage your team members and their permissions.";case"sentiment":return"Analyze customer sentiment trends and insights.";case"performance":return"Track performance metrics and analytics.";case"questions":return"Manage your survey questions and forms.";case"integrations":return"Configure your integrations and API connections.";case"settings":return"Customize your organization settings.";default:return"Welcome to your organization dashboard."}},u=()=>new Date().toLocaleString("en-US",{timeZone:"America/Los_Angeles",hour:"numeric",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric"});return a.jsxs("div",{className:"border-b border-gray-100 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(_E,{}),a.jsx("div",{className:"hidden lg:block",children:a.jsxs(J,{variant:"outline",size:"sm",className:"flex items-center space-x-2 min-w-[280px] justify-start text-gray-500 hover:text-gray-700 bg-gray-50 border-gray-200",children:[a.jsx(GP,{className:"w-4 h-4"}),a.jsx("span",{children:"Search dashboard..."}),a.jsxs("kbd",{className:"ml-auto pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-white px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:[a.jsx(DP,{className:"w-3 h-3"}),"K"]})]})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"hidden md:flex items-center text-sm text-gray-600 bg-blue-50 px-3 py-1.5 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),a.jsx("span",{children:u()})]}),a.jsx(M8,{organizationId:t}),a.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center shadow-sm",children:a.jsx(ad,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"hidden sm:block text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:i()}),a.jsx("div",{className:"text-xs text-gray-500",children:"Administrator"})]})]})]})]}),a.jsx("div",{className:"px-6 py-6 bg-gradient-to-r from-gray-50 to-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:[l(),", ",i()]}),a.jsx("p",{className:"text-gray-600 text-sm",children:c()})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(Ut,{variant:"secondary",className:"flex items-center space-x-2 bg-green-50 text-green-700 border-green-200 hover:bg-green-100 hover:text-green-800 transition-colors",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"font-medium",children:(o==null?void 0:o.name)||e})]})})]})})]})},BB=({children:e,className:t,columns:r={xs:1,sm:1,md:2,lg:2,xl:2},gap:n="auto",alignItems:s="stretch",justifyContent:o="start"})=>{const{currentBreakpoint:i,getResponsiveValue:l,shouldUseCompactLayout:c,prefersReducedMotion:u,isMobile:f,isTablet:d}=Xa(),h=l(r),p=I.useMemo(()=>n!=="auto"?n:f?"sm":d?"md":"lg",[n,f,d]),x={sm:"gap-3 sm:gap-4",md:"gap-4 sm:gap-5 md:gap-6",lg:"gap-5 sm:gap-6 md:gap-8"},g={start:"items-start",center:"items-center",end:"items-end",stretch:"items-stretch"},w={start:"justify-start",center:"justify-center",end:"justify-end",between:"justify-between",around:"justify-around",evenly:"justify-evenly"};return a.jsx("div",{className:A("grid transition-all w-full",!u&&"duration-300 ease-out",x[p],g[s],w[o],f&&"min-w-0 overflow-hidden",t),style:{gridTemplateColumns:`repeat(${h}, minmax(0, 1fr))`},children:e})},gy=({children:e,className:t,direction:r="auto",spacing:n="auto",align:s="stretch",justify:o="start",stackAt:i="sm"})=>{const{currentBreakpoint:l,shouldUseCompactLayout:c,isBreakpointDown:u,prefersReducedMotion:f,isMobile:d,isTablet:h}=Xa(),p=I.useMemo(()=>r==="vertical"?!0:r==="horizontal"||i==="never"?!1:u(i),[r,i,u]),x=I.useMemo(()=>n==="none"?"none":n!=="auto"?n:d?"sm":h?"md":"lg",[n,d,h]),g={none:"",sm:p?"space-y-2 sm:space-y-3":"space-x-2 sm:space-x-3",md:p?"space-y-3 sm:space-y-4 md:space-y-5":"space-x-3 sm:space-x-4 md:space-x-5",lg:p?"space-y-4 sm:space-y-5 md:space-y-6":"space-x-4 sm:space-x-5 md:space-x-6"},w={start:"items-start",center:"items-center",end:"items-end",stretch:"items-stretch"},y={start:"justify-start",center:"justify-center",end:"justify-end",between:"justify-between",around:"justify-around",evenly:"justify-evenly"};return a.jsx("div",{className:A("flex transition-all w-full",!f&&"duration-300 ease-out",p?"flex-col":"flex-row flex-wrap",g[x],w[s],y[o],d&&"min-w-0",t),children:e})},vy=({children:e,className:t,maxWidth:r="full",padding:n="auto",centerContent:s=!0,touchOptimized:o=!1})=>{const{currentBreakpoint:i,shouldUseCompactLayout:l,shouldUseTouch:c,getResponsiveValue:u,prefersReducedMotion:f,isMobile:d,isTablet:h}=Xa(),p={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl",full:"w-full max-w-full"},x=I.useMemo(()=>n==="none"?"0":u(n==="auto"?{xs:"1rem",sm:"1.25rem",md:"1.5rem",lg:"2rem",xl:"2.5rem"}:{sm:{xs:"0.75rem",sm:"1rem",md:"1.25rem",lg:"1.5rem",xl:"1.75rem"},md:{xs:"1rem",sm:"1.25rem",md:"1.5rem",lg:"2rem",xl:"2.25rem"},lg:{xs:"1.25rem",sm:"1.5rem",md:"2rem",lg:"2.5rem",xl:"3rem"}}[n]),[n,u]),g=o||c;return a.jsx("div",{className:A("w-full transition-all",!f&&"duration-300 ease-out",p[r],s&&r!=="full"&&!d&&"mx-auto",g&&["touch-pan-y touch-pan-x",l&&"space-y-3"],d&&"space-y-3",h&&"space-y-4",!d&&!h&&"space-y-6","min-h-0 overflow-x-hidden",t),style:{padding:x},children:e})},D8={BarChart3:Qr,Users:Zt,MessageSquare:Zs,Settings:eo},L8=({children:e,organizationName:t,organizationId:r,organizationSlug:n,activeTab:s,onTabChange:o,stats:i,isLoading:l=!1})=>{const{isMobile:c,isTablet:u,screenWidth:f,shouldUseCompactLayout:d,prefersReducedMotion:h,currentBreakpoint:p}=Xa(),x=[{id:"overview",label:d?"Analytics":"Dashboard Analytics",icon:"BarChart3",path:"",badge:(i==null?void 0:i.growth_rate)>0?`+${i.growth_rate}%`:void 0},{id:"members",label:d?"Members":"Team Members",icon:"Users",path:"/members",badge:i==null?void 0:i.active_members},{id:"feedback",label:d?"Feedback":"Customer Feedback",icon:"MessageSquare",path:"/feedback",badge:i==null?void 0:i.total_responses},{id:"questions",label:d?"Questions":"Survey Questions",icon:"MessageSquare",path:"/questions",badge:i==null?void 0:i.total_questions},{id:"settings",label:"Settings",icon:"Settings",path:"/settings"}];return c?a.jsxs(vy,{className:"min-h-screen bg-gray-50 dark:bg-gray-900",padding:"none",maxWidth:"full",children:[a.jsx(py,{organizationName:t,organizationId:r,currentPage:s,onNavigate:()=>{}}),a.jsx("main",{id:"main-content",className:A("transition-all px-4 py-6 pb-24 min-h-0 overflow-x-hidden","bg-white dark:bg-gray-900",!h&&"duration-300 ease-out"),children:a.jsx("div",{className:"w-full max-w-full overflow-hidden",children:e})}),a.jsx(_U,{items:x.map(g=>({...g,icon:D8[g.icon]||Zs,path:g.path})),organizationSlug:n})]}):a.jsx(vy,{className:"min-h-screen bg-gray-50 dark:bg-gray-900",padding:"none",maxWidth:"full",children:a.jsx(wE,{defaultOpen:!u,className:"w-full",children:a.jsxs(gy,{direction:"horizontal",spacing:"none",align:"stretch",className:"min-h-screen",children:[a.jsx(jU,{organizationName:t,activeTab:s,onTabChange:o,stats:i,isLoading:l}),a.jsxs(gy,{direction:"vertical",spacing:"none",align:"stretch",className:"flex-1 min-w-0 max-w-none overflow-hidden",children:[a.jsx(py,{organizationName:t,organizationId:r,currentPage:s,onNavigate:()=>{}}),a.jsx("main",{id:"main-content",className:A("flex-1 overflow-auto bg-white dark:bg-gray-900 transition-all","p-6 lg:p-8 max-w-full",!h&&"duration-300 ease-out"),children:a.jsx("div",{className:"max-w-7xl mx-auto w-full space-y-6 overflow-hidden",children:e})})]})]})})})},XE=({onClick:e,icon:t=a.jsx(eg,{className:"w-6 h-6"}),className:r,size:n="md",position:s="bottom-right",extended:o=!1,children:i})=>{const l={sm:"w-12 h-12",md:"w-14 h-14",lg:"w-16 h-16"},c={"bottom-right":"bottom-6 right-6","bottom-center":"bottom-6 left-1/2 -translate-x-1/2","bottom-left":"bottom-6 left-6"};return a.jsxs(J,{onClick:e,className:A("fixed z-50 rounded-full shadow-lg","bg-primary hover:bg-primary/90 text-primary-foreground","transition-all duration-200 active:scale-95","border-2 border-white/20",o?"px-6 h-14 gap-3":l[n],c[s],r),size:"icon",children:[t,o&&i]})},$8=({threshold:e=400})=>{const[t,r]=I.useState(!1);I.useEffect(()=>{const s=()=>{r(window.pageYOffset>e)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[e]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?a.jsx(XE,{onClick:n,icon:a.jsx(Zp,{className:"w-6 h-6"}),position:"bottom-right",className:"bg-gray-800 hover:bg-gray-700"}):null},F8=(e,t)=>{let r;return(...n)=>{r||(e.apply(null,n),r=!0,setTimeout(()=>r=!1,t))}},z8=(e,t)=>{let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>e.apply(null,n),t)}},U8=(e={})=>{const{enableVirtualization:t=!1,debounceDelay:r=300,throttleDelay:n=100,enableMemoryCleanup:s=!0}=e,o=m.useRef([]),i=m.useCallback(f=>{const d=z8(f,r);return s&&o.current.push(()=>{}),d},[r,s]),l=m.useCallback(f=>{const d=F8(f,n);return s&&o.current.push(()=>{}),d},[n,s]),c=m.useCallback((f,d)=>{const h=new IntersectionObserver(f,{rootMargin:"50px",threshold:.1,...d});return s&&o.current.push(()=>h.disconnect()),h},[s]);m.useEffect(()=>()=>{s&&(o.current.forEach(f=>f()),o.current=[])},[s]);const u=m.useCallback((f,d)=>{const h=performance.now();d();const p=performance.now();console.log(`${f} took ${p-h} milliseconds`)},[]);return{createDebouncedFunction:i,createThrottledFunction:l,createIntersectionObserver:c,measurePerformance:u}};class JE extends m.Component{constructor(r){super(r);Ge(this,"handleReload",()=>{window.location.reload()});Ge(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){var o,i;const s=ir(St.CLIENT_ERROR,r.message,"critical",{stack:r.stack,componentStack:n.componentStack});Z6("React Error Boundary caught an error",{error:s,errorInfo:n}),this.setState({errorInfo:n}),(i=(o=this.props).onError)==null||i.call(o,r,n)}renderErrorFallback(){const{fallback:r,showReload:n=!0,title:s,description:o}=this.props;if(r)return r;const i=s||"Something went wrong",l=o||"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists.";return a.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-6",children:a.jsxs(ot,{variant:"destructive",className:"max-w-md",children:[a.jsx(Xo,{className:"h-4 w-4"}),a.jsx(Fg,{className:"mb-2",children:i}),a.jsx(at,{className:"mb-4",children:l}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(J,{variant:"outline",size:"sm",onClick:this.handleRetry,className:"flex items-center gap-2",children:[a.jsx(tx,{className:"h-3 w-3"}),"Try Again"]}),n&&a.jsxs(J,{variant:"secondary",size:"sm",onClick:this.handleReload,className:"flex items-center gap-2",children:[a.jsx(tx,{className:"h-3 w-3"}),"Reload Page"]})]}),!1]})})}render(){return this.state.hasError?this.renderErrorFallback():this.props.children}}const B8=e=>{const{dateRange:t}=F4();return Xr({queryKey:["analytics-data",e,t],queryFn:async()=>{const{data:r}=await $.from("questions").select("*").eq("organization_id",e).eq("is_active",!0).order("category",{ascending:!0}).order("order_index",{ascending:!0});let n=$.from("feedback_responses").select(`
          id,
          question_id,
          response_value,
          question_category,
          session_id,
          created_at,
          score,
          response_time_ms
        `).eq("organization_id",e);if(t!=null&&t.from&&(n=n.gte("created_at",t.from.toISOString())),t!=null&&t.to){const f=new Date(t.to);f.setDate(f.getDate()+1),n=n.lt("created_at",f.toISOString())}const{data:s}=await n;let o=$.from("feedback_sessions").select("id, status, created_at, total_score").eq("organization_id",e);if(t!=null&&t.from&&(o=o.gte("created_at",t.from.toISOString())),t!=null&&t.to){const f=new Date(t.to);f.setDate(f.getDate()+1),o=o.lt("created_at",f.toISOString())}const{data:i}=await o,l=(r||[]).map(f=>{const d=(s||[]).filter(y=>y.question_id===f.id),h=d.length,p=i&&i.length>0?Math.round(h/i.length*100):0,x={};d.forEach(y=>{const v=JSON.stringify(y.response_value);x[v]=(x[v]||0)+1});const g=[];if(p>80?g.push("High completion rate indicates good user engagement"):p<50&&g.push("Low completion rate may indicate question complexity"),h>0){const y=d.reduce((v,b)=>v+(b.score||0),0)/h;y>8?g.push("High satisfaction scores"):y<5&&g.push("Low satisfaction scores need attention")}let w="neutral";return p>70&&g.some(y=>y.includes("High"))?w="positive":p<50||g.some(y=>y.includes("Low"))?w="negative":g.length>1&&(w="mixed"),{id:f.id,question_text:f.question_text,question_type:f.question_type||"text",category:f.category||"General",total_responses:h,completion_rate:p,avg_score:d.reduce((y,v)=>y+(v.score||0),0)/(h||1),response_distribution:x,insights:g,trend:w}}),c=new Map;l.forEach(f=>{const d=f.category;c.has(d)||c.set(d,{category:d,total_questions:0,total_responses:0,completion_rate:0,questions:[],avg_score:0});const h=c.get(d);h.total_questions+=1,h.total_responses+=f.total_responses,h.questions.push(f)});const u=Array.from(c.values()).map(f=>({...f,completion_rate:f.questions.length>0?Math.round(f.questions.reduce((d,h)=>d+h.completion_rate,0)/f.questions.length):0,avg_score:f.questions.length>0?f.questions.reduce((d,h)=>d+h.avg_score,0)/f.questions.length:0}));return{questions:l,categories:u,summary:{total_questions:l.length,total_responses:l.reduce((f,d)=>f+d.total_responses,0),overall_completion_rate:u.length>0?Math.round(u.reduce((f,d)=>f+d.completion_rate,0)/u.length):0,overall_avg_score:l.length>0?l.reduce((f,d)=>f+d.avg_score,0)/l.length:0}}},enabled:!!e,staleTime:5*60*1e3})},ZE=m.createContext(null),V8=()=>{const e=m.useContext(ZE);if(!e)throw new Error("useDashboardData must be used within DashboardDataProvider");return e},q8=({children:e})=>{console.log("DashboardDataProvider rendering");const{organization:t,loading:r}=Sl();console.log("Organization from context:",{organization:t,orgLoading:r});const{data:n,isLoading:s,error:o}=Xr({queryKey:["organization-stats",t==null?void 0:t.id],queryFn:()=>(console.log("Fetching stats for organization:",t==null?void 0:t.id),j5(t.id)),enabled:!!(t!=null&&t.id)});console.log("Stats query result:",{stats:n,statsLoading:s,error:o});const{data:i,isLoading:l}=B8((t==null?void 0:t.id)||""),c=r||s||l,u=n||null;console.log("DashboardDataProvider state:",{organization:t==null?void 0:t.name,hasStats:!!u,isLoading:c,error:o==null?void 0:o.message});const f={organization:t,stats:u,analyticsData:i,isLoading:c,error:o};return a.jsx(ZE.Provider,{value:f,children:e})},W8=I.lazy(()=>Bt(()=>import("./DashboardOverviewContent-Bj9myhAl.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>({default:e.DashboardOverviewContent})).catch(e=>(console.error("Failed to load DashboardOverviewContent:",e),{default:()=>a.jsx("div",{className:"p-4",children:"Error loading overview content"})}))),H8=I.lazy(()=>Bt(()=>import("./MembersTab-CLxW6zf3.js"),__vite__mapDeps([5,6])).then(e=>({default:e.default})).catch(e=>(console.error("Failed to load MembersTab:",e),{default:()=>a.jsx("div",{className:"p-4",children:"Error loading members tab"})}))),K8=I.lazy(()=>Bt(()=>import("./FeedbackTab-teqJ1YiK.js"),__vite__mapDeps([7,1,3,6])).then(e=>({default:e.FeedbackTab})).catch(e=>(console.error("Failed to load FeedbackTab:",e),{default:()=>a.jsx("div",{className:"p-4",children:"Error loading feedback tab"})}))),G8=I.lazy(()=>Bt(()=>import("./QuestionsTab-lFM-YO2g.js"),__vite__mapDeps([8,6])).then(e=>({default:e.QuestionsTab})).catch(e=>(console.error("Failed to load QuestionsTab:",e),{default:()=>a.jsx("div",{className:"p-4",children:"Error loading questions tab"})}))),Q8=I.lazy(()=>Bt(()=>import("./SettingsTab-CPJRcPxt.js"),__vite__mapDeps([9,10,6])).then(e=>({default:e.SettingsTab})).catch(e=>(console.error("Failed to load SettingsTab:",e),{default:()=>a.jsx("div",{className:"p-4",children:"Error loading settings tab"})}))),Y8=I.lazy(()=>Bt(()=>import("./IntegrationsTab-DqKq5Q9p.js"),__vite__mapDeps([11,10])).then(e=>({default:e.IntegrationsTab})).catch(e=>(console.error("Failed to load IntegrationsTab:",e),{default:()=>a.jsx("div",{className:"p-4",children:"Error loading integrations tab"})}))),X8=I.lazy(()=>Bt(()=>import("./SentimentTab-BelOC1H1.js"),__vite__mapDeps([12,1,4,6])).then(e=>({default:e.SentimentTab})).catch(e=>(console.error("Failed to load SentimentTab:",e),{default:()=>a.jsx("div",{className:"p-4",children:"Error loading sentiment tab"})}))),J8=I.lazy(()=>Bt(()=>import("./PerformanceTab-BGiJ89Bg.js"),__vite__mapDeps([13,1,2,6])).then(e=>({default:e.PerformanceTab})).catch(e=>(console.error("Failed to load PerformanceTab:",e),{default:()=>a.jsx("div",{className:"p-4",children:"Error loading performance tab"})}))),Z8=I.lazy(()=>Bt(()=>import("./CustomerInsightsTab-Pi3Y3J4M.js"),__vite__mapDeps([14,1,6])).then(e=>({default:e.CustomerInsightsTab})).catch(e=>(console.error("Failed to load CustomerInsightsTab:",e),{default:()=>a.jsx("div",{className:"p-4",children:"Error loading customer insights tab"})}))),eB=()=>{const{slug:e}=Ng(),[t,r]=m.useState("overview"),{isMobile:n}=Xa();console.log("DashboardContent rendering with slug:",e);const{createDebouncedFunction:s}=U8({enableMemoryCleanup:!0,debounceDelay:250}),o=s(r);let i,l,c;try{const f=V8();i=f.organization,l=f.stats,c=f.isLoading}catch(f){console.error("Error getting dashboard data:",f),i=null,l=null,c=!1}const u=()=>{const f={organizationId:(i==null?void 0:i.id)||"",organization:i};try{switch(t){case"members":return a.jsx(I.Suspense,{fallback:a.jsx("div",{className:"animate-pulse h-64 bg-gray-200 rounded"}),children:a.jsx(H8,{...f})});case"feedback":return a.jsx(I.Suspense,{fallback:a.jsx("div",{className:"animate-pulse h-64 bg-gray-200 rounded"}),children:a.jsx(K8,{organizationId:f.organizationId})});case"questions":return a.jsx(I.Suspense,{fallback:a.jsx("div",{className:"animate-pulse h-64 bg-gray-200 rounded"}),children:a.jsx(G8,{})});case"settings":return a.jsx(I.Suspense,{fallback:a.jsx("div",{className:"animate-pulse h-64 bg-gray-200 rounded"}),children:a.jsx(Q8,{...f})});case"integrations":return a.jsx(I.Suspense,{fallback:a.jsx("div",{className:"animate-pulse h-64 bg-gray-200 rounded"}),children:a.jsx(Y8,{})});case"sentiment":return a.jsx(I.Suspense,{fallback:a.jsx("div",{className:"animate-pulse h-64 bg-gray-200 rounded"}),children:a.jsx(X8,{organizationId:f.organizationId})});case"performance":return a.jsx(I.Suspense,{fallback:a.jsx("div",{className:"animate-pulse h-64 bg-gray-200 rounded"}),children:a.jsx(J8,{organizationId:f.organizationId})});case"customer-insights":return a.jsx(I.Suspense,{fallback:a.jsx("div",{className:"animate-pulse h-64 bg-gray-200 rounded"}),children:a.jsx(Z8,{organizationId:f.organizationId})});default:return a.jsx(I.Suspense,{fallback:a.jsx("div",{className:"animate-pulse h-64 bg-gray-200 rounded"}),children:a.jsx(W8,{onTabChange:o})})}}catch(d){return console.error("Error rendering tab content:",d),a.jsx("div",{className:"p-4",children:"Error loading tab content"})}};return!i&&!c?(console.log("No organization found and not loading"),a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Organization Not Found"}),a.jsx("p",{className:"text-gray-600",children:"The requested organization could not be found."})]})})):c?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-300 rounded w-48"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded w-32"})]})}):a.jsxs(JE,{title:"Dashboard Error",description:"There was an error loading the dashboard. Please try refreshing the page.",children:[a.jsx(L8,{organizationName:(i==null?void 0:i.name)||"Organization",organizationId:(i==null?void 0:i.id)||"",organizationSlug:e||"",activeTab:t,onTabChange:o,stats:l,isLoading:c,children:u()}),n&&t==="overview"&&a.jsxs(XE,{onClick:()=>o("members"),extended:!0,children:[a.jsx(eg,{className:"w-5 h-5"}),"Quick Action"]}),a.jsx($8,{})]})},tB=()=>(console.log("OrganizationAdminDashboard component mounted"),a.jsx(JE,{title:"Dashboard Error",description:"There was an error initializing the dashboard.",children:a.jsx(q8,{children:a.jsx(eB,{})})})),rB=()=>a.jsx(tB,{}),nB=()=>{const e=Ir();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},sB=()=>{const{pathname:e}=Ir();return m.useEffect(()=>{e!=="/"&&document.documentElement.classList.remove("dark")},[e]),null},oB=()=>a.jsxs("div",{className:"bg-white dark:bg-background",children:[a.jsx(mv,{}),a.jsxs("main",{className:"max-w-4xl mx-auto pt-32 pb-16 px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-8",children:"Terms of Service"}),a.jsxs("div",{className:"prose dark:prose-invert max-w-none text-warm-gray-600 dark:text-dark-warm-600 space-y-4",children:[a.jsx("p",{children:"Last updated: June 15, 2025"}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"1. Agreement to Terms"}),a.jsx("p",{children:"By using our services, you agree to be bound by these Terms of Service. If you do not agree to these Terms, do not use the services."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"2. Use of Services"}),a.jsx("p",{children:"You may use our services only in compliance with these Terms and all applicable laws. We grant you a limited, non-exclusive, non-transferable, revocable license to use the services."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"3. Accounts"}),a.jsx("p",{children:"When you create an account with us, you must provide us with information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"4. Termination"}),a.jsx("p",{children:"We may terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"5. Governing Law"}),a.jsx("p",{children:"These Terms shall be governed by the laws of Kenya, without regard to its conflict of law provisions."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"6. Contact Us"}),a.jsx("p",{children:"If you have any questions about these Terms, please contact us at info@pulsify.bunisystems.com."})]})]}),a.jsx(pv,{})]}),aB=()=>a.jsxs("div",{className:"bg-white dark:bg-background",children:[a.jsx(mv,{}),a.jsxs("main",{className:"max-w-4xl mx-auto pt-32 pb-16 px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-8",children:"Privacy Policy"}),a.jsxs("div",{className:"prose dark:prose-invert max-w-none text-warm-gray-600 dark:text-dark-warm-600 space-y-4",children:[a.jsx("p",{children:"Last updated: June 15, 2025"}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"1. Introduction"}),a.jsx("p",{children:"Welcome to Pulsify. We are committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"2. Information We Collect"}),a.jsx("p",{children:"We may collect personal identification information (Name, email address, phone number, etc.) and non-personal information (browser type, etc.) from you in a variety of ways."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"3. How We Use Your Information"}),a.jsx("p",{children:"We use the information we collect to operate and maintain our services, send you marketing communications, respond to your comments and questions, and provide you with user support."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"4. Data Security"}),a.jsx("p",{children:"We take data security very seriously. Our platform is SOC 2 compliant, and all data is encrypted end-to-end. We follow industry best practices to ensure your data is safe and private. We implement a variety of security measures to maintain the safety of your personal information."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"5. Changes to This Privacy Policy"}),a.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"6. Contact Us"}),a.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at info@pulsify.bunisystems.com."})]})]}),a.jsx(pv,{})]}),iB=()=>{const e=Et(),[t]=gd(),{toast:r}=gr(),[n,s]=m.useState(!0);return m.useEffect(()=>{(async()=>{var l;const i=window.location.href;console.log("=== AUTH CALLBACK START ==="),console.log("Current URL:",i),console.log("Search params:",Object.fromEntries(t.entries()));try{s(!0);const{data:c,error:u}=await $.auth.getSession();if(console.log("Session data:",c),u)throw console.error("Session error:",u),u;if(!((l=c.session)!=null&&l.user)){console.log("No session found, redirecting to auth"),e("/auth");return}const f=c.session.user;console.log("Authenticated user:",f.email);const d=t.get("type");console.log("Auth callback type:",d),console.log("=== PROCESSING REGULAR AUTH FLOW ==="),d==="signup"?(console.log("Processing signup confirmation"),r({title:"Welcome!",description:"Your account has been created successfully."})):console.log("Processing sign-in confirmation");const h=await Ks.handlePostAuthRedirect(f);console.log("Redirecting to:",h),e(h)}catch(c){console.error("=== AUTH CALLBACK ERROR ==="),console.error("Auth callback error:",c),r({title:"Authentication Error",description:c.message||"Something went wrong during authentication",variant:"destructive"}),e("/auth")}finally{s(!1)}})()},[t,e,r]),n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Cu,{text:"Processing authentication..."}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Setting up your account access..."})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx(Cu,{text:"Redirecting..."})})})},lB=()=>{const e=Et(),[t]=gd(),[r,n]=m.useState(!1),[s,o]=m.useState(""),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[f,d]=m.useState({email:"",newPassword:"",confirmPassword:""});m.useEffect(()=>{const g=t.get("access_token"),w=t.get("refresh_token"),y=t.get("type");g&&w&&y==="recovery"&&(u(!0),$.auth.setSession({access_token:g,refresh_token:w}))},[t]);const h=async g=>{if(g.preventDefault(),!f.email){o("Email is required");return}try{n(!0),o("");const{error:w}=await Ks.resetPassword(f.email);if(w){o(w.message||"Failed to send reset email");return}l(!0)}catch(w){console.error("Password reset error:",w),o("Failed to send reset email. Please try again.")}finally{n(!1)}},p=async g=>{if(g.preventDefault(),f.newPassword!==f.confirmPassword){o("Passwords do not match");return}if(f.newPassword.length<6){o("Password must be at least 6 characters long");return}try{n(!0),o("");const{error:w}=await Ks.updatePassword(f.newPassword);if(w){o(w.message||"Failed to update password");return}l(!0),setTimeout(()=>{e("/auth")},2e3)}catch(w){console.error("Password update error:",w),o("Failed to update password. Please try again.")}finally{n(!1)}},x=(g,w)=>{d(y=>({...y,[g]:w})),s&&o("")};return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(de,{className:"w-full max-w-md",children:[a.jsx($e,{children:a.jsxs(Fe,{className:"flex items-center gap-2 text-green-600",children:[a.jsx(zt,{className:"w-5 h-5"}),c?"Password Updated":"Reset Email Sent"]})}),a.jsx(fe,{children:c?a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"Your password has been updated successfully."}),a.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login page..."})]}):a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions."}),a.jsx(J,{onClick:()=>e("/auth"),className:"w-full",children:"Back to Login"})]})})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(de,{className:"w-full max-w-md",children:[a.jsxs($e,{children:[a.jsxs(Fe,{className:"flex items-center gap-2",children:[a.jsx(UP,{className:"w-5 h-5"}),c?"Set New Password":"Reset Password"]}),a.jsx(oo,{children:c?"Enter your new password below":"Enter your email address and we'll send you a reset link"})]}),a.jsxs(fe,{children:[a.jsxs("form",{onSubmit:c?p:h,className:"space-y-4",children:[s&&a.jsxs(ot,{variant:"destructive",children:[a.jsx(Xi,{className:"h-4 w-4"}),a.jsx(at,{children:s})]}),c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"newPassword",children:"New Password"}),a.jsx(oe,{id:"newPassword",type:"password",value:f.newPassword,onChange:g=>x("newPassword",g.target.value),placeholder:"Enter your new password",required:!0,minLength:6})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsx(oe,{id:"confirmPassword",type:"password",value:f.confirmPassword,onChange:g=>x("confirmPassword",g.target.value),placeholder:"Confirm your new password",required:!0})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"email",children:"Email"}),a.jsx(oe,{id:"email",type:"email",value:f.email,onChange:g=>x("email",g.target.value),placeholder:"Enter your email address",required:!0})]}),a.jsx(J,{type:"submit",className:"w-full",disabled:r,children:r?c?"Updating Password...":"Sending Email...":c?"Update Password":"Send Reset Email"})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(J,{variant:"link",onClick:()=>e("/auth"),className:"p-0",children:"Back to Login"})})]})]})})},cB=()=>{const{token:e}=Ng(),t=Et(),[r,n]=m.useState(null),[s,o]=m.useState(!0),[i,l]=m.useState(!1),[c,u]=m.useState(""),[f,d]=m.useState(!1),[h,p]=m.useState({password:"",confirmPassword:"",firstName:"",lastName:""});m.useEffect(()=>{e&&x()},[e]);const x=async()=>{var y;try{o(!0),u("");const{data:v,error:b}=await $.rpc("validate_invitation_token",{p_token:e});if(b||!v||v.length===0||!v[0].is_valid){u(((y=v==null?void 0:v[0])==null?void 0:y.error_message)||"Invalid or expired invitation");return}const j=v[0];n({id:j.invitation_id,email:j.email,organization_id:j.organization_id,role:j.role,enhanced_role:j.enhanced_role,organizations:{id:j.organization_id,name:j.organization_name,slug:j.organization_slug}})}catch(v){console.error("Error validating invitation:",v),u("Failed to validate invitation. Please try again.")}finally{o(!1)}},g=async y=>{if(y.preventDefault(),!(!r||!e)){if(h.password!==h.confirmPassword){u("Passwords do not match");return}if(h.password.length<6){u("Password must be at least 6 characters long");return}try{l(!0),u("");const{data:v,error:b}=await $.functions.invoke("process-invitation",{body:{token:e,password:h.password,firstName:h.firstName,lastName:h.lastName}});if(b)throw b;if(!v.success){u(v.error||"Failed to process invitation");return}d(!0),setTimeout(()=>{t("/auth")},2e3)}catch(v){console.error("Error processing invitation:",v),u(v.message||"Failed to process invitation. Please try again.")}finally{l(!1)}}},w=(y,v)=>{p(b=>({...b,[y]:v})),c&&u("")};return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Validating invitation..."})]})}):c&&!r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(de,{className:"w-full max-w-md",children:[a.jsx($e,{children:a.jsxs(Fe,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(Xi,{className:"w-5 h-5"}),"Invalid Invitation"]})}),a.jsxs(fe,{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:c}),a.jsx(J,{onClick:()=>t("/auth"),className:"w-full",children:"Go to Login"})]})]})}):f?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(de,{className:"w-full max-w-md",children:[a.jsx($e,{children:a.jsxs(Fe,{className:"flex items-center gap-2 text-green-600",children:[a.jsx(zt,{className:"w-5 h-5"}),"Welcome to ",r==null?void 0:r.organizations.name,"!"]})}),a.jsxs(fe,{children:[a.jsxs("p",{className:"text-gray-600 mb-4",children:["Your account has been created successfully. You are now a member of ",r==null?void 0:r.organizations.name,"."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to sign in page..."})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(de,{className:"w-full max-w-md",children:[a.jsxs($e,{children:[a.jsxs(Fe,{className:"flex items-center gap-2",children:[a.jsx(Yi,{className:"w-5 h-5"}),"Join ",r==null?void 0:r.organizations.name]}),a.jsxs(oo,{children:["You've been invited to join ",r==null?void 0:r.organizations.name," as a ",(r==null?void 0:r.enhanced_role)||(r==null?void 0:r.role),". Set up your password to get started."]})]}),a.jsxs(fe,{children:[a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c&&a.jsxs(ot,{variant:"destructive",children:[a.jsx(Xi,{className:"h-4 w-4"}),a.jsx(at,{children:c})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"email",children:"Email"}),a.jsx(oe,{id:"email",type:"email",value:(r==null?void 0:r.email)||"",disabled:!0,className:"bg-gray-50"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"firstName",children:"First Name"}),a.jsx(oe,{id:"firstName",type:"text",value:h.firstName,onChange:y=>w("firstName",y.target.value),placeholder:"Your first name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"lastName",children:"Last Name"}),a.jsx(oe,{id:"lastName",type:"text",value:h.lastName,onChange:y=>w("lastName",y.target.value),placeholder:"Your last name"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"password",children:"Password"}),a.jsx(oe,{id:"password",type:"password",value:h.password,onChange:y=>w("password",y.target.value),placeholder:"Create a secure password",required:!0,minLength:6})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx(oe,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:y=>w("confirmPassword",y.target.value),placeholder:"Confirm your password",required:!0})]}),a.jsx(J,{type:"submit",className:"w-full",disabled:i,children:i?"Setting up your account...":"Accept Invitation & Join"})]}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900",children:"Organization Details"}),a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"Organization:"})," ",r==null?void 0:r.organizations.name]}),a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"Role:"})," ",(r==null?void 0:r.enhanced_role)||(r==null?void 0:r.role)]})]})]})]})})},uB=new tO;L$();function dB(){return a.jsx(aO,{client:uB,children:a.jsxs(tj,{children:[a.jsx(DT,{}),a.jsx(dA,{}),a.jsxs(hM,{children:[a.jsx(sB,{}),a.jsx(V4,{children:a.jsx(L4,{children:a.jsxs(oM,{children:[a.jsx(vt,{path:"/",element:a.jsx(gF,{})}),a.jsx(vt,{path:"/terms-of-service",element:a.jsx(oB,{})}),a.jsx(vt,{path:"/privacy-policy",element:a.jsx(aB,{})}),a.jsx(vt,{path:"/admin/login",element:a.jsx(b5,{})}),a.jsx(vt,{path:"/admin",element:a.jsx(Uf,{requireAdmin:!0,children:a.jsx(T$,{})})}),a.jsx(vt,{path:"/auth",element:a.jsx(w5,{})}),a.jsx(vt,{path:"/reset-password",element:a.jsx(lB,{})}),a.jsx(vt,{path:"/invitation/accept/:token",element:a.jsx(cB,{})}),a.jsx(vt,{path:"/auth-callback",element:a.jsx(iB,{})}),a.jsx(vt,{path:"/create-organization",element:a.jsx(Uf,{children:a.jsx(A$,{})})}),a.jsx(vt,{path:"/admin/:slug",element:a.jsx(Uf,{requireOrgAdmin:!0,children:a.jsx($4,{children:a.jsx(rB,{})})})}),a.jsx(vt,{path:"/:orgSlug",element:a.jsx(uy,{})}),a.jsx(vt,{path:"/org/:slug",element:a.jsx(uy,{})}),a.jsx(vt,{path:"*",element:a.jsx(nB,{})})]})})})]})]})})}Vb(document.getElementById("root")).render(a.jsx(I.StrictMode,{children:a.jsx(dB,{})}));export{Qg as $,fn as A,J as B,de as C,QN as D,Vo as E,BB as F,Qr as G,tg as H,ex as I,GP as J,oe as K,VP as L,Zs as M,Xp as N,V8 as O,j$ as P,S$ as Q,I as R,eo as S,Xo as T,Zt as U,Xm as V,ot as W,at as X,_a as Y,pu as Z,A_ as _,A as a,hr as a$,IP as a0,I_ as a1,Yg as a2,Xg as a3,oo as a4,te as a5,rE as a6,yl as a7,eg as a8,gr as a9,Od as aA,Md as aB,Ld as aC,$d as aD,Dd as aE,zd as aF,Fd as aG,Il as aH,Wa as aI,Ha as aJ,Ka as aK,LL as aL,DL as aM,CB as aN,nd as aO,zr as aP,oc as aQ,MP as aR,KP as aS,pt as aT,re as aU,Ft as aV,W as aW,L as aX,Pd as aY,ud as aZ,AP as a_,eT as aa,Zr as ab,jn as ac,$B as ad,kn as ae,xE as af,x1 as ag,Sl as ah,it as ai,PU as aj,CU as ak,hy as al,zB as am,FB as an,x8 as ao,UP as ap,v1 as aq,Nl as ar,kl as as,Sn as at,Ae as au,El as av,Ie as aw,w8 as ax,Zg as ay,ev as az,ho as b,Cy as b0,h1 as b1,ku as b2,mu as b3,Ji as b4,Y as c,YN as d,cv as e,F6 as f,Vm as g,uv as h,Ut as i,a as j,$e as k,fe as l,zt as m,FP as n,Xi as o,yn as p,Fe as q,m as r,$ as s,tx as t,Xr as u,Xa as v,Nd as w,_l as x,cr as y,ur as z};
