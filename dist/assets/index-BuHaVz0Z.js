const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InboxTab-5iFu4wsb.js","assets/skeleton-zlzKdQ8C.js","assets/search-CcQCx7dG.js","assets/formatDistanceToNow-D3uDvUoY.js","assets/AdvancedDashboardTab-DrNxZm9a.js","assets/useAnalyticsTableData-B6JUfuv7.js","assets/download-CG6QG01Z.js","assets/trending-down-D_mAdzNj.js","assets/responsive-layout-CTzmNIAf.js","assets/LineChart-Cvrt3Pcg.js","assets/CustomerInsightsTab-DgNBClOI.js","assets/SentimentTab-CLZp1AXi.js","assets/FeedbackTab-DWJ0fZTT.js","assets/IntegrationsTab-Cv6QLJ3j.js"])))=>i.map(i=>d[i]);
var $k=Object.defineProperty;var tv=e=>{throw TypeError(e)};var Fk=(e,t,r)=>t in e?$k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nt=(e,t,r)=>Fk(e,typeof t!="symbol"?t+"":t,r),Nd=(e,t,r)=>t.has(e)||tv("Cannot "+r);var S=(e,t,r)=>(Nd(e,t,"read from private field"),r?r.call(e):t.get(e)),Z=(e,t,r)=>t.has(e)?tv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),q=(e,t,r,n)=>(Nd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ce=(e,t,r)=>(Nd(e,t,"access private method"),r);var Nl=(e,t,r,n)=>({set _(s){q(e,t,s,r)},get _(){return S(e,t,n)}});function zk(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ly(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Uk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var $y={exports:{}},vu={},Fy={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=Symbol.for("react.element"),Bk=Symbol.for("react.portal"),Vk=Symbol.for("react.fragment"),qk=Symbol.for("react.strict_mode"),Wk=Symbol.for("react.profiler"),Hk=Symbol.for("react.provider"),Kk=Symbol.for("react.context"),Gk=Symbol.for("react.forward_ref"),Qk=Symbol.for("react.suspense"),Yk=Symbol.for("react.memo"),Jk=Symbol.for("react.lazy"),rv=Symbol.iterator;function Xk(e){return e===null||typeof e!="object"?null:(e=rv&&e[rv]||e["@@iterator"],typeof e=="function"?e:null)}var zy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uy=Object.assign,By={};function ba(e,t,r){this.props=e,this.context=t,this.refs=By,this.updater=r||zy}ba.prototype.isReactComponent={};ba.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ba.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vy(){}Vy.prototype=ba.prototype;function xm(e,t,r){this.props=e,this.context=t,this.refs=By,this.updater=r||zy}var wm=xm.prototype=new Vy;wm.constructor=xm;Uy(wm,ba.prototype);wm.isPureReactComponent=!0;var nv=Array.isArray,qy=Object.prototype.hasOwnProperty,bm={current:null},Wy={key:!0,ref:!0,__self:!0,__source:!0};function Hy(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)qy.call(t,n)&&!Wy.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:tl,type:e,key:o,ref:i,props:s,_owner:bm.current}}function Zk(e,t){return{$$typeof:tl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jm(e){return typeof e=="object"&&e!==null&&e.$$typeof===tl}function eE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var sv=/\/+/g;function kd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eE(""+e.key):t.toString(36)}function ic(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case tl:case Bk:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+kd(i,0):n,nv(s)?(r="",e!=null&&(r=e.replace(sv,"$&/")+"/"),ic(s,t,r,"",function(u){return u})):s!=null&&(jm(s)&&(s=Zk(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(sv,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",nv(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+kd(o,l);i+=ic(o,t,r,c,s)}else if(c=Xk(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+kd(o,l++),i+=ic(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function kl(e,t,r){if(e==null)return e;var n=[],s=0;return ic(e,n,"","",function(o){return t.call(r,o,s++)}),n}function tE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},lc={transition:null},rE={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:lc,ReactCurrentOwner:bm};function Ky(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:kl,forEach:function(e,t,r){kl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kl(e,function(){t++}),t},toArray:function(e){return kl(e,function(t){return t})||[]},only:function(e){if(!jm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=ba;he.Fragment=Vk;he.Profiler=Wk;he.PureComponent=xm;he.StrictMode=qk;he.Suspense=Qk;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rE;he.act=Ky;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Uy({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=bm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)qy.call(t,c)&&!Wy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:tl,type:e.type,key:s,ref:o,props:n,_owner:i}};he.createContext=function(e){return e={$$typeof:Kk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hk,_context:e},e.Consumer=e};he.createElement=Hy;he.createFactory=function(e){var t=Hy.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Gk,render:e}};he.isValidElement=jm;he.lazy=function(e){return{$$typeof:Jk,_payload:{_status:-1,_result:e},_init:tE}};he.memo=function(e,t){return{$$typeof:Yk,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=lc.transition;lc.transition={};try{e()}finally{lc.transition=t}};he.unstable_act=Ky;he.useCallback=function(e,t){return jt.current.useCallback(e,t)};he.useContext=function(e){return jt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};he.useEffect=function(e,t){return jt.current.useEffect(e,t)};he.useId=function(){return jt.current.useId()};he.useImperativeHandle=function(e,t,r){return jt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return jt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return jt.current.useReducer(e,t,r)};he.useRef=function(e){return jt.current.useRef(e)};he.useState=function(e){return jt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return jt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return jt.current.useTransition()};he.version="18.3.1";Fy.exports=he;var m=Fy.exports;const A=Ly(m),Gy=zk({__proto__:null,default:A},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE=m,sE=Symbol.for("react.element"),oE=Symbol.for("react.fragment"),aE=Object.prototype.hasOwnProperty,iE=nE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lE={key:!0,ref:!0,__self:!0,__source:!0};function Qy(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)aE.call(t,n)&&!lE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:sE,type:e,key:o,ref:i,props:s,_owner:iE.current}}vu.Fragment=oE;vu.jsx=Qy;vu.jsxs=Qy;$y.exports=vu;var a=$y.exports,Yy={exports:{}},Gt={},Jy={exports:{}},Xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,R){var V=C.length;C.push(R);e:for(;0<V;){var z=V-1>>>1,B=C[z];if(0<s(B,R))C[z]=R,C[V]=B,V=z;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var R=C[0],V=C.pop();if(V!==R){C[0]=V;e:for(var z=0,B=C.length,X=B>>>1;z<X;){var re=2*(z+1)-1,we=C[re],oe=re+1,Q=C[oe];if(0>s(we,V))oe<B&&0>s(Q,we)?(C[z]=Q,C[oe]=V,z=oe):(C[z]=we,C[re]=V,z=re);else if(oe<B&&0>s(Q,V))C[z]=Q,C[oe]=V,z=oe;else break e}}return R}function s(C,R){var V=C.sortIndex-R.sortIndex;return V!==0?V:C.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(C){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=C)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function j(C){if(g=!1,b(C),!x)if(r(c)!==null)x=!0,$(_);else{var R=r(u);R!==null&&G(j,R.startTime-C)}}function _(C,R){x=!1,g&&(g=!1,y(E),E=-1),p=!0;var V=h;try{for(b(R),d=r(c);d!==null&&(!(d.expirationTime>R)||C&&!M());){var z=d.callback;if(typeof z=="function"){d.callback=null,h=d.priorityLevel;var B=z(d.expirationTime<=R);R=e.unstable_now(),typeof B=="function"?d.callback=B:d===r(c)&&n(c),b(R)}else n(c);d=r(c)}if(d!==null)var X=!0;else{var re=r(u);re!==null&&G(j,re.startTime-R),X=!1}return X}finally{d=null,h=V,p=!1}}var k=!1,N=null,E=-1,P=5,T=-1;function M(){return!(e.unstable_now()-T<P)}function I(){if(N!==null){var C=e.unstable_now();T=C;var R=!0;try{R=N(!0,C)}finally{R?W():(k=!1,N=null)}}else k=!1}var W;if(typeof v=="function")W=function(){v(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Y=O.port2;O.port1.onmessage=I,W=function(){Y.postMessage(null)}}else W=function(){w(I,0)};function $(C){N=C,k||(k=!0,W())}function G(C,R){E=w(function(){C(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,$(_))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var V=h;h=R;try{return C()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var V=h;h=C;try{return R()}finally{h=V}},e.unstable_scheduleCallback=function(C,R,V){var z=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?z+V:z):V=z,C){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=V+B,C={id:f++,callback:R,priorityLevel:C,startTime:V,expirationTime:B,sortIndex:-1},V>z?(C.sortIndex=V,t(u,C),r(c)===null&&C===r(u)&&(g?(y(E),E=-1):g=!0,G(j,V-z))):(C.sortIndex=B,t(c,C),x||p||(x=!0,$(_))),C},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(C){var R=h;return function(){var V=h;h=R;try{return C.apply(this,arguments)}finally{h=V}}}})(Xy);Jy.exports=Xy;var cE=Jy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE=m,Ht=cE;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zy=new Set,_i={};function eo(e,t){la(e,t),la(e+"Capture",t)}function la(e,t){for(_i[e]=t,e=0;e<t.length;e++)Zy.add(t[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=Object.prototype.hasOwnProperty,dE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ov={},av={};function fE(e){return Nf.call(av,e)?!0:Nf.call(ov,e)?!1:dE.test(e)?av[e]=!0:(ov[e]=!0,!1)}function hE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mE(e,t,r,n){if(t===null||typeof t>"u"||hE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _t(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new _t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new _t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new _t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new _t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new _t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new _t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new _t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new _t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new _t(e,5,!1,e.toLowerCase(),null,!1,!1)});var _m=/[\-:]([a-z])/g;function Sm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_m,Sm);it[t]=new _t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_m,Sm);it[t]=new _t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_m,Sm);it[t]=new _t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new _t(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new _t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nm(e,t,r,n){var s=it.hasOwnProperty(t)?it[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mE(t,r,s,n)&&(r=null),n||s===null?fE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yn=uE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,El=Symbol.for("react.element"),jo=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),km=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),ex=Symbol.for("react.provider"),tx=Symbol.for("react.context"),Em=Symbol.for("react.forward_ref"),Ef=Symbol.for("react.suspense"),Cf=Symbol.for("react.suspense_list"),Cm=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),rx=Symbol.for("react.offscreen"),iv=Symbol.iterator;function qa(e){return e===null||typeof e!="object"?null:(e=iv&&e[iv]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,Ed;function ti(e){if(Ed===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ed=t&&t[1]||""}return`
`+Ed+e}var Cd=!1;function Rd(e,t){if(!e||Cd)return"";Cd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Cd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ti(e):""}function pE(e){switch(e.tag){case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 2:case 15:return e=Rd(e.type,!1),e;case 11:return e=Rd(e.type.render,!1),e;case 1:return e=Rd(e.type,!0),e;default:return""}}function Rf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _o:return"Fragment";case jo:return"Portal";case kf:return"Profiler";case km:return"StrictMode";case Ef:return"Suspense";case Cf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tx:return(e.displayName||"Context")+".Consumer";case ex:return(e._context.displayName||"Context")+".Provider";case Em:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cm:return t=e.displayName||null,t!==null?t:Rf(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return Rf(e(t))}catch{}}return null}function gE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rf(t);case 8:return t===km?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function is(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vE(e){var t=nx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cl(e){e._valueTracker||(e._valueTracker=vE(e))}function sx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=nx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function kc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pf(e,t){var r=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=is(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ox(e,t){t=t.checked,t!=null&&Nm(e,"checked",t,!1)}function Tf(e,t){ox(e,t);var r=is(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Af(e,t.type,r):t.hasOwnProperty("defaultValue")&&Af(e,t.type,is(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Af(e,t,r){(t!=="number"||kc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ri=Array.isArray;function Do(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+is(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function If(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(D(92));if(ri(r)){if(1<r.length)throw Error(D(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:is(r)}}function ax(e,t){var r=is(t.value),n=is(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ix(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Of(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ix(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rl,lx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Si(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yE=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(e){yE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ui[t]=ui[e]})});function cx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ui.hasOwnProperty(e)&&ui[e]?(""+t).trim():t+"px"}function ux(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=cx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var xE=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mf(e,t){if(t){if(xE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Df(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=null;function Rm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $f=null,Lo=null,$o=null;function fv(e){if(e=sl(e)){if(typeof $f!="function")throw Error(D(280));var t=e.stateNode;t&&(t=ju(t),$f(e.stateNode,e.type,t))}}function dx(e){Lo?$o?$o.push(e):$o=[e]:Lo=e}function fx(){if(Lo){var e=Lo,t=$o;if($o=Lo=null,fv(e),t)for(e=0;e<t.length;e++)fv(t[e])}}function hx(e,t){return e(t)}function mx(){}var Pd=!1;function px(e,t,r){if(Pd)return e(t,r);Pd=!0;try{return hx(e,t,r)}finally{Pd=!1,(Lo!==null||$o!==null)&&(mx(),fx())}}function Ni(e,t){var r=e.stateNode;if(r===null)return null;var n=ju(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var Ff=!1;if(ln)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Ff=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Ff=!1}function wE(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var di=!1,Ec=null,Cc=!1,zf=null,bE={onError:function(e){di=!0,Ec=e}};function jE(e,t,r,n,s,o,i,l,c){di=!1,Ec=null,wE.apply(bE,arguments)}function _E(e,t,r,n,s,o,i,l,c){if(jE.apply(this,arguments),di){if(di){var u=Ec;di=!1,Ec=null}else throw Error(D(198));Cc||(Cc=!0,zf=u)}}function to(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hv(e){if(to(e)!==e)throw Error(D(188))}function SE(e){var t=e.alternate;if(!t){if(t=to(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return hv(s),e;if(o===n)return hv(s),t;o=o.sibling}throw Error(D(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function vx(e){return e=SE(e),e!==null?yx(e):null}function yx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yx(e);if(t!==null)return t;e=e.sibling}return null}var xx=Ht.unstable_scheduleCallback,mv=Ht.unstable_cancelCallback,NE=Ht.unstable_shouldYield,kE=Ht.unstable_requestPaint,Ve=Ht.unstable_now,EE=Ht.unstable_getCurrentPriorityLevel,Pm=Ht.unstable_ImmediatePriority,wx=Ht.unstable_UserBlockingPriority,Rc=Ht.unstable_NormalPriority,CE=Ht.unstable_LowPriority,bx=Ht.unstable_IdlePriority,yu=null,Ur=null;function RE(e){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(yu,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:AE,PE=Math.log,TE=Math.LN2;function AE(e){return e>>>=0,e===0?32:31-(PE(e)/TE|0)|0}var Pl=64,Tl=4194304;function ni(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=ni(l):(o&=i,o!==0&&(n=ni(o)))}else i=r&~s,i!==0?n=ni(i):o!==0&&(n=ni(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_r(t),s=1<<r,n|=e[r],t&=~s;return n}function IE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-_r(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=IE(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Uf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jx(){var e=Pl;return Pl<<=1,!(Pl&4194240)&&(Pl=64),e}function Td(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_r(t),e[t]=r}function ME(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-_r(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Tm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_r(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var _e=0;function _x(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sx,Am,Nx,kx,Ex,Bf=!1,Al=[],Yn=null,Jn=null,Xn=null,ki=new Map,Ei=new Map,Mn=[],DE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pv(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(t.pointerId)}}function Ha(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=sl(t),t!==null&&Am(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function LE(e,t,r,n,s){switch(t){case"focusin":return Yn=Ha(Yn,e,t,r,n,s),!0;case"dragenter":return Jn=Ha(Jn,e,t,r,n,s),!0;case"mouseover":return Xn=Ha(Xn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return ki.set(o,Ha(ki.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Ei.set(o,Ha(Ei.get(o)||null,e,t,r,n,s)),!0}return!1}function Cx(e){var t=Rs(e.target);if(t!==null){var r=to(t);if(r!==null){if(t=r.tag,t===13){if(t=gx(r),t!==null){e.blockedOn=t,Ex(e.priority,function(){Nx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Lf=n,r.target.dispatchEvent(n),Lf=null}else return t=sl(r),t!==null&&Am(t),e.blockedOn=r,!1;t.shift()}return!0}function gv(e,t,r){cc(e)&&r.delete(t)}function $E(){Bf=!1,Yn!==null&&cc(Yn)&&(Yn=null),Jn!==null&&cc(Jn)&&(Jn=null),Xn!==null&&cc(Xn)&&(Xn=null),ki.forEach(gv),Ei.forEach(gv)}function Ka(e,t){e.blockedOn===t&&(e.blockedOn=null,Bf||(Bf=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,$E)))}function Ci(e){function t(s){return Ka(s,e)}if(0<Al.length){Ka(Al[0],e);for(var r=1;r<Al.length;r++){var n=Al[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yn!==null&&Ka(Yn,e),Jn!==null&&Ka(Jn,e),Xn!==null&&Ka(Xn,e),ki.forEach(t),Ei.forEach(t),r=0;r<Mn.length;r++)n=Mn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mn.length&&(r=Mn[0],r.blockedOn===null);)Cx(r),r.blockedOn===null&&Mn.shift()}var Fo=yn.ReactCurrentBatchConfig,Tc=!0;function FE(e,t,r,n){var s=_e,o=Fo.transition;Fo.transition=null;try{_e=1,Im(e,t,r,n)}finally{_e=s,Fo.transition=o}}function zE(e,t,r,n){var s=_e,o=Fo.transition;Fo.transition=null;try{_e=4,Im(e,t,r,n)}finally{_e=s,Fo.transition=o}}function Im(e,t,r,n){if(Tc){var s=Vf(e,t,r,n);if(s===null)Ud(e,t,n,Ac,r),pv(e,n);else if(LE(s,e,t,r,n))n.stopPropagation();else if(pv(e,n),t&4&&-1<DE.indexOf(e)){for(;s!==null;){var o=sl(s);if(o!==null&&Sx(o),o=Vf(e,t,r,n),o===null&&Ud(e,t,n,Ac,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Ud(e,t,n,null,r)}}var Ac=null;function Vf(e,t,r,n){if(Ac=null,e=Rm(n),e=Rs(e),e!==null)if(t=to(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ac=e,null}function Rx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EE()){case Pm:return 1;case wx:return 4;case Rc:case CE:return 16;case bx:return 536870912;default:return 16}default:return 16}}var Kn=null,Om=null,uc=null;function Px(){if(uc)return uc;var e,t=Om,r=t.length,n,s="value"in Kn?Kn.value:Kn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return uc=s.slice(e,1<n?1-n:void 0)}function dc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function vv(){return!1}function Qt(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Il:vv,this.isPropagationStopped=vv,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),t}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=Qt(ja),nl=Fe({},ja,{view:0,detail:0}),UE=Qt(nl),Ad,Id,Ga,xu=Fe({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ga&&(Ga&&e.type==="mousemove"?(Ad=e.screenX-Ga.screenX,Id=e.screenY-Ga.screenY):Id=Ad=0,Ga=e),Ad)},movementY:function(e){return"movementY"in e?e.movementY:Id}}),yv=Qt(xu),BE=Fe({},xu,{dataTransfer:0}),VE=Qt(BE),qE=Fe({},nl,{relatedTarget:0}),Od=Qt(qE),WE=Fe({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),HE=Qt(WE),KE=Fe({},ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),GE=Qt(KE),QE=Fe({},ja,{data:0}),xv=Qt(QE),YE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XE[e])?!!t[e]:!1}function Dm(){return ZE}var eC=Fe({},nl,{key:function(e){if(e.key){var t=YE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dm,charCode:function(e){return e.type==="keypress"?dc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tC=Qt(eC),rC=Fe({},xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wv=Qt(rC),nC=Fe({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dm}),sC=Qt(nC),oC=Fe({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),aC=Qt(oC),iC=Fe({},xu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lC=Qt(iC),cC=[9,13,27,32],Lm=ln&&"CompositionEvent"in window,fi=null;ln&&"documentMode"in document&&(fi=document.documentMode);var uC=ln&&"TextEvent"in window&&!fi,Tx=ln&&(!Lm||fi&&8<fi&&11>=fi),bv=" ",jv=!1;function Ax(e,t){switch(e){case"keyup":return cC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ix(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var So=!1;function dC(e,t){switch(e){case"compositionend":return Ix(t);case"keypress":return t.which!==32?null:(jv=!0,bv);case"textInput":return e=t.data,e===bv&&jv?null:e;default:return null}}function fC(e,t){if(So)return e==="compositionend"||!Lm&&Ax(e,t)?(e=Px(),uc=Om=Kn=null,So=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tx&&t.locale!=="ko"?null:t.data;default:return null}}var hC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _v(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hC[e.type]:t==="textarea"}function Ox(e,t,r,n){dx(n),t=Ic(t,"onChange"),0<t.length&&(r=new Mm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var hi=null,Ri=null;function mC(e){Wx(e,0)}function wu(e){var t=Eo(e);if(sx(t))return e}function pC(e,t){if(e==="change")return t}var Mx=!1;if(ln){var Md;if(ln){var Dd="oninput"in document;if(!Dd){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),Dd=typeof Sv.oninput=="function"}Md=Dd}else Md=!1;Mx=Md&&(!document.documentMode||9<document.documentMode)}function Nv(){hi&&(hi.detachEvent("onpropertychange",Dx),Ri=hi=null)}function Dx(e){if(e.propertyName==="value"&&wu(Ri)){var t=[];Ox(t,Ri,e,Rm(e)),px(mC,t)}}function gC(e,t,r){e==="focusin"?(Nv(),hi=t,Ri=r,hi.attachEvent("onpropertychange",Dx)):e==="focusout"&&Nv()}function vC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Ri)}function yC(e,t){if(e==="click")return wu(t)}function xC(e,t){if(e==="input"||e==="change")return wu(t)}function wC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nr=typeof Object.is=="function"?Object.is:wC;function Pi(e,t){if(Nr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Nf.call(t,s)||!Nr(e[s],t[s]))return!1}return!0}function kv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ev(e,t){var r=kv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kv(r)}}function Lx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $x(){for(var e=window,t=kc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kc(e.document)}return t}function $m(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bC(e){var t=$x(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Lx(r.ownerDocument.documentElement,r)){if(n!==null&&$m(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Ev(r,o);var i=Ev(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jC=ln&&"documentMode"in document&&11>=document.documentMode,No=null,qf=null,mi=null,Wf=!1;function Cv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wf||No==null||No!==kc(n)||(n=No,"selectionStart"in n&&$m(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mi&&Pi(mi,n)||(mi=n,n=Ic(qf,"onSelect"),0<n.length&&(t=new Mm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=No)))}function Ol(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ko={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},Ld={},Fx={};ln&&(Fx=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function bu(e){if(Ld[e])return Ld[e];if(!ko[e])return e;var t=ko[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Fx)return Ld[e]=t[r];return e}var zx=bu("animationend"),Ux=bu("animationiteration"),Bx=bu("animationstart"),Vx=bu("transitionend"),qx=new Map,Rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(e,t){qx.set(e,t),eo(t,[e])}for(var $d=0;$d<Rv.length;$d++){var Fd=Rv[$d],_C=Fd.toLowerCase(),SC=Fd[0].toUpperCase()+Fd.slice(1);ms(_C,"on"+SC)}ms(zx,"onAnimationEnd");ms(Ux,"onAnimationIteration");ms(Bx,"onAnimationStart");ms("dblclick","onDoubleClick");ms("focusin","onFocus");ms("focusout","onBlur");ms(Vx,"onTransitionEnd");la("onMouseEnter",["mouseout","mouseover"]);la("onMouseLeave",["mouseout","mouseover"]);la("onPointerEnter",["pointerout","pointerover"]);la("onPointerLeave",["pointerout","pointerover"]);eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NC=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function Pv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_E(n,t,void 0,e),e.currentTarget=null}function Wx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Pv(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Pv(s,l,u),o=c}}}if(Cc)throw e=zf,Cc=!1,zf=null,e}function Pe(e,t){var r=t[Yf];r===void 0&&(r=t[Yf]=new Set);var n=e+"__bubble";r.has(n)||(Hx(t,e,2,!1),r.add(n))}function zd(e,t,r){var n=0;t&&(n|=4),Hx(r,e,n,t)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function Ti(e){if(!e[Ml]){e[Ml]=!0,Zy.forEach(function(r){r!=="selectionchange"&&(NC.has(r)||zd(r,!1,e),zd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ml]||(t[Ml]=!0,zd("selectionchange",!1,t))}}function Hx(e,t,r,n){switch(Rx(t)){case 1:var s=FE;break;case 4:s=zE;break;default:s=Im}r=s.bind(null,t,r,e),s=void 0,!Ff||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ud(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Rs(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}px(function(){var u=o,f=Rm(r),d=[];e:{var h=qx.get(e);if(h!==void 0){var p=Mm,x=e;switch(e){case"keypress":if(dc(r)===0)break e;case"keydown":case"keyup":p=tC;break;case"focusin":x="focus",p=Od;break;case"focusout":x="blur",p=Od;break;case"beforeblur":case"afterblur":p=Od;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=VE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=sC;break;case zx:case Ux:case Bx:p=HE;break;case Vx:p=aC;break;case"scroll":p=UE;break;case"wheel":p=lC;break;case"copy":case"cut":case"paste":p=GE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wv}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=Ni(v,y),j!=null&&g.push(Ai(v,j,b)))),w)break;v=v.return}0<g.length&&(h=new p(h,x,null,r,f),d.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Lf&&(x=r.relatedTarget||r.fromElement)&&(Rs(x)||x[cn]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?Rs(x):null,x!==null&&(w=to(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(g=yv,j="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=wv,j="onPointerLeave",y="onPointerEnter",v="pointer"),w=p==null?h:Eo(p),b=x==null?h:Eo(x),h=new g(j,v+"leave",p,r,f),h.target=w,h.relatedTarget=b,j=null,Rs(f)===u&&(g=new g(y,v+"enter",x,r,f),g.target=b,g.relatedTarget=w,j=g),w=j,p&&x)t:{for(g=p,y=x,v=0,b=g;b;b=fo(b))v++;for(b=0,j=y;j;j=fo(j))b++;for(;0<v-b;)g=fo(g),v--;for(;0<b-v;)y=fo(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=fo(g),y=fo(y)}g=null}else g=null;p!==null&&Tv(d,h,p,g,!1),x!==null&&w!==null&&Tv(d,w,x,g,!0)}}e:{if(h=u?Eo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=pC;else if(_v(h))if(Mx)_=xC;else{_=vC;var k=gC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=yC);if(_&&(_=_(e,u))){Ox(d,_,r,f);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Af(h,"number",h.value)}switch(k=u?Eo(u):window,e){case"focusin":(_v(k)||k.contentEditable==="true")&&(No=k,qf=u,mi=null);break;case"focusout":mi=qf=No=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,Cv(d,r,f);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":Cv(d,r,f)}var N;if(Lm)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else So?Ax(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Tx&&r.locale!=="ko"&&(So||E!=="onCompositionStart"?E==="onCompositionEnd"&&So&&(N=Px()):(Kn=f,Om="value"in Kn?Kn.value:Kn.textContent,So=!0)),k=Ic(u,E),0<k.length&&(E=new xv(E,e,null,r,f),d.push({event:E,listeners:k}),N?E.data=N:(N=Ix(r),N!==null&&(E.data=N)))),(N=uC?dC(e,r):fC(e,r))&&(u=Ic(u,"onBeforeInput"),0<u.length&&(f=new xv("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=N))}Wx(d,t)})}function Ai(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ic(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ni(e,r),o!=null&&n.unshift(Ai(e,o,s)),o=Ni(e,t),o!=null&&n.push(Ai(e,o,s))),e=e.return}return n}function fo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tv(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ni(r,o),c!=null&&i.unshift(Ai(r,c,l))):s||(c=Ni(r,o),c!=null&&i.push(Ai(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var kC=/\r\n?/g,EC=/\u0000|\uFFFD/g;function Av(e){return(typeof e=="string"?e:""+e).replace(kC,`
`).replace(EC,"")}function Dl(e,t,r){if(t=Av(t),Av(e)!==t&&r)throw Error(D(425))}function Oc(){}var Hf=null,Kf=null;function Gf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,CC=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,RC=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(e){return Iv.resolve(null).then(e).catch(PC)}:Qf;function PC(e){setTimeout(function(){throw e})}function Bd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ci(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ci(t)}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ov(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _a=Math.random().toString(36).slice(2),Fr="__reactFiber$"+_a,Ii="__reactProps$"+_a,cn="__reactContainer$"+_a,Yf="__reactEvents$"+_a,TC="__reactListeners$"+_a,AC="__reactHandles$"+_a;function Rs(e){var t=e[Fr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[cn]||r[Fr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ov(e);e!==null;){if(r=e[Fr])return r;e=Ov(e)}return t}e=r,r=e.parentNode}return null}function sl(e){return e=e[Fr]||e[cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Eo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function ju(e){return e[Ii]||null}var Jf=[],Co=-1;function ps(e){return{current:e}}function Ie(e){0>Co||(e.current=Jf[Co],Jf[Co]=null,Co--)}function Ee(e,t){Co++,Jf[Co]=e.current,e.current=t}var ls={},ht=ps(ls),It=ps(!1),Bs=ls;function ca(e,t){var r=e.type.contextTypes;if(!r)return ls;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(e){return e=e.childContextTypes,e!=null}function Mc(){Ie(It),Ie(ht)}function Mv(e,t,r){if(ht.current!==ls)throw Error(D(168));Ee(ht,t),Ee(It,r)}function Kx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(D(108,gE(e)||"Unknown",s));return Fe({},r,n)}function Dc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ls,Bs=ht.current,Ee(ht,e),Ee(It,It.current),!0}function Dv(e,t,r){var n=e.stateNode;if(!n)throw Error(D(169));r?(e=Kx(e,t,Bs),n.__reactInternalMemoizedMergedChildContext=e,Ie(It),Ie(ht),Ee(ht,e)):Ie(It),Ee(It,r)}var Zr=null,_u=!1,Vd=!1;function Gx(e){Zr===null?Zr=[e]:Zr.push(e)}function IC(e){_u=!0,Gx(e)}function gs(){if(!Vd&&Zr!==null){Vd=!0;var e=0,t=_e;try{var r=Zr;for(_e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zr=null,_u=!1}catch(s){throw Zr!==null&&(Zr=Zr.slice(e+1)),xx(Pm,gs),s}finally{_e=t,Vd=!1}}return null}var Ro=[],Po=0,Lc=null,$c=0,er=[],tr=0,Vs=null,rn=1,nn="";function _s(e,t){Ro[Po++]=$c,Ro[Po++]=Lc,Lc=e,$c=t}function Qx(e,t,r){er[tr++]=rn,er[tr++]=nn,er[tr++]=Vs,Vs=e;var n=rn;e=nn;var s=32-_r(n)-1;n&=~(1<<s),r+=1;var o=32-_r(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,rn=1<<32-_r(t)+s|r<<s|n,nn=o+e}else rn=1<<o|r<<s|n,nn=e}function Fm(e){e.return!==null&&(_s(e,1),Qx(e,1,0))}function zm(e){for(;e===Lc;)Lc=Ro[--Po],Ro[Po]=null,$c=Ro[--Po],Ro[Po]=null;for(;e===Vs;)Vs=er[--tr],er[tr]=null,nn=er[--tr],er[tr]=null,rn=er[--tr],er[tr]=null}var qt=null,Vt=null,Oe=!1,wr=null;function Yx(e,t){var r=rr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qt=e,Vt=Zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qt=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vs!==null?{id:rn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qt=e,Vt=null,!0):!1;default:return!1}}function Xf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zf(e){if(Oe){var t=Vt;if(t){var r=t;if(!Lv(e,t)){if(Xf(e))throw Error(D(418));t=Zn(r.nextSibling);var n=qt;t&&Lv(e,t)?Yx(n,r):(e.flags=e.flags&-4097|2,Oe=!1,qt=e)}}else{if(Xf(e))throw Error(D(418));e.flags=e.flags&-4097|2,Oe=!1,qt=e}}}function $v(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function Ll(e){if(e!==qt)return!1;if(!Oe)return $v(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gf(e.type,e.memoizedProps)),t&&(t=Vt)){if(Xf(e))throw Jx(),Error(D(418));for(;t;)Yx(e,t),t=Zn(t.nextSibling)}if($v(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vt=Zn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=qt?Zn(e.stateNode.nextSibling):null;return!0}function Jx(){for(var e=Vt;e;)e=Zn(e.nextSibling)}function ua(){Vt=qt=null,Oe=!1}function Um(e){wr===null?wr=[e]:wr.push(e)}var OC=yn.ReactCurrentBatchConfig;function Qa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function $l(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fv(e){var t=e._init;return t(e._payload)}function Xx(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=ns(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,j){return v===null||v.tag!==6?(v=Yd(b,y.mode,j),v.return=y,v):(v=s(v,b),v.return=y,v)}function c(y,v,b,j){var _=b.type;return _===_o?f(y,v,b.props.children,j,b.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===An&&Fv(_)===v.type)?(j=s(v,b.props),j.ref=Qa(y,v,b),j.return=y,j):(j=yc(b.type,b.key,b.props,null,y.mode,j),j.ref=Qa(y,v,b),j.return=y,j)}function u(y,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Jd(b,y.mode,j),v.return=y,v):(v=s(v,b.children||[]),v.return=y,v)}function f(y,v,b,j,_){return v===null||v.tag!==7?(v=zs(b,y.mode,j,_),v.return=y,v):(v=s(v,b),v.return=y,v)}function d(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Yd(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case El:return b=yc(v.type,v.key,v.props,null,y.mode,b),b.ref=Qa(y,null,v),b.return=y,b;case jo:return v=Jd(v,y.mode,b),v.return=y,v;case An:var j=v._init;return d(y,j(v._payload),b)}if(ri(v)||qa(v))return v=zs(v,y.mode,b,null),v.return=y,v;$l(y,v)}return null}function h(y,v,b,j){var _=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(y,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case El:return b.key===_?c(y,v,b,j):null;case jo:return b.key===_?u(y,v,b,j):null;case An:return _=b._init,h(y,v,_(b._payload),j)}if(ri(b)||qa(b))return _!==null?null:f(y,v,b,j,null);$l(y,b)}return null}function p(y,v,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(v,y,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case El:return y=y.get(j.key===null?b:j.key)||null,c(v,y,j,_);case jo:return y=y.get(j.key===null?b:j.key)||null,u(v,y,j,_);case An:var k=j._init;return p(y,v,b,k(j._payload),_)}if(ri(j)||qa(j))return y=y.get(b)||null,f(v,y,j,_,null);$l(v,j)}return null}function x(y,v,b,j){for(var _=null,k=null,N=v,E=v=0,P=null;N!==null&&E<b.length;E++){N.index>E?(P=N,N=null):P=N.sibling;var T=h(y,N,b[E],j);if(T===null){N===null&&(N=P);break}e&&N&&T.alternate===null&&t(y,N),v=o(T,v,E),k===null?_=T:k.sibling=T,k=T,N=P}if(E===b.length)return r(y,N),Oe&&_s(y,E),_;if(N===null){for(;E<b.length;E++)N=d(y,b[E],j),N!==null&&(v=o(N,v,E),k===null?_=N:k.sibling=N,k=N);return Oe&&_s(y,E),_}for(N=n(y,N);E<b.length;E++)P=p(N,y,E,b[E],j),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?E:P.key),v=o(P,v,E),k===null?_=P:k.sibling=P,k=P);return e&&N.forEach(function(M){return t(y,M)}),Oe&&_s(y,E),_}function g(y,v,b,j){var _=qa(b);if(typeof _!="function")throw Error(D(150));if(b=_.call(b),b==null)throw Error(D(151));for(var k=_=null,N=v,E=v=0,P=null,T=b.next();N!==null&&!T.done;E++,T=b.next()){N.index>E?(P=N,N=null):P=N.sibling;var M=h(y,N,T.value,j);if(M===null){N===null&&(N=P);break}e&&N&&M.alternate===null&&t(y,N),v=o(M,v,E),k===null?_=M:k.sibling=M,k=M,N=P}if(T.done)return r(y,N),Oe&&_s(y,E),_;if(N===null){for(;!T.done;E++,T=b.next())T=d(y,T.value,j),T!==null&&(v=o(T,v,E),k===null?_=T:k.sibling=T,k=T);return Oe&&_s(y,E),_}for(N=n(y,N);!T.done;E++,T=b.next())T=p(N,y,E,T.value,j),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?E:T.key),v=o(T,v,E),k===null?_=T:k.sibling=T,k=T);return e&&N.forEach(function(I){return t(y,I)}),Oe&&_s(y,E),_}function w(y,v,b,j){if(typeof b=="object"&&b!==null&&b.type===_o&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case El:e:{for(var _=b.key,k=v;k!==null;){if(k.key===_){if(_=b.type,_===_o){if(k.tag===7){r(y,k.sibling),v=s(k,b.props.children),v.return=y,y=v;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===An&&Fv(_)===k.type){r(y,k.sibling),v=s(k,b.props),v.ref=Qa(y,k,b),v.return=y,y=v;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===_o?(v=zs(b.props.children,y.mode,j,b.key),v.return=y,y=v):(j=yc(b.type,b.key,b.props,null,y.mode,j),j.ref=Qa(y,v,b),j.return=y,y=j)}return i(y);case jo:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=s(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=Jd(b,y.mode,j),v.return=y,y=v}return i(y);case An:return k=b._init,w(y,v,k(b._payload),j)}if(ri(b))return x(y,v,b,j);if(qa(b))return g(y,v,b,j);$l(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,b),v.return=y,y=v):(r(y,v),v=Yd(b,y.mode,j),v.return=y,y=v),i(y)):r(y,v)}return w}var da=Xx(!0),Zx=Xx(!1),Fc=ps(null),zc=null,To=null,Bm=null;function Vm(){Bm=To=zc=null}function qm(e){var t=Fc.current;Ie(Fc),e._currentValue=t}function eh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function zo(e,t){zc=e,Bm=To=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function lr(e){var t=e._currentValue;if(Bm!==e)if(e={context:e,memoizedValue:t,next:null},To===null){if(zc===null)throw Error(D(308));To=e,zc.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Ps=null;function Wm(e){Ps===null?Ps=[e]:Ps.push(e)}function ew(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Wm(t)):(r.next=s.next,s.next=r),t.interleaved=r,un(e,n)}function un(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var In=!1;function Hm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function es(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,un(e,r)}return s=n.interleaved,s===null?(t.next=t,Wm(n)):(t.next=s.next,s.next=t),n.interleaved=t,un(e,r)}function fc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tm(e,r)}}function zv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Uc(e,t,r,n){var s=e.updateQueue;In=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=s.baseState;i=0,f=u=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(h=t,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){d=x.call(p,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(p,d,h):x,h==null)break e;d=Fe({},d,h);break e;case 2:In=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ws|=i,e.lanes=i,e.memoizedState=d}}function Uv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(D(191,s));s.call(n)}}}var ol={},Br=ps(ol),Oi=ps(ol),Mi=ps(ol);function Ts(e){if(e===ol)throw Error(D(174));return e}function Km(e,t){switch(Ee(Mi,t),Ee(Oi,e),Ee(Br,ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Of(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Of(t,e)}Ie(Br),Ee(Br,t)}function fa(){Ie(Br),Ie(Oi),Ie(Mi)}function rw(e){Ts(Mi.current);var t=Ts(Br.current),r=Of(t,e.type);t!==r&&(Ee(Oi,e),Ee(Br,r))}function Gm(e){Oi.current===e&&(Ie(Br),Ie(Oi))}var Le=ps(0);function Bc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qd=[];function Qm(){for(var e=0;e<qd.length;e++)qd[e]._workInProgressVersionPrimary=null;qd.length=0}var hc=yn.ReactCurrentDispatcher,Wd=yn.ReactCurrentBatchConfig,qs=0,$e=null,He=null,Ze=null,Vc=!1,pi=!1,Di=0,MC=0;function ct(){throw Error(D(321))}function Ym(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nr(e[r],t[r]))return!1;return!0}function Jm(e,t,r,n,s,o){if(qs=o,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hc.current=e===null||e.memoizedState===null?FC:zC,e=r(n,s),pi){o=0;do{if(pi=!1,Di=0,25<=o)throw Error(D(301));o+=1,Ze=He=null,t.updateQueue=null,hc.current=UC,e=r(n,s)}while(pi)}if(hc.current=qc,t=He!==null&&He.next!==null,qs=0,Ze=He=$e=null,Vc=!1,t)throw Error(D(300));return e}function Xm(){var e=Di!==0;return Di=0,e}function Ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?$e.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function cr(){if(He===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Ze===null?$e.memoizedState:Ze.next;if(t!==null)Ze=t,He=e;else{if(e===null)throw Error(D(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ze===null?$e.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Li(e,t){return typeof t=="function"?t(e):t}function Hd(e){var t=cr(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=He,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var f=u.lane;if((qs&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,i=n):c=c.next=d,$e.lanes|=f,Ws|=f}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Nr(n,t.memoizedState)||(At=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,$e.lanes|=o,Ws|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Kd(e){var t=cr(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Nr(o,t.memoizedState)||(At=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function nw(){}function sw(e,t){var r=$e,n=cr(),s=t(),o=!Nr(n.memoizedState,s);if(o&&(n.memoizedState=s,At=!0),n=n.queue,Zm(iw.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,$i(9,aw.bind(null,r,n,s,t),void 0,null),tt===null)throw Error(D(349));qs&30||ow(r,t,s)}return s}function ow(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aw(e,t,r,n){t.value=r,t.getSnapshot=n,lw(t)&&cw(e)}function iw(e,t,r){return r(function(){lw(t)&&cw(e)})}function lw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nr(e,r)}catch{return!0}}function cw(e){var t=un(e,1);t!==null&&Sr(t,e,1,-1)}function Bv(e){var t=Ir();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},t.queue=e,e=e.dispatch=$C.bind(null,$e,e),[t.memoizedState,e]}function $i(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function uw(){return cr().memoizedState}function mc(e,t,r,n){var s=Ir();$e.flags|=e,s.memoizedState=$i(1|t,r,void 0,n===void 0?null:n)}function Su(e,t,r,n){var s=cr();n=n===void 0?null:n;var o=void 0;if(He!==null){var i=He.memoizedState;if(o=i.destroy,n!==null&&Ym(n,i.deps)){s.memoizedState=$i(t,r,o,n);return}}$e.flags|=e,s.memoizedState=$i(1|t,r,o,n)}function Vv(e,t){return mc(8390656,8,e,t)}function Zm(e,t){return Su(2048,8,e,t)}function dw(e,t){return Su(4,2,e,t)}function fw(e,t){return Su(4,4,e,t)}function hw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mw(e,t,r){return r=r!=null?r.concat([e]):null,Su(4,4,hw.bind(null,t,e),r)}function ep(){}function pw(e,t){var r=cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ym(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function gw(e,t){var r=cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ym(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function vw(e,t,r){return qs&21?(Nr(r,t)||(r=jx(),$e.lanes|=r,Ws|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=r)}function DC(e,t){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var n=Wd.transition;Wd.transition={};try{e(!1),t()}finally{_e=r,Wd.transition=n}}function yw(){return cr().memoizedState}function LC(e,t,r){var n=rs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xw(e))ww(t,r);else if(r=ew(e,t,r,n),r!==null){var s=bt();Sr(r,e,n,s),bw(r,t,n)}}function $C(e,t,r){var n=rs(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xw(e))ww(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Nr(l,i)){var c=t.interleaved;c===null?(s.next=s,Wm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=ew(e,t,s,n),r!==null&&(s=bt(),Sr(r,e,n,s),bw(r,t,n))}}function xw(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function ww(e,t){pi=Vc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tm(e,r)}}var qc={readContext:lr,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},FC={readContext:lr,useCallback:function(e,t){return Ir().memoizedState=[e,t===void 0?null:t],e},useContext:lr,useEffect:Vv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mc(4194308,4,hw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mc(4194308,4,e,t)},useInsertionEffect:function(e,t){return mc(4,2,e,t)},useMemo:function(e,t){var r=Ir();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ir();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=LC.bind(null,$e,e),[n.memoizedState,e]},useRef:function(e){var t=Ir();return e={current:e},t.memoizedState=e},useState:Bv,useDebugValue:ep,useDeferredValue:function(e){return Ir().memoizedState=e},useTransition:function(){var e=Bv(!1),t=e[0];return e=DC.bind(null,e[1]),Ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=$e,s=Ir();if(Oe){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),tt===null)throw Error(D(349));qs&30||ow(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Vv(iw.bind(null,n,o,e),[e]),n.flags|=2048,$i(9,aw.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ir(),t=tt.identifierPrefix;if(Oe){var r=nn,n=rn;r=(n&~(1<<32-_r(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Di++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=MC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zC={readContext:lr,useCallback:pw,useContext:lr,useEffect:Zm,useImperativeHandle:mw,useInsertionEffect:dw,useLayoutEffect:fw,useMemo:gw,useReducer:Hd,useRef:uw,useState:function(){return Hd(Li)},useDebugValue:ep,useDeferredValue:function(e){var t=cr();return vw(t,He.memoizedState,e)},useTransition:function(){var e=Hd(Li)[0],t=cr().memoizedState;return[e,t]},useMutableSource:nw,useSyncExternalStore:sw,useId:yw,unstable_isNewReconciler:!1},UC={readContext:lr,useCallback:pw,useContext:lr,useEffect:Zm,useImperativeHandle:mw,useInsertionEffect:dw,useLayoutEffect:fw,useMemo:gw,useReducer:Kd,useRef:uw,useState:function(){return Kd(Li)},useDebugValue:ep,useDeferredValue:function(e){var t=cr();return He===null?t.memoizedState=e:vw(t,He.memoizedState,e)},useTransition:function(){var e=Kd(Li)[0],t=cr().memoizedState;return[e,t]},useMutableSource:nw,useSyncExternalStore:sw,useId:yw,unstable_isNewReconciler:!1};function gr(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function th(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nu={isMounted:function(e){return(e=e._reactInternals)?to(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=bt(),s=rs(e),o=on(n,s);o.payload=t,r!=null&&(o.callback=r),t=es(e,o,s),t!==null&&(Sr(t,e,s,n),fc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=bt(),s=rs(e),o=on(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=es(e,o,s),t!==null&&(Sr(t,e,s,n),fc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bt(),n=rs(e),s=on(r,n);s.tag=2,t!=null&&(s.callback=t),t=es(e,s,n),t!==null&&(Sr(t,e,n,r),fc(t,e,n))}};function qv(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Pi(r,n)||!Pi(s,o):!0}function jw(e,t,r){var n=!1,s=ls,o=t.contextType;return typeof o=="object"&&o!==null?o=lr(o):(s=Ot(t)?Bs:ht.current,n=t.contextTypes,o=(n=n!=null)?ca(e,s):ls),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Nu.enqueueReplaceState(t,t.state,null)}function rh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Hm(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=lr(o):(o=Ot(t)?Bs:ht.current,s.context=ca(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(th(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Nu.enqueueReplaceState(s,s.state,null),Uc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ha(e,t){try{var r="",n=t;do r+=pE(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Gd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function nh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var BC=typeof WeakMap=="function"?WeakMap:Map;function _w(e,t,r){r=on(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hc||(Hc=!0,hh=n),nh(e,t)},r}function Sw(e,t,r){r=on(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){nh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){nh(e,t),typeof n!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Hv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new BC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=rR.bind(null,e,t,r),t.then(e,e))}function Kv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=on(-1,1),t.tag=2,es(r,t,1))),r.lanes|=1),e)}var VC=yn.ReactCurrentOwner,At=!1;function xt(e,t,r,n){t.child=e===null?Zx(t,null,r,n):da(t,e.child,r,n)}function Qv(e,t,r,n,s){r=r.render;var o=t.ref;return zo(t,s),n=Jm(e,t,r,n,o,s),r=Xm(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dn(e,t,s)):(Oe&&r&&Fm(t),t.flags|=1,xt(e,t,n,s),t.child)}function Yv(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!lp(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Nw(e,t,o,n,s)):(e=yc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Pi,r(i,n)&&e.ref===t.ref)return dn(e,t,s)}return t.flags|=1,e=ns(o,n),e.ref=t.ref,e.return=t,t.child=e}function Nw(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Pi(o,n)&&e.ref===t.ref)if(At=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,dn(e,t,s)}return sh(e,t,r,n,s)}function kw(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Io,Ut),Ut|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Io,Ut),Ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ee(Io,Ut),Ut|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ee(Io,Ut),Ut|=n;return xt(e,t,s,r),t.child}function Ew(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sh(e,t,r,n,s){var o=Ot(r)?Bs:ht.current;return o=ca(t,o),zo(t,s),r=Jm(e,t,r,n,o,s),n=Xm(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dn(e,t,s)):(Oe&&n&&Fm(t),t.flags|=1,xt(e,t,r,s),t.child)}function Jv(e,t,r,n,s){if(Ot(r)){var o=!0;Dc(t)}else o=!1;if(zo(t,s),t.stateNode===null)pc(e,t),jw(t,r,n),rh(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=lr(u):(u=Ot(r)?Bs:ht.current,u=ca(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Wv(t,i,n,u),In=!1;var h=t.memoizedState;i.state=h,Uc(t,n,i,s),c=t.memoizedState,l!==n||h!==c||It.current||In?(typeof f=="function"&&(th(t,r,f,n),c=t.memoizedState),(l=In||qv(t,r,l,n,h,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,tw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:gr(t.type,l),i.props=u,d=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=lr(c):(c=Ot(r)?Bs:ht.current,c=ca(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||h!==c)&&Wv(t,i,n,c),In=!1,h=t.memoizedState,i.state=h,Uc(t,n,i,s);var x=t.memoizedState;l!==d||h!==x||It.current||In?(typeof p=="function"&&(th(t,r,p,n),x=t.memoizedState),(u=In||qv(t,r,u,n,h,x,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return oh(e,t,r,n,o,s)}function oh(e,t,r,n,s,o){Ew(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Dv(t,r,!1),dn(e,t,o);n=t.stateNode,VC.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=da(t,e.child,null,o),t.child=da(t,null,l,o)):xt(e,t,l,o),t.memoizedState=n.state,s&&Dv(t,r,!0),t.child}function Cw(e){var t=e.stateNode;t.pendingContext?Mv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mv(e,t.context,!1),Km(e,t.containerInfo)}function Xv(e,t,r,n,s){return ua(),Um(s),t.flags|=256,xt(e,t,r,n),t.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function ih(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rw(e,t,r){var n=t.pendingProps,s=Le.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ee(Le,s&1),e===null)return Zf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Cu(i,n,0,null),e=zs(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ih(r),t.memoizedState=ah,e):tp(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return qC(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ns(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=ns(l,o):(o=zs(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?ih(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=ah,n}return o=e.child,e=o.sibling,n=ns(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function tp(e,t){return t=Cu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fl(e,t,r,n){return n!==null&&Um(n),da(t,e.child,null,r),e=tp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qC(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Gd(Error(D(422))),Fl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Cu({mode:"visible",children:n.children},s,0,null),o=zs(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&da(t,e.child,null,i),t.child.memoizedState=ih(i),t.memoizedState=ah,o);if(!(t.mode&1))return Fl(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(D(419)),n=Gd(o,n,void 0),Fl(e,t,i,n)}if(l=(i&e.childLanes)!==0,At||l){if(n=tt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,un(e,s),Sr(n,e,s,-1))}return ip(),n=Gd(Error(D(421))),Fl(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=nR.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Vt=Zn(s.nextSibling),qt=t,Oe=!0,wr=null,e!==null&&(er[tr++]=rn,er[tr++]=nn,er[tr++]=Vs,rn=e.id,nn=e.overflow,Vs=t),t=tp(t,n.children),t.flags|=4096,t)}function Zv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),eh(e.return,t,r)}function Qd(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Pw(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(xt(e,t,n.children,r),n=Le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zv(e,r,t);else if(e.tag===19)Zv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ee(Le,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Bc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Qd(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Bc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Qd(t,!0,r,null,o);break;case"together":Qd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ws|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=ns(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ns(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function WC(e,t,r){switch(t.tag){case 3:Cw(t),ua();break;case 5:rw(t);break;case 1:Ot(t.type)&&Dc(t);break;case 4:Km(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ee(Fc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ee(Le,Le.current&1),t.flags|=128,null):r&t.child.childLanes?Rw(e,t,r):(Ee(Le,Le.current&1),e=dn(e,t,r),e!==null?e.sibling:null);Ee(Le,Le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Pw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(Le,Le.current),n)break;return null;case 22:case 23:return t.lanes=0,kw(e,t,r)}return dn(e,t,r)}var Tw,lh,Aw,Iw;Tw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lh=function(){};Aw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ts(Br.current);var o=null;switch(r){case"input":s=Pf(e,s),n=Pf(e,n),o=[];break;case"select":s=Fe({},s,{value:void 0}),n=Fe({},n,{value:void 0}),o=[];break;case"textarea":s=If(e,s),n=If(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Oc)}Mf(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_i.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pe("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Iw=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ya(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function HC(e,t,r){var n=t.pendingProps;switch(zm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Ot(t.type)&&Mc(),ut(t),null;case 3:return n=t.stateNode,fa(),Ie(It),Ie(ht),Qm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ll(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wr!==null&&(gh(wr),wr=null))),lh(e,t),ut(t),null;case 5:Gm(t);var s=Ts(Mi.current);if(r=t.type,e!==null&&t.stateNode!=null)Aw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(D(166));return ut(t),null}if(e=Ts(Br.current),Ll(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Fr]=t,n[Ii]=o,e=(t.mode&1)!==0,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(s=0;s<si.length;s++)Pe(si[s],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":lv(n,o),Pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",n);break;case"textarea":uv(n,o),Pe("invalid",n)}Mf(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Dl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Dl(n.textContent,l,e),s=["children",""+l]):_i.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Pe("scroll",n)}switch(r){case"input":Cl(n),cv(n,o,!0);break;case"textarea":Cl(n),dv(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Oc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ix(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Fr]=t,e[Ii]=n,Tw(e,t,!1,!1),t.stateNode=e;e:{switch(i=Df(r,n),r){case"dialog":Pe("cancel",e),Pe("close",e),s=n;break;case"iframe":case"object":case"embed":Pe("load",e),s=n;break;case"video":case"audio":for(s=0;s<si.length;s++)Pe(si[s],e);s=n;break;case"source":Pe("error",e),s=n;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),s=n;break;case"details":Pe("toggle",e),s=n;break;case"input":lv(e,n),s=Pf(e,n),Pe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Fe({},n,{value:void 0}),Pe("invalid",e);break;case"textarea":uv(e,n),s=If(e,n),Pe("invalid",e);break;default:s=n}Mf(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?ux(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lx(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Si(e,c):typeof c=="number"&&Si(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_i.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Pe("scroll",e):c!=null&&Nm(e,o,c,i))}switch(r){case"input":Cl(e),cv(e,n,!1);break;case"textarea":Cl(e),dv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+is(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Do(e,!!n.multiple,o,!1):n.defaultValue!=null&&Do(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Oc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)Iw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(r=Ts(Mi.current),Ts(Br.current),Ll(t)){if(n=t.stateNode,r=t.memoizedProps,n[Fr]=t,(o=n.nodeValue!==r)&&(e=qt,e!==null))switch(e.tag){case 3:Dl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dl(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fr]=t,t.stateNode=n}return ut(t),null;case 13:if(Ie(Le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Vt!==null&&t.mode&1&&!(t.flags&128))Jx(),ua(),t.flags|=98560,o=!1;else if(o=Ll(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(D(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[Fr]=t}else ua(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),o=!1}else wr!==null&&(gh(wr),wr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Ye===0&&(Ye=3):ip())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return fa(),lh(e,t),e===null&&Ti(t.stateNode.containerInfo),ut(t),null;case 10:return qm(t.type._context),ut(t),null;case 17:return Ot(t.type)&&Mc(),ut(t),null;case 19:if(Ie(Le),o=t.memoizedState,o===null)return ut(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Ya(o,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Bc(e),i!==null){for(t.flags|=128,Ya(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ee(Le,Le.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ve()>ma&&(t.flags|=128,n=!0,Ya(o,!1),t.lanes=4194304)}else{if(!n)if(e=Bc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ya(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Oe)return ut(t),null}else 2*Ve()-o.renderingStartTime>ma&&r!==1073741824&&(t.flags|=128,n=!0,Ya(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ve(),t.sibling=null,r=Le.current,Ee(Le,n?r&1|2:r&1),t):(ut(t),null);case 22:case 23:return ap(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ut&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function KC(e,t){switch(zm(t),t.tag){case 1:return Ot(t.type)&&Mc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fa(),Ie(It),Ie(ht),Qm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gm(t),null;case 13:if(Ie(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Le),null;case 4:return fa(),null;case 10:return qm(t.type._context),null;case 22:case 23:return ap(),null;case 24:return null;default:return null}}var zl=!1,ft=!1,GC=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ao(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ue(e,t,n)}else r.current=null}function ch(e,t,r){try{r()}catch(n){Ue(e,t,n)}}var e0=!1;function QC(e,t){if(Hf=Tc,e=$x(),$m(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=i+s),d!==o||n!==0&&d.nodeType!==3||(c=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===s&&(l=i),h===o&&++f===n&&(c=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kf={focusedElem:e,selectionRange:r},Tc=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gr(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){Ue(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return x=e0,e0=!1,x}function gi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ch(t,r,o)}s=s.next}while(s!==n)}}function ku(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ow(e){var t=e.alternate;t!==null&&(e.alternate=null,Ow(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fr],delete t[Ii],delete t[Yf],delete t[TC],delete t[AC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mw(e){return e.tag===5||e.tag===3||e.tag===4}function t0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Oc));else if(n!==4&&(e=e.child,e!==null))for(dh(e,t,r),e=e.sibling;e!==null;)dh(e,t,r),e=e.sibling}function fh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fh(e,t,r),e=e.sibling;e!==null;)fh(e,t,r),e=e.sibling}var ot=null,yr=!1;function kn(e,t,r){for(r=r.child;r!==null;)Dw(e,t,r),r=r.sibling}function Dw(e,t,r){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(yu,r)}catch{}switch(r.tag){case 5:ft||Ao(r,t);case 6:var n=ot,s=yr;ot=null,kn(e,t,r),ot=n,yr=s,ot!==null&&(yr?(e=ot,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ot.removeChild(r.stateNode));break;case 18:ot!==null&&(yr?(e=ot,r=r.stateNode,e.nodeType===8?Bd(e.parentNode,r):e.nodeType===1&&Bd(e,r),Ci(e)):Bd(ot,r.stateNode));break;case 4:n=ot,s=yr,ot=r.stateNode.containerInfo,yr=!0,kn(e,t,r),ot=n,yr=s;break;case 0:case 11:case 14:case 15:if(!ft&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ch(r,t,i),s=s.next}while(s!==n)}kn(e,t,r);break;case 1:if(!ft&&(Ao(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ue(r,t,l)}kn(e,t,r);break;case 21:kn(e,t,r);break;case 22:r.mode&1?(ft=(n=ft)||r.memoizedState!==null,kn(e,t,r),ft=n):kn(e,t,r);break;default:kn(e,t,r)}}function r0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new GC),t.forEach(function(n){var s=sR.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function fr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ot=l.stateNode,yr=!1;break e;case 3:ot=l.stateNode.containerInfo,yr=!0;break e;case 4:ot=l.stateNode.containerInfo,yr=!0;break e}l=l.return}if(ot===null)throw Error(D(160));Dw(o,i,s),ot=null,yr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lw(t,e),t=t.sibling}function Lw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fr(t,e),Tr(e),n&4){try{gi(3,e,e.return),ku(3,e)}catch(g){Ue(e,e.return,g)}try{gi(5,e,e.return)}catch(g){Ue(e,e.return,g)}}break;case 1:fr(t,e),Tr(e),n&512&&r!==null&&Ao(r,r.return);break;case 5:if(fr(t,e),Tr(e),n&512&&r!==null&&Ao(r,r.return),e.flags&32){var s=e.stateNode;try{Si(s,"")}catch(g){Ue(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&ox(s,o),Df(l,i);var u=Df(l,o);for(i=0;i<c.length;i+=2){var f=c[i],d=c[i+1];f==="style"?ux(s,d):f==="dangerouslySetInnerHTML"?lx(s,d):f==="children"?Si(s,d):Nm(s,f,d,u)}switch(l){case"input":Tf(s,o);break;case"textarea":ax(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Do(s,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Do(s,!!o.multiple,o.defaultValue,!0):Do(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ii]=o}catch(g){Ue(e,e.return,g)}}break;case 6:if(fr(t,e),Tr(e),n&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Ue(e,e.return,g)}}break;case 3:if(fr(t,e),Tr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ci(t.containerInfo)}catch(g){Ue(e,e.return,g)}break;case 4:fr(t,e),Tr(e);break;case 13:fr(t,e),Tr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(sp=Ve())),n&4&&r0(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(ft=(u=ft)||f,fr(t,e),ft=u):fr(t,e),Tr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(H=e,f=e.child;f!==null;){for(d=H=f;H!==null;){switch(h=H,p=h.child,h.tag){case 0:case 11:case 14:case 15:gi(4,h,h.return);break;case 1:Ao(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Ue(n,r,g)}}break;case 5:Ao(h,h.return);break;case 22:if(h.memoizedState!==null){s0(d);continue}}p!==null?(p.return=h,H=p):s0(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cx("display",i))}catch(g){Ue(e,e.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ue(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fr(t,e),Tr(e),n&4&&r0(e);break;case 21:break;default:fr(t,e),Tr(e)}}function Tr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Mw(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Si(s,""),n.flags&=-33);var o=t0(e);fh(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=t0(e);dh(e,l,i);break;default:throw Error(D(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function YC(e,t,r){H=e,$w(e)}function $w(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var s=H,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||zl;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ft;l=zl;var u=ft;if(zl=i,(ft=c)&&!u)for(H=s;H!==null;)i=H,c=i.child,i.tag===22&&i.memoizedState!==null?o0(s):c!==null?(c.return=i,H=c):o0(s);for(;o!==null;)H=o,$w(o),o=o.sibling;H=s,zl=l,ft=u}n0(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,H=o):n0(e)}}function n0(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||ku(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ft)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:gr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Uv(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Uv(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ci(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}ft||t.flags&512&&uh(t)}catch(h){Ue(t,t.return,h)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function s0(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function o0(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ku(4,t)}catch(c){Ue(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ue(t,s,c)}}var o=t.return;try{uh(t)}catch(c){Ue(t,o,c)}break;case 5:var i=t.return;try{uh(t)}catch(c){Ue(t,i,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var JC=Math.ceil,Wc=yn.ReactCurrentDispatcher,rp=yn.ReactCurrentOwner,sr=yn.ReactCurrentBatchConfig,ve=0,tt=null,We=null,at=0,Ut=0,Io=ps(0),Ye=0,Fi=null,Ws=0,Eu=0,np=0,vi=null,Pt=null,sp=0,ma=1/0,Jr=null,Hc=!1,hh=null,ts=null,Ul=!1,Gn=null,Kc=0,yi=0,mh=null,gc=-1,vc=0;function bt(){return ve&6?Ve():gc!==-1?gc:gc=Ve()}function rs(e){return e.mode&1?ve&2&&at!==0?at&-at:OC.transition!==null?(vc===0&&(vc=jx()),vc):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Rx(e.type)),e):1}function Sr(e,t,r,n){if(50<yi)throw yi=0,mh=null,Error(D(185));rl(e,r,n),(!(ve&2)||e!==tt)&&(e===tt&&(!(ve&2)&&(Eu|=r),Ye===4&&Dn(e,at)),Mt(e,n),r===1&&ve===0&&!(t.mode&1)&&(ma=Ve()+500,_u&&gs()))}function Mt(e,t){var r=e.callbackNode;OE(e,t);var n=Pc(e,e===tt?at:0);if(n===0)r!==null&&mv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&mv(r),t===1)e.tag===0?IC(a0.bind(null,e)):Gx(a0.bind(null,e)),RC(function(){!(ve&6)&&gs()}),r=null;else{switch(_x(n)){case 1:r=Pm;break;case 4:r=wx;break;case 16:r=Rc;break;case 536870912:r=bx;break;default:r=Rc}r=Hw(r,Fw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Fw(e,t){if(gc=-1,vc=0,ve&6)throw Error(D(327));var r=e.callbackNode;if(Uo()&&e.callbackNode!==r)return null;var n=Pc(e,e===tt?at:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Gc(e,n);else{t=n;var s=ve;ve|=2;var o=Uw();(tt!==e||at!==t)&&(Jr=null,ma=Ve()+500,Fs(e,t));do try{eR();break}catch(l){zw(e,l)}while(!0);Vm(),Wc.current=o,ve=s,We!==null?t=0:(tt=null,at=0,t=Ye)}if(t!==0){if(t===2&&(s=Uf(e),s!==0&&(n=s,t=ph(e,s))),t===1)throw r=Fi,Fs(e,0),Dn(e,n),Mt(e,Ve()),r;if(t===6)Dn(e,n);else{if(s=e.current.alternate,!(n&30)&&!XC(s)&&(t=Gc(e,n),t===2&&(o=Uf(e),o!==0&&(n=o,t=ph(e,o))),t===1))throw r=Fi,Fs(e,0),Dn(e,n),Mt(e,Ve()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(D(345));case 2:Ss(e,Pt,Jr);break;case 3:if(Dn(e,n),(n&130023424)===n&&(t=sp+500-Ve(),10<t)){if(Pc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){bt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Qf(Ss.bind(null,e,Pt,Jr),t);break}Ss(e,Pt,Jr);break;case 4:if(Dn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-_r(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*JC(n/1960))-n,10<n){e.timeoutHandle=Qf(Ss.bind(null,e,Pt,Jr),n);break}Ss(e,Pt,Jr);break;case 5:Ss(e,Pt,Jr);break;default:throw Error(D(329))}}}return Mt(e,Ve()),e.callbackNode===r?Fw.bind(null,e):null}function ph(e,t){var r=vi;return e.current.memoizedState.isDehydrated&&(Fs(e,t).flags|=256),e=Gc(e,t),e!==2&&(t=Pt,Pt=r,t!==null&&gh(t)),e}function gh(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function XC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Nr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t){for(t&=~np,t&=~Eu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_r(t),n=1<<r;e[r]=-1,t&=~n}}function a0(e){if(ve&6)throw Error(D(327));Uo();var t=Pc(e,0);if(!(t&1))return Mt(e,Ve()),null;var r=Gc(e,t);if(e.tag!==0&&r===2){var n=Uf(e);n!==0&&(t=n,r=ph(e,n))}if(r===1)throw r=Fi,Fs(e,0),Dn(e,t),Mt(e,Ve()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e,Pt,Jr),Mt(e,Ve()),null}function op(e,t){var r=ve;ve|=1;try{return e(t)}finally{ve=r,ve===0&&(ma=Ve()+500,_u&&gs())}}function Hs(e){Gn!==null&&Gn.tag===0&&!(ve&6)&&Uo();var t=ve;ve|=1;var r=sr.transition,n=_e;try{if(sr.transition=null,_e=1,e)return e()}finally{_e=n,sr.transition=r,ve=t,!(ve&6)&&gs()}}function ap(){Ut=Io.current,Ie(Io)}function Fs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,CC(r)),We!==null)for(r=We.return;r!==null;){var n=r;switch(zm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mc();break;case 3:fa(),Ie(It),Ie(ht),Qm();break;case 5:Gm(n);break;case 4:fa();break;case 13:Ie(Le);break;case 19:Ie(Le);break;case 10:qm(n.type._context);break;case 22:case 23:ap()}r=r.return}if(tt=e,We=e=ns(e.current,null),at=Ut=t,Ye=0,Fi=null,np=Eu=Ws=0,Pt=vi=null,Ps!==null){for(t=0;t<Ps.length;t++)if(r=Ps[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Ps=null}return e}function zw(e,t){do{var r=We;try{if(Vm(),hc.current=qc,Vc){for(var n=$e.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Vc=!1}if(qs=0,Ze=He=$e=null,pi=!1,Di=0,rp.current=null,r===null||r.return===null){Ye=1,Fi=t,We=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=at,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Kv(i);if(p!==null){p.flags&=-257,Gv(p,i,l,o,t),p.mode&1&&Hv(o,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Hv(o,u,t),ip();break e}c=Error(D(426))}}else if(Oe&&l.mode&1){var w=Kv(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Gv(w,i,l,o,t),Um(ha(c,l));break e}}o=c=ha(c,l),Ye!==4&&(Ye=2),vi===null?vi=[o]:vi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=_w(o,c,t);zv(o,y);break e;case 1:l=c;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ts===null||!ts.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Sw(o,l,t);zv(o,j);break e}}o=o.return}while(o!==null)}Vw(r)}catch(_){t=_,We===r&&r!==null&&(We=r=r.return);continue}break}while(!0)}function Uw(){var e=Wc.current;return Wc.current=qc,e===null?qc:e}function ip(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),tt===null||!(Ws&268435455)&&!(Eu&268435455)||Dn(tt,at)}function Gc(e,t){var r=ve;ve|=2;var n=Uw();(tt!==e||at!==t)&&(Jr=null,Fs(e,t));do try{ZC();break}catch(s){zw(e,s)}while(!0);if(Vm(),ve=r,Wc.current=n,We!==null)throw Error(D(261));return tt=null,at=0,Ye}function ZC(){for(;We!==null;)Bw(We)}function eR(){for(;We!==null&&!NE();)Bw(We)}function Bw(e){var t=Ww(e.alternate,e,Ut);e.memoizedProps=e.pendingProps,t===null?Vw(e):We=t,rp.current=null}function Vw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=KC(r,t),r!==null){r.flags&=32767,We=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,We=null;return}}else if(r=HC(r,t,Ut),r!==null){We=r;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Ye===0&&(Ye=5)}function Ss(e,t,r){var n=_e,s=sr.transition;try{sr.transition=null,_e=1,tR(e,t,r,n)}finally{sr.transition=s,_e=n}return null}function tR(e,t,r,n){do Uo();while(Gn!==null);if(ve&6)throw Error(D(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(ME(e,o),e===tt&&(We=tt=null,at=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ul||(Ul=!0,Hw(Rc,function(){return Uo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=sr.transition,sr.transition=null;var i=_e;_e=1;var l=ve;ve|=4,rp.current=null,QC(e,r),Lw(r,e),bC(Kf),Tc=!!Hf,Kf=Hf=null,e.current=r,YC(r),kE(),ve=l,_e=i,sr.transition=o}else e.current=r;if(Ul&&(Ul=!1,Gn=e,Kc=s),o=e.pendingLanes,o===0&&(ts=null),RE(r.stateNode),Mt(e,Ve()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Hc)throw Hc=!1,e=hh,hh=null,e;return Kc&1&&e.tag!==0&&Uo(),o=e.pendingLanes,o&1?e===mh?yi++:(yi=0,mh=e):yi=0,gs(),null}function Uo(){if(Gn!==null){var e=_x(Kc),t=sr.transition,r=_e;try{if(sr.transition=null,_e=16>e?16:e,Gn===null)var n=!1;else{if(e=Gn,Gn=null,Kc=0,ve&6)throw Error(D(331));var s=ve;for(ve|=4,H=e.current;H!==null;){var o=H,i=o.child;if(H.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(H=u;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:gi(8,f,o)}var d=f.child;if(d!==null)d.return=f,H=d;else for(;H!==null;){f=H;var h=f.sibling,p=f.return;if(Ow(f),f===u){H=null;break}if(h!==null){h.return=p,H=h;break}H=p}}}var x=o.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}H=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,H=i;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gi(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,H=y;break e}H=o.return}}var v=e.current;for(H=v;H!==null;){i=H;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,H=b;else e:for(i=v;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ku(9,l)}}catch(_){Ue(l,l.return,_)}if(l===i){H=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,H=j;break e}H=l.return}}if(ve=s,gs(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(yu,e)}catch{}n=!0}return n}finally{_e=r,sr.transition=t}}return!1}function i0(e,t,r){t=ha(r,t),t=_w(e,t,1),e=es(e,t,1),t=bt(),e!==null&&(rl(e,1,t),Mt(e,t))}function Ue(e,t,r){if(e.tag===3)i0(e,e,r);else for(;t!==null;){if(t.tag===3){i0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ts===null||!ts.has(n))){e=ha(r,e),e=Sw(t,e,1),t=es(t,e,1),e=bt(),t!==null&&(rl(t,1,e),Mt(t,e));break}}t=t.return}}function rR(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=bt(),e.pingedLanes|=e.suspendedLanes&r,tt===e&&(at&r)===r&&(Ye===4||Ye===3&&(at&130023424)===at&&500>Ve()-sp?Fs(e,0):np|=r),Mt(e,t)}function qw(e,t){t===0&&(e.mode&1?(t=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):t=1);var r=bt();e=un(e,t),e!==null&&(rl(e,t,r),Mt(e,r))}function nR(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qw(e,r)}function sR(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(t),qw(e,r)}var Ww;Ww=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)At=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return At=!1,WC(e,t,r);At=!!(e.flags&131072)}else At=!1,Oe&&t.flags&1048576&&Qx(t,$c,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;pc(e,t),e=t.pendingProps;var s=ca(t,ht.current);zo(t,r),s=Jm(null,t,n,e,s,r);var o=Xm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(n)?(o=!0,Dc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hm(t),s.updater=Nu,t.stateNode=s,s._reactInternals=t,rh(t,n,e,r),t=oh(null,t,n,!0,o,r)):(t.tag=0,Oe&&o&&Fm(t),xt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(pc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=aR(n),e=gr(n,e),s){case 0:t=sh(null,t,n,e,r);break e;case 1:t=Jv(null,t,n,e,r);break e;case 11:t=Qv(null,t,n,e,r);break e;case 14:t=Yv(null,t,n,gr(n.type,e),r);break e}throw Error(D(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gr(n,s),sh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gr(n,s),Jv(e,t,n,s,r);case 3:e:{if(Cw(t),e===null)throw Error(D(387));n=t.pendingProps,o=t.memoizedState,s=o.element,tw(e,t),Uc(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ha(Error(D(423)),t),t=Xv(e,t,n,r,s);break e}else if(n!==s){s=ha(Error(D(424)),t),t=Xv(e,t,n,r,s);break e}else for(Vt=Zn(t.stateNode.containerInfo.firstChild),qt=t,Oe=!0,wr=null,r=Zx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ua(),n===s){t=dn(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 5:return rw(t),e===null&&Zf(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Gf(n,s)?i=null:o!==null&&Gf(n,o)&&(t.flags|=32),Ew(e,t),xt(e,t,i,r),t.child;case 6:return e===null&&Zf(t),null;case 13:return Rw(e,t,r);case 4:return Km(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=da(t,null,n,r):xt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gr(n,s),Qv(e,t,n,s,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ee(Fc,n._currentValue),n._currentValue=i,o!==null)if(Nr(o.value,i)){if(o.children===s.children&&!It.current){t=dn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=on(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),eh(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(D(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),eh(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}xt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,zo(t,r),s=lr(s),n=n(s),t.flags|=1,xt(e,t,n,r),t.child;case 14:return n=t.type,s=gr(n,t.pendingProps),s=gr(n.type,s),Yv(e,t,n,s,r);case 15:return Nw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gr(n,s),pc(e,t),t.tag=1,Ot(n)?(e=!0,Dc(t)):e=!1,zo(t,r),jw(t,n,s),rh(t,n,s,r),oh(null,t,n,!0,e,r);case 19:return Pw(e,t,r);case 22:return kw(e,t,r)}throw Error(D(156,t.tag))};function Hw(e,t){return xx(e,t)}function oR(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(e,t,r,n){return new oR(e,t,r,n)}function lp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aR(e){if(typeof e=="function")return lp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Em)return 11;if(e===Cm)return 14}return 2}function ns(e,t){var r=e.alternate;return r===null?(r=rr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yc(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")lp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case _o:return zs(r.children,s,o,t);case km:i=8,s|=8;break;case kf:return e=rr(12,r,t,s|2),e.elementType=kf,e.lanes=o,e;case Ef:return e=rr(13,r,t,s),e.elementType=Ef,e.lanes=o,e;case Cf:return e=rr(19,r,t,s),e.elementType=Cf,e.lanes=o,e;case rx:return Cu(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ex:i=10;break e;case tx:i=9;break e;case Em:i=11;break e;case Cm:i=14;break e;case An:i=16,n=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=rr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function zs(e,t,r,n){return e=rr(7,e,n,t),e.lanes=r,e}function Cu(e,t,r,n){return e=rr(22,e,n,t),e.elementType=rx,e.lanes=r,e.stateNode={isHidden:!1},e}function Yd(e,t,r){return e=rr(6,e,null,t),e.lanes=r,e}function Jd(e,t,r){return t=rr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iR(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Td(0),this.expirationTimes=Td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Td(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cp(e,t,r,n,s,o,i,l,c){return e=new iR(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=rr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hm(o),e}function lR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Kw(e){if(!e)return ls;e=e._reactInternals;e:{if(to(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(Ot(r))return Kx(e,r,t)}return t}function Gw(e,t,r,n,s,o,i,l,c){return e=cp(r,n,!0,e,s,o,i,l,c),e.context=Kw(null),r=e.current,n=bt(),s=rs(r),o=on(n,s),o.callback=t??null,es(r,o,s),e.current.lanes=s,rl(e,s,n),Mt(e,n),e}function Ru(e,t,r,n){var s=t.current,o=bt(),i=rs(s);return r=Kw(r),t.context===null?t.context=r:t.pendingContext=r,t=on(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=es(s,t,i),e!==null&&(Sr(e,s,i,o),fc(e,s,i)),i}function Qc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function l0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function up(e,t){l0(e,t),(e=e.alternate)&&l0(e,t)}function cR(){return null}var Qw=typeof reportError=="function"?reportError:function(e){console.error(e)};function dp(e){this._internalRoot=e}Pu.prototype.render=dp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Ru(e,t,null,null)};Pu.prototype.unmount=dp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hs(function(){Ru(null,e,null,null)}),t[cn]=null}};function Pu(e){this._internalRoot=e}Pu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mn.length&&t!==0&&t<Mn[r].priority;r++);Mn.splice(r,0,e),r===0&&Cx(e)}};function fp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function c0(){}function uR(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Qc(i);o.call(u)}}var i=Gw(t,n,e,0,null,!1,!1,"",c0);return e._reactRootContainer=i,e[cn]=i.current,Ti(e.nodeType===8?e.parentNode:e),Hs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Qc(c);l.call(u)}}var c=cp(e,0,!1,null,null,!1,!1,"",c0);return e._reactRootContainer=c,e[cn]=c.current,Ti(e.nodeType===8?e.parentNode:e),Hs(function(){Ru(t,c,r,n)}),c}function Au(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Qc(i);l.call(c)}}Ru(t,i,e,s)}else i=uR(r,t,e,s,n);return Qc(i)}Sx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ni(t.pendingLanes);r!==0&&(Tm(t,r|1),Mt(t,Ve()),!(ve&6)&&(ma=Ve()+500,gs()))}break;case 13:Hs(function(){var n=un(e,1);if(n!==null){var s=bt();Sr(n,e,1,s)}}),up(e,1)}};Am=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var r=bt();Sr(t,e,134217728,r)}up(e,134217728)}};Nx=function(e){if(e.tag===13){var t=rs(e),r=un(e,t);if(r!==null){var n=bt();Sr(r,e,t,n)}up(e,t)}};kx=function(){return _e};Ex=function(e,t){var r=_e;try{return _e=e,t()}finally{_e=r}};$f=function(e,t,r){switch(t){case"input":if(Tf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ju(n);if(!s)throw Error(D(90));sx(n),Tf(n,s)}}}break;case"textarea":ax(e,r);break;case"select":t=r.value,t!=null&&Do(e,!!r.multiple,t,!1)}};hx=op;mx=Hs;var dR={usingClientEntryPoint:!1,Events:[sl,Eo,ju,dx,fx,op]},Ja={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fR={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||cR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{yu=Bl.inject(fR),Ur=Bl}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dR;Gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fp(t))throw Error(D(200));return lR(e,t,null,r)};Gt.createRoot=function(e,t){if(!fp(e))throw Error(D(299));var r=!1,n="",s=Qw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=cp(e,1,!1,null,null,r,!1,n,s),e[cn]=t.current,Ti(e.nodeType===8?e.parentNode:e),new dp(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=vx(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return Hs(e)};Gt.hydrate=function(e,t,r){if(!Tu(t))throw Error(D(200));return Au(null,e,t,!0,r)};Gt.hydrateRoot=function(e,t,r){if(!fp(e))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Qw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Gw(t,null,e,1,r??null,s,!1,o,i),e[cn]=t.current,Ti(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Pu(t)};Gt.render=function(e,t,r){if(!Tu(t))throw Error(D(200));return Au(null,e,t,!1,r)};Gt.unmountComponentAtNode=function(e){if(!Tu(e))throw Error(D(40));return e._reactRootContainer?(Hs(function(){Au(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0):!1};Gt.unstable_batchedUpdates=op;Gt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Tu(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Au(e,t,r,!1,n)};Gt.version="18.3.1-next-f1338f8080-20240426";function Yw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yw)}catch(e){console.error(e)}}Yw(),Yy.exports=Gt;var ro=Yy.exports;const Jw=Ly(ro);var Xw,u0=ro;Xw=u0.createRoot,u0.hydrateRoot;const hR=1,mR=1e6;let Xd=0;function pR(){return Xd=(Xd+1)%Number.MAX_SAFE_INTEGER,Xd.toString()}const Zd=new Map,d0=e=>{if(Zd.has(e))return;const t=setTimeout(()=>{Zd.delete(e),xi({type:"REMOVE_TOAST",toastId:e})},mR);Zd.set(e,t)},gR=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,hR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?d0(r):e.toasts.forEach(n=>{d0(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},xc=[];let wc={toasts:[]};function xi(e){wc=gR(wc,e),xc.forEach(t=>{t(wc)})}function Or({...e}){const t=pR(),r=s=>xi({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>xi({type:"DISMISS_TOAST",toastId:t});return xi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function dr(){const[e,t]=A.useState(wc);return A.useEffect(()=>(xc.push(t),()=>{const r=xc.indexOf(t);r>-1&&xc.splice(r,1)}),[e]),{...e,toast:Or,dismiss:r=>xi({type:"DISMISS_TOAST",toastId:r})}}function L(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function vR(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Iu(...e){return t=>e.forEach(r=>vR(r,t))}function ne(...e){return m.useCallback(Iu(...e),e)}function yR(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(d){const{scope:h,children:p,...x}=d,g=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,x=m.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,xR(s,...t)]}function xR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var fn=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),o=s.find(wR);if(o){const i=o.props.children,l=s.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return a.jsx(vh,{...n,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return a.jsx(vh,{...n,ref:t,children:r})});fn.displayName="Slot";var vh=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=jR(r);return m.cloneElement(r,{...bR(n,r.props),ref:t?Iu(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});vh.displayName="SlotClone";var hp=({children:e})=>a.jsx(a.Fragment,{children:e});function wR(e){return m.isValidElement(e)&&e.type===hp}function bR(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function jR(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Sa(e){const t=e+"CollectionProvider",[r,n]=yR(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:x,children:g}=p,w=A.useRef(null),y=A.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:y,collectionRef:w,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=A.forwardRef((p,x)=>{const{scope:g,children:w}=p,y=o(l,g),v=ne(x,y.collectionRef);return a.jsx(fn,{ref:v,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=A.forwardRef((p,x)=>{const{scope:g,children:w,...y}=p,v=A.useRef(null),b=ne(x,v),j=o(u,g);return A.useEffect(()=>(j.itemMap.set(v,{ref:v,...y}),()=>void j.itemMap.delete(v))),a.jsx(fn,{[f]:"",ref:b,children:w})});d.displayName=u;function h(p){const x=o(e+"CollectionConsumer",p);return A.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,_)=>y.indexOf(j.ref.current)-y.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:c,ItemSlot:d},h,n]}function _R(e,t){const r=m.createContext(t),n=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function St(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=d=>{var y;const{scope:h,children:p,...x}=d,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:p})};u.displayName=o+"Provider";function f(d,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=m.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,SR(s,...t)]}function SR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var NR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],K=NR.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:o,...i}=n,l=o?fn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function mp(e,t){e&&ro.flushSync(()=>e.dispatchEvent(t))}function lt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function kR(e,t=globalThis==null?void 0:globalThis.document){const r=lt(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var ER="DismissableLayer",yh="dismissableLayer.update",CR="dismissableLayer.pointerDownOutside",RR="dismissableLayer.focusOutside",f0,Zw=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Na=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(Zw),[f,d]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),x=ne(t,N=>d(N)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),v=f?g.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=y,_=TR(N=>{const E=N.target,P=[...u.branches].some(T=>T.contains(E));!j||P||(s==null||s(N),i==null||i(N),N.defaultPrevented||l==null||l())},h),k=AR(N=>{const E=N.target;[...u.branches].some(T=>T.contains(E))||(o==null||o(N),i==null||i(N),N.defaultPrevented||l==null||l())},h);return kR(N=>{v===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(f0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),h0(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=f0)}},[f,h,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),h0())},[f,u]),m.useEffect(()=>{const N=()=>p({});return document.addEventListener(yh,N),()=>document.removeEventListener(yh,N)},[]),a.jsx(K.div,{...c,ref:x,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:L(e.onFocusCapture,k.onFocusCapture),onBlurCapture:L(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:L(e.onPointerDownCapture,_.onPointerDownCapture)})});Na.displayName=ER;var PR="DismissableLayerBranch",eb=m.forwardRef((e,t)=>{const r=m.useContext(Zw),n=m.useRef(null),s=ne(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(K.div,{...e,ref:s})});eb.displayName=PR;function TR(e,t=globalThis==null?void 0:globalThis.document){const r=lt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){tb(CR,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function AR(e,t=globalThis==null?void 0:globalThis.document){const r=lt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!n.current&&tb(RR,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function h0(){const e=new CustomEvent(yh);document.dispatchEvent(e)}function tb(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?mp(s,o):s.dispatchEvent(o)}var IR=Na,OR=eb,Je=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},MR="Portal",al=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=m.useState(!1);Je(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Jw.createPortal(a.jsx(K.div,{...n,ref:t}),i):null});al.displayName=MR;function DR(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Dt=e=>{const{present:t,children:r}=e,n=LR(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=ne(n.ref,$R(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:o}):null};Dt.displayName="Presence";function LR(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=DR(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Vl(n.current);o.current=l==="mounted"?u:"none"},[l]),Je(()=>{const u=n.current,f=s.current;if(f!==e){const h=o.current,p=Vl(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Je(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const g=Vl(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(o.current=Vl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Vl(e){return(e==null?void 0:e.animationName)||"none"}function $R(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Kt({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=FR({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,l=lt(r),c=m.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else s(u)},[o,e,s,l]);return[i,c]}function FR({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),o=lt(t);return m.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var zR="VisuallyHidden",il=m.forwardRef((e,t)=>a.jsx(K.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));il.displayName=zR;var UR=il,pp="ToastProvider",[gp,BR,VR]=Sa("Toast"),[rb,WF]=St("Toast",[VR]),[qR,Ou]=rb(pp),nb=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=m.useState(null),[u,f]=m.useState(0),d=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${pp}\`. Expected non-empty \`string\`.`),a.jsx(gp.Provider,{scope:t,children:a.jsx(qR,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>f(p=>p+1),[]),onToastRemove:m.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:i})})};nb.displayName=pp;var sb="ToastViewport",WR=["F8"],xh="toast.viewportPause",wh="toast.viewportResume",ob=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=WR,label:s="Notifications ({hotkey})",...o}=e,i=Ou(sb,r),l=BR(r),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),d=m.useRef(null),h=ne(t,d,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;m.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),m.useEffect(()=>{const w=c.current,y=d.current;if(x&&w&&y){const v=()=>{if(!i.isClosePausedRef.current){const k=new CustomEvent(xh);y.dispatchEvent(k),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const k=new CustomEvent(wh);y.dispatchEvent(k),i.isClosePausedRef.current=!1}},j=k=>{!w.contains(k.relatedTarget)&&b()},_=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",j),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[x,i.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const j=b.ref.current,_=[j,...s2(j)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const w=d.current;if(w){const y=v=>{var _,k,N;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const E=document.activeElement,P=v.shiftKey;if(v.target===w&&P){(_=u.current)==null||_.focus();return}const I=g({tabbingDirection:P?"backwards":"forwards"}),W=I.findIndex(O=>O===E);ef(I.slice(W+1))?v.preventDefault():P?(k=u.current)==null||k.focus():(N=f.current)==null||N.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,g]),a.jsxs(OR,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(bh,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});ef(w)}}),a.jsx(gp.Slot,{scope:r,children:a.jsx(K.ol,{tabIndex:-1,...o,ref:h})}),x&&a.jsx(bh,{ref:f,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});ef(w)}})]})});ob.displayName=sb;var ab="ToastFocusProxy",bh=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Ou(ab,r);return a.jsx(il,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});bh.displayName=ab;var Mu="Toast",HR="toast.swipeStart",KR="toast.swipeMove",GR="toast.swipeCancel",QR="toast.swipeEnd",ib=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[l=!0,c]=Kt({prop:n,defaultProp:s,onChange:o});return a.jsx(Dt,{present:r||l,children:a.jsx(XR,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:lt(e.onPause),onResume:lt(e.onResume),onSwipeStart:L(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:L(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:L(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:L(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});ib.displayName=Mu;var[YR,JR]=rb(Mu,{onClose(){}}),XR=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...x}=e,g=Ou(Mu,r),[w,y]=m.useState(null),v=ne(t,O=>y(O)),b=m.useRef(null),j=m.useRef(null),_=s||g.duration,k=m.useRef(0),N=m.useRef(_),E=m.useRef(0),{onToastAdd:P,onToastRemove:T}=g,M=lt(()=>{var Y;(w==null?void 0:w.contains(document.activeElement))&&((Y=g.viewport)==null||Y.focus()),i()}),I=m.useCallback(O=>{!O||O===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout(M,O))},[M]);m.useEffect(()=>{const O=g.viewport;if(O){const Y=()=>{I(N.current),u==null||u()},$=()=>{const G=new Date().getTime()-k.current;N.current=N.current-G,window.clearTimeout(E.current),c==null||c()};return O.addEventListener(xh,$),O.addEventListener(wh,Y),()=>{O.removeEventListener(xh,$),O.removeEventListener(wh,Y)}}},[g.viewport,_,c,u,I]),m.useEffect(()=>{o&&!g.isClosePausedRef.current&&I(_)},[o,_,g.isClosePausedRef,I]),m.useEffect(()=>(P(),()=>T()),[P,T]);const W=m.useMemo(()=>w?mb(w):null,[w]);return g.viewport?a.jsxs(a.Fragment,{children:[W&&a.jsx(ZR,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),a.jsx(YR,{scope:r,onClose:M,children:ro.createPortal(a.jsx(gp.ItemSlot,{scope:r,children:a.jsx(IR,{asChild:!0,onEscapeKeyDown:L(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(K.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:L(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:L(e.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:L(e.onPointerMove,O=>{if(!b.current)return;const Y=O.clientX-b.current.x,$=O.clientY-b.current.y,G=!!j.current,C=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,V=C?R(0,Y):0,z=C?0:R(0,$),B=O.pointerType==="touch"?10:2,X={x:V,y:z},re={originalEvent:O,delta:X};G?(j.current=X,ql(KR,d,re,{discrete:!1})):m0(X,g.swipeDirection,B)?(j.current=X,ql(HR,f,re,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(Y)>B||Math.abs($)>B)&&(b.current=null)}),onPointerUp:L(e.onPointerUp,O=>{const Y=j.current,$=O.target;if($.hasPointerCapture(O.pointerId)&&$.releasePointerCapture(O.pointerId),j.current=null,b.current=null,Y){const G=O.currentTarget,C={originalEvent:O,delta:Y};m0(Y,g.swipeDirection,g.swipeThreshold)?ql(QR,p,C,{discrete:!0}):ql(GR,h,C,{discrete:!0}),G.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),ZR=e=>{const{__scopeToast:t,children:r,...n}=e,s=Ou(Mu,t),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return r2(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(al,{asChild:!0,children:a.jsx(il,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},e2="ToastTitle",lb=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(K.div,{...n,ref:t})});lb.displayName=e2;var t2="ToastDescription",cb=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(K.div,{...n,ref:t})});cb.displayName=t2;var ub="ToastAction",db=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(hb,{altText:r,asChild:!0,children:a.jsx(vp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ub}\`. Expected non-empty \`string\`.`),null)});db.displayName=ub;var fb="ToastClose",vp=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=JR(fb,r);return a.jsx(hb,{asChild:!0,children:a.jsx(K.button,{type:"button",...n,ref:t,onClick:L(e.onClick,s.onClose)})})});vp.displayName=fb;var hb=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(K.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function mb(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),n2(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...mb(n))}}),t}function ql(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?mp(s,o):s.dispatchEvent(o)}var m0=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function r2(e=()=>{}){const t=lt(e);Je(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function n2(e){return e.nodeType===e.ELEMENT_NODE}function s2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ef(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var o2=nb,pb=ob,gb=ib,vb=lb,yb=cb,xb=db,wb=vp;function bb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=bb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function jb(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=bb(e))&&(n&&(n+=" "),n+=t);return n}const p0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,g0=jb,ll=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return g0(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],d=o==null?void 0:o[u];if(f===null)return null;const h=p0(f)||p0(d);return s[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...o,...l}[g]):{...o,...l}[g]===w})?[...u,d,h]:u},[]);return g0(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_b=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...i2,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:_b("lucide",s),...l},[...i.map(([u,f])=>m.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const r=m.forwardRef(({className:n,...s},o)=>m.createElement(l2,{ref:o,iconNode:t,className:_b(`lucide-${a2(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=J("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=J("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=J("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=J("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=J("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=J("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=J("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=J("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=J("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=J("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=J("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=J("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=J("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=J("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=J("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=J("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=J("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=J("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=J("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=J("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=J("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=J("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=J("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=J("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=J("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=J("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=J("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ep="-",E2=e=>{const t=R2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Ep);return l[0]===""&&l.length!==1&&l.shift(),Rb(l,t)||C2(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},Rb=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Rb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Ep);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},v0=/^\[(.+)\]$/,C2=e=>{if(v0.test(e)){const t=v0.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},R2=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return T2(Object.entries(e.classGroups),r).forEach(([o,i])=>{Sh(i,n,o,t)}),n},Sh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:y0(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(P2(s)){Sh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Sh(i,y0(t,o),r,n)})})},y0=(e,t)=>{let r=e;return t.split(Ep).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},P2=e=>e.isThemeGetter,T2=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,s]}):e,A2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Pb="!",I2=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,f=0,d;for(let w=0;w<l.length;w++){let y=l[w];if(u===0){if(y===s&&(n||l.slice(w,w+o)===t)){c.push(l.slice(f,w)),f=w+o;continue}if(y==="/"){d=w;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(Pb),x=p?h.substring(1):h,g=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},O2=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},M2=e=>({cache:A2(e.cacheSize),parseClassName:I2(e),...E2(e)}),D2=/\s+/,L2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(D2);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let x=!!p,g=n(x?h.substring(0,p):h);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const w=O2(f).join(":"),y=d?w+Pb:w,v=y+g;if(o.includes(v))continue;o.push(v);const b=s(g,x);for(let j=0;j<b.length;++j){const _=b[j];o.push(y+_)}l=u+(l.length>0?" "+l:l)}return l};function $2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Tb(t))&&(n&&(n+=" "),n+=r);return n}const Tb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Tb(e[n]))&&(r&&(r+=" "),r+=t);return r};function F2(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((f,d)=>d(f),e());return r=M2(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=L2(c,r);return s(c,f),f}return function(){return o($2.apply(null,arguments))}}const Re=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Ab=/^\[(?:([a-z-]+):)?(.+)\]$/i,z2=/^\d+\/\d+$/,U2=new Set(["px","full","screen"]),B2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,V2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,W2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gr=e=>Vo(e)||U2.has(e)||z2.test(e),En=e=>Ca(e,"length",eP),Vo=e=>!!e&&!Number.isNaN(Number(e)),tf=e=>Ca(e,"number",Vo),Xa=e=>!!e&&Number.isInteger(Number(e)),K2=e=>e.endsWith("%")&&Vo(e.slice(0,-1)),ie=e=>Ab.test(e),Cn=e=>B2.test(e),G2=new Set(["length","size","percentage"]),Q2=e=>Ca(e,G2,Ib),Y2=e=>Ca(e,"position",Ib),J2=new Set(["image","url"]),X2=e=>Ca(e,J2,rP),Z2=e=>Ca(e,"",tP),Za=()=>!0,Ca=(e,t,r)=>{const n=Ab.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},eP=e=>V2.test(e)&&!q2.test(e),Ib=()=>!1,tP=e=>W2.test(e),rP=e=>H2.test(e),nP=()=>{const e=Re("colors"),t=Re("spacing"),r=Re("blur"),n=Re("brightness"),s=Re("borderColor"),o=Re("borderRadius"),i=Re("borderSpacing"),l=Re("borderWidth"),c=Re("contrast"),u=Re("grayscale"),f=Re("hueRotate"),d=Re("invert"),h=Re("gap"),p=Re("gradientColorStops"),x=Re("gradientColorStopPositions"),g=Re("inset"),w=Re("margin"),y=Re("opacity"),v=Re("padding"),b=Re("saturate"),j=Re("scale"),_=Re("sepia"),k=Re("skew"),N=Re("space"),E=Re("translate"),P=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",ie,t],I=()=>[ie,t],W=()=>["",Gr,En],O=()=>["auto",Vo,ie],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ie],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Vo,ie];return{cacheSize:500,separator:":",theme:{colors:[Za],spacing:[Gr,En],blur:["none","",Cn,ie],brightness:z(),borderColor:[e],borderRadius:["none","","full",Cn,ie],borderSpacing:I(),borderWidth:W(),contrast:z(),grayscale:R(),hueRotate:z(),invert:R(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[K2,En],inset:M(),margin:M(),opacity:z(),padding:I(),saturate:z(),scale:z(),sepia:R(),skew:z(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ie]}],container:["container"],columns:[{columns:[Cn]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),ie]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xa,ie]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ie]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Xa,ie]}],"grid-cols":[{"grid-cols":[Za]}],"col-start-end":[{col:["auto",{span:["full",Xa,ie]},ie]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Za]}],"row-start-end":[{row:["auto",{span:[Xa,ie]},ie]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ie]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ie,t]}],"min-w":[{"min-w":[ie,t,"min","max","fit"]}],"max-w":[{"max-w":[ie,t,"none","full","min","max","fit","prose",{screen:[Cn]},Cn]}],h:[{h:[ie,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ie,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ie,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ie,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Cn,En]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tf]}],"font-family":[{font:[Za]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ie]}],"line-clamp":[{"line-clamp":["none",Vo,tf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gr,ie]}],"list-image":[{"list-image":["none",ie]}],"list-style-type":[{list:["none","disc","decimal",ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gr,En]}],"underline-offset":[{"underline-offset":["auto",Gr,ie]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),Y2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Q2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},X2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Gr,ie]}],"outline-w":[{outline:[Gr,En]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Gr,En]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Cn,Z2]}],"shadow-color":[{shadow:[Za]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cn,ie]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ie]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",ie]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Xa,ie]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ie]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Gr,En,tf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sP=F2(nP);function U(...e){return sP(jb(e))}const oP=o2,Ob=m.forwardRef(({className:e,...t},r)=>a.jsx(pb,{ref:r,className:U("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ob.displayName=pb.displayName;const aP=ll("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Mb=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(gb,{ref:n,className:U(aP({variant:t}),e),...r}));Mb.displayName=gb.displayName;const iP=m.forwardRef(({className:e,...t},r)=>a.jsx(xb,{ref:r,className:U("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));iP.displayName=xb.displayName;const Db=m.forwardRef(({className:e,...t},r)=>a.jsx(wb,{ref:r,className:U("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(kp,{className:"h-4 w-4"})}));Db.displayName=wb.displayName;const Lb=m.forwardRef(({className:e,...t},r)=>a.jsx(vb,{ref:r,className:U("text-sm font-semibold",e),...t}));Lb.displayName=vb.displayName;const $b=m.forwardRef(({className:e,...t},r)=>a.jsx(yb,{ref:r,className:U("text-sm opacity-90",e),...t}));$b.displayName=yb.displayName;function lP(){const{toasts:e}=dr();return a.jsxs(oP,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return a.jsxs(Mb,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(Lb,{children:r}),n&&a.jsx($b,{children:n})]}),s,a.jsx(Db,{})]},t)}),a.jsx(Ob,{})]})}var x0=["light","dark"],cP="(prefers-color-scheme: dark)",uP=m.createContext(void 0),dP={setTheme:e=>{},themes:[]},fP=()=>{var e;return(e=m.useContext(uP))!=null?e:dP};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=s?x0.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,g=!1,w=!0)=>{let y=i?i[x]:x,v=g?x+"|| ''":`'${y}'`,b="";return s&&w&&!g&&x0.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),r==="class"?g||y?b+=`c.add(${v})`:b+="null":y&&(b+=`d[s](n,${v})`),b},p=e?`!function(){${f}${h(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${cP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${d}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var hP=e=>{switch(e){case"success":return gP;case"info":return yP;case"warning":return vP;case"error":return xP;default:return null}},mP=Array(12).fill(0),pP=({visible:e})=>A.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},A.createElement("div",{className:"sonner-spinner"},mP.map((t,r)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),gP=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vP=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yP=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),xP=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wP=()=>{let[e,t]=A.useState(document.hidden);return A.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Nh=1,bP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Nh++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async o=>{if(_P(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Nh++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},zt=new bP,jP=(e,t)=>{let r=(t==null?void 0:t.id)||Nh++;return zt.addToast({title:e,...t,id:r}),r},_P=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",SP=jP,NP=()=>zt.toasts,et=Object.assign(SP,{success:zt.success,info:zt.info,warning:zt.warning,error:zt.error,custom:zt.custom,message:zt.message,promise:zt.promise,dismiss:zt.dismiss,loading:zt.loading},{getHistory:NP});function kP(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}kP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Hl(e){return e.label!==void 0}var EP=3,CP="32px",RP=4e3,PP=356,TP=14,AP=20,IP=200;function OP(...e){return e.filter(Boolean).join(" ")}var MP=e=>{var t,r,n,s,o,i,l,c,u,f;let{invert:d,toast:h,unstyled:p,interacting:x,setHeights:g,visibleToasts:w,heights:y,index:v,toasts:b,expanded:j,removeToast:_,defaultRichColors:k,closeButton:N,style:E,cancelButtonStyle:P,actionButtonStyle:T,className:M="",descriptionClassName:I="",duration:W,position:O,gap:Y,loadingIcon:$,expandByDefault:G,classNames:C,icons:R,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:z,cn:B}=e,[X,re]=A.useState(!1),[we,oe]=A.useState(!1),[Q,ge]=A.useState(!1),[ye,me]=A.useState(!1),[be,xe]=A.useState(0),[mt,$t]=A.useState(0),Sn=A.useRef(null),Jt=A.useRef(null),bs=v===0,jd=v+1<=w,rt=h.type,lo=h.dismissible!==!1,Tk=h.className||"",Ak=h.descriptionClassName||"",_l=A.useMemo(()=>y.findIndex(ae=>ae.toastId===h.id)||0,[y,h.id]),Ik=A.useMemo(()=>{var ae;return(ae=h.closeButton)!=null?ae:N},[h.closeButton,N]),Yg=A.useMemo(()=>h.duration||W||RP,[h.duration,W]),_d=A.useRef(0),co=A.useRef(0),Jg=A.useRef(0),uo=A.useRef(null),[Xg,Ok]=O.split("-"),Zg=A.useMemo(()=>y.reduce((ae,Ce,Se)=>Se>=_l?ae:ae+Ce.height,0),[y,_l]),ev=wP(),Mk=h.invert||d,Sd=rt==="loading";co.current=A.useMemo(()=>_l*Y+Zg,[_l,Zg]),A.useEffect(()=>{re(!0)},[]),A.useLayoutEffect(()=>{if(!X)return;let ae=Jt.current,Ce=ae.style.height;ae.style.height="auto";let Se=ae.getBoundingClientRect().height;ae.style.height=Ce,$t(Se),g(Rr=>Rr.find(Pr=>Pr.toastId===h.id)?Rr.map(Pr=>Pr.toastId===h.id?{...Pr,height:Se}:Pr):[{toastId:h.id,height:Se,position:h.position},...Rr])},[X,h.title,h.description,g,h.id]);let Nn=A.useCallback(()=>{oe(!0),xe(co.current),g(ae=>ae.filter(Ce=>Ce.toastId!==h.id)),setTimeout(()=>{_(h)},IP)},[h,_,g,co]);A.useEffect(()=>{if(h.promise&&rt==="loading"||h.duration===1/0||h.type==="loading")return;let ae,Ce=Yg;return j||x||z&&ev?(()=>{if(Jg.current<_d.current){let Se=new Date().getTime()-_d.current;Ce=Ce-Se}Jg.current=new Date().getTime()})():Ce!==1/0&&(_d.current=new Date().getTime(),ae=setTimeout(()=>{var Se;(Se=h.onAutoClose)==null||Se.call(h,h),Nn()},Ce)),()=>clearTimeout(ae)},[j,x,G,h,Yg,Nn,h.promise,rt,z,ev]),A.useEffect(()=>{let ae=Jt.current;if(ae){let Ce=ae.getBoundingClientRect().height;return $t(Ce),g(Se=>[{toastId:h.id,height:Ce,position:h.position},...Se]),()=>g(Se=>Se.filter(Rr=>Rr.toastId!==h.id))}},[g,h.id]),A.useEffect(()=>{h.delete&&Nn()},[Nn,h.delete]);function Dk(){return R!=null&&R.loading?A.createElement("div",{className:"sonner-loader","data-visible":rt==="loading"},R.loading):$?A.createElement("div",{className:"sonner-loader","data-visible":rt==="loading"},$):A.createElement(pP,{visible:rt==="loading"})}return A.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Jt,className:B(M,Tk,C==null?void 0:C.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,C==null?void 0:C.default,C==null?void 0:C[rt],(r=h==null?void 0:h.classNames)==null?void 0:r[rt]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:k,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":X,"data-promise":!!h.promise,"data-removed":we,"data-visible":jd,"data-y-position":Xg,"data-x-position":Ok,"data-index":v,"data-front":bs,"data-swiping":Q,"data-dismissible":lo,"data-type":rt,"data-invert":Mk,"data-swipe-out":ye,"data-expanded":!!(j||G&&X),style:{"--index":v,"--toasts-before":v,"--z-index":b.length-v,"--offset":`${we?be:co.current}px`,"--initial-height":G?"auto":`${mt}px`,...E,...h.style},onPointerDown:ae=>{Sd||!lo||(Sn.current=new Date,xe(co.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(ge(!0),uo.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Ce,Se,Rr;if(ye||!lo)return;uo.current=null;let Pr=Number(((ae=Jt.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Sl=new Date().getTime()-((Ce=Sn.current)==null?void 0:Ce.getTime()),Lk=Math.abs(Pr)/Sl;if(Math.abs(Pr)>=AP||Lk>.11){xe(co.current),(Se=h.onDismiss)==null||Se.call(h,h),Nn(),me(!0);return}(Rr=Jt.current)==null||Rr.style.setProperty("--swipe-amount","0px"),ge(!1)},onPointerMove:ae=>{var Ce;if(!uo.current||!lo)return;let Se=ae.clientY-uo.current.y,Rr=ae.clientX-uo.current.x,Pr=(Xg==="top"?Math.min:Math.max)(0,Se),Sl=ae.pointerType==="touch"?10:2;Math.abs(Pr)>Sl?(Ce=Jt.current)==null||Ce.style.setProperty("--swipe-amount",`${Se}px`):Math.abs(Rr)>Sl&&(uo.current=null)}},Ik&&!h.jsx?A.createElement("button",{"aria-label":V,"data-disabled":Sd,"data-close-button":!0,onClick:Sd||!lo?()=>{}:()=>{var ae;Nn(),(ae=h.onDismiss)==null||ae.call(h,h)},className:B(C==null?void 0:C.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||A.isValidElement(h.title)?h.jsx||h.title:A.createElement(A.Fragment,null,rt||h.icon||h.promise?A.createElement("div",{"data-icon":"",className:B(C==null?void 0:C.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Dk():null,h.type!=="loading"?h.icon||(R==null?void 0:R[rt])||hP(rt):null):null,A.createElement("div",{"data-content":"",className:B(C==null?void 0:C.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},A.createElement("div",{"data-title":"",className:B(C==null?void 0:C.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?A.createElement("div",{"data-description":"",className:B(I,Ak,C==null?void 0:C.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),A.isValidElement(h.cancel)?h.cancel:h.cancel&&Hl(h.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||P,onClick:ae=>{var Ce,Se;Hl(h.cancel)&&lo&&((Se=(Ce=h.cancel).onClick)==null||Se.call(Ce,ae),Nn())},className:B(C==null?void 0:C.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,A.isValidElement(h.action)?h.action:h.action&&Hl(h.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:ae=>{var Ce,Se;Hl(h.action)&&(ae.defaultPrevented||((Se=(Ce=h.action).onClick)==null||Se.call(Ce,ae),Nn()))},className:B(C==null?void 0:C.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function w0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var DP=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:l,theme:c="light",richColors:u,duration:f,style:d,visibleToasts:h=EP,toastOptions:p,dir:x=w0(),gap:g=TP,loadingIcon:w,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:b,cn:j=OP}=e,[_,k]=A.useState([]),N=A.useMemo(()=>Array.from(new Set([r].concat(_.filter(z=>z.position).map(z=>z.position)))),[_,r]),[E,P]=A.useState([]),[T,M]=A.useState(!1),[I,W]=A.useState(!1),[O,Y]=A.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=A.useRef(null),G=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=A.useRef(null),R=A.useRef(!1),V=A.useCallback(z=>{var B;(B=_.find(X=>X.id===z.id))!=null&&B.delete||zt.dismiss(z.id),k(X=>X.filter(({id:re})=>re!==z.id))},[_]);return A.useEffect(()=>zt.subscribe(z=>{if(z.dismiss){k(B=>B.map(X=>X.id===z.id?{...X,delete:!0}:X));return}setTimeout(()=>{Jw.flushSync(()=>{k(B=>{let X=B.findIndex(re=>re.id===z.id);return X!==-1?[...B.slice(0,X),{...B[X],...z},...B.slice(X+1)]:[z,...B]})})})}),[]),A.useEffect(()=>{if(c!=="system"){Y(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{Y(z?"dark":"light")})},[c]),A.useEffect(()=>{_.length<=1&&M(!1)},[_]),A.useEffect(()=>{let z=B=>{var X,re;n.every(we=>B[we]||B.code===we)&&(M(!0),(X=$.current)==null||X.focus()),B.code==="Escape"&&(document.activeElement===$.current||(re=$.current)!=null&&re.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[n]),A.useEffect(()=>{if($.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,R.current=!1)}},[$.current]),_.length?A.createElement("section",{"aria-label":`${v} ${G}`,tabIndex:-1},N.map((z,B)=>{var X;let[re,we]=z.split("-");return A.createElement("ol",{key:z,dir:x==="auto"?w0():x,tabIndex:-1,ref:$,className:i,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":re,"data-x-position":we,style:{"--front-toast-height":`${((X=E[0])==null?void 0:X.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||CP,"--width":`${PP}px`,"--gap":`${g}px`,...d},onBlur:oe=>{R.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(R.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||R.current||(R.current=!0,C.current=oe.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{I||M(!1)},onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},_.filter(oe=>!oe.position&&B===0||oe.position===z).map((oe,Q)=>{var ge,ye;return A.createElement(MP,{key:oe.id,icons:y,index:Q,toast:oe,defaultRichColors:u,duration:(ge=p==null?void 0:p.duration)!=null?ge:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(ye=p==null?void 0:p.closeButton)!=null?ye:o,interacting:I,position:z,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:V,toasts:_.filter(me=>me.position==oe.position),heights:E.filter(me=>me.position==oe.position),setHeights:P,expandByDefault:s,gap:g,loadingIcon:w,expanded:T,pauseWhenPageIsHidden:b,cn:j})}))})):null};const LP=({...e})=>{const{theme:t="system"}=fP();return a.jsx(DP,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var $P=Gy.useId||(()=>{}),FP=0;function or(e){const[t,r]=m.useState($P());return Je(()=>{e||r(n=>n??String(FP++))},[e]),e||(t?`radix-${t}`:"")}const zP=["top","right","bottom","left"],us=Math.min,Bt=Math.max,Xc=Math.round,Kl=Math.floor,ds=e=>({x:e,y:e}),UP={left:"right",right:"left",bottom:"top",top:"bottom"},BP={start:"end",end:"start"};function kh(e,t,r){return Bt(e,us(t,r))}function hn(e,t){return typeof e=="function"?e(t):e}function mn(e){return e.split("-")[0]}function Ra(e){return e.split("-")[1]}function Cp(e){return e==="x"?"y":"x"}function Rp(e){return e==="y"?"height":"width"}function fs(e){return["top","bottom"].includes(mn(e))?"y":"x"}function Pp(e){return Cp(fs(e))}function VP(e,t,r){r===void 0&&(r=!1);const n=Ra(e),s=Pp(e),o=Rp(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Zc(i)),[i,Zc(i)]}function qP(e){const t=Zc(e);return[Eh(e),t,Eh(t)]}function Eh(e){return e.replace(/start|end/g,t=>BP[t])}function WP(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function HP(e,t,r,n){const s=Ra(e);let o=WP(mn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Eh)))),o}function Zc(e){return e.replace(/left|right|bottom|top/g,t=>UP[t])}function KP(e){return{top:0,right:0,bottom:0,left:0,...e}}function Fb(e){return typeof e!="number"?KP(e):{top:e,right:e,bottom:e,left:e}}function eu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function b0(e,t,r){let{reference:n,floating:s}=e;const o=fs(t),i=Pp(t),l=Rp(i),c=mn(t),u=o==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-s.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-s.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Ra(t)){case"start":p[i]-=h*(r&&u?-1:1);break;case"end":p[i]+=h*(r&&u?-1:1);break}return p}const GP=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=b0(u,n,c),h=n,p={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:y}=l[g],{x:v,y:b,data:j,reset:_}=await y({x:f,y:d,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});f=v??f,d=b??d,p={...p,[w]:{...p[w],...j}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:f,y:d}=b0(u,h,c)),g=-1)}return{x:f,y:d,placement:h,strategy:s,middlewareData:p}};async function Bi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=hn(t,e),x=Fb(p),w=l[h?d==="floating"?"reference":"floating":d],y=eu(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),v=d==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},_=eu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-_.top+x.top)/j.y,bottom:(_.bottom-y.bottom+x.bottom)/j.y,left:(y.left-_.left+x.left)/j.x,right:(_.right-y.right+x.right)/j.x}}const QP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=hn(e,t)||{};if(u==null)return{};const d=Fb(f),h={x:r,y:n},p=Pp(s),x=Rp(p),g=await i.getDimensions(u),w=p==="y",y=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=o.reference[x]+o.reference[p]-h[p]-o.floating[x],_=h[p]-o.reference[p],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=k?k[b]:0;(!N||!await(i.isElement==null?void 0:i.isElement(k)))&&(N=l.floating[b]||o.floating[x]);const E=j/2-_/2,P=N/2-g[x]/2-1,T=us(d[y],P),M=us(d[v],P),I=T,W=N-g[x]-M,O=N/2-g[x]/2+E,Y=kh(I,O,W),$=!c.arrow&&Ra(s)!=null&&O!==Y&&o.reference[x]/2-(O<I?T:M)-g[x]/2<0,G=$?O<I?O-I:O-W:0;return{[p]:h[p]+G,data:{[p]:Y,centerOffset:O-Y-G,...$&&{alignmentOffset:G}},reset:$}}}),YP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=hn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=mn(s),v=fs(l),b=mn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!g?[Zc(l)]:qP(l)),k=x!=="none";!h&&k&&_.push(...HP(l,g,x,j));const N=[l,..._],E=await Bi(t,w),P=[];let T=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&P.push(E[y]),d){const O=VP(s,i,j);P.push(E[O[0]],E[O[1]])}if(T=[...T,{placement:s,overflows:P}],!P.every(O=>O<=0)){var M,I;const O=(((M=o.flip)==null?void 0:M.index)||0)+1,Y=N[O];if(Y)return{data:{index:O,overflows:T},reset:{placement:Y}};let $=(I=T.filter(G=>G.overflows[0]<=0).sort((G,C)=>G.overflows[1]-C.overflows[1])[0])==null?void 0:I.placement;if(!$)switch(p){case"bestFit":{var W;const G=(W=T.filter(C=>{if(k){const R=fs(C.placement);return R===v||R==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(R=>R>0).reduce((R,V)=>R+V,0)]).sort((C,R)=>C[1]-R[1])[0])==null?void 0:W[0];G&&($=G);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function j0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _0(e){return zP.some(t=>e[t]>=0)}const JP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=hn(e,t);switch(n){case"referenceHidden":{const o=await Bi(t,{...s,elementContext:"reference"}),i=j0(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:_0(i)}}}case"escaped":{const o=await Bi(t,{...s,altBoundary:!0}),i=j0(o,r.floating);return{data:{escapedOffsets:i,escaped:_0(i)}}}default:return{}}}}};async function XP(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=mn(r),l=Ra(r),c=fs(r)==="y",u=["left","top"].includes(i)?-1:1,f=o&&c?-1:1,d=hn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const ZP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await XP(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},eT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...c}=hn(e,t),u={x:r,y:n},f=await Bi(t,c),d=fs(mn(s)),h=Cp(d);let p=u[h],x=u[d];if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=p+f[w],b=p-f[y];p=kh(v,p,b)}if(i){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=x+f[w],b=x-f[y];x=kh(v,x,b)}const g=l.fn({...t,[h]:p,[d]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:o,[d]:i}}}}}},tT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=hn(e,t),f={x:r,y:n},d=fs(s),h=Cp(d);let p=f[h],x=f[d];const g=hn(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",j=o.reference[h]-o.floating[b]+w.mainAxis,_=o.reference[h]+o.reference[b]-w.mainAxis;p<j?p=j:p>_&&(p=_)}if(u){var y,v;const b=h==="y"?"width":"height",j=["top","left"].includes(mn(s)),_=o.reference[d]-o.floating[b]+(j&&((y=i.offset)==null?void 0:y[d])||0)+(j?0:w.crossAxis),k=o.reference[d]+o.reference[b]+(j?0:((v=i.offset)==null?void 0:v[d])||0)-(j?w.crossAxis:0);x<_?x=_:x>k&&(x=k)}return{[h]:p,[d]:x}}}},rT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=hn(e,t),f=await Bi(t,u),d=mn(s),h=Ra(s),p=fs(s)==="y",{width:x,height:g}=o.floating;let w,y;d==="top"||d==="bottom"?(w=d,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,w=h==="end"?"top":"bottom");const v=g-f.top-f.bottom,b=x-f.left-f.right,j=us(g-f[w],v),_=us(x-f[y],b),k=!t.middlewareData.shift;let N=j,E=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=v),k&&!h){const T=Bt(f.left,0),M=Bt(f.right,0),I=Bt(f.top,0),W=Bt(f.bottom,0);p?E=x-2*(T!==0||M!==0?T+M:Bt(f.left,f.right)):N=g-2*(I!==0||W!==0?I+W:Bt(f.top,f.bottom))}await c({...t,availableWidth:E,availableHeight:N});const P=await i.getDimensions(l.floating);return x!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function $u(){return typeof window<"u"}function Pa(e){return zb(e)?(e.nodeName||"").toLowerCase():"#document"}function Wt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hr(e){var t;return(t=(zb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zb(e){return $u()?e instanceof Node||e instanceof Wt(e).Node:!1}function kr(e){return $u()?e instanceof Element||e instanceof Wt(e).Element:!1}function qr(e){return $u()?e instanceof HTMLElement||e instanceof Wt(e).HTMLElement:!1}function S0(e){return!$u()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wt(e).ShadowRoot}function cl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Er(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function nT(e){return["table","td","th"].includes(Pa(e))}function Fu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Tp(e){const t=Ap(),r=kr(e)?Er(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function sT(e){let t=hs(e);for(;qr(t)&&!ga(t);){if(Tp(t))return t;if(Fu(t))return null;t=hs(t)}return null}function Ap(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ga(e){return["html","body","#document"].includes(Pa(e))}function Er(e){return Wt(e).getComputedStyle(e)}function zu(e){return kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hs(e){if(Pa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||S0(e)&&e.host||Hr(e);return S0(t)?t.host:t}function Ub(e){const t=hs(e);return ga(t)?e.ownerDocument?e.ownerDocument.body:e.body:qr(t)&&cl(t)?t:Ub(t)}function Vi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Ub(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Wt(s);if(o){const l=Ch(i);return t.concat(i,i.visualViewport||[],cl(s)?s:[],l&&r?Vi(l):[])}return t.concat(s,Vi(s,[],r))}function Ch(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Bb(e){const t=Er(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=qr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=Xc(r)!==o||Xc(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Ip(e){return kr(e)?e:e.contextElement}function qo(e){const t=Ip(e);if(!qr(t))return ds(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=Bb(t);let i=(o?Xc(r.width):r.width)/n,l=(o?Xc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const oT=ds(0);function Vb(e){const t=Wt(e);return!Ap()||!t.visualViewport?oT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aT(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Wt(e)?!1:t}function Ks(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Ip(e);let i=ds(1);t&&(n?kr(n)&&(i=qo(n)):i=qo(e));const l=aT(o,r,n)?Vb(o):ds(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,f=s.width/i.x,d=s.height/i.y;if(o){const h=Wt(o),p=n&&kr(n)?Wt(n):n;let x=h,g=Ch(x);for(;g&&n&&p!==x;){const w=qo(g),y=g.getBoundingClientRect(),v=Er(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,j=y.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,d*=w.y,c+=b,u+=j,x=Wt(g),g=Ch(x)}}return eu({width:f,height:d,x:c,y:u})}function iT(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Hr(n),l=t?Fu(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=ds(1);const f=ds(0),d=qr(n);if((d||!d&&!o)&&((Pa(n)!=="body"||cl(i))&&(c=zu(n)),qr(n))){const h=Ks(n);u=qo(n),f.x=h.x+n.clientLeft,f.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x,y:r.y*u.y-c.scrollTop*u.y+f.y}}function lT(e){return Array.from(e.getClientRects())}function Rh(e,t){const r=zu(e).scrollLeft;return t?t.left+r:Ks(Hr(e)).left+r}function cT(e){const t=Hr(e),r=zu(e),n=e.ownerDocument.body,s=Bt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Bt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Rh(e);const l=-r.scrollTop;return Er(n).direction==="rtl"&&(i+=Bt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function uT(e,t){const r=Wt(e),n=Hr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Ap();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function dT(e,t){const r=Ks(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=qr(e)?qo(e):ds(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function N0(e,t,r){let n;if(t==="viewport")n=uT(e,r);else if(t==="document")n=cT(Hr(e));else if(kr(t))n=dT(t,r);else{const s=Vb(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return eu(n)}function qb(e,t){const r=hs(e);return r===t||!kr(r)||ga(r)?!1:Er(r).position==="fixed"||qb(r,t)}function fT(e,t){const r=t.get(e);if(r)return r;let n=Vi(e,[],!1).filter(l=>kr(l)&&Pa(l)!=="body"),s=null;const o=Er(e).position==="fixed";let i=o?hs(e):e;for(;kr(i)&&!ga(i);){const l=Er(i),c=Tp(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||cl(i)&&!c&&qb(e,i))?n=n.filter(f=>f!==i):s=l,i=hs(i)}return t.set(e,n),n}function hT(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Fu(t)?[]:fT(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,f)=>{const d=N0(t,f,s);return u.top=Bt(d.top,u.top),u.right=us(d.right,u.right),u.bottom=us(d.bottom,u.bottom),u.left=Bt(d.left,u.left),u},N0(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function mT(e){const{width:t,height:r}=Bb(e);return{width:t,height:r}}function pT(e,t,r){const n=qr(t),s=Hr(t),o=r==="fixed",i=Ks(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=ds(0);if(n||!n&&!o)if((Pa(t)!=="body"||cl(s))&&(l=zu(t)),n){const p=Ks(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=Rh(s));let u=0,f=0;if(s&&!n&&!o){const p=s.getBoundingClientRect();f=p.top+l.scrollTop,u=p.left+l.scrollLeft-Rh(s,p)}const d=i.left+l.scrollLeft-c.x-u,h=i.top+l.scrollTop-c.y-f;return{x:d,y:h,width:i.width,height:i.height}}function rf(e){return Er(e).position==="static"}function k0(e,t){if(!qr(e)||Er(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Hr(e)===r&&(r=r.ownerDocument.body),r}function Wb(e,t){const r=Wt(e);if(Fu(e))return r;if(!qr(e)){let s=hs(e);for(;s&&!ga(s);){if(kr(s)&&!rf(s))return s;s=hs(s)}return r}let n=k0(e,t);for(;n&&nT(n)&&rf(n);)n=k0(n,t);return n&&ga(n)&&rf(n)&&!Tp(n)?r:n||sT(e)||r}const gT=async function(e){const t=this.getOffsetParent||Wb,r=this.getDimensions,n=await r(e.floating);return{reference:pT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function vT(e){return Er(e).direction==="rtl"}const yT={convertOffsetParentRelativeRectToViewportRelativeRect:iT,getDocumentElement:Hr,getClippingRect:hT,getOffsetParent:Wb,getElementRects:gT,getClientRects:lT,getDimensions:mT,getScale:qo,isElement:kr,isRTL:vT};function xT(e,t){let r=null,n;const s=Hr(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:f,width:d,height:h}=e.getBoundingClientRect();if(l||t(),!d||!h)return;const p=Kl(f),x=Kl(s.clientWidth-(u+d)),g=Kl(s.clientHeight-(f+h)),w=Kl(u),v={rootMargin:-p+"px "+-x+"px "+-g+"px "+-w+"px",threshold:Bt(0,us(1,c))||1};let b=!0;function j(_){const k=_[0].intersectionRatio;if(k!==c){if(!b)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(j,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,v)}r.observe(e)}return i(!0),o}function wT(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Ip(e),f=s||o?[...u?Vi(u):[],...Vi(t)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const d=u&&l?xT(u,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let x,g=c?Ks(e):null;c&&w();function w(){const y=Ks(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&r(),g=y,x=requestAnimationFrame(w)}return r(),()=>{var y;f.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const bT=ZP,jT=eT,_T=YP,ST=rT,NT=JP,E0=QP,kT=tT,ET=(e,t,r)=>{const n=new Map,s={platform:yT,...r},o={...s.platform,_c:n};return GP(e,t,{...s,platform:o})};var jc=typeof document<"u"?m.useLayoutEffect:m.useEffect;function tu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!tu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!tu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Hb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function C0(e,t){const r=Hb(e);return Math.round(t*r)/r}function nf(e){const t=m.useRef(e);return jc(()=>{t.current=e}),t}function CT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);tu(h,n)||p(n);const[x,g]=m.useState(null),[w,y]=m.useState(null),v=m.useCallback(C=>{C!==k.current&&(k.current=C,g(C))},[]),b=m.useCallback(C=>{C!==N.current&&(N.current=C,y(C))},[]),j=o||x,_=i||w,k=m.useRef(null),N=m.useRef(null),E=m.useRef(f),P=c!=null,T=nf(c),M=nf(s),I=nf(u),W=m.useCallback(()=>{if(!k.current||!N.current)return;const C={placement:t,strategy:r,middleware:h};M.current&&(C.platform=M.current),ET(k.current,N.current,C).then(R=>{const V={...R,isPositioned:I.current!==!1};O.current&&!tu(E.current,V)&&(E.current=V,ro.flushSync(()=>{d(V)}))})},[h,t,r,M,I]);jc(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(C=>({...C,isPositioned:!1})))},[u]);const O=m.useRef(!1);jc(()=>(O.current=!0,()=>{O.current=!1}),[]),jc(()=>{if(j&&(k.current=j),_&&(N.current=_),j&&_){if(T.current)return T.current(j,_,W);W()}},[j,_,W,T,P]);const Y=m.useMemo(()=>({reference:k,floating:N,setReference:v,setFloating:b}),[v,b]),$=m.useMemo(()=>({reference:j,floating:_}),[j,_]),G=m.useMemo(()=>{const C={position:r,left:0,top:0};if(!$.floating)return C;const R=C0($.floating,f.x),V=C0($.floating,f.y);return l?{...C,transform:"translate("+R+"px, "+V+"px)",...Hb($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:V}},[r,l,$.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:W,refs:Y,elements:$,floatingStyles:G}),[f,W,Y,$,G])}const RT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?E0({element:n.current,padding:s}).fn(r):{}:n?E0({element:n,padding:s}).fn(r):{}}}},PT=(e,t)=>({...bT(e),options:[e,t]}),TT=(e,t)=>({...jT(e),options:[e,t]}),AT=(e,t)=>({...kT(e),options:[e,t]}),IT=(e,t)=>({..._T(e),options:[e,t]}),OT=(e,t)=>({...ST(e),options:[e,t]}),MT=(e,t)=>({...NT(e),options:[e,t]}),DT=(e,t)=>({...RT(e),options:[e,t]});var LT="Arrow",Kb=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(K.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Kb.displayName=LT;var $T=Kb;function FT(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(d){const{scope:h,children:p,...x}=d,g=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,x=m.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,zT(s,...t)]}function zT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Uu(e){const[t,r]=m.useState(void 0);return Je(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Op="Popper",[Gb,Ta]=FT(Op),[UT,Qb]=Gb(Op),Yb=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return a.jsx(UT,{scope:t,anchor:n,onAnchorChange:s,children:r})};Yb.displayName=Op;var Jb="PopperAnchor",Xb=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=Qb(Jb,r),i=m.useRef(null),l=ne(t,i);return m.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(K.div,{...s,ref:l})});Xb.displayName=Jb;var Mp="PopperContent",[BT,VT]=Gb(Mp),Zb=m.forwardRef((e,t)=>{var Q,ge,ye,me,be,xe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,w=Qb(Mp,r),[y,v]=m.useState(null),b=ne(t,mt=>v(mt)),[j,_]=m.useState(null),k=Uu(j),N=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,P=n+(o!=="center"?"-"+o:""),T=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(u)?u:[u],I=M.length>0,W={padding:T,boundary:M.filter(WT),altBoundary:I},{refs:O,floatingStyles:Y,placement:$,isPositioned:G,middlewareData:C}=CT({strategy:"fixed",placement:P,whileElementsMounted:(...mt)=>wT(...mt,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[PT({mainAxis:s+E,alignmentAxis:i}),c&&TT({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?AT():void 0,...W}),c&&IT({...W}),OT({...W,apply:({elements:mt,rects:$t,availableWidth:Sn,availableHeight:Jt})=>{const{width:bs,height:jd}=$t.reference,rt=mt.floating.style;rt.setProperty("--radix-popper-available-width",`${Sn}px`),rt.setProperty("--radix-popper-available-height",`${Jt}px`),rt.setProperty("--radix-popper-anchor-width",`${bs}px`),rt.setProperty("--radix-popper-anchor-height",`${jd}px`)}}),j&&DT({element:j,padding:l}),HT({arrowWidth:N,arrowHeight:E}),h&&MT({strategy:"referenceHidden",...W})]}),[R,V]=r1($),z=lt(x);Je(()=>{G&&(z==null||z())},[G,z]);const B=(Q=C.arrow)==null?void 0:Q.x,X=(ge=C.arrow)==null?void 0:ge.y,re=((ye=C.arrow)==null?void 0:ye.centerOffset)!==0,[we,oe]=m.useState();return Je(()=>{y&&oe(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:G?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(me=C.transformOrigin)==null?void 0:me.x,(be=C.transformOrigin)==null?void 0:be.y].join(" "),...((xe=C.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(BT,{scope:r,placedSide:R,onArrowChange:_,arrowX:B,arrowY:X,shouldHideArrow:re,children:a.jsx(K.div,{"data-side":R,"data-align":V,...g,ref:b,style:{...g.style,animation:G?void 0:"none"}})})})});Zb.displayName=Mp;var e1="PopperArrow",qT={top:"bottom",right:"left",bottom:"top",left:"right"},t1=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=VT(e1,n),i=qT[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx($T,{...s,ref:r,style:{...s.style,display:"block"}})})});t1.displayName=e1;function WT(e){return e!==null}var HT=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:r,rects:n,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=r1(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=i?d:`${h}px`,g=`${-c}px`):u==="top"?(x=i?d:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=i?d:`${p}px`):u==="left"&&(x=`${n.floating.width+c}px`,g=i?d:`${p}px`),{data:{x,y:g}}}});function r1(e){const[t,r="center"]=e.split("-");return[t,r]}var n1=Yb,Dp=Xb,Lp=Zb,$p=t1,[Bu,HF]=St("Tooltip",[Ta]),Fp=Ta(),s1="TooltipProvider",KT=700,R0="tooltip.open",[GT,o1]=Bu(s1),a1=e=>{const{__scopeTooltip:t,delayDuration:r=KT,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,[i,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),a.jsx(GT,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:o})};a1.displayName=s1;var i1="Tooltip",[KF,Vu]=Bu(i1),Ph="TooltipTrigger",QT=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Vu(Ph,r),o=o1(Ph,r),i=Fp(r),l=m.useRef(null),c=ne(t,l,s.onTriggerChange),u=m.useRef(!1),f=m.useRef(!1),d=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),a.jsx(Dp,{asChild:!0,...i,children:a.jsx(K.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:L(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:L(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:L(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:L(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:L(e.onBlur,s.onClose),onClick:L(e.onClick,s.onClose)})})});QT.displayName=Ph;var YT="TooltipPortal",[GF,JT]=Bu(YT,{forceMount:void 0}),va="TooltipContent",l1=m.forwardRef((e,t)=>{const r=JT(va,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=Vu(va,e.__scopeTooltip);return a.jsx(Dt,{present:n||i.open,children:i.disableHoverableContent?a.jsx(c1,{side:s,...o,ref:t}):a.jsx(XT,{side:s,...o,ref:t})})}),XT=m.forwardRef((e,t)=>{const r=Vu(va,e.__scopeTooltip),n=o1(va,e.__scopeTooltip),s=m.useRef(null),o=ne(t,s),[i,l]=m.useState(null),{trigger:c,onClose:u}=r,f=s.current,{onPointerInTransitChange:d}=n,h=m.useCallback(()=>{l(null),d(!1)},[d]),p=m.useCallback((x,g)=>{const w=x.currentTarget,y={x:x.clientX,y:x.clientY},v=rA(y,w.getBoundingClientRect()),b=nA(y,v),j=sA(g.getBoundingClientRect()),_=aA([...b,...j]);l(_),d(!0)},[d]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&f){const x=w=>p(w,f),g=w=>p(w,c);return c.addEventListener("pointerleave",x),f.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",g)}}},[c,f,p,h]),m.useEffect(()=>{if(i){const x=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),b=!oA(y,i);v?h():b&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,f,i,u,h]),a.jsx(c1,{...e,ref:o})}),[ZT,eA]=Bu(i1,{isInside:!1}),c1=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Vu(va,r),u=Fp(r),{onClose:f}=c;return m.useEffect(()=>(document.addEventListener(R0,f),()=>document.removeEventListener(R0,f)),[f]),m.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),a.jsx(Na,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:a.jsxs(Lp,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(hp,{children:n}),a.jsx(ZT,{scope:r,isInside:!0,children:a.jsx(UR,{id:c.contentId,role:"tooltip",children:s||n})})]})})});l1.displayName=va;var u1="TooltipArrow",tA=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Fp(r);return eA(u1,r).isInside?null:a.jsx($p,{...s,...n,ref:t})});tA.displayName=u1;function rA(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function nA(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function sA(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function oA(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,f=t[i].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function aA(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),iA(t)}function iA(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var lA=a1,d1=l1;const cA=lA,uA=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(d1,{ref:n,sideOffset:t,className:U("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));uA.displayName=d1.displayName;var Aa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gs=typeof window>"u"||"Deno"in globalThis;function Zt(){}function dA(e,t){return typeof e=="function"?e(t):e}function Th(e){return typeof e=="number"&&e>=0&&e!==1/0}function f1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wo(e,t){return typeof e=="function"?e(t):e}function br(e,t){return typeof e=="function"?e(t):e}function P0(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==zp(i,t.options))return!1}else if(!qi(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function T0(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Qs(t.options.mutationKey)!==Qs(o))return!1}else if(!qi(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function zp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qs)(e)}function Qs(e){return JSON.stringify(e,(t,r)=>Ah(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function qi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!qi(e[r],t[r])):!1}function h1(e,t){if(e===t)return e;const r=A0(e)&&A0(t);if(r||Ah(e)&&Ah(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const f=r?u:o[u];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=h1(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function ru(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function A0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ah(e){if(!I0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!I0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function I0(e){return Object.prototype.toString.call(e)==="[object Object]"}function fA(e){return new Promise(t=>{setTimeout(t,e)})}function Ih(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?h1(e,t):t}function hA(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function mA(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Up=Symbol();function m1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Up?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var As,$n,Qo,Ey,pA=(Ey=class extends Aa{constructor(){super();Z(this,As);Z(this,$n);Z(this,Qo);q(this,Qo,t=>{if(!Gs&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){S(this,$n)||this.setEventListener(S(this,Qo))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,$n))==null||t.call(this),q(this,$n,void 0))}setEventListener(t){var r;q(this,Qo,t),(r=S(this,$n))==null||r.call(this),q(this,$n,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){S(this,As)!==t&&(q(this,As,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof S(this,As)=="boolean"?S(this,As):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},As=new WeakMap,$n=new WeakMap,Qo=new WeakMap,Ey),Bp=new pA,Yo,Fn,Jo,Cy,gA=(Cy=class extends Aa{constructor(){super();Z(this,Yo,!0);Z(this,Fn);Z(this,Jo);q(this,Jo,t=>{if(!Gs&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){S(this,Fn)||this.setEventListener(S(this,Jo))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Fn))==null||t.call(this),q(this,Fn,void 0))}setEventListener(t){var r;q(this,Jo,t),(r=S(this,Fn))==null||r.call(this),q(this,Fn,t(this.setOnline.bind(this)))}setOnline(t){S(this,Yo)!==t&&(q(this,Yo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return S(this,Yo)}},Yo=new WeakMap,Fn=new WeakMap,Jo=new WeakMap,Cy),nu=new gA;function Oh(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function vA(e){return Math.min(1e3*2**e,3e4)}function p1(e){return(e??"online")==="online"?nu.isOnline():!0}var g1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sf(e){return e instanceof g1}function v1(e){let t=!1,r=0,n=!1,s;const o=Oh(),i=g=>{var w;n||(h(new g1(g)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Bp.isFocused()&&(e.networkMode==="always"||nu.isOnline())&&e.canRun(),f=()=>p1(e.networkMode)&&e.canRun(),d=g=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),o.resolve(g))},h=g=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),o.reject(g))},p=()=>new Promise(g=>{var w;s=y=>{(n||u())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(n)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var k;if(n)return;const v=e.retry??(Gs?0:3),b=e.retryDelay??vA,j=typeof b=="function"?b(r,y):b,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!_){h(y);return}r++,(k=e.onFail)==null||k.call(e,r,y),fA(j).then(()=>u()?void 0:p()).then(()=>{t?h(y):x()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?x():p().then(x),o)}}function yA(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const o=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ke=yA(),Is,Ry,y1=(Ry=class{constructor(){Z(this,Is)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Th(this.gcTime)&&q(this,Is,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gs?1/0:5*60*1e3))}clearGcTimeout(){S(this,Is)&&(clearTimeout(S(this,Is)),q(this,Is,void 0))}},Is=new WeakMap,Ry),Xo,Zo,Xt,dt,Ji,Os,vr,Qr,Py,xA=(Py=class extends y1{constructor(t){super();Z(this,vr);Z(this,Xo);Z(this,Zo);Z(this,Xt);Z(this,dt);Z(this,Ji);Z(this,Os);q(this,Os,!1),q(this,Ji,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,Xt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,Xo,wA(this.options)),this.state=t.state??S(this,Xo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,dt))==null?void 0:t.promise}setOptions(t){this.options={...S(this,Ji),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Xt).remove(this)}setData(t,r){const n=Ih(this.state.data,t,this.options);return ce(this,vr,Qr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ce(this,vr,Qr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=S(this,dt))==null?void 0:n.promise;return(s=S(this,dt))==null||s.cancel(t),r?r.then(Zt).catch(Zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,Xo))}isActive(){return this.observers.some(t=>br(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Up||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!f1(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=S(this,dt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=S(this,dt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,Xt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(S(this,dt)&&(S(this,Os)?S(this,dt).cancel({revert:!0}):S(this,dt).cancelRetry()),this.scheduleGc()),S(this,Xt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ce(this,vr,Qr).call(this,{type:"invalidate"})}fetch(t,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(S(this,dt))return S(this,dt).continueRetry(),S(this,dt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(q(this,Os,!0),n.signal)})},o=()=>{const d=m1(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),q(this,Os,!1),this.options.persister?this.options.persister(d,h,this):d(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),q(this,Zo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&ce(this,vr,Qr).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,p,x,g;sf(d)&&d.silent||ce(this,vr,Qr).call(this,{type:"error",error:d}),sf(d)||((p=(h=S(this,Xt).config).onError)==null||p.call(h,d,this),(g=(x=S(this,Xt).config).onSettled)==null||g.call(x,this.state.data,d,this)),this.scheduleGc()};return q(this,dt,v1({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,p,x,g;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(w){l(w);return}(p=(h=S(this,Xt).config).onSuccess)==null||p.call(h,d,this),(g=(x=S(this,Xt).config).onSettled)==null||g.call(x,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{ce(this,vr,Qr).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{ce(this,vr,Qr).call(this,{type:"pause"})},onContinue:()=>{ce(this,vr,Qr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),S(this,dt).start()}},Xo=new WeakMap,Zo=new WeakMap,Xt=new WeakMap,dt=new WeakMap,Ji=new WeakMap,Os=new WeakMap,vr=new WeakSet,Qr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...x1(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return sf(s)&&s.revert&&S(this,Zo)?{...S(this,Zo),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ke.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),S(this,Xt).notify({query:this,type:"updated",action:t})})},Py);function x1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:p1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Mr,Ty,bA=(Ty=class extends Aa{constructor(t={}){super();Z(this,Mr);this.config=t,q(this,Mr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??zp(s,r);let i=this.get(o);return i||(i=new xA({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){S(this,Mr).has(t.queryHash)||(S(this,Mr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=S(this,Mr).get(t.queryHash);r&&(t.destroy(),r===t&&S(this,Mr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ke.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,Mr).get(t)}getAll(){return[...S(this,Mr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>P0(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>P0(t,n)):r}notify(t){Ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ke.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ke.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mr=new WeakMap,Ty),Dr,vt,Ms,Lr,Rn,Ay,jA=(Ay=class extends y1{constructor(t){super();Z(this,Lr);Z(this,Dr);Z(this,vt);Z(this,Ms);this.mutationId=t.mutationId,q(this,vt,t.mutationCache),q(this,Dr,[]),this.state=t.state||w1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,Dr).includes(t)||(S(this,Dr).push(t),this.clearGcTimeout(),S(this,vt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,Dr,S(this,Dr).filter(r=>r!==t)),this.scheduleGc(),S(this,vt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,Dr).length||(this.state.status==="pending"?this.scheduleGc():S(this,vt).remove(this))}continue(){var t;return((t=S(this,Ms))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,l,c,u,f,d,h,p,x,g,w,y,v,b,j,_,k,N;q(this,Ms,v1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{ce(this,Lr,Rn).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{ce(this,Lr,Rn).call(this,{type:"pause"})},onContinue:()=>{ce(this,Lr,Rn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,vt).canRun(this)}));const r=this.state.status==="pending",n=!S(this,Ms).canStart();try{if(!r){ce(this,Lr,Rn).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(s=S(this,vt).config).onMutate)==null?void 0:o.call(s,t,this));const P=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));P!==this.state.context&&ce(this,Lr,Rn).call(this,{type:"pending",context:P,variables:t,isPaused:n})}const E=await S(this,Ms).start();return await((u=(c=S(this,vt).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,E,t,this.state.context)),await((p=(h=S(this,vt).config).onSettled)==null?void 0:p.call(h,E,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,E,null,t,this.state.context)),ce(this,Lr,Rn).call(this,{type:"success",data:E}),E}catch(E){try{throw await((y=(w=S(this,vt).config).onError)==null?void 0:y.call(w,E,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,E,t,this.state.context)),await((_=(j=S(this,vt).config).onSettled)==null?void 0:_.call(j,void 0,E,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,E,t,this.state.context)),E}finally{ce(this,Lr,Rn).call(this,{type:"error",error:E})}}finally{S(this,vt).runNext(this)}}},Dr=new WeakMap,vt=new WeakMap,Ms=new WeakMap,Lr=new WeakSet,Rn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ke.batch(()=>{S(this,Dr).forEach(n=>{n.onMutationUpdate(t)}),S(this,vt).notify({mutation:this,type:"updated",action:t})})},Ay);function w1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ft,Xi,Iy,_A=(Iy=class extends Aa{constructor(t={}){super();Z(this,Ft);Z(this,Xi);this.config=t,q(this,Ft,new Map),q(this,Xi,Date.now())}build(t,r,n){const s=new jA({mutationCache:this,mutationId:++Nl(this,Xi)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Gl(t),n=S(this,Ft).get(r)??[];n.push(t),S(this,Ft).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Gl(t);if(S(this,Ft).has(r)){const s=(n=S(this,Ft).get(r))==null?void 0:n.filter(o=>o!==t);s&&(s.length===0?S(this,Ft).delete(r):S(this,Ft).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=S(this,Ft).get(Gl(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=S(this,Ft).get(Gl(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Ke.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...S(this,Ft).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>T0(r,n))}findAll(t={}){return this.getAll().filter(r=>T0(t,r))}notify(t){Ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ke.batch(()=>Promise.all(t.map(r=>r.continue().catch(Zt))))}},Ft=new WeakMap,Xi=new WeakMap,Iy);function Gl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function O0(e){return{onFetch:(t,r)=>{var f,d,h,p,x;const n=t.options,s=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=m1(t.options,t.fetchOptions),v=async(b,j,_)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const k={queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};w(k);const N=await y(k),{maxPages:E}=t.options,P=_?mA:hA;return{pages:P(b.pages,N,E),pageParams:P(b.pageParams,j,E)}};if(s&&o.length){const b=s==="backward",j=b?SA:M0,_={pages:o,pageParams:i},k=j(n,_);l=await v(_,k,b)}else{const b=e??o.length;do{const j=c===0?i[0]??n.initialPageParam:M0(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function M0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function SA(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ze,zn,Un,ea,ta,Bn,ra,na,Oy,NA=(Oy=class{constructor(e={}){Z(this,ze);Z(this,zn);Z(this,Un);Z(this,ea);Z(this,ta);Z(this,Bn);Z(this,ra);Z(this,na);q(this,ze,e.queryCache||new bA),q(this,zn,e.mutationCache||new _A),q(this,Un,e.defaultOptions||{}),q(this,ea,new Map),q(this,ta,new Map),q(this,Bn,0)}mount(){Nl(this,Bn)._++,S(this,Bn)===1&&(q(this,ra,Bp.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,ze).onFocus())})),q(this,na,nu.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,ze).onOnline())})))}unmount(){var e,t;Nl(this,Bn)._--,S(this,Bn)===0&&((e=S(this,ra))==null||e.call(this),q(this,ra,void 0),(t=S(this,na))==null||t.call(this),q(this,na,void 0))}isFetching(e){return S(this,ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,zn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=S(this,ze).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=S(this,ze).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Wo(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return S(this,ze).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=S(this,ze).get(n.queryHash),o=s==null?void 0:s.state.data,i=dA(t,o);if(i!==void 0)return S(this,ze).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ke.batch(()=>S(this,ze).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=S(this,ze).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=S(this,ze);Ke.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=S(this,ze),n={type:"active",...e};return Ke.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Ke.batch(()=>S(this,ze).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Zt).catch(Zt)}invalidateQueries(e={},t={}){return Ke.batch(()=>{if(S(this,ze).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Ke.batch(()=>S(this,ze).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Zt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Zt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=S(this,ze).build(this,t);return r.isStaleByTime(Wo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zt).catch(Zt)}fetchInfiniteQuery(e){return e.behavior=O0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zt).catch(Zt)}ensureInfiniteQueryData(e){return e.behavior=O0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nu.isOnline()?S(this,zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,ze)}getMutationCache(){return S(this,zn)}getDefaultOptions(){return S(this,Un)}setDefaultOptions(e){q(this,Un,e)}setQueryDefaults(e,t){S(this,ea).set(Qs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,ea).values()];let r={};return t.forEach(n=>{qi(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){S(this,ta).set(Qs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,ta).values()];let r={};return t.forEach(n=>{qi(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,Un).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Up&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,Un).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,ze).clear(),S(this,zn).clear()}},ze=new WeakMap,zn=new WeakMap,Un=new WeakMap,ea=new WeakMap,ta=new WeakMap,Bn=new WeakMap,ra=new WeakMap,na=new WeakMap,Oy),Et,pe,Zi,yt,Ds,sa,Vn,$r,el,oa,aa,Ls,$s,qn,ia,je,oi,Mh,Dh,Lh,$h,Fh,zh,Uh,b1,My,kA=(My=class extends Aa{constructor(t,r){super();Z(this,je);Z(this,Et);Z(this,pe);Z(this,Zi);Z(this,yt);Z(this,Ds);Z(this,sa);Z(this,Vn);Z(this,$r);Z(this,el);Z(this,oa);Z(this,aa);Z(this,Ls);Z(this,$s);Z(this,qn);Z(this,ia,new Set);this.options=r,q(this,Et,t),q(this,$r,null),q(this,Vn,Oh()),this.options.experimental_prefetchInRender||S(this,Vn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,pe).addObserver(this),D0(S(this,pe),this.options)?ce(this,je,oi).call(this):this.updateResult(),ce(this,je,$h).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bh(S(this,pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bh(S(this,pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ce(this,je,Fh).call(this),ce(this,je,zh).call(this),S(this,pe).removeObserver(this)}setOptions(t,r){const n=this.options,s=S(this,pe);if(this.options=S(this,Et).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof br(this.options.enabled,S(this,pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ce(this,je,Uh).call(this),S(this,pe).setOptions(this.options),n._defaulted&&!ru(this.options,n)&&S(this,Et).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,pe),observer:this});const o=this.hasListeners();o&&L0(S(this,pe),s,this.options,n)&&ce(this,je,oi).call(this),this.updateResult(r),o&&(S(this,pe)!==s||br(this.options.enabled,S(this,pe))!==br(n.enabled,S(this,pe))||Wo(this.options.staleTime,S(this,pe))!==Wo(n.staleTime,S(this,pe)))&&ce(this,je,Mh).call(this);const i=ce(this,je,Dh).call(this);o&&(S(this,pe)!==s||br(this.options.enabled,S(this,pe))!==br(n.enabled,S(this,pe))||i!==S(this,qn))&&ce(this,je,Lh).call(this,i)}getOptimisticResult(t){const r=S(this,Et).getQueryCache().build(S(this,Et),t),n=this.createResult(r,t);return CA(this,n)&&(q(this,yt,n),q(this,sa,this.options),q(this,Ds,S(this,pe).state)),n}getCurrentResult(){return S(this,yt)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){S(this,ia).add(t)}getCurrentQuery(){return S(this,pe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=S(this,Et).defaultQueryOptions(t),n=S(this,Et).getQueryCache().build(S(this,Et),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ce(this,je,oi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,yt)))}createResult(t,r){var E;const n=S(this,pe),s=this.options,o=S(this,yt),i=S(this,Ds),l=S(this,sa),u=t!==n?t.state:S(this,Zi),{state:f}=t;let d={...f},h=!1,p;if(r._optimisticResults){const P=this.hasListeners(),T=!P&&D0(t,r),M=P&&L0(t,n,r,s);(T||M)&&(d={...d,...x1(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:w}=d;if(r.select&&d.data!==void 0)if(o&&d.data===(i==null?void 0:i.data)&&r.select===S(this,el))p=S(this,oa);else try{q(this,el,r.select),p=r.select(d.data),p=Ih(o==null?void 0:o.data,p,r),q(this,oa,p),q(this,$r,null)}catch(P){q(this,$r,P)}else p=d.data;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let P;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))P=o.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((E=S(this,aa))==null?void 0:E.state.data,S(this,aa)):r.placeholderData,r.select&&P!==void 0)try{P=r.select(P),q(this,$r,null)}catch(T){q(this,$r,T)}P!==void 0&&(w="success",p=Ih(o==null?void 0:o.data,P,r),h=!0)}S(this,$r)&&(x=S(this,$r),p=S(this,oa),g=Date.now(),w="error");const y=d.fetchStatus==="fetching",v=w==="pending",b=w==="error",j=v&&y,_=p!==void 0,N={status:w,fetchStatus:d.fetchStatus,isPending:v,isSuccess:w==="success",isError:b,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:d.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&_,isStale:Vp(t,r),refetch:this.refetch,promise:S(this,Vn)};if(this.options.experimental_prefetchInRender){const P=I=>{N.status==="error"?I.reject(N.error):N.data!==void 0&&I.resolve(N.data)},T=()=>{const I=q(this,Vn,N.promise=Oh());P(I)},M=S(this,Vn);switch(M.status){case"pending":t.queryHash===n.queryHash&&P(M);break;case"fulfilled":(N.status==="error"||N.data!==M.value)&&T();break;case"rejected":(N.status!=="error"||N.error!==M.reason)&&T();break}}return N}updateResult(t){const r=S(this,yt),n=this.createResult(S(this,pe),this.options);if(q(this,Ds,S(this,pe).state),q(this,sa,this.options),S(this,Ds).data!==void 0&&q(this,aa,S(this,pe)),ru(n,r))return;q(this,yt,n);const s={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!S(this,ia).size)return!0;const c=new Set(l??S(this,ia));return this.options.throwOnError&&c.add("error"),Object.keys(S(this,yt)).some(u=>{const f=u;return S(this,yt)[f]!==r[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&o()&&(s.listeners=!0),ce(this,je,b1).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ce(this,je,$h).call(this)}},Et=new WeakMap,pe=new WeakMap,Zi=new WeakMap,yt=new WeakMap,Ds=new WeakMap,sa=new WeakMap,Vn=new WeakMap,$r=new WeakMap,el=new WeakMap,oa=new WeakMap,aa=new WeakMap,Ls=new WeakMap,$s=new WeakMap,qn=new WeakMap,ia=new WeakMap,je=new WeakSet,oi=function(t){ce(this,je,Uh).call(this);let r=S(this,pe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Zt)),r},Mh=function(){ce(this,je,Fh).call(this);const t=Wo(this.options.staleTime,S(this,pe));if(Gs||S(this,yt).isStale||!Th(t))return;const n=f1(S(this,yt).dataUpdatedAt,t)+1;q(this,Ls,setTimeout(()=>{S(this,yt).isStale||this.updateResult()},n))},Dh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,pe)):this.options.refetchInterval)??!1},Lh=function(t){ce(this,je,zh).call(this),q(this,qn,t),!(Gs||br(this.options.enabled,S(this,pe))===!1||!Th(S(this,qn))||S(this,qn)===0)&&q(this,$s,setInterval(()=>{(this.options.refetchIntervalInBackground||Bp.isFocused())&&ce(this,je,oi).call(this)},S(this,qn)))},$h=function(){ce(this,je,Mh).call(this),ce(this,je,Lh).call(this,ce(this,je,Dh).call(this))},Fh=function(){S(this,Ls)&&(clearTimeout(S(this,Ls)),q(this,Ls,void 0))},zh=function(){S(this,$s)&&(clearInterval(S(this,$s)),q(this,$s,void 0))},Uh=function(){const t=S(this,Et).getQueryCache().build(S(this,Et),this.options);if(t===S(this,pe))return;const r=S(this,pe);q(this,pe,t),q(this,Zi,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},b1=function(t){Ke.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(S(this,yt))}),S(this,Et).getQueryCache().notify({query:S(this,pe),type:"observerResultsUpdated"})})},My);function EA(e,t){return br(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function D0(e,t){return EA(e,t)||e.state.data!==void 0&&Bh(e,t,t.refetchOnMount)}function Bh(e,t,r){if(br(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Vp(e,t)}return!1}function L0(e,t,r,n){return(e!==t||br(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Vp(e,r)}function Vp(e,t){return br(t.enabled,e)!==!1&&e.isStaleByTime(Wo(t.staleTime,e))}function CA(e,t){return!ru(e.getCurrentResult(),t)}var Wn,Hn,Ct,tn,an,_c,Vh,Dy,RA=(Dy=class extends Aa{constructor(r,n){super();Z(this,an);Z(this,Wn);Z(this,Hn);Z(this,Ct);Z(this,tn);q(this,Wn,r),this.setOptions(n),this.bindMethods(),ce(this,an,_c).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=S(this,Wn).defaultMutationOptions(r),ru(this.options,n)||S(this,Wn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,Ct),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Qs(n.mutationKey)!==Qs(this.options.mutationKey)?this.reset():((s=S(this,Ct))==null?void 0:s.state.status)==="pending"&&S(this,Ct).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=S(this,Ct))==null||r.removeObserver(this)}onMutationUpdate(r){ce(this,an,_c).call(this),ce(this,an,Vh).call(this,r)}getCurrentResult(){return S(this,Hn)}reset(){var r;(r=S(this,Ct))==null||r.removeObserver(this),q(this,Ct,void 0),ce(this,an,_c).call(this),ce(this,an,Vh).call(this)}mutate(r,n){var s;return q(this,tn,n),(s=S(this,Ct))==null||s.removeObserver(this),q(this,Ct,S(this,Wn).getMutationCache().build(S(this,Wn),this.options)),S(this,Ct).addObserver(this),S(this,Ct).execute(r)}},Wn=new WeakMap,Hn=new WeakMap,Ct=new WeakMap,tn=new WeakMap,an=new WeakSet,_c=function(){var n;const r=((n=S(this,Ct))==null?void 0:n.state)??w1();q(this,Hn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Vh=function(r){Ke.batch(()=>{var n,s,o,i,l,c,u,f;if(S(this,tn)&&this.hasListeners()){const d=S(this,Hn).variables,h=S(this,Hn).context;(r==null?void 0:r.type)==="success"?((s=(n=S(this,tn)).onSuccess)==null||s.call(n,r.data,d,h),(i=(o=S(this,tn)).onSettled)==null||i.call(o,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((c=(l=S(this,tn)).onError)==null||c.call(l,r.error,d,h),(f=(u=S(this,tn)).onSettled)==null||f.call(u,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(S(this,Hn))})})},Dy),j1=m.createContext(void 0),xn=e=>{const t=m.useContext(j1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},PA=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(j1.Provider,{value:e,children:t})),_1=m.createContext(!1),TA=()=>m.useContext(_1);_1.Provider;function AA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var IA=m.createContext(AA()),OA=()=>m.useContext(IA);function S1(e,t){return typeof e=="function"?e(...t):!!e}function N1(){}var MA=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},DA=e=>{m.useEffect(()=>{e.clearReset()},[e])},LA=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&S1(r,[e.error,n]),$A=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},FA=(e,t)=>e.isLoading&&e.isFetching&&!t,zA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,$0=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function UA(e,t,r){var f,d,h,p,x;const n=xn(),s=TA(),o=OA(),i=n.defaultQueryOptions(e);(d=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,i),i._optimisticResults=s?"isRestoring":"optimistic",$A(i),MA(i,o),DA(o);const l=!n.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:c.subscribe(Ke.batchCalls(g));return c.updateResult(),w},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),zA(i,u))throw $0(i,c,o);if(LA({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,i,u),i.experimental_prefetchInRender&&!Gs&&FA(u,s)){const g=l?$0(i,c,o):(x=n.getQueryCache().get(i.queryHash))==null?void 0:x.promise;g==null||g.catch(N1).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function pn(e,t){return UA(e,kA)}function gn(e,t){const r=xn(),[n]=m.useState(()=>new RA(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(i=>n.subscribe(Ke.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=m.useCallback((i,l)=>{n.mutate(i,l).catch(N1)},[n]);if(s.error&&S1(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wi(){return Wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wi.apply(this,arguments)}var Qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qn||(Qn={}));const F0="popstate";function BA(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return qh("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:su(s)}return qA(t,r,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function k1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VA(){return Math.random().toString(36).substr(2,8)}function z0(e,t){return{usr:e.state,key:e.key,idx:t}}function qh(e,t,r,n){return r===void 0&&(r=null),Wi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ia(t):t,{state:r,key:t&&t.key||n||VA()})}function su(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ia(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function qA(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=Qn.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(Wi({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function d(){l=Qn.Pop;let w=f(),y=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:y})}function h(w,y){l=Qn.Push;let v=qh(g.location,w,y);u=f()+1;let b=z0(v,u),j=g.createHref(v);try{i.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}o&&c&&c({action:l,location:g.location,delta:1})}function p(w,y){l=Qn.Replace;let v=qh(g.location,w,y);u=f();let b=z0(v,u),j=g.createHref(v);i.replaceState(b,"",j),o&&c&&c({action:l,location:g.location,delta:0})}function x(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:su(w);return v=v.replace(/ $/,"%20"),qe(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(F0,d),c=w,()=>{s.removeEventListener(F0,d),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(w){return i.go(w)}};return g}var U0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(U0||(U0={}));function WA(e,t,r){return r===void 0&&(r="/"),HA(e,t,r,!1)}function HA(e,t,r,n){let s=typeof t=="string"?Ia(t):t,o=qp(s.pathname||"/",r);if(o==null)return null;let i=E1(e);KA(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=sI(o);l=rI(i[c],u,n)}return l}function E1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(qe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=os([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(qe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),E1(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:eI(u,o.index),routesMeta:f})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of C1(o.path))s(o,i,c)}),t}function C1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=C1(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function KA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:tI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const GA=/^:[\w-]+$/,QA=3,YA=2,JA=1,XA=10,ZA=-2,B0=e=>e==="*";function eI(e,t){let r=e.split("/"),n=r.length;return r.some(B0)&&(n+=ZA),t&&(n+=YA),r.filter(s=>!B0(s)).reduce((s,o)=>s+(GA.test(o)?QA:o===""?JA:XA),n)}function tI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function rI(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=V0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=V0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:os([o,d.pathname]),pathnameBase:lI(os([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=os([o,d.pathnameBase]))}return i}function V0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=nI(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let g=l[d]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[d];return p&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function nI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),k1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function sI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return k1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function oI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ia(e):e;return{pathname:r?r.startsWith("/")?r:aI(r,t):t,search:cI(n),hash:uI(s)}}function aI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function of(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Wp(e,t){let r=iI(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hp(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ia(e):(s=Wi({},e),qe(!s.pathname||!s.pathname.includes("?"),of("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),of("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),of("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let d=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=oI(s,l),u=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const os=e=>e.join("/").replace(/\/\/+/g,"/"),lI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const R1=["post","put","patch","delete"];new Set(R1);const fI=["get",...R1];new Set(fI);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(this,arguments)}const Kp=m.createContext(null),hI=m.createContext(null),vs=m.createContext(null),qu=m.createContext(null),wn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),P1=m.createContext(null);function mI(e,t){let{relative:r}=t===void 0?{}:t;Oa()||qe(!1);let{basename:n,navigator:s}=m.useContext(vs),{hash:o,pathname:i,search:l}=A1(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:os([n,i])),s.createHref({pathname:c,search:l,hash:o})}function Oa(){return m.useContext(qu)!=null}function Kr(){return Oa()||qe(!1),m.useContext(qu).location}function T1(e){m.useContext(vs).static||m.useLayoutEffect(e)}function Yt(){let{isDataRoute:e}=m.useContext(wn);return e?EI():pI()}function pI(){Oa()||qe(!1);let e=m.useContext(Kp),{basename:t,future:r,navigator:n}=m.useContext(vs),{matches:s}=m.useContext(wn),{pathname:o}=Kr(),i=JSON.stringify(Wp(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return T1(()=>{l.current=!0}),m.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Hp(u,JSON.parse(i),o,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:os([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,i,o,e])}function Gp(){let{matches:e}=m.useContext(wn),t=e[e.length-1];return t?t.params:{}}function A1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(vs),{matches:s}=m.useContext(wn),{pathname:o}=Kr(),i=JSON.stringify(Wp(s,n.v7_relativeSplatPath));return m.useMemo(()=>Hp(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function gI(e,t){return vI(e,t)}function vI(e,t,r,n){Oa()||qe(!1);let{navigator:s}=m.useContext(vs),{matches:o}=m.useContext(wn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Kr(),f;if(t){var d;let w=typeof t=="string"?Ia(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||qe(!1),f=w}else f=u;let h=f.pathname||"/",p=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=WA(e,{pathname:p}),g=jI(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:os([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:os([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&g?m.createElement(qu.Provider,{value:{location:Hi({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Qn.Pop}},g):g}function yI(){let e=kI(),t=dI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const xI=m.createElement(yI,null);class wI extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(wn.Provider,{value:this.props.routeContext},m.createElement(P1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bI(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(Kp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(wn.Provider,{value:t},n)}function jI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||qe(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=r,x=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||x){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,d,h)=>{let p,x=!1,g=null,w=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||xI,c&&(u<0&&h===0?(x=!0,w=null):u===h&&(x=!0,w=d.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),v=()=>{let b;return p?b=g:x?b=w:d.route.Component?b=m.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,m.createElement(bI,{match:d,routeContext:{outlet:f,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?m.createElement(wI,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var I1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(I1||{}),ou=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ou||{});function _I(e){let t=m.useContext(Kp);return t||qe(!1),t}function SI(e){let t=m.useContext(hI);return t||qe(!1),t}function NI(e){let t=m.useContext(wn);return t||qe(!1),t}function O1(e){let t=NI(),r=t.matches[t.matches.length-1];return r.route.id||qe(!1),r.route.id}function kI(){var e;let t=m.useContext(P1),r=SI(ou.UseRouteError),n=O1(ou.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function EI(){let{router:e}=_I(I1.UseNavigateStable),t=O1(ou.UseNavigateStable),r=m.useRef(!1);return T1(()=>{r.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Hi({fromRouteId:t},o)))},[e,t])}function ai(e){let{to:t,replace:r,state:n,relative:s}=e;Oa()||qe(!1);let{future:o,static:i}=m.useContext(vs),{matches:l}=m.useContext(wn),{pathname:c}=Kr(),u=Yt(),f=Hp(t,Wp(l,o.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return m.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function pt(e){qe(!1)}function CI(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Qn.Pop,navigator:o,static:i=!1,future:l}=e;Oa()&&qe(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:Hi({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Ia(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:x="default"}=n,g=m.useMemo(()=>{let w=qp(f,c);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:x},navigationType:s}},[c,f,d,h,p,x,s]);return g==null?null:m.createElement(vs.Provider,{value:u},m.createElement(qu.Provider,{children:r,value:g}))}function RI(e){let{children:t,location:r}=e;return gI(Wh(t),r)}new Promise(()=>{});function Wh(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let o=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Wh(n.props.children,o));return}n.type!==pt&&qe(!1),!n.props.index||!n.props.children||qe(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Wh(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(this,arguments)}function PI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function TI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AI(e,t){return e.button===0&&(!t||t==="_self")&&!TI(e)}function Kh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function II(e,t){let r=Kh(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const OI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MI="6";try{window.__reactRouterVersion=MI}catch{}const DI="startTransition",q0=Gy[DI];function LI(e){let{basename:t,children:r,future:n,window:s}=e,o=m.useRef();o.current==null&&(o.current=BA({window:s,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},f=m.useCallback(d=>{u&&q0?q0(()=>c(d)):c(d)},[c,u]);return m.useLayoutEffect(()=>i.listen(f),[i,f]),m.createElement(CI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const $I=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ya=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=PI(t,OI),{basename:p}=m.useContext(vs),x,g=!1;if(typeof u=="string"&&FI.test(u)&&(x=u,$I))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=qp(j.pathname,p);j.origin===b.origin&&_!=null?u=_+j.search+j.hash:g=!0}catch{}let w=mI(u,{relative:s}),y=zI(u,{replace:i,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function v(b){n&&n(b),b.defaultPrevented||y(b)}return m.createElement("a",Hh({},h,{href:x||w,onClick:g||o?n:v,ref:r,target:c}))});var W0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(W0||(W0={}));var H0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(H0||(H0={}));function zI(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Yt(),u=Kr(),f=A1(e,{relative:i});return m.useCallback(d=>{if(AI(d,r)){d.preventDefault();let h=n!==void 0?n:su(u)===su(f);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,f,n,s,r,e,o,i,l])}function Wu(e){let t=m.useRef(Kh(e)),r=m.useRef(!1),n=Kr(),s=m.useMemo(()=>II(n.search,r.current?null:t.current),[n.search]),o=Yt(),i=m.useCallback((l,c)=>{const u=Kh(typeof l=="function"?l(s):l);r.current=!0,o("?"+u,c)},[o,s]);return[s,i]}const UI="modulepreload",BI=function(e){return"/"+e},K0={},Lt=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=BI(c),c in K0)return;K0[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":UI,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},VI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Lt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ma);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Qp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class qI extends Qp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class WI extends Qp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class HI extends Qp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gh||(Gh={}));var KI=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class GI{constructor(t,{headers:r={},customFetch:n,region:s=Gh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=VI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return KI(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const f=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new qI(x)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new WI(f);if(!f.ok)throw new HI(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield f.json():h==="application/octet-stream"?p=yield f.blob():h==="text/event-stream"?p=f:h==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Tt={},Yp={},Hu={},ul={},Ku={},Gu={},QI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xa=QI();const YI=xa.fetch,M1=xa.fetch.bind(xa),D1=xa.Headers,JI=xa.Request,XI=xa.Response,Ma=Object.freeze(Object.defineProperty({__proto__:null,Headers:D1,Request:JI,Response:XI,default:M1,fetch:YI},Symbol.toStringTag,{value:"Module"})),ZI=Uk(Ma);var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});let eO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Qu.default=eO;var L1=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gu,"__esModule",{value:!0});const tO=L1(ZI),rO=L1(Qu);let nO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=tO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,f=null,d=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(f=[],u=null,h=200,p="OK")}catch{o.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new rO.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Gu.default=nO;var sO=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ku,"__esModule",{value:!0});const oO=sO(Gu);let aO=class extends oO.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ku.default=aO;var iO=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ul,"__esModule",{value:!0});const lO=iO(Ku);let cO=class extends lO.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ul.default=cO;var uO=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hu,"__esModule",{value:!0});const ei=uO(ul);let dO=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new ei.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ei.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new ei.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new ei.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ei.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Hu.default=dO;var Yu={},Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});Ju.version=void 0;Ju.version="0.0.0-automated";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.DEFAULT_HEADERS=void 0;const fO=Ju;Yu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fO.version}`};var $1=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yp,"__esModule",{value:!0});const hO=$1(Hu),mO=$1(ul),pO=Yu;let gO=class F1{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},pO.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new hO.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new F1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new mO.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Yp.default=gO;var Da=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.PostgrestError=Tt.PostgrestBuilder=Tt.PostgrestTransformBuilder=Tt.PostgrestFilterBuilder=Tt.PostgrestQueryBuilder=Tt.PostgrestClient=void 0;const z1=Da(Yp);Tt.PostgrestClient=z1.default;const U1=Da(Hu);Tt.PostgrestQueryBuilder=U1.default;const B1=Da(ul);Tt.PostgrestFilterBuilder=B1.default;const V1=Da(Ku);Tt.PostgrestTransformBuilder=V1.default;const q1=Da(Gu);Tt.PostgrestBuilder=q1.default;const W1=Da(Qu);Tt.PostgrestError=W1.default;var vO=Tt.default={PostgrestClient:z1.default,PostgrestQueryBuilder:U1.default,PostgrestFilterBuilder:B1.default,PostgrestTransformBuilder:V1.default,PostgrestBuilder:q1.default,PostgrestError:W1.default};const{PostgrestClient:yO,PostgrestQueryBuilder:tz,PostgrestFilterBuilder:rz,PostgrestTransformBuilder:nz,PostgrestBuilder:sz,PostgrestError:oz}=vO;let Qh;typeof window>"u"?Qh=require("ws"):Qh=window.WebSocket;const xO=Qh,wO="2.11.10",bO={"X-Client-Info":`realtime-js/${wO}`},jO="1.0.0",H1=1e4,_O=1e3;var Ho;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ho||(Ho={}));var gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gt||(gt={}));var xr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xr||(xr={}));var Yh;(function(e){e.websocket="websocket"})(Yh||(Yh={}));var ks;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ks||(ks={}));class SO{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class K1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ne||(Ne={}));const G0=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=NO(i,e,t,s),o),{})},NO=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?G1(o,i):Jh(i)},G1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return RO(t,r)}switch(e){case Ne.bool:return kO(t);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return EO(t);case Ne.json:case Ne.jsonb:return CO(t);case Ne.timestamp:return PO(t);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Jh(t);default:return Jh(t)}},Jh=e=>e,kO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},EO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},CO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},RO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>G1(t,l))}return e},PO=e=>typeof e=="string"?e.replace(" ","T"):e,Q1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class af{constructor(t,r,n={},s=H1){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Q0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Q0||(Q0={}));class wi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=wi.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wi.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,f)=>{i[u]||(c[u]=f)}),this.map(i,(u,f)=>{const d=o[u];if(d){const h=f.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),x=f.filter(w=>p.indexOf(w.presence_ref)<0),g=d.filter(w=>h.indexOf(w.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=f}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Y0||(Y0={}));var J0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(J0||(J0={}));var Xr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xr||(Xr={}));class Jp{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new af(this,xr.join,this.params,this.timeout),this.rejoinTimer=new K1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new wi(this),this.broadcastEndpointURL=Q1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(f=>t==null?void 0:t(Xr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Xr.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(Xr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,x=[];for(let g=0;g<p;g++){const w=h[g],{filter:{event:y,schema:v,table:b,filter:j}}=w,_=f&&f[g];if(_&&_.event===y&&_.schema===v&&_.table===b&&_.filter===j)x.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),this.state=gt.errored,t==null||t(Xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Xr.SUBSCRIBED);return}}).receive("error",f=>{this.state=gt.errored,t==null||t(Xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new af(this,xr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new af(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=xr;if(n&&[l,c,u,f].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,g,w;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var x,g,w,y,v,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,_=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:w,commit_timestamp:y,type:v,errors:b}=x;h=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(h,n)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Jp.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xr.close,{},t)}_onError(t){this._on(xr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=G0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=G0(t.columns,t.old_record)),r}}const X0=()=>{},TO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AO{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=bO,this.params={},this.timeout=H1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=X0,this.ref=0,this.logger=X0,this.conn=null,this.sendBuffer=[],this.serializer=new SO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Lt(async()=>{const{default:c}=await Promise.resolve().then(()=>Ma);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Yh.websocket}`,this.httpEndpoint=Q1(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new K1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=xO),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new IO(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jO}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ho.connecting:return ks.Connecting;case Ho.open:return ks.Open;case Ho.closing:return ks.Closing;default:return ks.Closed}}isConnected(){return this.connectionState()===ks.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Jp(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(xr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(_O,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(xr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([TO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class IO{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ho.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Xp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class OO extends Xp{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Xh extends Xp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var MO=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Y1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Lt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ma);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},DO=()=>MO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Lt(()=>Promise.resolve().then(()=>Ma),void 0)).Response:Response}),Zh=e=>{if(Array.isArray(e))return e.map(r=>Zh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Zh(n)}),t};var no=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const lf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LO=(e,t,r)=>no(void 0,void 0,void 0,function*(){const n=yield DO();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new OO(lf(s),e.status||500))}).catch(s=>{t(new Xh(lf(s),s))}):t(new Xh(lf(e),e))}),$O=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function dl(e,t,r,n,s,o){return no(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,$O(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>LO(c,l,n))})})}function au(e,t,r,n){return no(this,void 0,void 0,function*(){return dl(e,"GET",t,r,n)})}function On(e,t,r,n,s){return no(this,void 0,void 0,function*(){return dl(e,"POST",t,n,s,r)})}function FO(e,t,r,n,s){return no(this,void 0,void 0,function*(){return dl(e,"PUT",t,n,s,r)})}function zO(e,t,r,n){return no(this,void 0,void 0,function*(){return dl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function J1(e,t,r,n,s){return no(this,void 0,void 0,function*(){return dl(e,"DELETE",t,n,s,r)})}var kt=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const UO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BO{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Y1(s)}uploadOrUpdate(t,r,n,s){return kt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Z0),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Xe(o))return{data:null,error:o};throw o}})}upload(t,r,n){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return kt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Z0.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Xe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return kt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield On(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Xp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}update(t,r,n){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return kt(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return kt(this,void 0,void 0,function*(){try{return{data:{path:(yield On(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return kt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield On(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return kt(this,void 0,void 0,function*(){try{const s=yield On(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}download(t,r){return kt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield au(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Xe(l))return{data:null,error:l};throw l}})}info(t){return kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield au(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Zh(n),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}exists(t){return kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield zO(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Xe(n)&&n instanceof Xh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return kt(this,void 0,void 0,function*(){try{return{data:yield J1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}list(t,r,n){return kt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},UO),r),{prefix:t||""});return{data:yield On(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const VO="2.7.1",qO={"X-Client-Info":`storage-js/${VO}`};var ho=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class WO{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},qO),r),this.fetch=Y1(n)}listBuckets(){return ho(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Xe(t))return{data:null,error:t};throw t}})}getBucket(t){return ho(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ho(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ho(this,void 0,void 0,function*(){try{return{data:yield FO(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ho(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ho(this,void 0,void 0,function*(){try{return{data:yield J1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}}class HO extends WO{constructor(t,r={},n){super(t,r,n)}from(t){return new BO(this.url,this.headers,t,this.fetch)}}const KO="2.50.0";let ii="";typeof Deno<"u"?ii="deno":typeof document<"u"?ii="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ii="react-native":ii="node";const GO={"X-Client-Info":`supabase-js-${ii}/${KO}`},QO={headers:GO},YO={schema:"public"},JO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XO={};var ZO=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const eM=e=>{let t;return e?t=e:typeof fetch>"u"?t=M1:t=fetch,(...r)=>t(...r)},tM=()=>typeof Headers>"u"?D1:Headers,rM=(e,t,r)=>{const n=eM(r),s=tM();return(o,i)=>ZO(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var nM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function sM(e){return e.endsWith("/")?e:e+"/"}function oM(e,t){var r,n;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},f),i),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>nM(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const X1="2.70.0",bo=30*1e3,em=3,cf=em*bo,aM="http://localhost:9999",iM="supabase.auth.token",lM={"X-Client-Info":`gotrue-js/${X1}`},tm="X-Supabase-Api-Version",Z1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uM=6e5;class Zp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class dM extends Zp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function fM(e){return se(e)&&e.name==="AuthApiError"}class ej extends Zp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ys extends Zp{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Pn extends ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hM(e){return se(e)&&e.name==="AuthSessionMissingError"}class Ql extends ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yl extends ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jl extends ys{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mM(e){return se(e)&&e.name==="AuthImplicitGrantRedirectError"}class ey extends ys{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rm extends ys{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function uf(e){return se(e)&&e.name==="AuthRetryableFetchError"}class ty extends ys{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bi extends ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ry=` 	
\r=`.split(""),pM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ry.length;t+=1)e[ry[t].charCodeAt(0)]=-2;for(let t=0;t<iu.length;t+=1)e[iu[t].charCodeAt(0)]=t;return e})();function ny(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(iu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(iu[n]),t.queuedBits-=6}}function tj(e,t,r){const n=pM[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function sy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{yM(i,n,r)};for(let i=0;i<e.length;i+=1)tj(e.charCodeAt(i),s,o);return t.join("")}function gM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vM(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}gM(n,t)}}function yM(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xM(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)tj(e.charCodeAt(s),r,n);return new Uint8Array(t)}function wM(e){const t=[];return vM(e,r=>t.push(r)),new Uint8Array(t)}function bM(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>ny(s,r,n)),ny(null,r,n),t.join("")}function jM(e){return Math.round(Date.now()/1e3)+e}function _M(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const mr=()=>typeof window<"u"&&typeof document<"u",js={tested:!1,writable:!1},ji=()=>{if(!mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(js.tested)return js.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),js.tested=!0,js.writable=!0}catch{js.tested=!0,js.writable=!1}return js.writable};function SM(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const rj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Lt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ma);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},NM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nj=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Xl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zl=async(e,t)=>{await e.removeItem(t)};class Xu{constructor(){this.promise=new Xu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Xu.promiseConstructor=Promise;function df(e){const t=e.split(".");if(t.length!==3)throw new bi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!cM.test(t[n]))throw new bi("JWT not in base64url format");return{header:JSON.parse(sy(t[0])),payload:JSON.parse(sy(t[1])),signature:xM(t[2]),raw:{header:t[0],payload:t[1]}}}async function kM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function EM(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function CM(e){return("0"+e.toString(16)).substr(-2)}function RM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,CM).join("")}async function PM(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function TM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await PM(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mo(e,t,r=!1){const n=RM();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await nj(e,`${t}-code-verifier`,s);const o=await TM(n);return[o,n===o?"plain":"s256"]}const AM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IM(e){const t=e.headers.get(tm);if(!t||!t.match(AM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function OM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function MM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function po(e){if(!DM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var LM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ns=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$M=[502,503,504];async function oy(e){var t;if(!NM(e))throw new rm(Ns(e),0);if($M.includes(e.status))throw new rm(Ns(e),e.status);let r;try{r=await e.json()}catch(o){throw new ej(Ns(o),o)}let n;const s=IM(e);if(s&&s.getTime()>=Z1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ty(Ns(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new ty(Ns(r),e.status,r.weak_password.reasons);throw new dM(Ns(r),e.status||500,n)}const FM=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function fe(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[tm]||(o[tm]=Z1["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await zM(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function zM(e,t,r,n,s,o){const i=FM(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new rm(Ns(c),0)}if(l.ok||await oy(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await oy(c)}}function Yr(e){var t;let r=null;qM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=jM(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ay(e){const t=Yr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ln(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function UM(e){return{data:e,error:null}}function BM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=LM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function VM(e){return e}function qM(e){return e.access_token&&e.refresh_token&&e.expires_in}const ff=["global","local","others"];var WM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class HM{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=rj(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ff[0]){if(ff.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ff.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ln})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=WM(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:BM,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ln})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:VM});if(f.error)throw f.error;const d=await f.json(),h=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(se(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){po(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ln})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){po(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ln})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){po(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ln})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){po(t.userId);try{const{data:r,error:n}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteFactor(t){po(t.userId),po(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}}const KM={getItem:e=>ji()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ji()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ji()&&globalThis.localStorage.removeItem(e)}};function iy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function GM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const go={debug:!!(globalThis&&ji()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class QM extends sj{}async function YM(e,t,r){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new QM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(go.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}GM();const JM={url:aM,storageKey:iM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ly(e,t,r){return await r()}class Ki{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ki.nextInstanceID,Ki.nextInstanceID+=1,this.instanceID>0&&mr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},JM),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new HM({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=rj(s.fetch),this.lock=s.lock||ly,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=YM:this.lock=ly,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ji()?this.storage=KM:(this.memoryStorage={},this.storage=iy(this.memoryStorage)):(this.memoryStorage={},this.storage=iy(this.memoryStorage)),mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${X1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=SM(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),mr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),mM(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return se(r)?{error:r}:{error:new ej("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Yr}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(se(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await mo(this.storage,this.storageKey)),o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:x},xform:Yr})}else if("phone"in t){const{phone:f,password:d,options:h}=t;o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Yr})}else throw new Yl("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(se(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ay})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ay})}else throw new Yl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ql}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,o,i,l,c,u,f,d,h,p;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:w,wallet:y,statement:v,options:b}=t;let j;if(mr())if(typeof y=="object")j=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let N;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")N=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)N=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(f=b==null?void 0:b.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:w,error:y}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:bM(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Yr});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ql}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(se(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Xl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Yr});if(await Zl(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Ql}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(se(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Yr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ql}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await mo(this.storage,this.storageKey));const{error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Yl("You must provide either an email or phone number.")}catch(l){if(se(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Yr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await mo(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:UM})}catch(o){if(se(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pn;const{error:s}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Yl("You must provide either an email or phone number and a type")}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Xl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<cf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ln}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ln})})}catch(r){if(se(r))return hM(r)&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Pn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await mo(this.storage,this.storageKey));const{data:u,error:f}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Ln});if(f)throw f;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pn;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=df(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(se(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Pn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!mr())throw new Jl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ey("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ey("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new Jl("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const x=h-d;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,f);const{data:g,error:w}=await this._getUser(o);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:h,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(se(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Xl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(fM(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=_M(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await mo(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(se(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,f;const{data:d,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return mr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(se(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await EM(async s=>(s>0&&await kM(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&uf(o)&&Date.now()+i-n<bo})}catch(n){if(this._debug(r,"error",n),se(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),mr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Xl(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<cf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${cf}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),uf(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Xu;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Pn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),se(o)){const i={session:null,error:o};return uf(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nj(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Zl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${bo}ms, refresh threshold is ${em} ticks`),s<=em&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await mo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=df(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+uM>Date.now()))return n;const{data:s,error:o}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new bi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new bi("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=df(n);if(OM(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=MM(s.alg),f=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,i,wM(`${l}.${c}`)))throw new bi("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}}Ki.nextInstanceID=0;const XM=Ki;class ZM extends XM{constructor(t){super(t)}}var eD=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class tD{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=sM(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:YO,realtime:XO,auth:Object.assign(Object.assign({},JO),{storageKey:u}),global:QO},d=oM(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=rM(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new yO(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new GI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new HO(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return eD(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZM({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new AO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rD=(e,t,r)=>new tD(e,t,r),nD="https://rigurrwjiaucodxuuzeh.supabase.co",sD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ3VycndqaWF1Y29keHV1emVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3NDI1NTYsImV4cCI6MjA2NTMxODU1Nn0.nr5QAlB0UyA3VQWXolIsc8lXXzwj0Ur6Nj-ddr7f7AQ",F=rD(nD,sD),oj=m.createContext(void 0),fl=()=>{const e=m.useContext(oj);if(!e)throw new Error("useOrganization must be used within an OrganizationProvider");return e},oD=["admin","auth","create-organization","login","terms-of-service","privacy-policy"],aD=e=>{const t=e.split("/").filter(r=>r);return t[0]==="admin"&&t.length>1&&t[1]!=="login"||t[0]==="org"&&t.length>1?t[1]:t.length>0&&!oD.includes(t[0])?t[0]:null},iD=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(!0),[o,i]=m.useState(null),l=Kr(),c=async d=>{s(!0),i(null);try{const{data:h,error:p}=await F.from("organizations").select("*").eq("slug",d).single();p?(p.code==="PGRST116"?i("Organization not found"):i(p.message||"Failed to load organization"),r(null)):(r(h),i(null))}catch(h){i(h.message||"An unexpected error occurred"),r(null)}finally{s(!1)}},u=async()=>{const d=aD(l.pathname);if(!d){r(null),s(!1);return}await c(d)},f=()=>{u()};return m.useEffect(()=>{u()},[l.pathname]),a.jsx(oj.Provider,{value:{organization:t,loading:n,error:o,refreshOrganization:f,fetchOrganization:c},children:e})},aj=m.createContext(void 0),lD=({children:e})=>{const[t,r]=m.useState(),n={dateRange:t,setDateRange:r};return a.jsx(aj.Provider,{value:n,children:e})},cD=()=>{const e=m.useContext(aj);if(e===void 0)throw new Error("useDashboard must be used within a DashboardProvider. Make sure the component calling useDashboard is wrapped with <DashboardProvider>.");return e},uD=async e=>{var t;try{console.log("Checking user roles for:",e),await new Promise(c=>setTimeout(c,100));const{data:r,error:n}=await F.rpc("get_current_user_admin_status");n&&console.error("Error checking admin status:",n);const{data:s,error:o}=await F.from("organization_users").select("organization_id, role, enhanced_role, organizations(slug)").eq("user_id",e).eq("status","active").single();o&&o.code!=="PGRST116"&&console.error("Error checking org memberships:",o);const i=!!r,l=!!(s!=null&&s.organization_id);return console.log("User roles determined:",{isAdmin:i,hasOrgRole:l,orgData:s,enhancedRole:s==null?void 0:s.enhanced_role}),{isAdmin:i,isOrgAdmin:l,currentOrganization:(s==null?void 0:s.organization_id)||null,currentOrganizationSlug:((t=s==null?void 0:s.organizations)==null?void 0:t.slug)||null}}catch(r){return console.error("Error checking user roles:",r),{isAdmin:!1,isOrgAdmin:!1,currentOrganization:null,currentOrganizationSlug:null}}},dD=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(null),[s,o]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(null),[f,d]=m.useState(null),[h,p]=m.useState(!0);return m.useEffect(()=>{let x=!0,g;const w=async v=>{try{const b=await uD(v);x&&(o(b.isAdmin),l(b.isOrgAdmin),u(b.currentOrganization),d(b.currentOrganizationSlug),p(!1))}catch(b){console.error("Error updating user roles:",b),x&&p(!1)}},{data:{subscription:y}}=F.auth.onAuthStateChange(async(v,b)=>{var j;x&&(console.log("Auth state change in useAuthState:",v,(j=b==null?void 0:b.user)==null?void 0:j.email),n(b),t((b==null?void 0:b.user)??null),g&&clearTimeout(g),b!=null&&b.user?g=setTimeout(()=>{x&&w(b.user.id)},200):(o(!1),l(!1),u(null),d(null),p(!1)))});return F.auth.getSession().then(({data:{session:v}})=>{var b;x&&(console.log("Initial session check:",(b=v==null?void 0:v.user)==null?void 0:b.email),n(v),t((v==null?void 0:v.user)??null),v!=null&&v.user?w(v.user.id):p(!1))}),()=>{x=!1,g&&clearTimeout(g),y.unsubscribe()}},[]),{user:e,session:r,isAdmin:s,isOrgAdmin:i,currentOrganization:c,currentOrganizationSlug:f,loading:h}},fD=()=>F.supabaseKey||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ3VycndqaWF1Y29keHV1emVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3NDI1NTYsImV4cCI6MjA2NTMxODU1Nn0.nr5QAlB0UyA3VQWXolIsc8lXXzwj0Ur6Nj-ddr7f7AQ",ij=e=>{const t=window.location.origin,r=fD(),n=e.includes("?")?"&":"?";return`${t}${e}${n}apikey=${r}`};class Us{static getBaseUrl(){return window.location.origin}static async signUp(t,r){try{const n=ij("/auth-callback?type=signup"),{data:s,error:o}=await F.auth.signUp({email:t,password:r,options:{emailRedirectTo:n}});return{data:s,error:o}}catch(n){return console.error("Sign up error:",n),{data:null,error:n}}}static async signIn(t,r){try{const{data:n,error:s}=await F.auth.signInWithPassword({email:t,password:r});return{data:n,error:s}}catch(n){return console.error("Sign in error:",n),{data:null,error:n}}}static async resetPassword(t){try{const{data:r,error:n}=await F.functions.invoke("send-password-reset",{body:{email:t}});return n?(console.error("Password reset error:",n),{data:null,error:n}):{data:r,error:null}}catch(r){return console.error("Password reset error:",r),{data:null,error:r}}}static async updatePassword(t){try{const{data:r,error:n}=await F.auth.updateUser({password:t});return{data:r,error:n}}catch(r){return console.error("Update password error:",r),{data:null,error:r}}}static async signOut(){try{this.cleanupAuthState();const{error:t}=await F.auth.signOut({scope:"global"});return window.location.href="/auth",{error:t}}catch(t){return console.error("Sign out error:",t),window.location.href="/auth",{error:t}}}static cleanupAuthState(){localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&localStorage.removeItem(t)}),Object.keys(sessionStorage||{}).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&sessionStorage.removeItem(t)})}static async handlePostAuthRedirect(t){var r;try{console.log("Determining redirect path for user:",t.email),await new Promise(c=>setTimeout(c,2e3));let n=null,s=0;const o=5;for(;!n&&s<o;){s++,console.log(`Checking organization membership, attempt ${s}/${o}`);const{data:c,error:u}=await F.from("organization_users").select("organization_id, organizations(slug)").eq("user_id",t.id).limit(1);if(u&&console.error("Error checking organization membership:",u),c&&c.length>0){n=c,console.log("Found organization membership:",n);break}if(s<o){const f=s*1500;console.log(`No organization found, waiting ${f}ms before retry ${s+1}`),await new Promise(d=>setTimeout(d,f))}}if(n&&n.length>0){const c=(r=n[0].organizations)==null?void 0:r.slug;if(c)return console.log("User has organization, redirecting to:",`/admin/${c}`),`/admin/${c}`}const{data:i,error:l}=await F.rpc("get_current_user_admin_status");return l&&console.error("Error checking admin status:",l),i?(console.log("User is system admin, redirecting to:","/admin"),"/admin"):(console.log("No organization found after all retries, redirecting to:","/create-organization"),"/create-organization")}catch(n){return console.error("Post-auth redirect error:",n),"/create-organization"}}}const lj=m.createContext(null),bn=()=>{const e=m.useContext(lj);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},hD=({children:e})=>{const t=dD(),r=async(c,u)=>{console.log("Starting sign in process"),Us.cleanupAuthState();try{const{error:f}=await F.auth.signInWithPassword({email:c,password:u});return f?(console.error("Sign in error:",f),{error:f}):(console.log("Sign in successful, waiting for auth state update"),{error:null})}catch(f){return console.error("Sign in error:",f),{error:f}}},n=async(c,u)=>{try{const f=ij("/auth-callback?type=signup"),{error:d}=await F.auth.signUp({email:c,password:u,options:{emailRedirectTo:f}});return d?(console.error("Signup error:",d),{error:d}):(console.log("Signup successful"),{error:null})}catch(f){return console.error("Sign up error:",f),{error:f}}},s=async c=>{try{return await Us.resetPassword(c)}catch(u){return console.error("Password reset error:",u),{error:u}}},o=async c=>{try{const{error:u}=await F.auth.updateUser({password:c});return{error:u}}catch(u){return console.error("Update password error:",u),{error:u}}},i=async()=>{try{Us.cleanupAuthState(),await F.auth.signOut({scope:"global"}),window.location.href="/auth"}catch(c){console.error("Sign out error:",c),window.location.href="/auth"}},l=async()=>{t.user&&console.log("Refreshing user roles for:",t.user.id)};return a.jsx(lj.Provider,{value:{...t,signIn:r,signUp:n,signOut:i,resetPassword:s,updatePassword:o,refreshUserRoles:l},children:e})},Ys={owner:{variant:"destructive",icon:d2,label:"Owner",description:"Full access including billing and organization management",level:6,permissions:["*"]},admin:{variant:"default",icon:ka,label:"Admin",description:"Full access except billing and ownership changes",level:5,permissions:["manage_users","manage_questions","view_analytics","export_data","manage_integrations"]},manager:{variant:"secondary",icon:Jc,label:"Manager",description:"Team management and question creation",level:4,permissions:["manage_questions","view_analytics","export_data","invite_users"]},analyst:{variant:"outline",icon:ss,label:"Analyst",description:"Analytics access and data export",level:3,permissions:["view_analytics","export_data","manage_questions"]},member:{variant:"secondary",icon:Np,label:"Member",description:"Basic access to view analytics",level:2,permissions:["view_analytics"]},viewer:{variant:"outline",icon:Oo,label:"Viewer",description:"Read-only access to basic analytics",level:1,permissions:["view_analytics"]}},Gi=e=>Ys[e]||Ys.member,eg=(e,t)=>{var s,o;const r=((s=Ys[e])==null?void 0:s.level)||0,n=((o=Ys[t])==null?void 0:o.level)||0;return r>n},mD=e=>{var r;const t=((r=Ys[e])==null?void 0:r.level)||0;return Object.entries(Ys).filter(([,n])=>n.level<t).map(([n])=>n)},tg=(e,t)=>{const r=Ys[e];return r?r.permissions.includes("*")?!0:r.permissions.includes(t):!1},pD=e=>e.split("@")[0].slice(0,2).toUpperCase(),lu=e=>new Date(e).toLocaleDateString(),gD=e=>e==="active"?"default":"secondary",cj=e=>{const t=new Date(e),r=new Date;return(t.getTime()-r.getTime())/(1e3*60*60)<=24};class Mo{static async getUserRole(t,r){const n=`${t}-${r}`,s=this.roleCache.get(n);if(s&&Date.now()-s.timestamp<this.CACHE_TTL)return s.role;try{const{data:o,error:i}=await F.from("organization_users").select("enhanced_role").eq("user_id",t).eq("organization_id",r).single();if(i||!o)return null;const l=o.enhanced_role;return this.roleCache.set(n,{role:l,timestamp:Date.now()}),l}catch(o){return console.error("Error fetching user role:",o),null}}static async checkPermission(t,r,n){if(t.isAdmin)return{allowed:!0,reason:"System admin access"};let s=t.userRole;if(!s&&(s=await this.getUserRole(t.userId,t.organizationId),!s))return{allowed:!1,reason:"User role not found"};if(!tg(s,r))return{allowed:!1,reason:`Role '${s}' lacks permission '${r}'`,requiredRole:this.getMinimumRoleForPermission(r)};if(r==="manage_users"&&n){const i=await this.getUserRole(n,t.organizationId);if(i&&!eg(s,i))return{allowed:!1,reason:`Cannot manage user with role '${i}'`,requiredRole:i}}return{allowed:!0}}static async requirePermission(t,r,n){const s=await this.checkPermission(t,r,n);if(!s.allowed)throw new vD(s.reason||"Access denied",s.requiredRole)}static getMinimumRoleForPermission(t){return{view_analytics:"viewer",export_data:"analyst",manage_questions:"analyst",manage_users:"manager",manage_integrations:"admin",manage_organization:"admin",manage_billing:"owner"}[t]||"admin"}static clearCache(t,r){t&&r?this.roleCache.delete(`${t}-${r}`):this.roleCache.clear()}}nt(Mo,"roleCache",new Map),nt(Mo,"CACHE_TTL",5*60*1e3);class vD extends Error{constructor(t,r){super(t),this.requiredRole=r,this.name="RBACError"}}const hl=e=>{const{user:t,isAdmin:r,isOrgAdmin:n}=bn(),s=m.useMemo(()=>!(t!=null&&t.id)||!e?null:{userId:t.id,organizationId:e,isAdmin:r},[t==null?void 0:t.id,e,r]),{data:o,isLoading:i,error:l}=pn({queryKey:["user-role-rbac",t==null?void 0:t.id,e],queryFn:async()=>{if(!s)return null;try{const h=await Mo.getUserRole(s.userId,s.organizationId);return console.log("User role fetched:",h,"for user:",s.userId),h}catch(h){return console.error("Error fetching user role:",h),null}},enabled:!!s,staleTime:5*60*1e3,retry:3}),c=m.useCallback(async(h,p)=>s?Mo.checkPermission({...s,userRole:o||void 0},h,p):{allowed:!1,reason:"No valid context"},[s,o]),u=m.useCallback(async(h,p)=>{if(!s)throw new Error("No valid RBAC context");return Mo.requirePermission({...s,userRole:o||void 0},h,p)},[s,o]),f=m.useCallback(h=>{if(!s||!o)return console.log("Permission check failed: no context or role",{context:!!s,userRole:o}),!1;if(r||n)return console.log("Permission granted: admin access"),!0;const p=tg(o,h);return console.log("Permission check:",{permission:h,userRole:o,allowed:p}),p},[s,o,r,n]),d=m.useCallback(async h=>{if(!s||!o)return!1;if(r||n)return!0;try{const p=await Mo.getUserRole(h,s.organizationId);return p?eg(o,p):!1}catch(p){return console.error("Error checking user management permission:",p),!1}},[s,o,r,n]);return{userRole:o,isLoading:i,error:l,checkPermission:c,requirePermission:u,hasPermission:f,canManageUser:d,isAdmin:r||!1}},hf=({children:e,requireAdmin:t=!1,requireOrgAdmin:r=!1,requiredPermission:n,organizationId:s})=>{const[o,i]=m.useState(!1),{user:l,isAdmin:c,isOrgAdmin:u,loading:f,currentOrganization:d}=bn(),{hasPermission:h,isLoading:p}=hl(s||d);return m.useEffect(()=>{if(!f&&!p){if(!l)return;if(t&&!c){const x=setTimeout(()=>i(!0),100);return()=>clearTimeout(x)}if(r&&!u&&!c){const x=setTimeout(()=>i(!0),100);return()=>clearTimeout(x)}if(n&&!h(n)&&!c){const x=setTimeout(()=>i(!0),100);return()=>clearTimeout(x)}}},[f,p,l,c,u,t,r,n,h]),f||p?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}):l?t&&!c?o?a.jsx(ai,{to:"/",replace:!0}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Verifying permissions..."})]})}):r&&!u&&!c?o?a.jsx(ai,{to:"/",replace:!0}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Verifying permissions..."})]})}):n&&!h(n)&&!c?o?a.jsx(ai,{to:"/",replace:!0}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Verifying permissions..."})]})}):a.jsx(a.Fragment,{children:e}):a.jsx(ai,{to:"/auth",replace:!0})},ue=m.forwardRef(({className:e,variant:t="default",size:r="md",...n},s)=>{const o={default:"rounded-xl border bg-card text-card-foreground shadow-sm hover:shadow-md transition-all duration-200",elevated:"rounded-xl bg-card text-card-foreground shadow-lg hover:shadow-xl transition-all duration-300 border-0 hover:-translate-y-1",outlined:"rounded-xl border-2 bg-card text-card-foreground hover:border-primary/30 hover:shadow-sm transition-all duration-200",filled:"rounded-xl bg-slate-50 dark:bg-slate-800 text-card-foreground border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-750 transition-all duration-200",interactive:"rounded-xl border bg-card text-card-foreground shadow-sm hover:shadow-lg hover:-translate-y-1 cursor-pointer transition-all duration-300 hover:border-primary/20",glass:"rounded-xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border border-white/20 text-card-foreground shadow-lg hover:shadow-xl transition-all duration-300"};return a.jsx("div",{ref:s,className:U(o[t],e),...n})});ue.displayName="Card";const Me=m.forwardRef(({className:e,size:t="md",...r},n)=>{const s={sm:"p-4",md:"p-6",lg:"p-8"};return a.jsx("div",{ref:n,className:U("flex flex-col space-y-1.5",s[t],e),...r})});Me.displayName="CardHeader";const De=m.forwardRef(({className:e,size:t="md",...r},n)=>{const s={sm:"text-lg",md:"text-title-large",lg:"text-2xl"};return a.jsx("h3",{ref:n,className:U("font-semibold leading-none tracking-tight",s[t],e),...r})});De.displayName="CardTitle";const Js=m.forwardRef(({className:e,size:t="md",...r},n)=>{const s={sm:"text-sm",md:"text-body-medium",lg:"text-base"};return a.jsx("p",{ref:n,className:U("text-muted-foreground",s[t],e),...r})});Js.displayName="CardDescription";const de=m.forwardRef(({className:e,size:t="md",...r},n)=>{const s={sm:"p-4 pt-0",md:"p-6 pt-0",lg:"p-8 pt-0"};return a.jsx("div",{ref:n,className:U(s[t],e),...r})});de.displayName="CardContent";const yD=m.forwardRef(({className:e,size:t="md",...r},n)=>{const s={sm:"p-4 pt-0",md:"p-6 pt-0",lg:"p-8 pt-0"};return a.jsx("div",{ref:n,className:U("flex items-center",s[t],e),...r})});yD.displayName="CardFooter";const rg=ll("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 elevation-2 hover:elevation-3 active:elevation-1",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 elevation-2 hover:elevation-3",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground elevation-1 hover:elevation-2",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 elevation-1 hover:elevation-2",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?fn:"button";return a.jsx(i,{className:U(rg({variant:t,size:r,className:e})),ref:o,...s})});te.displayName="Button";const le=m.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:U("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));le.displayName="Input";var xD="Label",uj=m.forwardRef((e,t)=>a.jsx(K.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));uj.displayName=xD;var dj=uj;const wD=ll("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=m.forwardRef(({className:e,...t},r)=>a.jsx(dj,{ref:r,className:U(wD(),e),...t}));ee.displayName=dj.displayName;function bD(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(d){const{scope:h,children:p,...x}=d,g=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,x=m.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,jD(s,...t)]}function jD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var _D=m.createContext(void 0);function so(e){const t=m.useContext(_D);return e||t||"ltr"}var mf="rovingFocusGroup.onEntryFocus",SD={bubbles:!1,cancelable:!0},Zu="RovingFocusGroup",[nm,fj,ND]=Sa(Zu),[kD,La]=bD(Zu,[ND]),[ED,CD]=kD(Zu),hj=m.forwardRef((e,t)=>a.jsx(nm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(nm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(RD,{...e,ref:t})})}));hj.displayName=Zu;var RD=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=m.useRef(null),p=ne(t,h),x=so(o),[g=null,w]=Kt({prop:i,defaultProp:l,onChange:c}),[y,v]=m.useState(!1),b=lt(u),j=fj(r),_=m.useRef(!1),[k,N]=m.useState(0);return m.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(mf,b),()=>E.removeEventListener(mf,b)},[b]),a.jsx(ED,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(E=>w(E),[w]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>N(E=>E-1),[]),children:a.jsx(K.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:L(e.onMouseDown,()=>{_.current=!0}),onFocus:L(e.onFocus,E=>{const P=!_.current;if(E.target===E.currentTarget&&P&&!y){const T=new CustomEvent(mf,SD);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const M=j().filter($=>$.focusable),I=M.find($=>$.active),W=M.find($=>$.id===g),Y=[I,W,...M].filter(Boolean).map($=>$.ref.current);gj(Y,f)}}_.current=!1}),onBlur:L(e.onBlur,()=>v(!1))})})}),mj="RovingFocusGroupItem",pj=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=e,l=or(),c=o||l,u=CD(mj,r),f=u.currentTabStopId===c,d=fj(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),a.jsx(nm.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(K.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:L(e.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:L(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:L(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=AD(x,u.orientation,u.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=d().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const v=y.indexOf(x.currentTarget);y=u.loop?ID(y,v+1):y.slice(v+1)}setTimeout(()=>gj(y))}})})})});pj.displayName=mj;var PD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TD(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function AD(e,t,r){const n=TD(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return PD[n]}function gj(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function ID(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ng=hj,sg=pj,og="Tabs",[OD,az]=St(og,[La]),vj=La(),[MD,ag]=OD(og),yj=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=so(l),[d,h]=Kt({prop:n,onChange:s,defaultProp:o});return a.jsx(MD,{scope:r,baseId:or(),value:d,onValueChange:h,orientation:i,dir:f,activationMode:c,children:a.jsx(K.div,{dir:f,"data-orientation":i,...u,ref:t})})});yj.displayName=og;var xj="TabsList",wj=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=ag(xj,r),i=vj(r);return a.jsx(ng,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(K.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});wj.displayName=xj;var bj="TabsTrigger",jj=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=ag(bj,r),l=vj(r),c=Nj(i.baseId,n),u=kj(i.baseId,n),f=n===i.value;return a.jsx(sg,{asChild:!0,...l,focusable:!s,active:f,children:a.jsx(K.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:L(e.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?i.onValueChange(n):d.preventDefault()}),onKeyDown:L(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(n)}),onFocus:L(e.onFocus,()=>{const d=i.activationMode!=="manual";!f&&!s&&d&&i.onValueChange(n)})})})});jj.displayName=bj;var _j="TabsContent",Sj=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,l=ag(_j,r),c=Nj(l.baseId,n),u=kj(l.baseId,n),f=n===l.value,d=m.useRef(f);return m.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Dt,{present:s||f,children:({present:h})=>a.jsx(K.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&o})})});Sj.displayName=_j;function Nj(e,t){return`${e}-trigger-${t}`}function kj(e,t){return`${e}-content-${t}`}var DD=yj,Ej=wj,Cj=jj,Rj=Sj;const ml=DD,pl=m.forwardRef(({className:e,...t},r)=>a.jsx(Ej,{ref:r,className:U("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));pl.displayName=Ej.displayName;const nr=m.forwardRef(({className:e,...t},r)=>a.jsx(Cj,{ref:r,className:U("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));nr.displayName=Cj.displayName;const Be=m.forwardRef(({className:e,...t},r)=>a.jsx(Rj,{ref:r,className:U("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Be.displayName=Rj.displayName;const LD=ll("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ge=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:U(LD({variant:t}),e),...r}));Ge.displayName="Alert";const Pj=m.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:U("mb-1 font-medium leading-none tracking-tight",e),...t}));Pj.displayName="AlertTitle";const Qe=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:U("text-sm [&_p]:leading-relaxed",e),...t}));Qe.displayName="AlertDescription";const $D=()=>gn({mutationFn:async({email:e})=>{var t,r,n,s;console.log("Sending password reset request for:",e);try{const{data:o,error:i}=await F.functions.invoke("send-password-reset",{body:{email:e.trim().toLowerCase()}});if(console.log("Password reset function response:",{data:o,error:i}),i){if(console.error("Supabase function invoke error:",i),(t=i.message)!=null&&t.includes("NetworkError")||(r=i.message)!=null&&r.includes("Failed to fetch"))throw new Error("Network error: Please check your internet connection and try again");if((n=i.message)!=null&&n.includes("FunctionsError")||(s=i.message)!=null&&s.includes("non-2xx status code")){const l=(o==null?void 0:o.error)||"Service error occurred. Please try again.";throw new Error(l)}throw new Error(i.message||"Failed to send password reset request")}if(!o)throw console.error("No data returned from password reset function"),new Error("No response received from server");if(typeof o=="object"&&o!==null&&"success"in o){const l=o;if(l.success===!1)throw console.error("Password reset failed:",l.error),new Error(l.error||"Failed to send password reset email");return console.log("Password reset successful:",l),l}return console.log("Password reset completed with response:",o),{success:!0,message:"Password reset email sent successfully"}}catch(o){console.error("Password reset error:",o);const i=o.message||"Failed to send password reset email. Please try again.";throw new Error(i)}},onSuccess:e=>{et.success(e.message||"Password reset email sent! Check your inbox for instructions.")},onError:e=>{console.error("Password reset mutation error:",e);const t=e.message||"Failed to send password reset email";et.error(t)}});function FD(){const[e,t]=m.useState(!1),r=Yt(),{toast:n}=dr();return{processInvitation:async(o,i,l)=>{var c;t(!0);try{console.log("=== INVITATION PROCESSING START ==="),console.log("Processing invitation for:",o,"to org:",i,"userId:",l);const{data:u,error:f}=await F.from("organizations").select("id, name, slug").eq("slug",i).single();if(f||!u)throw console.error("Organization not found:",i,f),new Error("Organization not found");console.log("Found organization:",u);const{data:d,error:h}=await F.from("organization_users").select("id, role, enhanced_role, status").eq("user_id",l).eq("organization_id",u.id).maybeSingle();if(h&&console.error("Error checking membership:",h),d)return console.log("=== USER ALREADY IN ORGANIZATION ==="),console.log("Existing membership:",d),n({title:"Welcome back!",description:`You're already a member of ${u.name}`}),await new Promise(b=>setTimeout(b,1500)),r(`/admin/${i}`),{success:!0,message:"Already a member"};const{data:p,error:x}=await F.from("user_invitations").select("id, role, enhanced_role, status").eq("email",o.toLowerCase().trim()).eq("organization_id",u.id).eq("status","pending").order("created_at",{ascending:!1}).limit(1).maybeSingle();console.log("Found invitation:",p,"Error:",x);const g=(p==null?void 0:p.role)||"member",w=(p==null?void 0:p.enhanced_role)||"member";console.log("=== ADDING USER TO ORGANIZATION ==="),console.log("Adding user to organization with role:",g,"enhanced_role:",w);const{data:y,error:v}=await F.from("organization_users").insert({user_id:l,organization_id:u.id,email:o,role:g,enhanced_role:w,status:"active",accepted_at:new Date().toISOString()}).select().single();if(v){if(console.error("Error adding user to organization:",v),v.code==="23505"||(c=v.message)!=null&&c.includes("duplicate key"))return console.log("=== DUPLICATE KEY ERROR - USER ALREADY EXISTS ==="),n({title:"Welcome back!",description:`You're already a member of ${u.name}`}),await new Promise(b=>setTimeout(b,1500)),r(`/admin/${i}`),{success:!0,message:"Already a member"};throw new Error("Failed to join organization: "+v.message)}if(console.log("Successfully added user to organization:",y),console.log("=== INVITATION PROCESSING SUCCESS ==="),p){const{error:b}=await F.from("user_invitations").update({status:"accepted",updated_at:new Date().toISOString()}).eq("id",p.id);b?console.warn("Could not update invitation status:",b):console.log("Marked invitation as accepted and removed from pending")}return n({title:"Welcome!",description:`You've successfully joined ${u.name}`}),await new Promise(b=>setTimeout(b,2e3)),console.log("Redirecting to organization dashboard:",i),r(`/admin/${i}`),{success:!0,message:"Successfully joined organization"}}catch(u){console.error("=== INVITATION PROCESSING ERROR ==="),console.error("Error processing invitation:",u);const f=u instanceof Error?u.message:"Failed to process invitation";return n({title:"Error",description:f,variant:"destructive"}),{success:!1,error:f}}finally{t(!1)}},processing:e}}function zD(){const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,o]=m.useState(!1),[i,l]=m.useState(""),[c,u]=m.useState(!1);let f;try{f=bn()}catch(E){console.error("Auth context not available:",E),f={signIn:async()=>({error:{message:"Authentication not available"}}),signUp:async()=>({error:{message:"Authentication not available"}}),updatePassword:async()=>({error:{message:"Authentication not available"}})}}const{signIn:d,signUp:h,updatePassword:p}=f,x=$D(),{processInvitation:g,processing:w}=FD(),y=Yt(),{toast:v}=dr(),[b]=Wu(),j=async E=>{E.preventDefault(),o(!0),l(""),console.log("=== SIGN IN FLOW START ==="),console.log("Starting sign in process for:",e);const{error:P}=await d(e,r);if(P){l(P.message),o(!1);return}v({title:"Welcome back!",description:"You have been signed in successfully."}),console.log("Sign in successful, waiting for session..."),setTimeout(async()=>{try{const{data:{session:T}}=await F.auth.getSession();if(T!=null&&T.user){console.log("Session found, determining redirect path...");const M=await Us.handlePostAuthRedirect(T.user);console.log("Redirecting to:",M),y(M)}else console.log("No session found after sign in, redirecting to auth"),y("/auth")}catch(T){console.error("Post-signin processing error:",T),y("/")}finally{o(!1)}},1e3)},_=async E=>{E.preventDefault(),o(!0),l(""),console.log("=== SIGN UP FLOW START ==="),console.log("Starting sign up process for:",e);const{error:P}=await h(e,r);if(P){console.error("Signup error:",P),l(P.message),o(!1);return}console.log("Signup successful"),v({title:"Account created!",description:"Account created! Please check your email to verify your account."}),o(!1)},k=async E=>{E.preventDefault(),o(!0),l("");try{await x.mutateAsync({email:e}),u(!1)}catch(P){l(P.message||"Failed to send password reset email")}finally{o(!1)}},N=async E=>{o(!0),l("");const{error:P}=await p(E);if(P){l(P.message),o(!1);return}v({title:"Password updated!",description:"Your password has been successfully updated."}),console.log("Password reset completed, redirecting to dashboard"),y("/"),o(!1)};return{email:e,setEmail:t,password:r,setPassword:n,loading:s||x.isPending||w,error:i,setError:l,showForgotPassword:c,setShowForgotPassword:u,handleSignIn:j,handleSignUp:_,handleForgotPassword:k,handleNewPassword:N,isPasswordReset:b.get("reset")==="true"}}const UD=()=>{const{email:e,setEmail:t,password:r,setPassword:n,loading:s,error:o,handleSignIn:i,handleSignUp:l,handleForgotPassword:c,handleNewPassword:u,showForgotPassword:f,setShowForgotPassword:d,isPasswordReset:h}=zD(),[p]=Wu(),[x,g]=m.useState(!1),[w,y]=m.useState(""),[v,b]=m.useState(""),[j,_]=m.useState(""),k=p.get("setup-password")==="true",N=p.get("invitation")==="true",E=p.get("org"),P=p.get("email"),T=p.get("message");m.useEffect(()=>{k&&P&&t(decodeURIComponent(P))},[k,P,t]);const M=I=>{if(I.preventDefault(),w!==v){_("Passwords do not match");return}if(w.length<6){_("Password must be at least 6 characters");return}_(""),u(w)};return k?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(ue,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs(Me,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(sn,{className:"h-8 w-8"})}),a.jsx(De,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Set Your Password"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Complete your invitation to join the organization"}),E&&a.jsxs("p",{className:"text-sm text-sunset-600 font-medium",children:["Organization: ",E]})]}),a.jsx(de,{children:a.jsxs("form",{onSubmit:M,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"invited-email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(le,{id:"invited-email",type:"email",value:e,disabled:!0,className:"bg-gray-50 border-warm-gray-200 text-base cursor-not-allowed"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ee,{htmlFor:"new-password",className:"font-medium text-warm-gray-700",children:"Create Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"new-password",type:x?"text":"password",value:w,onChange:I=>y(I.target.value),required:!0,placeholder:"Create your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!x),children:x?a.jsx(Wl,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Oo,{className:"h-4 w-4 text-warm-gray-400"})})]}),a.jsx("p",{className:"text-xs text-warm-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"confirm-password",className:"font-medium text-warm-gray-700",children:"Confirm Password"}),a.jsx(le,{id:"confirm-password",type:"password",value:v,onChange:I=>b(I.target.value),required:!0,placeholder:"Confirm your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),j&&a.jsx(Ge,{className:"bg-red-50 border border-red-200",children:a.jsx(Qe,{className:"text-red-700",children:j})}),a.jsx(te,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Setting up...":"Complete Setup"})]})})]})})}):h?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(ya,{to:"/auth",className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[a.jsx(bc,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),a.jsxs(ue,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs(Me,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(sn,{className:"h-8 w-8"})}),a.jsx(De,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Set New Password"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Enter your new password below"})]}),a.jsx(de,{children:a.jsxs("form",{onSubmit:M,className:"space-y-5",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ee,{htmlFor:"new-password",className:"font-medium text-warm-gray-700",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"new-password",type:x?"text":"password",value:w,onChange:I=>y(I.target.value),required:!0,placeholder:"Enter new password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!x),children:x?a.jsx(Wl,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Oo,{className:"h-4 w-4 text-warm-gray-400"})})]})]}),a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"confirm-password",className:"font-medium text-warm-gray-700",children:"Confirm Password"}),a.jsx(le,{id:"confirm-password",type:"password",value:v,onChange:I=>b(I.target.value),required:!0,placeholder:"Confirm new password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),j&&a.jsx(Ge,{className:"bg-red-50 border border-red-200",children:a.jsx(Qe,{className:"text-red-700",children:j})}),a.jsx(te,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Updating...":"Update Password"})]})})]})]})}):f?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("button",{onClick:()=>d(!1),className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[a.jsx(bc,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),a.jsxs(ue,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs(Me,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(sn,{className:"h-8 w-8"})}),a.jsx(De,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Reset Password"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Enter your email to receive reset instructions"})]}),a.jsx(de,{children:a.jsxs("form",{onSubmit:c,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"reset-email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(le,{id:"reset-email",type:"email",value:e,onChange:I=>t(I.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),o&&a.jsx(Ge,{className:"bg-red-50 border border-red-200",children:a.jsx(Qe,{className:"text-red-700",children:o})}),a.jsx(te,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Sending...":"Send Reset Link"})]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(ya,{to:"/",className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[a.jsx(bc,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsxs(ue,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[a.jsxs(Me,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:a.jsx(sn,{className:"h-8 w-8"})}),a.jsx(De,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:N?"Join Organization":"Welcome to Pulsify"}),a.jsx("p",{className:"text-warm-gray-500 font-medium",children:N&&E?`You've been invited to join ${E.replace("-"," ")}`:"Sign in to your organization account"}),N&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 text-sm text-sunset-600",children:[a.jsx(Vr,{className:"w-4 h-4"}),a.jsx("span",{children:"Organization Invitation"})]})]}),a.jsxs(de,{children:[T&&a.jsxs(Ge,{className:"bg-green-50 border border-green-200 mb-6",children:[a.jsx(ur,{className:"h-4 w-4 text-green-600"}),a.jsx(Qe,{className:"text-green-700",children:decodeURIComponent(T)})]}),a.jsxs(ml,{defaultValue:"signin",className:"w-full",children:[a.jsxs(pl,{className:"grid w-full grid-cols-2 mb-6 bg-warm-gray-100/80 border border-warm-gray-200 rounded-lg shadow-sm",children:[a.jsx(nr,{value:"signin",className:"font-semibold text-warm-gray-700",children:"Sign In"}),a.jsx(nr,{value:"signup",className:"font-semibold text-warm-gray-700",children:N?"Create Account":"Sign Up"})]}),a.jsx(Be,{value:"signin",children:a.jsxs("form",{onSubmit:i,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(le,{id:"email",type:"email",value:e,onChange:I=>t(I.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ee,{htmlFor:"password",className:"font-medium text-warm-gray-700",children:"Password"}),a.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-sm text-sunset-500 hover:text-sunset-600 font-medium transition-colors",children:"Forgot password?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"password",type:x?"text":"password",value:r,onChange:I=>n(I.target.value),required:!0,placeholder:"Enter your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!x),children:x?a.jsx(Wl,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Oo,{className:"h-4 w-4 text-warm-gray-400"})})]})]}),o&&a.jsx(Ge,{className:"bg-red-50 border border-red-200",children:a.jsx(Qe,{className:"text-red-700",children:o})}),a.jsx(te,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Signing in...":N?"Join Organization":"Sign In"})]})}),a.jsx(Be,{value:"signup",children:a.jsxs("form",{onSubmit:l,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"signup-email",className:"font-medium text-warm-gray-700",children:"Email"}),a.jsx(le,{id:"signup-email",type:"email",value:e,onChange:I=>t(I.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"signup-password",className:"font-medium text-warm-gray-700",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"signup-password",type:x?"text":"password",value:r,onChange:I=>n(I.target.value),required:!0,placeholder:"Create a password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!x),children:x?a.jsx(Wl,{className:"h-4 w-4 text-warm-gray-400"}):a.jsx(Oo,{className:"h-4 w-4 text-warm-gray-400"})})]}),a.jsx("p",{className:"text-xs text-warm-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),o&&a.jsx(Ge,{className:"bg-red-50 border border-red-200",children:a.jsx(Qe,{className:"text-red-700",children:o})}),a.jsx(te,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:s,children:s?"Creating account...":N?"Join Organization":"Sign Up"}),a.jsx("div",{className:"text-xs text-center text-warm-gray-400 mt-3",children:N?"After verifying your email, you'll be added to the organization.":"After verifying your email, your organization will be created in the next step."})]})})]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("span",{className:"text-xs flex items-center justify-center gap-2 text-warm-gray-400",children:[a.jsx(cs,{className:"w-3 h-3 text-sunset-500"}),"Real Insights. Real Impact."]})})]})})},BD=()=>a.jsx(UD,{}),VD=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,o]=m.useState(!1),[i,l]=m.useState(""),{signIn:c}=bn(),u=Yt(),{toast:f}=dr(),d=async h=>{h.preventDefault(),o(!0),l("");const{error:p}=await c(e,r);if(p)l(p.message),o(!1);else{try{const{data:{session:x}}=await F.auth.getSession();if(x!=null&&x.user){const{data:g,error:w}=await F.rpc("get_current_user_admin_status");if(w){console.error("Error checking admin status:",w),l("Failed to verify admin privileges"),o(!1);return}g?(f({title:"Welcome back, Admin!",description:"You have been signed in successfully."}),u("/admin")):(l("Access denied. This login is for system administrators only."),await F.auth.signOut())}else l("Authentication failed. Please try again.")}catch(x){console.error("Error during admin verification:",x),l("Failed to verify admin privileges")}o(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(ya,{to:"/",className:"inline-flex items-center text-slate-300 hover:text-white mb-8 transition-colors",children:[a.jsx(bc,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsxs(ue,{className:"bg-slate-800 border-slate-700",children:[a.jsxs(Me,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-red-100 w-16 h-16 rounded-full flex items-center justify-center text-red-600 mb-4",children:a.jsx(ka,{className:"h-8 w-8"})}),a.jsx(De,{className:"text-2xl font-bold text-white",children:"System Administrator"}),a.jsx("p",{className:"text-slate-400",children:"Sign in to access the admin dashboard"})]}),a.jsxs(de,{children:[a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"email",className:"text-slate-300",children:"Email"}),a.jsx(le,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"admin@example.com"})]}),a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"password",className:"text-slate-300",children:"Password"}),a.jsx(le,{id:"password",type:"password",value:r,onChange:h=>n(h.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"Enter your password"})]}),i&&a.jsx(Ge,{className:"bg-red-900 border-red-700",children:a.jsx(Qe,{className:"text-red-200",children:i})}),a.jsx(te,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:s,children:s?"Signing in...":"Sign In as Admin"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-slate-400 text-sm",children:["Not an admin? ",a.jsx(ya,{to:"/auth",className:"text-blue-400 hover:text-blue-300",children:"User Login"})]})})]})]})]})})},qD=async e=>{try{const{data:t,error:r}=await F.rpc("get_organization_stats_enhanced",{org_id:e});return r?(console.error("Error fetching organization stats:",r),null):t}catch(t){return console.error("Error fetching organization stats:",t),null}},WD=async()=>{try{const{data:e,error:t}=await F.from("organizations").select("*").order("created_at",{ascending:!1});return t?(console.error("Error fetching organizations:",t),[]):e||[]}catch(e){return console.error("Error fetching organizations:",e),[]}},pf=async e=>{try{const{data:t,error:r}=await F.from("organizations").select("*").eq("slug",e).eq("is_active",!0).single();return r?(console.error("Error fetching organization by slug:",r),null):t}catch(t){return console.error("Error fetching organization by slug:",t),null}},HD=async e=>{try{const{data:t,error:r}=await F.from("organizations").select("*").eq("domain",e).eq("is_active",!0).single();return r?(console.error("Error fetching organization by domain:",r),null):t}catch(t){return console.error("Error fetching organization by domain:",t),null}},KD=async e=>{try{const{data:{user:t}}=await F.auth.getUser();let r="starter";(e.plan_type==="pro"||e.plan_type==="enterprise")&&(r=e.plan_type);const n={...e,created_by_user_id:(t==null?void 0:t.id)||e.created_by_user_id,is_active:!0,primary_color:e.primary_color||"#007ACE",secondary_color:e.secondary_color||"#073763",plan_type:r,max_responses:e.max_responses||100,features_config:e.features_config||null,trial_ends_at:e.trial_ends_at||null},{data:s,error:o}=await F.from("organizations").insert(n).select().single();return o?(console.error("Error creating organization:",o),null):(s!=null&&s.id&&(t!=null&&t.id)&&await F.from("organization_audit_log").insert({organization_id:s.id,action:"create_organization",performed_by:t.id,new_value:s}),s)}catch(t){return console.error("Error creating organization:",t),null}},Tj=async(e,t)=>{try{const{plan_type:r,...n}=t;let s={...n};r!==void 0&&(r==="starter"||r==="pro"||r==="enterprise"?s.plan_type=r:s.plan_type="starter");const{data:o,error:i}=await F.from("organizations").update(s).eq("id",e).select().single();return i?(console.error("Error updating organization:",i),null):o}catch(r){return console.error("Error updating organization:",r),null}},GD=({onClose:e,onSubmit:t})=>{const[r,n]=m.useState({name:"",slug:"",domain:"",logo_url:"",primary_color:"#007ACE",secondary_color:"#073763",plan_type:"starter",trial_ends_at:"",billing_email:"",max_responses:100,features_config:void 0}),[s,o]=m.useState(!1),[i,l]=m.useState(""),c=d=>{if(d.preventDefault(),!r.name||!r.slug)return;let h;try{i.trim()&&(h=JSON.parse(i))}catch{alert("Invalid JSON in Feature Overrides!");return}t({...r,features_config:h,trial_ends_at:r.trial_ends_at?new Date(r.trial_ends_at).toISOString():void 0})},u=d=>d.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),f=d=>{n(h=>({...h,name:d,slug:u(d)}))};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs(ue,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Me,{children:a.jsx(De,{children:"Create New Organization"})}),a.jsx(de,{children:a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"name",children:"Organization Name *"}),a.jsx(le,{id:"name",value:r.name,onChange:d=>f(d.target.value),placeholder:"Enter organization name",required:!0})]}),a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"slug",children:"URL Slug *"}),a.jsx(le,{id:"slug",value:r.slug,onChange:d=>n(h=>({...h,slug:d.target.value})),placeholder:"url-friendly-name",required:!0}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Will be accessible at /",r.slug]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"domain",children:"Custom Domain"}),a.jsx(le,{id:"domain",value:r.domain,onChange:d=>n(h=>({...h,domain:d.target.value})),placeholder:"feedback.yourcompany.com"})]}),a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"billing_email",children:"Billing Email"}),a.jsx(le,{id:"billing_email",type:"email",value:r.billing_email,onChange:d=>n(h=>({...h,billing_email:d.target.value})),placeholder:"billing@company.com"})]})]}),a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"logo_url",children:"Logo URL"}),a.jsx(le,{id:"logo_url",value:r.logo_url,onChange:d=>n(h=>({...h,logo_url:d.target.value})),placeholder:"https://example.com/logo.png"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"primary_color",children:"Primary Color"}),a.jsx(le,{id:"primary_color",type:"color",value:r.primary_color,onChange:d=>n(h=>({...h,primary_color:d.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"secondary_color",children:"Secondary Color"}),a.jsx(le,{id:"secondary_color",type:"color",value:r.secondary_color,onChange:d=>n(h=>({...h,secondary_color:d.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"max_responses",children:"Max Responses"}),a.jsx(le,{id:"max_responses",type:"number",value:r.max_responses,onChange:d=>n(h=>({...h,max_responses:parseInt(d.target.value)||100})),min:"1"})]})]}),a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"plan_type",children:"Plan Type / Tier"}),a.jsxs("select",{id:"plan_type",value:r.plan_type,onChange:d=>n(h=>({...h,plan_type:d.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs("div",{children:[a.jsx(ee,{htmlFor:"trial_ends_at",children:"Trial Ends At"}),a.jsx(le,{id:"trial_ends_at",type:"datetime-local",value:r.trial_ends_at||"",onChange:d=>n(h=>({...h,trial_ends_at:d.target.value})),placeholder:"Trial end date"})]}),a.jsxs("div",{children:[a.jsx(te,{type:"button",variant:"outline",className:"w-full",onClick:()=>o(d=>!d),children:s?"Hide Feature Overrides":"Show Feature Overrides (Advanced)"}),s&&a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx(ee,{htmlFor:"features_override",children:"Feature Overrides (JSON)"}),a.jsx("textarea",{id:"features_override",className:"w-full min-h-[120px] border rounded p-2 font-mono text-xs",placeholder:'e.g. { "analytics": true, "modules": {"settings": false} }',value:i,onChange:d=>l(d.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Advanced: Override plan tier settings on a per-feature basis."})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(te,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),a.jsx(te,{type:"submit",children:"Create Organization"})]})]})})]})})},QD=()=>pn({queryKey:["system-user-management"],queryFn:async()=>{const{data:e,error:t}=await F.functions.invoke("system-user-management");if(t){if(t.context&&typeof t.context.json=="function")try{const n=await t.context.json();if(n.error)throw new Error(n.error)}catch{}throw new Error(`Failed to fetch system user data: ${t.message}`)}return{...e,users:((e==null?void 0:e.users)||[]).map(n=>({...n,organization_user_created_at:n.organization_user_created_at??n.created_at??null,role:n.enhanced_role||n.role||"member"})),invitations:((e==null?void 0:e.invitations)||[]).map(n=>({...n,role:n.enhanced_role||n.role||"member"}))}},staleTime:5*60*1e3}),YD=()=>{const e=xn();return gn({mutationFn:async({userId:t,email:r,organizationId:n,role:s})=>{const{data:o,error:i}=await F.functions.invoke("assign-user-to-org",{body:{user_id:t,organization_id:n,role:s}});if(i){if(i.context&&typeof i.context.json=="function")try{const l=await i.context.json();if(l.error)throw new Error(l.error)}catch{}throw new Error(i.message||"An unknown error occurred.")}return o},onSuccess:()=>{e.invalidateQueries({queryKey:["system-user-management"]})}})},JD=()=>{const e=xn();return gn({mutationFn:async()=>{const{data:t,error:r}=await F.functions.invoke("admin-approve-invitations");if(r){if(r.context&&typeof r.context.json=="function")try{const n=await r.context.json();if(n.error)throw new Error(n.error)}catch{}throw new Error(r.message)}return t},onSuccess:()=>{e.invalidateQueries({queryKey:["system-user-management"]})}})},gl=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:U("w-full caption-bottom text-sm",e),...t})}));gl.displayName="Table";const vl=m.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:U("[&_tr]:border-b",e),...t}));vl.displayName="TableHeader";const yl=m.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:U("[&_tr:last-child]:border-0",e),...t}));yl.displayName="TableBody";const XD=m.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:U("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));XD.displayName="TableFooter";const vn=m.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:U("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));vn.displayName="TableRow";const Te=m.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:U("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Te.displayName="TableHead";const Ae=m.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:U("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ae.displayName="TableCell";const ZD=m.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:U("mt-4 text-sm text-muted-foreground",e),...t}));ZD.displayName="TableCaption";const e4=ll("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wr({className:e,variant:t,...r}){return a.jsx("div",{className:U(e4({variant:t}),e),...r})}const ed=({role:e,showIcon:t=!1,className:r=""})=>{const n=Gi(e),s=n.icon;return a.jsxs(Wr,{variant:n.variant,className:r,children:[t&&a.jsx(s,{className:"w-3 h-3 mr-1"}),n.label]})},t4=({users:e,onAssignUser:t})=>e.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No users found in the system."}):a.jsx("div",{className:"rounded-md border",children:a.jsxs(gl,{children:[a.jsx(vl,{children:a.jsxs(vn,{children:[a.jsx(Te,{children:"Email"}),a.jsx(Te,{children:"Organization"}),a.jsx(Te,{children:"Role"}),a.jsx(Te,{children:"Status"}),a.jsx(Te,{children:"Joined"}),a.jsx(Te,{className:"w-[100px]",children:"Actions"})]})}),a.jsx(yl,{children:e.map(r=>a.jsxs(vn,{children:[a.jsx(Ae,{className:"font-medium",children:r.email}),a.jsx(Ae,{children:r.organizations?a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:r.organizations.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["/",r.organizations.slug]})]}):a.jsx("span",{className:"text-gray-400",children:"No organization"})}),a.jsx(Ae,{children:a.jsx(ed,{role:r.role})}),a.jsx(Ae,{children:a.jsx(Wr,{variant:r.status==="active"?"default":"secondary",children:r.status})}),a.jsx(Ae,{children:r.organization_user_created_at?new Date(r.organization_user_created_at).toLocaleDateString():new Date(r.created_at).toLocaleDateString()}),a.jsx(Ae,{children:a.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>t(r),className:"flex items-center gap-2",children:[a.jsx(Sp,{className:"w-4 h-4"}),"Assign"]})})]},`${r.user_id}-${r.organization_id}`))})]})}),r4=({invitations:e})=>e.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Yc,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{children:"No pending invitations found."})]}):a.jsx("div",{className:"rounded-md border",children:a.jsxs(gl,{children:[a.jsx(vl,{children:a.jsxs(vn,{children:[a.jsx(Te,{children:"Email"}),a.jsx(Te,{children:"Organization"}),a.jsx(Te,{children:"Role"}),a.jsx(Te,{children:"Status"}),a.jsx(Te,{children:"Expires"}),a.jsx(Te,{children:"Created"})]})}),a.jsx(yl,{children:e.map(t=>{const r=cj(t.expires_at);return a.jsxs(vn,{children:[a.jsx(Ae,{className:"font-medium",children:t.email}),a.jsx(Ae,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:t.organizations.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["/",t.organizations.slug]})]})}),a.jsx(Ae,{children:a.jsx(ed,{role:t.role})}),a.jsx(Ae,{children:a.jsx(Wr,{variant:"secondary",children:t.status})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:r?"text-red-600":"",children:new Date(t.expires_at).toLocaleDateString()}),r&&a.jsxs(Wr,{variant:"destructive",className:"flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),"Soon"]})]})}),a.jsx(Ae,{children:new Date(t.created_at).toLocaleDateString()})]},t.id)})})]})}),sm=({size:e="md",text:t="Loading...",className:r=""})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return a.jsxs("div",{className:`flex items-center justify-center space-x-2 ${r}`,children:[a.jsx(bp,{className:`animate-spin ${n[e]}`}),t&&a.jsx("span",{className:"text-gray-600",children:t})]})};var gf="focusScope.autoFocusOnMount",vf="focusScope.autoFocusOnUnmount",cy={bubbles:!1,cancelable:!0},n4="FocusScope",td=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=lt(s),f=lt(o),d=m.useRef(null),h=ne(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?d.current=j:Tn(d.current,{select:!0})},w=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Tn(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&Tn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){dy.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(gf,cy);l.addEventListener(gf,u),l.dispatchEvent(y),y.defaultPrevented||(s4(c4(Aj(l)),{select:!0}),document.activeElement===g&&Tn(l))}return()=>{l.removeEventListener(gf,u),setTimeout(()=>{const y=new CustomEvent(vf,cy);l.addEventListener(vf,f),l.dispatchEvent(y),y.defaultPrevented||Tn(g??document.body,{select:!0}),l.removeEventListener(vf,f),dy.remove(p)},0)}}},[l,u,f,p]);const x=m.useCallback(g=>{if(!r&&!n||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const v=g.currentTarget,[b,j]=o4(v);b&&j?!g.shiftKey&&y===j?(g.preventDefault(),r&&Tn(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&Tn(j,{select:!0})):y===v&&g.preventDefault()}},[r,n,p.paused]);return a.jsx(K.div,{tabIndex:-1,...i,ref:h,onKeyDown:x})});td.displayName=n4;function s4(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Tn(n,{select:t}),document.activeElement!==r)return}function o4(e){const t=Aj(e),r=uy(t,e),n=uy(t.reverse(),e);return[r,n]}function Aj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function uy(e,t){for(const r of e)if(!a4(r,{upTo:t}))return r}function a4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function i4(e){return e instanceof HTMLInputElement&&"select"in e}function Tn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&i4(e)&&t&&e.select()}}var dy=l4();function l4(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=fy(e,t),e.unshift(t)},remove(t){var r;e=fy(e,t),(r=e[0])==null||r.resume()}}}function fy(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function c4(e){return e.filter(t=>t.tagName!=="A")}var yf=0;function ig(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hy()),document.body.insertAdjacentElement("beforeend",e[1]??hy()),yf++,()=>{yf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yf--}},[])}function hy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zr=function(){return zr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},zr.apply(this,arguments)};function Ij(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function u4(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Sc="right-scroll-bar-position",Nc="width-before-scroll-bar",d4="with-scroll-bars-hidden",f4="--removed-body-scroll-bar-size";function xf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function h4(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var m4=typeof window<"u"?m.useLayoutEffect:m.useEffect,my=new WeakMap;function p4(e,t){var r=h4(null,function(n){return e.forEach(function(s){return xf(s,n)})});return m4(function(){var n=my.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||xf(l,null)}),o.forEach(function(l){s.has(l)||xf(l,i)})}my.set(r,e)},[e]),r}function g4(e){return e}function v4(e,t){t===void 0&&(t=g4);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var f=i;i=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),r}}}};return s}function y4(e){e===void 0&&(e={});var t=v4(null);return t.options=zr({async:!0,ssr:!1},e),t}var Oj=function(e){var t=e.sideCar,r=Ij(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,zr({},r))};Oj.isSideCarExport=!0;function x4(e,t){return e.useMedium(t),Oj}var Mj=y4(),wf=function(){},rd=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:wf,onWheelCapture:wf,onTouchMoveCapture:wf}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noIsolation,x=e.inert,g=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,v=e.gapMode,b=Ij(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=p4([r,t]),k=zr(zr({},b),s);return m.createElement(m.Fragment,null,f&&m.createElement(j,{sideCar:Mj,removeScrollBar:u,shards:d,noIsolation:p,inert:x,setCallbacks:o,allowPinchZoom:!!g,lockRef:r,gapMode:v}),i?m.cloneElement(m.Children.only(l),zr(zr({},k),{ref:_})):m.createElement(y,zr({},k,{className:c,ref:_}),l))});rd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rd.classNames={fullWidth:Nc,zeroRight:Sc};var w4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function b4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=w4();return t&&e.setAttribute("nonce",t),e}function j4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var S4=function(){var e=0,t=null;return{add:function(r){e==0&&(t=b4())&&(j4(t,r),_4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},N4=function(){var e=S4();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Dj=function(){var e=N4(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},k4={left:0,top:0,right:0,gap:0},bf=function(e){return parseInt(e||"",10)||0},E4=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[bf(r),bf(n),bf(s)]},C4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return k4;var t=E4(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},R4=Dj(),Ko="data-scroll-locked",P4=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(d4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ko,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Nc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Nc," .").concat(Nc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ko,`] {
    `).concat(f4,": ").concat(l,`px;
  }
`)},py=function(){var e=parseInt(document.body.getAttribute(Ko)||"0",10);return isFinite(e)?e:0},T4=function(){m.useEffect(function(){return document.body.setAttribute(Ko,(py()+1).toString()),function(){var e=py()-1;e<=0?document.body.removeAttribute(Ko):document.body.setAttribute(Ko,e.toString())}},[])},A4=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;T4();var o=m.useMemo(function(){return C4(s)},[s]);return m.createElement(R4,{styles:P4(o,!t,s,r?"":"!important")})},om=!1;if(typeof window<"u")try{var ec=Object.defineProperty({},"passive",{get:function(){return om=!0,!0}});window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{om=!1}var vo=om?{passive:!1}:!1,I4=function(e){return e.tagName==="TEXTAREA"},Lj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!I4(e)&&r[t]==="visible")},O4=function(e){return Lj(e,"overflowY")},M4=function(e){return Lj(e,"overflowX")},gy=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=$j(e,n);if(s){var o=Fj(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},D4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},L4=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},$j=function(e,t){return e==="v"?O4(t):M4(t)},Fj=function(e,t){return e==="v"?D4(t):L4(t)},$4=function(e,t){return e==="h"&&t==="rtl"?-1:1},F4=function(e,t,r,n,s){var o=$4(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,f=i>0,d=0,h=0;do{var p=Fj(e,l),x=p[0],g=p[1],w=p[2],y=g-w-o*x;(x||y)&&$j(e,l)&&(d+=y,h+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!s)||!f&&(Math.abs(h)<1||!s))&&(u=!0),u},tc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vy=function(e){return[e.deltaX,e.deltaY]},yy=function(e){return e&&"current"in e?e.current:e},z4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},U4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},B4=0,yo=[];function V4(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(B4++)[0],o=m.useState(Dj)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=u4([e.lockRef.current],(e.shards||[]).map(yy),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=tc(g),v=r.current,b="deltaX"in g?g.deltaX:v[0]-y[0],j="deltaY"in g?g.deltaY:v[1]-y[1],_,k=g.target,N=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&N==="h"&&k.type==="range")return!1;var E=gy(N,k);if(!E)return!0;if(E?_=N:(_=N==="v"?"h":"v",E=gy(N,k)),!E)return!1;if(!n.current&&"changedTouches"in g&&(b||j)&&(n.current=_),!_)return!0;var P=n.current||_;return F4(P,w,g,P==="h"?b:j,!0)},[]),c=m.useCallback(function(g){var w=g;if(!(!yo.length||yo[yo.length-1]!==o)){var y="deltaY"in w?vy(w):tc(w),v=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&z4(_.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(i.current.shards||[]).map(yy).filter(Boolean).filter(function(_){return _.contains(w.target)}),j=b.length>0?l(w,b[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(g,w,y,v){var b={name:g,delta:w,target:y,should:v,shadowParent:q4(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),f=m.useCallback(function(g){r.current=tc(g),n.current=void 0},[]),d=m.useCallback(function(g){u(g.type,vy(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,tc(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return yo.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,vo),document.addEventListener("touchmove",c,vo),document.addEventListener("touchstart",f,vo),function(){yo=yo.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,vo),document.removeEventListener("touchmove",c,vo),document.removeEventListener("touchstart",f,vo)}},[]);var p=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(o,{styles:U4(s)}):null,p?m.createElement(A4,{gapMode:e.gapMode}):null)}function q4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const W4=x4(Mj,V4);var nd=m.forwardRef(function(e,t){return m.createElement(rd,zr({},e,{ref:t,sideCar:W4}))});nd.classNames=rd.classNames;var H4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xo=new WeakMap,rc=new WeakMap,nc={},jf=0,zj=function(e){return e&&(e.host||zj(e.parentNode))},K4=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=zj(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},G4=function(e,t,r,n){var s=K4(t,Array.isArray(e)?e:[e]);nc[r]||(nc[r]=new WeakMap);var o=nc[r],i=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var p=h.getAttribute(n),x=p!==null&&p!=="false",g=(xo.get(h)||0)+1,w=(o.get(h)||0)+1;xo.set(h,g),o.set(h,w),i.push(h),g===1&&x&&rc.set(h,!0),w===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return f(t),l.clear(),jf++,function(){i.forEach(function(d){var h=xo.get(d)-1,p=o.get(d)-1;xo.set(d,h),o.set(d,p),h||(rc.has(d)||d.removeAttribute(n),rc.delete(d)),p||d.removeAttribute(r)}),jf--,jf||(xo=new WeakMap,xo=new WeakMap,rc=new WeakMap,nc={})}},lg=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=H4(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),G4(n,s,r,"aria-hidden")):function(){return null}},cg="Dialog",[Uj,Bj]=St(cg),[Q4,Cr]=Uj(cg),Vj=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,f]=Kt({prop:n,defaultProp:s,onChange:o});return a.jsx(Q4,{scope:t,triggerRef:l,contentRef:c,contentId:or(),titleId:or(),descriptionId:or(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(d=>!d),[f]),modal:i,children:r})};Vj.displayName=cg;var qj="DialogTrigger",Wj=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(qj,r),o=ne(t,s.triggerRef);return a.jsx(K.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fg(s.open),...n,ref:o,onClick:L(e.onClick,s.onOpenToggle)})});Wj.displayName=qj;var ug="DialogPortal",[Y4,Hj]=Uj(ug,{forceMount:void 0}),Kj=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Cr(ug,t);return a.jsx(Y4,{scope:t,forceMount:r,children:m.Children.map(n,i=>a.jsx(Dt,{present:r||o.open,children:a.jsx(al,{asChild:!0,container:s,children:i})}))})};Kj.displayName=ug;var cu="DialogOverlay",Gj=m.forwardRef((e,t)=>{const r=Hj(cu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Cr(cu,e.__scopeDialog);return o.modal?a.jsx(Dt,{present:n||o.open,children:a.jsx(J4,{...s,ref:t})}):null});Gj.displayName=cu;var J4=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(cu,r);return a.jsx(nd,{as:fn,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(K.div,{"data-state":fg(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Xs="DialogContent",Qj=m.forwardRef((e,t)=>{const r=Hj(Xs,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Cr(Xs,e.__scopeDialog);return a.jsx(Dt,{present:n||o.open,children:o.modal?a.jsx(X4,{...s,ref:t}):a.jsx(Z4,{...s,ref:t})})});Qj.displayName=Xs;var X4=m.forwardRef((e,t)=>{const r=Cr(Xs,e.__scopeDialog),n=m.useRef(null),s=ne(t,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return lg(o)},[]),a.jsx(Yj,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:L(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:L(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:L(e.onFocusOutside,o=>o.preventDefault())})}),Z4=m.forwardRef((e,t)=>{const r=Cr(Xs,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(Yj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Yj=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Cr(Xs,r),c=m.useRef(null),u=ne(t,c);return ig(),a.jsxs(a.Fragment,{children:[a.jsx(td,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Na,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":fg(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(t5,{titleId:l.titleId}),a.jsx(n5,{contentRef:c,descriptionId:l.descriptionId})]})]})}),dg="DialogTitle",Jj=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(dg,r);return a.jsx(K.h2,{id:s.titleId,...n,ref:t})});Jj.displayName=dg;var Xj="DialogDescription",Zj=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(Xj,r);return a.jsx(K.p,{id:s.descriptionId,...n,ref:t})});Zj.displayName=Xj;var e_="DialogClose",t_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(e_,r);return a.jsx(K.button,{type:"button",...n,ref:t,onClick:L(e.onClick,()=>s.onOpenChange(!1))})});t_.displayName=e_;function fg(e){return e?"open":"closed"}var r_="DialogTitleWarning",[e5,n_]=_R(r_,{contentName:Xs,titleName:dg,docsSlug:"dialog"}),t5=({titleId:e})=>{const t=n_(r_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},r5="DialogDescriptionWarning",n5=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n_(r5).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},s_=Vj,o_=Wj,a_=Kj,hg=Gj,mg=Qj,pg=Jj,gg=Zj,sd=t_;const xl=s_,i_=o_,s5=a_,iz=sd,l_=m.forwardRef(({className:e,...t},r)=>a.jsx(hg,{ref:r,className:U("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));l_.displayName=hg.displayName;const $a=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(s5,{children:[a.jsx(l_,{}),a.jsxs(mg,{ref:n,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(sd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(kp,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$a.displayName=mg.displayName;const Fa=({className:e,...t})=>a.jsx("div",{className:U("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fa.displayName="DialogHeader";const o5=({className:e,...t})=>a.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});o5.displayName="DialogFooter";const za=m.forwardRef(({className:e,...t},r)=>a.jsx(pg,{ref:r,className:U("text-lg font-semibold leading-none tracking-tight",e),...t}));za.displayName=pg.displayName;const a5=m.forwardRef(({className:e,...t},r)=>a.jsx(gg,{ref:r,className:U("text-sm text-muted-foreground",e),...t}));a5.displayName=gg.displayName;function uu(e,[t,r]){return Math.min(r,Math.max(t,e))}function od(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var i5=[" ","Enter","ArrowUp","ArrowDown"],l5=[" ","Enter"],wl="Select",[ad,id,c5]=Sa(wl),[Ua,lz]=St(wl,[c5,Ta]),ld=Ta(),[u5,xs]=Ua(wl),[d5,f5]=Ua(wl),c_=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:x}=e,g=ld(t),[w,y]=m.useState(null),[v,b]=m.useState(null),[j,_]=m.useState(!1),k=so(u),[N=!1,E]=Kt({prop:n,defaultProp:s,onChange:o}),[P,T]=Kt({prop:i,defaultProp:l,onChange:c}),M=m.useRef(null),I=w?x||!!w.closest("form"):!0,[W,O]=m.useState(new Set),Y=Array.from(W).map($=>$.props.value).join(";");return a.jsx(n1,{...g,children:a.jsxs(u5,{required:p,scope:t,trigger:w,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:or(),value:P,onValueChange:T,open:N,onOpenChange:E,dir:k,triggerPointerDownPosRef:M,disabled:h,children:[a.jsx(ad.Provider,{scope:t,children:a.jsx(d5,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback($=>{O(G=>new Set(G).add($))},[]),onNativeOptionRemove:m.useCallback($=>{O(G=>{const C=new Set(G);return C.delete($),C})},[]),children:r})}),I?a.jsxs(O_,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:P,onChange:$=>T($.target.value),disabled:h,form:x,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(W)]},Y):null]})})};c_.displayName=wl;var u_="SelectTrigger",d_=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=ld(r),i=xs(u_,r),l=i.disabled||n,c=ne(t,i.onTriggerChange),u=id(r),f=m.useRef("touch"),[d,h,p]=M_(g=>{const w=u().filter(b=>!b.disabled),y=w.find(b=>b.value===i.value),v=D_(w,g,y);v!==void 0&&i.onValueChange(v.value)}),x=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(Dp,{asChild:!0,...o,children:a.jsx(K.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":I_(i.value)?"":void 0,...s,ref:c,onClick:L(s.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&x(g)}),onPointerDown:L(s.onPointerDown,g=>{f.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:L(s.onKeyDown,g=>{const w=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&i5.includes(g.key)&&(x(),g.preventDefault())})})})});d_.displayName=u_;var f_="SelectValue",h_=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=xs(f_,r),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,d=ne(t,c.onValueNodeChange);return Je(()=>{u(f)},[u,f]),a.jsx(K.span,{...l,ref:d,style:{pointerEvents:"none"},children:I_(c.value)?a.jsx(a.Fragment,{children:i}):o})});h_.displayName=f_;var h5="SelectIcon",m_=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(K.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});m_.displayName=h5;var m5="SelectPortal",p_=e=>a.jsx(al,{asChild:!0,...e});p_.displayName=m5;var Zs="SelectContent",g_=m.forwardRef((e,t)=>{const r=xs(Zs,e.__scopeSelect),[n,s]=m.useState();if(Je(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?ro.createPortal(a.jsx(v_,{scope:e.__scopeSelect,children:a.jsx(ad.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(y_,{...e,ref:t})});g_.displayName=Zs;var pr=10,[v_,ws]=Ua(Zs),p5="SelectContentImpl",y_=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w,...y}=e,v=xs(Zs,r),[b,j]=m.useState(null),[_,k]=m.useState(null),N=ne(t,Q=>j(Q)),[E,P]=m.useState(null),[T,M]=m.useState(null),I=id(r),[W,O]=m.useState(!1),Y=m.useRef(!1);m.useEffect(()=>{if(b)return lg(b)},[b]),ig();const $=m.useCallback(Q=>{const[ge,...ye]=I().map(xe=>xe.ref.current),[me]=ye.slice(-1),be=document.activeElement;for(const xe of Q)if(xe===be||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===ge&&_&&(_.scrollTop=0),xe===me&&_&&(_.scrollTop=_.scrollHeight),xe==null||xe.focus(),document.activeElement!==be))return},[I,_]),G=m.useCallback(()=>$([E,b]),[$,E,b]);m.useEffect(()=>{W&&G()},[W,G]);const{onOpenChange:C,triggerPointerDownPosRef:R}=v;m.useEffect(()=>{if(b){let Q={x:0,y:0};const ge=me=>{var be,xe;Q={x:Math.abs(Math.round(me.pageX)-(((be=R.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(me.pageY)-(((xe=R.current)==null?void 0:xe.y)??0))}},ye=me=>{Q.x<=10&&Q.y<=10?me.preventDefault():b.contains(me.target)||C(!1),document.removeEventListener("pointermove",ge),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",ye,{capture:!0})}}},[b,C,R]),m.useEffect(()=>{const Q=()=>C(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[C]);const[V,z]=M_(Q=>{const ge=I().filter(be=>!be.disabled),ye=ge.find(be=>be.ref.current===document.activeElement),me=D_(ge,Q,ye);me&&setTimeout(()=>me.ref.current.focus())}),B=m.useCallback((Q,ge,ye)=>{const me=!Y.current&&!ye;(v.value!==void 0&&v.value===ge||me)&&(P(Q),me&&(Y.current=!0))},[v.value]),X=m.useCallback(()=>b==null?void 0:b.focus(),[b]),re=m.useCallback((Q,ge,ye)=>{const me=!Y.current&&!ye;(v.value!==void 0&&v.value===ge||me)&&M(Q)},[v.value]),we=n==="popper"?am:x_,oe=we===am?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return a.jsx(v_,{scope:r,content:b,viewport:_,onViewportChange:k,itemRefCallback:B,selectedItem:E,onItemLeave:X,itemTextRefCallback:re,focusSelectedItem:G,selectedItemText:T,position:n,isPositioned:W,searchRef:V,children:a.jsx(nd,{as:fn,allowPinchZoom:!0,children:a.jsx(td,{asChild:!0,trapped:v.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:L(s,Q=>{var ge;(ge=v.trigger)==null||ge.focus({preventScroll:!0}),Q.preventDefault()}),children:a.jsx(Na,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(we,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Q=>Q.preventDefault(),...y,...oe,onPlaced:()=>O(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:L(y.onKeyDown,Q=>{const ge=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ge&&Q.key.length===1&&z(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let me=I().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const be=Q.target,xe=me.indexOf(be);me=me.slice(xe+1)}setTimeout(()=>$(me)),Q.preventDefault()}})})})})})})});y_.displayName=p5;var g5="SelectItemAlignedPosition",x_=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=xs(Zs,r),i=ws(Zs,r),[l,c]=m.useState(null),[u,f]=m.useState(null),d=ne(t,N=>f(N)),h=id(r),p=m.useRef(!1),x=m.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:v}=i,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&w&&y){const N=o.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(o.dir!=="rtl"){const be=T.left-E.left,xe=P.left-be,mt=N.left-xe,$t=N.width+mt,Sn=Math.max($t,E.width),Jt=window.innerWidth-pr,bs=uu(xe,[pr,Math.max(pr,Jt-Sn)]);l.style.minWidth=$t+"px",l.style.left=bs+"px"}else{const be=E.right-T.right,xe=window.innerWidth-P.right-be,mt=window.innerWidth-N.right-xe,$t=N.width+mt,Sn=Math.max($t,E.width),Jt=window.innerWidth-pr,bs=uu(xe,[pr,Math.max(pr,Jt-Sn)]);l.style.minWidth=$t+"px",l.style.right=bs+"px"}const M=h(),I=window.innerHeight-pr*2,W=g.scrollHeight,O=window.getComputedStyle(u),Y=parseInt(O.borderTopWidth,10),$=parseInt(O.paddingTop,10),G=parseInt(O.borderBottomWidth,10),C=parseInt(O.paddingBottom,10),R=Y+$+W+C+G,V=Math.min(w.offsetHeight*5,R),z=window.getComputedStyle(g),B=parseInt(z.paddingTop,10),X=parseInt(z.paddingBottom,10),re=N.top+N.height/2-pr,we=I-re,oe=w.offsetHeight/2,Q=w.offsetTop+oe,ge=Y+$+Q,ye=R-ge;if(ge<=re){const be=M.length>0&&w===M[M.length-1].ref.current;l.style.bottom="0px";const xe=u.clientHeight-g.offsetTop-g.offsetHeight,mt=Math.max(we,oe+(be?X:0)+xe+G),$t=ge+mt;l.style.height=$t+"px"}else{const be=M.length>0&&w===M[0].ref.current;l.style.top="0px";const mt=Math.max(re,Y+g.offsetTop+(be?B:0)+oe)+ye;l.style.height=mt+"px",g.scrollTop=ge-re+g.offsetTop}l.style.margin=`${pr}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,l,u,g,w,y,o.dir,n]);Je(()=>b(),[b]);const[j,_]=m.useState();Je(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const k=m.useCallback(N=>{N&&x.current===!0&&(b(),v==null||v(),x.current=!1)},[b,v]);return a.jsx(y5,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(K.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});x_.displayName=g5;var v5="SelectPopperPosition",am=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=pr,...o}=e,i=ld(r);return a.jsx(Lp,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});am.displayName=v5;var[y5,vg]=Ua(Zs,{}),im="SelectViewport",w_=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=ws(im,r),i=vg(im,r),l=ne(t,o.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(ad.Slot,{scope:r,children:a.jsx(K.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:L(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const x=window.innerHeight-pr*2,g=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),y=Math.max(g,w);if(y<x){const v=y+p,b=Math.min(x,v),j=v-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});w_.displayName=im;var b_="SelectGroup",[x5,w5]=Ua(b_),b5=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=or();return a.jsx(x5,{scope:r,id:s,children:a.jsx(K.div,{role:"group","aria-labelledby":s,...n,ref:t})})});b5.displayName=b_;var j_="SelectLabel",__=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=w5(j_,r);return a.jsx(K.div,{id:s.id,...n,ref:t})});__.displayName=j_;var du="SelectItem",[j5,S_]=Ua(du),N_=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=xs(du,r),c=ws(du,r),u=l.value===n,[f,d]=m.useState(o??""),[h,p]=m.useState(!1),x=ne(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,s)}),g=or(),w=m.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(j5,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(v=>{d(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(ad.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:a.jsx(K.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:L(i.onFocus,()=>p(!0)),onBlur:L(i.onBlur,()=>p(!1)),onClick:L(i.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:L(i.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:L(i.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:L(i.onPointerMove,v=>{var b;w.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:L(i.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:L(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(l5.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});N_.displayName=du;var li="SelectItemText",k_=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=xs(li,r),l=ws(li,r),c=S_(li,r),u=f5(li,r),[f,d]=m.useState(null),h=ne(t,y=>d(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),p=f==null?void 0:f.textContent,x=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return Je(()=>(g(x),()=>w(x)),[g,w,x]),a.jsxs(a.Fragment,{children:[a.jsx(K.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ro.createPortal(o.children,i.valueNode):null]})});k_.displayName=li;var E_="SelectItemIndicator",C_=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return S_(E_,r).isSelected?a.jsx(K.span,{"aria-hidden":!0,...n,ref:t}):null});C_.displayName=E_;var lm="SelectScrollUpButton",R_=m.forwardRef((e,t)=>{const r=ws(lm,e.__scopeSelect),n=vg(lm,e.__scopeSelect),[s,o]=m.useState(!1),i=ne(t,n.onScrollButtonChange);return Je(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(T_,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});R_.displayName=lm;var cm="SelectScrollDownButton",P_=m.forwardRef((e,t)=>{const r=ws(cm,e.__scopeSelect),n=vg(cm,e.__scopeSelect),[s,o]=m.useState(!1),i=ne(t,n.onScrollButtonChange);return Je(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(T_,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});P_.displayName=cm;var T_=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=ws("SelectScrollButton",r),i=m.useRef(null),l=id(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Je(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(K.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:L(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:L(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:L(s.onPointerLeave,()=>{c()})})}),_5="SelectSeparator",A_=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(K.div,{"aria-hidden":!0,...n,ref:t})});A_.displayName=_5;var um="SelectArrow",S5=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ld(r),o=xs(um,r),i=ws(um,r);return o.open&&i.position==="popper"?a.jsx($p,{...s,...n,ref:t}):null});S5.displayName=um;function I_(e){return e===""||e===void 0}var O_=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),o=ne(t,s),i=od(r);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&f){const d=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(d)}},[i,r]),a.jsx(il,{asChild:!0,children:a.jsx("select",{...n,ref:o,defaultValue:r})})});O_.displayName="BubbleSelect";function M_(e){const t=lt(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function D_(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=N5(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function N5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var k5=c_,L_=d_,E5=h_,C5=m_,R5=p_,$_=g_,P5=w_,F_=__,z_=N_,T5=k_,A5=C_,U_=R_,B_=P_,V_=A_;const q_=k5,W_=E5,yg=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(L_,{ref:n,className:U("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(C5,{asChild:!0,children:a.jsx(Du,{className:"h-4 w-4 opacity-50"})})]}));yg.displayName=L_.displayName;const H_=m.forwardRef(({className:e,...t},r)=>a.jsx(U_,{ref:r,className:U("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Nb,{className:"h-4 w-4"})}));H_.displayName=U_.displayName;const K_=m.forwardRef(({className:e,...t},r)=>a.jsx(B_,{ref:r,className:U("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Du,{className:"h-4 w-4"})}));K_.displayName=B_.displayName;const xg=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(R5,{children:a.jsxs($_,{ref:s,className:U("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(H_,{}),a.jsx(P5,{className:U("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(K_,{})]})}));xg.displayName=$_.displayName;const I5=m.forwardRef(({className:e,...t},r)=>a.jsx(F_,{ref:r,className:U("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));I5.displayName=F_.displayName;const wg=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(z_,{ref:n,className:U("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(A5,{children:a.jsx(xp,{className:"h-4 w-4"})})}),a.jsx(T5,{children:t})]}));wg.displayName=z_.displayName;const O5=m.forwardRef(({className:e,...t},r)=>a.jsx(V_,{ref:r,className:U("-mx-1 my-1 h-px bg-muted",e),...t}));O5.displayName=V_.displayName;const bg=({currentUserRole:e,selectedRole:t,onRoleChange:r,disabled:n=!1})=>{const s=mD(e),o=[...s];return t&&!s.includes(t)&&o.push(t),a.jsxs(q_,{value:t,onValueChange:r,disabled:n,children:[a.jsx(yg,{children:a.jsx(W_,{placeholder:"Select a role"})}),a.jsx(xg,{children:o.map(i=>{const l=Gi(i);return a.jsx(wg,{value:i,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(l.icon,{className:"w-4 h-4"}),a.jsx("span",{children:l.label})]})},i)})})]})},M5=({isOpen:e,user:t,organizations:r,onClose:n,onSubmit:s,isSubmitting:o})=>{const[i,l]=m.useState(""),[c,u]=m.useState("member"),f=h=>{h.preventDefault(),t&&i&&s(t.user_id,t.email,i,c)},d=()=>{l(""),u("member"),n()};return t?a.jsx(xl,{open:e,onOpenChange:d,children:a.jsxs($a,{className:"sm:max-w-md",children:[a.jsx(Fa,{children:a.jsx(za,{children:"Assign User to Organization"})}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{children:"User Email"}),a.jsx("div",{className:"p-2 bg-gray-50 rounded border",children:t.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"organization",children:"Organization"}),a.jsxs(q_,{value:i,onValueChange:l,required:!0,children:[a.jsx(yg,{children:a.jsx(W_,{placeholder:"Select an organization"})}),a.jsx(xg,{children:r.map(h=>a.jsxs(wg,{value:h.id,children:[h.name," (/",h.slug,")"]},h.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"role",children:"Role"}),a.jsx(bg,{currentUserRole:"owner",selectedRole:c,onRoleChange:u})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(te,{type:"button",variant:"outline",onClick:d,children:"Cancel"}),a.jsx(te,{type:"submit",disabled:o||!i,children:o?"Assigning...":"Assign User"})]})]})]})}):null};var G_="AlertDialog",[D5,cz]=St(G_,[Bj]),jn=Bj(),Q_=e=>{const{__scopeAlertDialog:t,...r}=e,n=jn(t);return a.jsx(s_,{...n,...r,modal:!0})};Q_.displayName=G_;var L5="AlertDialogTrigger",Y_=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=jn(r);return a.jsx(o_,{...s,...n,ref:t})});Y_.displayName=L5;var $5="AlertDialogPortal",J_=e=>{const{__scopeAlertDialog:t,...r}=e,n=jn(t);return a.jsx(a_,{...n,...r})};J_.displayName=$5;var F5="AlertDialogOverlay",X_=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=jn(r);return a.jsx(hg,{...s,...n,ref:t})});X_.displayName=F5;var Go="AlertDialogContent",[z5,U5]=D5(Go),Z_=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=jn(r),i=m.useRef(null),l=ne(t,i),c=m.useRef(null);return a.jsx(e5,{contentName:Go,titleName:eS,docsSlug:"alert-dialog",children:a.jsx(z5,{scope:r,cancelRef:c,children:a.jsxs(mg,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:L(s.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(hp,{children:n}),a.jsx(V5,{contentRef:i})]})})})});Z_.displayName=Go;var eS="AlertDialogTitle",tS=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=jn(r);return a.jsx(pg,{...s,...n,ref:t})});tS.displayName=eS;var rS="AlertDialogDescription",nS=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=jn(r);return a.jsx(gg,{...s,...n,ref:t})});nS.displayName=rS;var B5="AlertDialogAction",sS=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=jn(r);return a.jsx(sd,{...s,...n,ref:t})});sS.displayName=B5;var oS="AlertDialogCancel",aS=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=U5(oS,r),o=jn(r),i=ne(t,s);return a.jsx(sd,{...o,...n,ref:i})});aS.displayName=oS;var V5=({contentRef:e})=>{const t=`\`${Go}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Go}\` by passing a \`${rS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Go}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},q5=Q_,W5=Y_,H5=J_,iS=X_,lS=Z_,cS=sS,uS=aS,dS=tS,fS=nS;const jg=q5,_g=W5,K5=H5,hS=m.forwardRef(({className:e,...t},r)=>a.jsx(iS,{className:U("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));hS.displayName=iS.displayName;const cd=m.forwardRef(({className:e,...t},r)=>a.jsxs(K5,{children:[a.jsx(hS,{}),a.jsx(lS,{ref:r,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));cd.displayName=lS.displayName;const ud=({className:e,...t})=>a.jsx("div",{className:U("flex flex-col space-y-2 text-center sm:text-left",e),...t});ud.displayName="AlertDialogHeader";const dd=({className:e,...t})=>a.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});dd.displayName="AlertDialogFooter";const fd=m.forwardRef(({className:e,...t},r)=>a.jsx(dS,{ref:r,className:U("text-lg font-semibold",e),...t}));fd.displayName=dS.displayName;const hd=m.forwardRef(({className:e,...t},r)=>a.jsx(fS,{ref:r,className:U("text-sm text-muted-foreground",e),...t}));hd.displayName=fS.displayName;const md=m.forwardRef(({className:e,...t},r)=>a.jsx(cS,{ref:r,className:U(rg(),e),...t}));md.displayName=cS.displayName;const pd=m.forwardRef(({className:e,...t},r)=>a.jsx(uS,{ref:r,className:U(rg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));pd.displayName=uS.displayName;const G5=({organizations:e})=>{const{data:t,isLoading:r,error:n}=QD(),[s,o]=m.useState(!1),[i,l]=m.useState(null),c=YD(),u=JD(),f=x=>{l(x),o(!0)},d=()=>{l(null),o(!1)},h=(x,g,w,y)=>{c.mutate({userId:x,email:g,organizationId:w,role:y},{onSuccess:()=>{et.success(`User ${g} assigned successfully.`),d()},onError:v=>{et.error(`Failed to assign user: ${v.message}`)}})},p=()=>{u.mutate(void 0,{onSuccess:x=>{et.success(`Approval process complete. ${x.approvedCount} invitations approved.`),x.failedCount>0&&et.info(`${x.failedCount} invitations could not be approved (e.g. user not registered).`)},onError:x=>{et.error(`Failed to approve invitations: ${x.message}`)}})};return r?a.jsx(sm,{text:"Loading system-wide user data..."}):n?a.jsxs(Ge,{variant:"destructive",children:[a.jsx(S2,{className:"h-4 w-4"}),a.jsx(Pj,{children:"Error Fetching Data"}),a.jsx(Qe,{children:n.message})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(Me,{children:[a.jsx(De,{children:"All Organization Users"}),a.jsx(Js,{children:"A comprehensive list of all users across all organizations with their enhanced roles. You can assign existing users to new organizations from here."})]}),a.jsx(de,{children:a.jsx(t4,{users:(t==null?void 0:t.users)||[],onAssignUser:f})})]}),a.jsxs(ue,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(De,{children:"All Pending Invitations"}),a.jsx(Js,{children:"A comprehensive list of all pending invitations across all organizations with enhanced role information."})]}),(t==null?void 0:t.invitations)&&t.invitations.length>0&&a.jsxs(jg,{children:[a.jsx(_g,{asChild:!0,children:a.jsx(te,{disabled:u.isPending,children:u.isPending?"Approving...":"Approve All Pending"})}),a.jsxs(cd,{children:[a.jsxs(ud,{children:[a.jsx(fd,{children:"Are you sure?"}),a.jsx(hd,{children:"This will attempt to approve all pending invitations for which a user account already exists. Users will be added to the respective organizations with their designated enhanced roles. This action cannot be undone."})]}),a.jsxs(dd,{children:[a.jsx(pd,{children:"Cancel"}),a.jsx(md,{onClick:p,disabled:u.isPending,children:"Continue"})]})]})]})]}),a.jsx(de,{children:a.jsx(r4,{invitations:(t==null?void 0:t.invitations)||[]})})]}),a.jsx(M5,{isOpen:s,user:i,organizations:e,onClose:d,onSubmit:h,isSubmitting:c.isPending})]})},Q5=({organizations:e})=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ue,{children:a.jsxs(de,{className:"p-4",children:[a.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.length)||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Organizations"})]})}),a.jsx(ue,{children:a.jsxs(de,{className:"p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:(e==null?void 0:e.filter(t=>t.is_active).length)||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]})})]});var dm=["Enter"," "],Y5=["ArrowDown","PageUp","Home"],mS=["ArrowUp","PageDown","End"],J5=[...Y5,...mS],X5={ltr:[...dm,"ArrowRight"],rtl:[...dm,"ArrowLeft"]},Z5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bl="Menu",[Qi,eL,tL]=Sa(bl),[oo,pS]=St(bl,[tL,Ta,La]),gd=Ta(),gS=La(),[rL,ao]=oo(bl),[nL,jl]=oo(bl),vS=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,l=gd(t),[c,u]=m.useState(null),f=m.useRef(!1),d=lt(o),h=so(s);return m.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),a.jsx(n1,{...l,children:a.jsx(rL,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:a.jsx(nL,{scope:t,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:i,children:n})})})};vS.displayName=bl;var sL="MenuAnchor",Sg=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=gd(r);return a.jsx(Dp,{...s,...n,ref:t})});Sg.displayName=sL;var Ng="MenuPortal",[oL,yS]=oo(Ng,{forceMount:void 0}),xS=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=ao(Ng,t);return a.jsx(oL,{scope:t,forceMount:r,children:a.jsx(Dt,{present:r||o.open,children:a.jsx(al,{asChild:!0,container:s,children:n})})})};xS.displayName=Ng;var ar="MenuContent",[aL,kg]=oo(ar),wS=m.forwardRef((e,t)=>{const r=yS(ar,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=ao(ar,e.__scopeMenu),i=jl(ar,e.__scopeMenu);return a.jsx(Qi.Provider,{scope:e.__scopeMenu,children:a.jsx(Dt,{present:n||o.open,children:a.jsx(Qi.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(iL,{...s,ref:t}):a.jsx(lL,{...s,ref:t})})})})}),iL=m.forwardRef((e,t)=>{const r=ao(ar,e.__scopeMenu),n=m.useRef(null),s=ne(t,n);return m.useEffect(()=>{const o=n.current;if(o)return lg(o)},[]),a.jsx(Eg,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:L(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),lL=m.forwardRef((e,t)=>{const r=ao(ar,e.__scopeMenu);return a.jsx(Eg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Eg=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:x,...g}=e,w=ao(ar,r),y=jl(ar,r),v=gd(r),b=gS(r),j=eL(r),[_,k]=m.useState(null),N=m.useRef(null),E=ne(t,N,w.onContentChange),P=m.useRef(0),T=m.useRef(""),M=m.useRef(0),I=m.useRef(null),W=m.useRef("right"),O=m.useRef(0),Y=x?nd:m.Fragment,$=x?{as:fn,allowPinchZoom:!0}:void 0,G=R=>{var Q,ge;const V=T.current+R,z=j().filter(ye=>!ye.disabled),B=document.activeElement,X=(Q=z.find(ye=>ye.ref.current===B))==null?void 0:Q.textValue,re=z.map(ye=>ye.textValue),we=wL(re,V,X),oe=(ge=z.find(ye=>ye.textValue===we))==null?void 0:ge.ref.current;(function ye(me){T.current=me,window.clearTimeout(P.current),me!==""&&(P.current=window.setTimeout(()=>ye(""),1e3))})(V),oe&&setTimeout(()=>oe.focus())};m.useEffect(()=>()=>window.clearTimeout(P.current),[]),ig();const C=m.useCallback(R=>{var z,B;return W.current===((z=I.current)==null?void 0:z.side)&&jL(R,(B=I.current)==null?void 0:B.area)},[]);return a.jsx(aL,{scope:r,searchRef:T,onItemEnter:m.useCallback(R=>{C(R)&&R.preventDefault()},[C]),onItemLeave:m.useCallback(R=>{var V;C(R)||((V=N.current)==null||V.focus(),k(null))},[C]),onTriggerLeave:m.useCallback(R=>{C(R)&&R.preventDefault()},[C]),pointerGraceTimerRef:M,onPointerGraceIntentChange:m.useCallback(R=>{I.current=R},[]),children:a.jsx(Y,{...$,children:a.jsx(td,{asChild:!0,trapped:s,onMountAutoFocus:L(o,R=>{var V;R.preventDefault(),(V=N.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Na,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:a.jsx(ng,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:k,onEntryFocus:L(c,R=>{y.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Lp,{role:"menu","aria-orientation":"vertical","data-state":DS(w.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:L(g.onKeyDown,R=>{const z=R.target.closest("[data-radix-menu-content]")===R.currentTarget,B=R.ctrlKey||R.altKey||R.metaKey,X=R.key.length===1;z&&(R.key==="Tab"&&R.preventDefault(),!B&&X&&G(R.key));const re=N.current;if(R.target!==re||!J5.includes(R.key))return;R.preventDefault();const oe=j().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);mS.includes(R.key)&&oe.reverse(),yL(oe)}),onBlur:L(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(P.current),T.current="")}),onPointerMove:L(e.onPointerMove,Yi(R=>{const V=R.target,z=O.current!==R.clientX;if(R.currentTarget.contains(V)&&z){const B=R.clientX>O.current?"right":"left";W.current=B,O.current=R.clientX}}))})})})})})})});wS.displayName=ar;var cL="MenuGroup",Cg=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(K.div,{role:"group",...n,ref:t})});Cg.displayName=cL;var uL="MenuLabel",bS=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(K.div,{...n,ref:t})});bS.displayName=uL;var fu="MenuItem",xy="menu.itemSelect",vd=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=m.useRef(null),i=jl(fu,e.__scopeMenu),l=kg(fu,e.__scopeMenu),c=ne(t,o),u=m.useRef(!1),f=()=>{const d=o.current;if(!r&&d){const h=new CustomEvent(xy,{bubbles:!0,cancelable:!0});d.addEventListener(xy,p=>n==null?void 0:n(p),{once:!0}),mp(d,h),h.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(jS,{...s,ref:c,disabled:r,onClick:L(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:L(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:L(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||dm.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});vd.displayName=fu;var jS=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=kg(fu,r),l=gS(r),c=m.useRef(null),u=ne(t,c),[f,d]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[o.children]),a.jsx(Qi.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(sg,{asChild:!0,...l,focusable:!n,children:a.jsx(K.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:L(e.onPointerMove,Yi(x=>{n?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:L(e.onPointerLeave,Yi(x=>i.onItemLeave(x))),onFocus:L(e.onFocus,()=>d(!0)),onBlur:L(e.onBlur,()=>d(!1))})})})}),dL="MenuCheckboxItem",_S=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(CS,{scope:e.__scopeMenu,checked:r,children:a.jsx(vd,{role:"menuitemcheckbox","aria-checked":hu(r)?"mixed":r,...s,ref:t,"data-state":Pg(r),onSelect:L(s.onSelect,()=>n==null?void 0:n(hu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});_S.displayName=dL;var SS="MenuRadioGroup",[fL,hL]=oo(SS,{value:void 0,onValueChange:()=>{}}),NS=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=lt(n);return a.jsx(fL,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(Cg,{...s,ref:t})})});NS.displayName=SS;var kS="MenuRadioItem",ES=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=hL(kS,e.__scopeMenu),o=r===s.value;return a.jsx(CS,{scope:e.__scopeMenu,checked:o,children:a.jsx(vd,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Pg(o),onSelect:L(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});ES.displayName=kS;var Rg="MenuItemIndicator",[CS,mL]=oo(Rg,{checked:!1}),RS=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=mL(Rg,r);return a.jsx(Dt,{present:n||hu(o.checked)||o.checked===!0,children:a.jsx(K.span,{...s,ref:t,"data-state":Pg(o.checked)})})});RS.displayName=Rg;var pL="MenuSeparator",PS=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(K.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});PS.displayName=pL;var gL="MenuArrow",TS=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=gd(r);return a.jsx($p,{...s,...n,ref:t})});TS.displayName=gL;var vL="MenuSub",[uz,AS]=oo(vL),ci="MenuSubTrigger",IS=m.forwardRef((e,t)=>{const r=ao(ci,e.__scopeMenu),n=jl(ci,e.__scopeMenu),s=AS(ci,e.__scopeMenu),o=kg(ci,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},f=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),a.jsx(Sg,{asChild:!0,...u,children:a.jsx(jS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":DS(r.open),...e,ref:Iu(t,s.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:L(e.onPointerMove,Yi(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:L(e.onPointerLeave,Yi(d=>{var p,x;f();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(x=r.content)==null?void 0:x.dataset.side,w=g==="right",y=w?-5:5,v=h[w?"left":"right"],b=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:v,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:L(e.onKeyDown,d=>{var p;const h=o.searchRef.current!=="";e.disabled||h&&d.key===" "||X5[n.dir].includes(d.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),d.preventDefault())})})})});IS.displayName=ci;var OS="MenuSubContent",MS=m.forwardRef((e,t)=>{const r=yS(ar,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=ao(ar,e.__scopeMenu),i=jl(ar,e.__scopeMenu),l=AS(OS,e.__scopeMenu),c=m.useRef(null),u=ne(t,c);return a.jsx(Qi.Provider,{scope:e.__scopeMenu,children:a.jsx(Dt,{present:n||o.open,children:a.jsx(Qi.Slot,{scope:e.__scopeMenu,children:a.jsx(Eg,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:L(e.onFocusOutside,f=>{f.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:L(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:L(e.onKeyDown,f=>{var p;const d=f.currentTarget.contains(f.target),h=Z5[i.dir].includes(f.key);d&&h&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});MS.displayName=OS;function DS(e){return e?"open":"closed"}function hu(e){return e==="indeterminate"}function Pg(e){return hu(e)?"indeterminate":e?"checked":"unchecked"}function yL(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function xL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function wL(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=xL(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function bL(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,f=t[i].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function jL(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return bL(r,t)}function Yi(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _L=vS,SL=Sg,NL=xS,kL=wS,EL=Cg,CL=bS,RL=vd,PL=_S,TL=NS,AL=ES,IL=RS,OL=PS,ML=TS,DL=IS,LL=MS,Tg="DropdownMenu",[$L,dz]=St(Tg,[pS]),Nt=pS(),[FL,LS]=$L(Tg),$S=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=Nt(t),u=m.useRef(null),[f=!1,d]=Kt({prop:s,defaultProp:o,onChange:i});return a.jsx(FL,{scope:t,triggerId:or(),triggerRef:u,contentId:or(),open:f,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:l,children:a.jsx(_L,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};$S.displayName=Tg;var FS="DropdownMenuTrigger",zS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=LS(FS,r),i=Nt(r);return a.jsx(SL,{asChild:!0,...i,children:a.jsx(K.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Iu(t,o.triggerRef),onPointerDown:L(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:L(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});zS.displayName=FS;var zL="DropdownMenuPortal",US=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Nt(t);return a.jsx(NL,{...n,...r})};US.displayName=zL;var BS="DropdownMenuContent",VS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=LS(BS,r),o=Nt(r),i=m.useRef(!1);return a.jsx(kL,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:L(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:L(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!s.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VS.displayName=BS;var UL="DropdownMenuGroup",BL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nt(r);return a.jsx(EL,{...s,...n,ref:t})});BL.displayName=UL;var VL="DropdownMenuLabel",qS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nt(r);return a.jsx(CL,{...s,...n,ref:t})});qS.displayName=VL;var qL="DropdownMenuItem",WS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nt(r);return a.jsx(RL,{...s,...n,ref:t})});WS.displayName=qL;var WL="DropdownMenuCheckboxItem",HS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nt(r);return a.jsx(PL,{...s,...n,ref:t})});HS.displayName=WL;var HL="DropdownMenuRadioGroup",KL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nt(r);return a.jsx(TL,{...s,...n,ref:t})});KL.displayName=HL;var GL="DropdownMenuRadioItem",KS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nt(r);return a.jsx(AL,{...s,...n,ref:t})});KS.displayName=GL;var QL="DropdownMenuItemIndicator",GS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nt(r);return a.jsx(IL,{...s,...n,ref:t})});GS.displayName=QL;var YL="DropdownMenuSeparator",QS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nt(r);return a.jsx(OL,{...s,...n,ref:t})});QS.displayName=YL;var JL="DropdownMenuArrow",XL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nt(r);return a.jsx(ML,{...s,...n,ref:t})});XL.displayName=JL;var ZL="DropdownMenuSubTrigger",YS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nt(r);return a.jsx(DL,{...s,...n,ref:t})});YS.displayName=ZL;var e3="DropdownMenuSubContent",JS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Nt(r);return a.jsx(LL,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JS.displayName=e3;var t3=$S,r3=zS,n3=US,XS=VS,ZS=qS,eN=WS,tN=HS,rN=KS,nN=GS,sN=QS,oN=YS,aN=JS;const s3=t3,o3=r3,a3=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(oN,{ref:s,className:U("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(wp,{className:"ml-auto h-4 w-4"})]}));a3.displayName=oN.displayName;const i3=m.forwardRef(({className:e,...t},r)=>a.jsx(aN,{ref:r,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));i3.displayName=aN.displayName;const iN=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(n3,{children:a.jsx(XS,{ref:n,sideOffset:t,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));iN.displayName=XS.displayName;const lN=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(eN,{ref:n,className:U("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));lN.displayName=eN.displayName;const l3=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(tN,{ref:s,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nN,{children:a.jsx(xp,{className:"h-4 w-4"})})}),t]}));l3.displayName=tN.displayName;const c3=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(rN,{ref:n,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nN,{children:a.jsx(Lu,{className:"h-2 w-2 fill-current"})})}),t]}));c3.displayName=rN.displayName;const u3=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(ZS,{ref:n,className:U("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));u3.displayName=ZS.displayName;const d3=m.forwardRef(({className:e,...t},r)=>a.jsx(sN,{ref:r,className:U("-mx-1 my-1 h-px bg-muted",e),...t}));d3.displayName=sN.displayName;var Ag="Avatar",[f3,fz]=St(Ag),[h3,cN]=f3(Ag),uN=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=m.useState("idle");return a.jsx(h3,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(K.span,{...n,ref:t})})});uN.displayName=Ag;var dN="AvatarImage",fN=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=cN(dN,r),l=m3(n,o.referrerPolicy),c=lt(u=>{s(u),i.onImageLoadingStatusChange(u)});return Je(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(K.img,{...o,ref:t,src:n}):null});fN.displayName=dN;var hN="AvatarFallback",mN=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=cN(hN,r),[i,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(K.span,{...s,ref:t}):null});mN.displayName=hN;function m3(e,t){const[r,n]=m.useState("idle");return Je(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,i=l=>()=>{s&&n(l)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var pN=uN,gN=fN,vN=mN;const yN=m.forwardRef(({className:e,...t},r)=>a.jsx(pN,{ref:r,className:U("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));yN.displayName=pN.displayName;const p3=m.forwardRef(({className:e,...t},r)=>a.jsx(gN,{ref:r,className:U("aspect-square h-full w-full",e),...t}));p3.displayName=gN.displayName;const xN=m.forwardRef(({className:e,...t},r)=>a.jsx(vN,{ref:r,className:U("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));xN.displayName=vN.displayName;const g3=({email:e,size:t="md"})=>{const r={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-10 w-10"};return a.jsx(yN,{className:r[t],children:a.jsx(xN,{children:pD(e)})})},wN=e=>{const{user:t}=bn(),{data:r}=pn({queryKey:["user-enhanced-role",t==null?void 0:t.id,e],queryFn:async()=>{if(!(t!=null&&t.id)||!e)return null;const{data:h}=await F.from("organization_users").select("enhanced_role").eq("user_id",t.id).eq("organization_id",e).single();return(h==null?void 0:h.enhanced_role)||null},enabled:!!(t!=null&&t.id)&&!!e}),{data:n}=pn({queryKey:["user-permissions",t==null?void 0:t.id,e,r],queryFn:async()=>{if(!(t!=null&&t.id)||!e||!r)return{};const{data:h}=await F.from("role_permissions").select("permission_key, permission_value").eq("role",r),p={};return h==null||h.forEach(({permission_key:x,permission_value:g})=>{try{const w=g;w&&typeof w=="object"&&"allowed"in w&&(p[x]=w)}catch(w){console.warn(`Failed to parse permission for ${x}:`,w)}}),p},enabled:!!(t!=null&&t.id)&&!!e&&!!r}),s=h=>{if(!r)return!1;const p=n==null?void 0:n[h];return p?p.allowed:tg(r,h)};return{userRole:r,permissions:n,checkPermission:s,canManageUsers:()=>s("manage_users"),canManageOrganization:()=>s("manage_organization"),canViewAnalytics:()=>s("view_analytics"),canExportData:()=>s("export_data"),canManageQuestions:()=>s("manage_questions"),canManageIntegrations:()=>s("manage_integrations"),canManageBilling:()=>s("manage_billing")}},v3=({members:e,loading:t,organizationId:r,onUpdateRole:n,onRemoveMember:s})=>{const{userRole:o,canManageUsers:i}=wN(r),l=(u,f)=>{n(u.user_id,f)},c=u=>{if(!i()||!o)return!1;const f=u.enhanced_role||u.role||"member";return eg(o,f)};return t?a.jsx(ue,{children:a.jsx(de,{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Loading members..."})})}):!e||e.length===0?a.jsx(ue,{children:a.jsx(de,{className:"p-6",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(Np,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{children:"No members found"}),a.jsx("p",{className:"text-sm",children:"Invite users to get started"})]})})}):a.jsx(ue,{children:a.jsx(de,{className:"p-0",children:a.jsxs(gl,{children:[a.jsx(vl,{children:a.jsxs(vn,{children:[a.jsx(Te,{children:"Member"}),a.jsx(Te,{children:"Role"}),a.jsx(Te,{children:"Status"}),a.jsx(Te,{children:"Joined"}),a.jsx(Te,{children:"Invited By"}),a.jsx(Te,{className:"w-[100px]",children:"Actions"})]})}),a.jsx(yl,{children:e.map(u=>{var h;const f=u.enhanced_role||u.role||"member",d=c(u);return a.jsxs(vn,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(g3,{email:u.email}),a.jsx("div",{children:a.jsx("div",{className:"font-medium",children:u.email})})]})}),a.jsx(Ae,{children:d?a.jsx(bg,{currentUserRole:o||"member",selectedRole:f,onRoleChange:p=>l(u,p)}):a.jsx(ed,{role:f})}),a.jsx(Ae,{children:a.jsx(Wr,{variant:gD(u.status),children:u.status})}),a.jsx(Ae,{children:u.accepted_at?lu(u.accepted_at):lu(u.created_at)}),a.jsx(Ae,{children:((h=u.invited_by)==null?void 0:h.email)||"-"}),a.jsx(Ae,{children:d&&a.jsxs(s3,{children:[a.jsx(o3,{asChild:!0,children:a.jsx(te,{variant:"ghost",size:"sm",children:a.jsx(h2,{className:"h-4 w-4"})})}),a.jsx(iN,{align:"end",children:a.jsxs(jg,{children:[a.jsx(_g,{asChild:!0,children:a.jsxs(lN,{className:"text-red-600",onSelect:p=>p.preventDefault(),children:[a.jsx(k2,{className:"h-4 w-4 mr-2"}),"Remove Member"]})}),a.jsxs(cd,{children:[a.jsxs(ud,{children:[a.jsx(fd,{children:"Remove Member"}),a.jsxs(hd,{children:["Are you sure you want to remove ",u.email," from this organization? This action cannot be undone."]})]}),a.jsxs(dd,{children:[a.jsx(pd,{children:"Cancel"}),a.jsx(md,{onClick:()=>s(u.user_id),className:"bg-red-600 hover:bg-red-700",children:"Remove"})]})]})]})})]})})]},u.id)})})]})})})},y3=e=>pn({queryKey:["organization-members",e],queryFn:async()=>{console.log("Fetching organization members for:",e);const{data:t,error:r}=await F.from("organization_users").select(`
          id,
          user_id,
          email,
          role,
          enhanced_role,
          status,
          created_at,
          accepted_at,
          invited_by_user_id
        `).eq("organization_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching organization members:",r),r;const n=await Promise.all((t||[]).map(async s=>{let o=null;if(s.invited_by_user_id){const{data:i}=await F.from("organization_users").select("email").eq("user_id",s.invited_by_user_id).eq("organization_id",e).single();i?o={email:i.email}:o={email:"Unknown"}}return{...s,invited_by:o}}));return console.log("Organization members fetched:",n),n},enabled:!!e,retry:3,retryDelay:1e3}),x3=e=>{const{data:t,...r}=y3(e);return{activeMembers:(t==null?void 0:t.filter(s=>s.status==="active"))||[],...r}},w3=e=>{const t=xn();return gn({mutationFn:async({userId:r,newRole:n})=>{console.log("Updating user role:",{userId:r,newRole:n,organizationId:e});const{data:s,error:o}=await F.from("organization_users").update({enhanced_role:n,role:n==="owner"||n==="admin"?"admin":"member"}).eq("user_id",r).eq("organization_id",e).select().single();if(o)throw console.error("Error updating user role:",o),o;return s},onSuccess:()=>{Or({title:"User role updated successfully"}),t.invalidateQueries({queryKey:["organization-members",e]})},onError:r=>{console.error("Role update error:",r),Or({title:"Error updating user role",description:r.message||"An unexpected error occurred",variant:"destructive"})}})},b3=e=>{const{activeMembers:t,isLoading:r,error:n}=x3(e),s=w3(e);return{activeMembers:t,membersLoading:r,membersError:n,handleUpdateRole:(i,l)=>{s.mutate({userId:i,newRole:l})},updateRoleMutation:s}},j3=e=>pn({queryKey:["organization-invitations",e],queryFn:async()=>{console.log("Fetching organization invitations for:",e);const{data:t,error:r}=await F.from("user_invitations").select(`
          id,
          email,
          role,
          enhanced_role,
          status,
          created_at,
          expires_at,
          invited_by_user_id,
          organization_id
        `).eq("organization_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching organization invitations:",r),r;return await Promise.all((t||[]).map(async s=>{if(s.invited_by_user_id)try{const{data:o}=await F.from("organization_users").select("email").eq("user_id",s.invited_by_user_id).eq("organization_id",e).single();return{...s,invited_by:o?{email:o.email}:null}}catch(o){return console.error("Error fetching invited by user:",o),{...s,invited_by:null}}return s}))},enabled:!!e,retry:2,staleTime:30*1e3}),_3=({rpcName:e,queryKeysToInvalidate:t,successMessage:r,errorMessage:n,onSuccessCustom:s,paramsMapper:o})=>{const i=xn();return gn({mutationFn:async l=>{const{data:c,error:u}=await F.rpc(e,o(l));if(u)throw u;const f=c;if(f&&typeof f=="object"&&"success"in f){const d=f;if(!d.success)throw new Error(d.error)}return f},onSuccess:l=>{t.forEach(c=>{i.invalidateQueries({queryKey:c})}),s?s(l):et.success(r)},onError:l=>{et.error(l.message||n)}})};class S3{formatLog(t,r,n){const s=new Date().toISOString(),o=n?` ${JSON.stringify(n)}`:"";return`[${s}] ${t.toUpperCase()}: ${r}${o}`}info(t,r){console.log(this.formatLog("info",t,r))}warn(t,r){console.warn(this.formatLog("warn",t,r))}error(t,r){console.error(this.formatLog("error",t,r))}debug(t,r){}}const ke=new S3,N3=()=>{const e=xn();return gn({mutationFn:async t=>{ke.info("useEnhancedCancelInvitation: Cancelling invitation",{invitationId:t});const{data:r,error:n}=await F.from("user_invitations").select("email, organization_id").eq("id",t).single();if(n)throw new Error("Failed to fetch invitation details");const{error:s}=await F.from("user_invitations").delete().eq("id",t);if(s)throw new Error("Failed to cancel invitation");const{error:o}=await F.from("organization_users").delete().eq("email",r.email).eq("organization_id",r.organization_id);o&&ke.warn("Could not remove user from organization_users (may not exist)",{email:r.email,organizationId:r.organization_id})},onSuccess:()=>{e.invalidateQueries({queryKey:["organization-invitations"]}),e.invalidateQueries({queryKey:["organization-members"]}),et.success("Invitation cancelled and user removed successfully"),ke.info("useEnhancedCancelInvitation: Invitation cancelled successfully")},onError:t=>{ke.error("useEnhancedCancelInvitation: Cancellation failed",{error:t.message}),et.error(t.message||"Failed to cancel invitation")}})},k3={ORGANIZATION_MEMBERS:["organization-members"],ORGANIZATION_INVITATIONS:["organization-invitations"]},E3=N3,C3=()=>_3({rpcName:"remove_user_from_organization",queryKeysToInvalidate:[k3.ORGANIZATION_MEMBERS],successMessage:"User removed from organization successfully",errorMessage:"Failed to remove user",paramsMapper:({userId:e,organizationId:t})=>({p_user_id:e,p_organization_id:t})}),R3=e=>{const t=b3(e),{data:r=[],isLoading:n,error:s}=j3(e),o=E3(),i=l=>{o.mutate(l)};return{...t,pendingInvitations:r,invitationsLoading:n,invitationsError:s,pendingInvitationsCount:r.length,handleCancelInvitation:i,cancelInvitationLoading:o.isPending}},P3=({organizationName:e})=>a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),a.jsxs("p",{className:"text-gray-600",children:["Manage members and invitations for ",e]})]})}),T3=({activeMembersCount:e,adminsCount:t,pendingInvitationsCount:r})=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vr,{className:"h-5 w-5 text-sunset-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:e}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ka,{className:"h-5 w-5 text-coral-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:t}),a.jsx("p",{className:"text-sm text-gray-600",children:"Admins"})]})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yc,{className:"h-5 w-5 text-golden-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:r}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pending Invitations"})]})]})})})]}),Es=class Es{constructor(){nt(this,"config",{enableLogging:!0,enableReporting:!0,maxRetries:3})}static getInstance(){return Es.instance||(Es.instance=new Es),Es.instance}handleError(t,r){const n=this.normalizeError(t,r);return this.config.enableLogging&&this.logError(n),this.config.enableReporting&&n.severity==="critical"&&this.reportError(n),n}async handleAsync(t,r){try{return await t()}catch(n){throw this.handleError(n,r)}}createError(t,r,n="medium",s){return{code:t,message:r,context:s,timestamp:Date.now(),severity:n,details:s}}normalizeError(t,r){return"code"in t&&"severity"in t?{...t,context:{...t.context,...r},details:{...t.details,...r}}:{code:"UNKNOWN_ERROR",message:t.message||"An unexpected error occurred",context:r,timestamp:Date.now(),severity:"medium",details:r}}logError(t){const r=t.severity==="critical"?"error":"warn";console[r]("Application Error:",{code:t.code,message:t.message,severity:t.severity,timestamp:new Date(t.timestamp).toISOString(),context:t.context})}reportError(t){typeof window<"u"&&window.console&&console.error("Critical Error Reported:",t)}};nt(Es,"instance");let fm=Es;const hm=fm.getInstance(),jr=(e,t,r="medium",n)=>hm.createError(e,t,r,n),hr=e=>({success:!1,error:e,code:e.code}),_f=e=>({success:!0,data:e}),en=(e,t)=>e instanceof Error?hm.handleError(e):hm.createError("UNKNOWN_ERROR",t||"An unknown error occurred"),Ar=(e,t,r)=>{const n=jr("LOG_ERROR",e,"low",t);console.error(e,n)},A3={NETWORK_ERROR:"NETWORK_ERROR",SYSTEM_NETWORK_ERROR:"SYSTEM_NETWORK_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",VALIDATION_REQUIRED_FIELD:"VALIDATION_REQUIRED_FIELD",VALIDATION_INVALID_EMAIL:"VALIDATION_INVALID_EMAIL",VALIDATION_INVALID_FORMAT:"VALIDATION_INVALID_FORMAT",VALIDATION_INVALID_INPUT:"VALIDATION_INVALID_INPUT",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",SYSTEM_ERROR:"SYSTEM_ERROR",SYSTEM_DATABASE_ERROR:"SYSTEM_DATABASE_ERROR",SYSTEM_UNKNOWN_ERROR:"SYSTEM_UNKNOWN_ERROR",BUSINESS_USER_ALREADY_EXISTS:"BUSINESS_USER_ALREADY_EXISTS",BUSINESS_ORGANIZATION_NOT_FOUND:"BUSINESS_ORGANIZATION_NOT_FOUND",NOT_FOUND:"NOT_FOUND",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR"},Rt=A3,I3=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),O3=e=>e==null?!1:typeof e=="string"?e.trim().length>0:Array.isArray(e)?e.length>0:!0,M3=(e,t=0,r=1/0)=>{const n=e.trim().length;return n>=t&&n<=r},bN=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),wt={required:e=>({validate:O3,message:`${e} is required`,code:Rt.VALIDATION_REQUIRED_FIELD}),email:()=>({validate:I3,message:"Please provide a valid email address",code:Rt.VALIDATION_INVALID_EMAIL}),length:(e,t,r)=>({validate:n=>M3(n,e,t),message:`${r} must be between ${e} and ${t} characters`,code:Rt.VALIDATION_INVALID_FORMAT}),uuid:e=>({validate:bN,message:`${e} must be a valid UUID`,code:Rt.VALIDATION_INVALID_FORMAT})},jN=(e,t)=>{const r=[];for(const n of t)n.validate(e)||r.push(jr(n.code,n.message,"medium"));return{isValid:r.length===0,errors:r}},mu=(e,t)=>{const r=[];for(const[n,s]of Object.entries(t)){const o=e[n],i=jN(o,s);r.push(...i.errors)}return{isValid:r.length===0,errors:r}},D3=e=>e.trim().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),L3=e=>{const t=D3(e).toLowerCase(),r=jN(t,[wt.email()]);return{...r,sanitizedEmail:r.isValid?t:void 0}};class Ig{constructor(t){nt(this,"_value");this._value=t}static create(t){const r=L3(t);if(!r.isValid){const n=r.errors[0]||jr(Rt.VALIDATION_INVALID_EMAIL,"Invalid email format","medium");throw new Error(n.message)}return new Ig(r.sanitizedEmail)}get value(){return this._value}equals(t){return this._value===t._value}toString(){return this._value}}class Og{constructor(t){nt(this,"_value");this._value=t}static create(t){if(!bN(t)){const r=jr(Rt.VALIDATION_INVALID_FORMAT,"Invalid organization ID format","medium");throw new Error(r.message)}return new Og(t)}get value(){return this._value}equals(t){return this._value===t._value}toString(){return this._value}}class $3{validateInvitationRequest(t){const r={organizationId:t.organizationId,role:t.role,email:t.email,enhancedRole:t.enhancedRole};return mu(r,{organizationId:[wt.required("Organization ID"),wt.uuid("Organization ID")],role:[wt.required("Role"),wt.length(1,50,"Role")]})}processSupabaseResponse(t,r){var n;if(r){const s=r instanceof Error?r.message:String(r);if(s.includes("NetworkError")||s.includes("Failed to fetch")){const i=jr(Rt.SYSTEM_NETWORK_ERROR,"Network connection failed. Please check your internet connection.","high");return Ar("Network error in invitation service",{originalError:s}),hr(i)}if(s.includes("FunctionsError")){const i=typeof t=="object"&&t!==null&&"error"in t?String(t.error):"Service temporarily unavailable. Please try again.",l=jr(Rt.SYSTEM_DATABASE_ERROR,i,"high");return Ar("Database error in invitation service",{originalError:s}),hr(l)}const o=en(r,"Failed to process invitation");return Ar("Unknown error in invitation process"),hr(o)}if(!t){const s=jr(Rt.SYSTEM_UNKNOWN_ERROR,"No response received from invitation service","high");return Ar("No data received from invitation service"),hr(s)}if(typeof t=="object"&&t!==null&&"success"in t){const s=t;if(s.success===!1){const o=(n=s.message)!=null&&n.includes("already exists")?Rt.BUSINESS_USER_ALREADY_EXISTS:Rt.BUSINESS_ORGANIZATION_NOT_FOUND,i=jr(o,s.message||"Invitation failed","medium");return Ar("Business logic error in invitation",{response:s}),hr(i)}return _f(s)}return _f({success:!0,message:"Invitation processed successfully",type:"invitation_sent"})}async inviteUser(t){ke.info("UserInvitationService: Processing invitation request",{email:t.email,organizationId:t.organizationId,role:t.role});const r=this.validateInvitationRequest(t);if(!r.isValid){const n=r.errors[0];return Ar("Validation failed for invitation request",{...t}),hr(n)}try{const n={email:t.email,organizationId:t.organizationId,role:t.role,enhancedRole:t.enhancedRole||t.role},{data:s,error:o}=await F.functions.invoke("enhanced-invite-user",{body:n});return ke.debug("UserInvitationService: Received response from edge function",{hasData:!!s,hasError:!!o}),this.processSupabaseResponse(s,o)}catch(n){const s=en(n,"Failed to send invitation. Please try again.");return Ar("Exception in invitation service",{...t}),hr(s)}}async cancelInvitation(t){ke.info("UserInvitationService: Cancelling invitation",{invitationId:t.invitationId});const r={invitationId:t.invitationId},n=mu(r,{invitationId:[wt.required("Invitation ID"),wt.uuid("Invitation ID")]});if(!n.isValid){const s=n.errors[0];return Ar("Validation failed for cancel invitation",{...t}),hr(s)}try{const{error:s}=await F.from("user_invitations").update({status:"cancelled"}).eq("id",t.invitationId);if(s){const o=jr(Rt.SYSTEM_DATABASE_ERROR,"Failed to cancel invitation","medium",{supabaseError:s});return Ar("Database error cancelling invitation",{...t}),hr(o)}return ke.info("UserInvitationService: Invitation cancelled successfully",{invitationId:t.invitationId}),_f(void 0)}catch(s){const o=en(s,"Failed to cancel invitation");return Ar("Exception cancelling invitation",{...t}),hr(o)}}async resendInvitation(t){ke.info("UserInvitationService: Resending invitation",{invitationId:t.invitationId});const r=jr(Rt.SYSTEM_UNKNOWN_ERROR,"Resend invitation feature not yet implemented","low");return hr(r)}}class F3{constructor(t=new $3){this.invitationService=t}async inviteUser(t){ke.info("UserInvitationApplicationService: Processing invitation request",{email:t.email,organizationId:t.organizationId,role:t.role});try{const r=Ig.create(t.email),n=Og.create(t.organizationId),s={email:r.value,organizationId:n.value,role:t.role,enhancedRole:t.enhancedRole},o=await this.invitationService.inviteUser(s);return ke.info("UserInvitationApplicationService: Invitation processed successfully",{success:o.success}),o}catch(r){throw ke.error("UserInvitationApplicationService: Invitation failed",{error:r instanceof Error?r.message:String(r),request:t}),r}}async cancelInvitation(t){return ke.info("UserInvitationApplicationService: Cancelling invitation",{invitationId:t}),this.invitationService.cancelInvitation({invitationId:t})}async resendInvitation(t){return ke.info("UserInvitationApplicationService: Resending invitation",{invitationId:t}),this.invitationService.resendInvitation({invitationId:t})}}const z3=new F3,U3=()=>{const e=xn();return gn({mutationFn:async t=>{var r;ke.info("useEnhancedInviteUser: Starting invitation process",{email:t.email,organizationId:t.organizationId,role:t.role,enhancedRole:t.enhancedRole});try{const n=await z3.inviteUser(t);if(!n.success){const s=n;throw new Error(((r=s.error)==null?void 0:r.message)||"Invitation failed")}return n.data}catch(n){ke.error("useEnhancedInviteUser: Invitation failed",{error:n instanceof Error?n.message:String(n),params:t});const s=n instanceof Error?n.message:"Failed to invite user. Please try again.";throw new Error(s)}},onSuccess:t=>{[{queryKey:["organization-members"]},{queryKey:["organization-invitations"]}].forEach(({queryKey:s})=>{e.invalidateQueries({queryKey:s})});const n=t.type==="direct_add"?"User added to organization successfully!":"Invitation sent successfully! The user will receive an email with instructions to join.";et.success(n),ke.info("useEnhancedInviteUser: Invitation completed successfully",{type:t.type,message:t.message})},onError:t=>{ke.error("useEnhancedInviteUser: Invitation mutation failed",{error:t.message}),et.error(t.message||"Failed to invite user")}})},wy={email:"",role:"member"},B3=({organizationId:e,trigger:t})=>{const[r,n]=m.useState(!1),[s,o]=m.useState(wy),[i,l]=m.useState(""),{userRole:c}=wN(e),u=U3(),f=()=>{o(wy),l("")},d=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w.trim()),h=w=>{w.preventDefault(),l("");const y=s.email.trim();if(!y){l("Email address is required");return}if(!d(y)){l("Please enter a valid email address");return}console.log("Submitting invitation:",{email:y,organizationId:e,role:s.role}),u.mutate({email:y,organizationId:e,role:s.role,enhancedRole:s.role},{onSuccess:()=>{f(),n(!1)},onError:v=>{console.error("Invitation failed:",v),l(v.message||"Failed to send invitation")}})},p=(w,y)=>{o(v=>({...v,[w]:y})),i&&l("")},x=s.email.trim().length>0&&d(s.email.trim()),g=a.jsxs(te,{children:[a.jsx(Sp,{className:"w-4 h-4 mr-2"}),"Invite User"]});return a.jsxs(xl,{open:r,onOpenChange:w=>{n(w),w||f()},children:[a.jsx(i_,{asChild:!0,children:t||g}),a.jsxs($a,{className:"sm:max-w-md",children:[a.jsx(Fa,{children:a.jsx(za,{children:"Invite User to Organization"})}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i&&a.jsxs(Ge,{variant:"destructive",children:[a.jsx(Ui,{className:"h-4 w-4"}),a.jsx(Qe,{children:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"email",children:"Email Address"}),a.jsx(le,{id:"email",type:"email",placeholder:"user@example.com",value:s.email,onChange:w=>p("email",w.target.value),required:!0,className:i&&i.includes("email")?"border-red-500":""}),a.jsx("p",{className:"text-sm text-gray-500",children:"The user will receive an email invitation to join your organization and set up their account."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"role",children:"Role"}),a.jsx(bg,{currentUserRole:c||"member",selectedRole:s.role,onRoleChange:w=>p("role",w)})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(te,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:u.isPending,children:"Cancel"}),a.jsx(te,{type:"submit",disabled:u.isPending||!x,children:u.isPending?"Sending Invitation...":"Send Invitation"})]})]})]})]})},V3=({expiresAt:e})=>{const t=cj(e);return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:t?"text-red-600":"",children:lu(e)}),t&&a.jsxs(Wr,{variant:"destructive",className:"flex items-center gap-1",children:[a.jsx(pa,{className:"w-3 h-3"}),"Expiring Soon"]})]})},q3=({invitation:e,onCancel:t})=>a.jsxs(jg,{children:[a.jsx(_g,{asChild:!0,children:a.jsx(te,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:a.jsx(kp,{className:"h-4 w-4"})})}),a.jsxs(cd,{children:[a.jsxs(ud,{children:[a.jsx(fd,{children:"Cancel Invitation"}),a.jsxs(hd,{children:["Are you sure you want to cancel the invitation for ",e.email,"? They will no longer be able to join using this invitation."]})]}),a.jsxs(dd,{children:[a.jsx(pd,{children:"Keep Invitation"}),a.jsx(md,{onClick:()=>t(e.id),className:"bg-red-600 hover:bg-red-700",children:"Cancel Invitation"})]})]})]}),W3=({invitations:e,loading:t,onCancelInvitation:r})=>t?a.jsx(ue,{children:a.jsx(de,{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Loading invitations..."})})}):e.length===0?a.jsx(ue,{children:a.jsx(de,{className:"p-6",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(Yc,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{children:"No pending invitations"}),a.jsx("p",{className:"text-sm",children:"All invitations have been processed"})]})})}):a.jsx(ue,{children:a.jsx(de,{className:"p-0",children:a.jsxs(gl,{children:[a.jsx(vl,{children:a.jsxs(vn,{children:[a.jsx(Te,{children:"Email"}),a.jsx(Te,{children:"Role"}),a.jsx(Te,{children:"Invited"}),a.jsx(Te,{children:"Expires"}),a.jsx(Te,{children:"Invited By"}),a.jsx(Te,{className:"w-[100px]",children:"Actions"})]})}),a.jsx(yl,{children:e.map(n=>{var o;const s=n.enhanced_role||n.role;return a.jsxs(vn,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yc,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:n.email})]})}),a.jsx(Ae,{children:a.jsx(ed,{role:s})}),a.jsx(Ae,{children:lu(n.created_at)}),a.jsx(Ae,{children:a.jsx(V3,{expiresAt:n.expires_at})}),a.jsx(Ae,{children:((o=n.invited_by)==null?void 0:o.email)||"-"}),a.jsx(Ae,{children:a.jsx(q3,{invitation:n,onCancel:r})})]},n.id)})})]})})}),H3=({organizationId:e,organizationName:t})=>{const{membersLoading:r,handleUpdateRole:n,activeMembers:s,pendingInvitations:o,invitationsLoading:i,pendingInvitationsCount:l,handleCancelInvitation:c}=R3(e),u=C3(),{hasPermission:f,userRole:d,isLoading:h}=hl(e),p=y=>{if(!f("manage_users")){console.warn("User attempted to remove member without permission");return}u.mutate({userId:y,organizationId:e})},x=(y,v)=>{if(!f("manage_users")){console.warn("User attempted to update role without permission");return}n(y,v)};if(h||r)return a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading user management..."})]})});if(!f("manage_users"))return a.jsxs(Ge,{variant:"destructive",children:[a.jsx(Bo,{className:"h-4 w-4"}),a.jsx(Qe,{children:"You don't have permission to manage users. Contact your organization administrator for access."})]});const g=s.filter(y=>{const v=y.enhanced_role||y.role;return["admin","owner"].includes(v||"")}).length,w=(o==null?void 0:o.length)||0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(P3,{organizationName:t}),a.jsx(B3,{organizationId:e})]}),a.jsx(T3,{activeMembersCount:s.length,adminsCount:g,pendingInvitationsCount:w}),a.jsxs(ml,{defaultValue:"members",className:"w-full",children:[a.jsxs(pl,{children:[a.jsxs(nr,{value:"members",children:["Active Members (",s.length,")"]}),a.jsxs(nr,{value:"invitations",children:["Pending Invitations (",w,")"]})]}),a.jsx(Be,{value:"members",children:a.jsx(v3,{members:s,loading:r,organizationId:e,onUpdateRole:x,onRemoveMember:p})}),a.jsx(Be,{value:"invitations",children:a.jsx(W3,{invitations:o,loading:i,onCancelInvitation:c})})]})]})},K3=async e=>{try{const{data:t,error:r}=await F.from("organization_assets").select("*").eq("organization_id",e).eq("is_active",!0).order("display_order").order("created_at");return r?(console.error("Error fetching organization assets:",r),[]):t||[]}catch(t){return console.error("Error fetching organization assets:",t),[]}},G3=async e=>{try{const{data:t,error:r}=await F.from("organization_themes").select("*").eq("organization_id",e).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();return r?(console.error("Error fetching organization theme:",r),null):t}catch(t){return console.error("Error fetching organization theme:",t),null}},Q3=({open:e,onClose:t,organization:r,onSave:n})=>{const[s,o]=m.useState("basic"),[i,l]=m.useState({name:r.name||"",slug:r.slug||"",domain:r.domain||"",logo_url:r.logo_url||"",primary_color:r.primary_color||"#007ACE",secondary_color:r.secondary_color||"#073763",billing_email:r.billing_email||"",max_responses:r.max_responses||100,plan_type:r.plan_type||"starter",trial_ends_at:r.trial_ends_at?r.trial_ends_at.substring(0,16):"",features_config:r.features_config?JSON.stringify(r.features_config,null,2):""}),[c,u]=m.useState(!1),{toast:f}=dr();function d(p,x){l(g=>({...g,[p]:x}))}async function h(p){p.preventDefault(),u(!0);let x;try{i.features_config.trim()&&(x=JSON.parse(i.features_config))}catch{f({title:"Invalid JSON in Features Config",variant:"destructive"}),u(!1);return}const g={name:i.name,slug:i.slug,domain:i.domain,logo_url:i.logo_url,primary_color:i.primary_color,secondary_color:i.secondary_color,billing_email:i.billing_email,max_responses:Number(i.max_responses),plan_type:i.plan_type,trial_ends_at:i.trial_ends_at?new Date(i.trial_ends_at).toISOString():void 0,features_config:x},w=await Tj(r.id,g);u(!1),w?(f({title:"Organization updated!"}),n(w),t()):f({title:"Failed to update organization",variant:"destructive"})}return a.jsx(xl,{open:e,onOpenChange:p=>!p&&t(),children:a.jsxs($a,{className:"max-w-xl",children:[a.jsx(Fa,{children:a.jsx(za,{children:"Edit Organization"})}),a.jsxs(ml,{value:s,onValueChange:o,className:"mt-2",children:[a.jsxs(pl,{className:"w-full grid grid-cols-3 mb-4",children:[a.jsx(nr,{value:"basic",children:"Basic Info"}),a.jsx(nr,{value:"plan",children:"Plan & Limits"}),a.jsx(nr,{value:"features",children:"Features"})]}),a.jsxs("form",{onSubmit:h,children:[a.jsxs(Be,{value:"basic",className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(ee,{children:"Name"}),a.jsx(le,{value:i.name,onChange:p=>d("name",p.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ee,{children:"Slug"}),a.jsx(le,{value:i.slug,onChange:p=>d("slug",p.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ee,{children:"Domain"}),a.jsx(le,{value:i.domain,onChange:p=>d("domain",p.target.value)})]}),a.jsxs("div",{children:[a.jsx(ee,{children:"Logo URL"}),a.jsx(le,{value:i.logo_url,onChange:p=>d("logo_url",p.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{children:[a.jsx(ee,{children:"Primary Color"}),a.jsx(le,{type:"color",value:i.primary_color,onChange:p=>d("primary_color",p.target.value)})]}),a.jsxs("div",{children:[a.jsx(ee,{children:"Secondary Color"}),a.jsx(le,{type:"color",value:i.secondary_color,onChange:p=>d("secondary_color",p.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(ee,{children:"Billing Email"}),a.jsx(le,{value:i.billing_email,onChange:p=>d("billing_email",p.target.value),type:"email"})]})]}),a.jsxs(Be,{value:"plan",className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(ee,{children:"Plan Type"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2",value:i.plan_type,onChange:p=>d("plan_type",p.target.value),children:[a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"pro",children:"Pro"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs("div",{children:[a.jsx(ee,{children:"Trial Ends At"}),a.jsx(le,{type:"datetime-local",value:i.trial_ends_at,onChange:p=>d("trial_ends_at",p.target.value)})]}),a.jsxs("div",{children:[a.jsx(ee,{children:"Max Responses"}),a.jsx(le,{type:"number",value:i.max_responses,min:1,onChange:p=>d("max_responses",p.target.value)})]})]}),a.jsx(Be,{value:"features",className:"space-y-3",children:a.jsxs("div",{children:[a.jsx(ee,{children:"Features Config Override (JSON)"}),a.jsx("textarea",{className:"w-full font-mono border rounded min-h-[120px] p-2 text-xs",value:i.features_config,onChange:p=>d("features_config",p.target.value),placeholder:'{ "analytics": true, "modules": {"settings": false} }'}),a.jsx("p",{className:"text-xs text-gray-500",children:"Advanced: Override default plan features."})]})}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx(te,{type:"button",variant:"outline",onClick:t,disabled:c,children:"Cancel"}),a.jsx(te,{type:"submit",disabled:c,children:c?"Saving...":"Save Changes"})]})]})]})]})})},Y3=({org:e,onToggleActive:t,onUpdatePlan:r})=>{const[n,s]=m.useState(!1),[o,i]=m.useState(!1),[l,c]=m.useState(e);return a.jsxs(a.Fragment,{children:[a.jsx(ue,{className:`transition-all ${l.is_active?"border-green-200":"border-red-200 opacity-75"}`,children:a.jsxs(de,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:l.name}),a.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold ${l.is_active?"bg-green-100 text-green-800":"bg-gray-200 text-gray-600"}`,children:l.is_active?"Active":"Inactive"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zi,{className:"w-4 h-4"}),a.jsxs("span",{children:["Slug: ",l.slug]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(c2,{className:"w-4 h-4"}),a.jsxs("span",{children:["Created: ",new Date(l.created_at).toLocaleDateString()]})]}),l.domain&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zi,{className:"w-4 h-4"}),a.jsxs("span",{children:["Domain: ",l.domain]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Max Responses: ",l.max_responses||100]})]})]})]})]}),a.jsx("div",{className:"flex flex-col space-y-2",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(te,{variant:l.is_active?"destructive":"default",size:"sm",onClick:()=>t(l.id,l.is_active),children:l.is_active?"Deactivate":"Activate"}),a.jsx(te,{variant:"outline",size:"sm",onClick:()=>i(!0),children:"Edit"}),a.jsxs(xl,{open:n,onOpenChange:s,children:[a.jsx(i_,{asChild:!0,children:a.jsxs(te,{variant:"outline",size:"sm",children:[a.jsx(Sp,{className:"w-4 h-4 mr-1"}),"Users"]})}),a.jsxs($a,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Fa,{children:a.jsxs(za,{children:["User Management - ",l.name]})}),a.jsx(H3,{organizationId:l.id,organizationName:l.name})]})]})]})})]}),!1]})}),o&&a.jsx(Q3,{open:o,onClose:()=>i(!1),organization:l,onSave:f=>c(f)})]})},J3=({organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Organizations"}),a.jsx("p",{className:"text-gray-600",children:"Manage all organizations in the system"})]}),a.jsxs(te,{onClick:t,children:[a.jsx(w2,{className:"w-4 h-4 mr-2"}),"Add Organization"]})]}),a.jsx(Q5,{organizations:e}),a.jsx("div",{className:"grid gap-4",children:e==null?void 0:e.map(s=>a.jsx(Y3,{org:s,onToggleActive:r,onUpdatePlan:n},s.id))})]}),X3=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(!1),[s,o]=m.useState(!1),[i,l]=m.useState(!0);m.useEffect(()=>{c()},[]);const c=async()=>{try{console.log("Loading Flask wrapper URL...");const{data:d,error:h}=await F.from("system_settings").select("setting_value").eq("setting_key","flask_sms_wrapper_base_url").single();if(h&&h.code!=="PGRST116"){console.error("Error loading Flask URL:",h),Or({title:"Error",description:"Failed to load Flask wrapper URL",variant:"destructive"});return}console.log("Flask URL loaded:",d==null?void 0:d.setting_value),t((d==null?void 0:d.setting_value)||"")}catch(d){console.error("Error loading Flask URL:",d)}finally{l(!1)}},u=async()=>{n(!0);try{console.log("Saving Flask wrapper URL:",e);const{error:d}=await F.from("system_settings").upsert({setting_key:"flask_sms_wrapper_base_url",setting_value:e.trim(),description:"Base URL for the Flask SMS wrapper API"},{onConflict:"setting_key"});if(d)throw console.error("Error saving Flask URL:",d),d;console.log("Flask URL saved successfully"),Or({title:"Success",description:"Flask wrapper URL saved successfully"})}catch(d){console.error("Error saving Flask URL:",d),Or({title:"Error",description:`Failed to save Flask wrapper URL: ${d.message}`,variant:"destructive"})}finally{n(!1)}},f=async()=>{if(!e.trim()){Or({title:"Error",description:"Please enter a Flask wrapper URL first",variant:"destructive"});return}o(!0);try{const d=e.trim().replace(/\/$/,"")+"/health";console.log("Testing Flask connection to:",d);const h=await fetch(d,{method:"GET",headers:{"Content-Type":"application/json"}});console.log("Flask test response:",h.status,h.statusText),h.ok?Or({title:"Success",description:"Flask wrapper API is reachable"}):Or({title:"Warning",description:`Flask wrapper returned status: ${h.status}`,variant:"destructive"})}catch(d){console.error("Error testing Flask connection:",d),Or({title:"Error",description:"Failed to connect to Flask wrapper API. Check the URL and try again.",variant:"destructive"})}finally{o(!1)}};return i?a.jsxs(ue,{children:[a.jsx(Me,{children:a.jsxs(De,{className:"flex items-center gap-2",children:[a.jsx(Jc,{className:"w-5 h-5"}),"Flask SMS Wrapper Settings"]})}),a.jsx(de,{children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),a.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"})]})})]}):a.jsxs(ue,{children:[a.jsx(Me,{children:a.jsxs(De,{className:"flex items-center gap-2",children:[a.jsx(Jc,{className:"w-5 h-5"}),"Flask SMS Wrapper Settings"]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"flask-url",children:"Flask Wrapper Base URL"}),a.jsx(le,{id:"flask-url",type:"url",placeholder:"http://localhost:5000 or https://your-flask-api.com",value:e,onChange:d=>t(d.target.value)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The base URL for your Flask SMS wrapper API (without trailing slash)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{onClick:u,disabled:r,className:"flex-1",children:[a.jsx(Cb,{className:"w-4 h-4 mr-2"}),r?"Saving...":"Save URL"]}),a.jsxs(te,{onClick:f,disabled:s||!e.trim(),variant:"outline",children:[a.jsx(N2,{className:"w-4 h-4 mr-2"}),s?"Testing...":"Test Connection"]})]}),e&&a.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"font-medium",children:"Expected endpoints:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[a.jsxs("li",{children:["• POST ",e,"/send-sms - Send SMS messages"]}),a.jsxs("li",{children:["• GET ",e,"/health - Health check (optional)"]})]}),a.jsx("p",{className:"mt-2 font-medium",children:"Required headers:"}),a.jsxs("ul",{className:"mt-1 space-y-1",children:[a.jsx("li",{children:"• Content-Type: application/json"}),a.jsx("li",{children:"• X-Signature: HMAC-SHA256 signature for verification"})]})]})]})]})},Z3=({organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})=>a.jsxs(ml,{defaultValue:"organizations",className:"w-full",children:[a.jsxs(pl,{className:"grid w-full grid-cols-4",children:[a.jsxs(nr,{value:"organizations",className:"flex items-center gap-2",children:[a.jsx(zi,{className:"w-4 h-4"}),"Organizations"]}),a.jsxs(nr,{value:"users",className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"w-4 h-4"}),"Users"]}),a.jsxs(nr,{value:"system",className:"flex items-center gap-2",children:[a.jsx(Jc,{className:"w-4 h-4"}),"System Settings"]}),a.jsxs(nr,{value:"integrations",className:"flex items-center gap-2",children:[a.jsx(u2,{className:"w-4 h-4"}),"API Settings"]})]}),a.jsx(Be,{value:"organizations",className:"mt-6",children:a.jsx(J3,{organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})}),a.jsx(Be,{value:"users",className:"mt-6",children:a.jsx(G5,{organizations:e})}),a.jsx(Be,{value:"system",className:"mt-6",children:a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"System Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and integrations."})]})})}),a.jsx(Be,{value:"integrations",className:"mt-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"API Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Configure external API integrations and wrapper services."})]}),a.jsx(X3,{})]})})]}),e$=()=>{const[e,t]=m.useState(!1),r=xn(),{data:n=[],isLoading:s}=pn({queryKey:["organizations"],queryFn:WD}),o=gn({mutationFn:({id:u,updates:f})=>Tj(u,f),onSuccess:()=>{r.invalidateQueries({queryKey:["organizations"]}),et.success("Organization updated successfully")},onError:()=>{et.error("Failed to update organization")}}),i=gn({mutationFn:u=>KD(u),onSuccess:()=>{r.invalidateQueries({queryKey:["organizations"]}),t(!1),et.success("Organization created successfully")},onError:()=>{et.error("Failed to create organization")}}),l=(u,f)=>{o.mutate({id:u,updates:{is_active:!f}})},c=(u,f)=>{o.mutate({id:u,updates:{plan_type:f}})};return s?a.jsx("div",{className:"p-8",children:"Loading admin dashboard..."}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage organizations, view statistics, and configure system settings"})]}),a.jsx(Z3,{organizations:n,onCreateClick:()=>t(!0),onToggleActive:l,onUpdatePlan:c}),e&&a.jsx(GD,{onClose:()=>t(!1),onSubmit:u=>i.mutate(u)})]})})},t$=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(!1),[s,o]=m.useState(""),[i,l]=m.useState(!1),c=Yt(),{toast:u}=dr(),{user:f,refreshUserRoles:d}=bn();return m.useEffect(()=>{(async()=>{if(!f){o("You must be logged in to create an organization");return}n(!0),o("");try{console.log("Creating organization for user:",f.email);const p=f.email?`${f.email.split("@")[0][0].toUpperCase()}${f.email.split("@")[0].slice(1)}'s Organization`:"My Organization";t(p);let x=p.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim().substring(0,50),g=x,w=1,{data:y}=await F.from("organizations").select("slug").eq("slug",g).single();for(;y;)if(g=`${x}-${w}`,{data:y}=await F.from("organizations").select("slug").eq("slug",g).single(),w++,w>100)throw new Error("Unable to generate unique slug");console.log("Creating organization with slug:",g);const{data:v,error:b}=await F.from("organizations").insert({name:p,slug:g,created_by_user_id:f.id,is_active:!0,billing_email:f.email,plan_type:"starter"}).select().single();if(b)throw b;console.log("Organization created:",v.id);const{error:j}=await F.from("organization_users").insert({user_id:f.id,organization_id:v.id,email:f.email,role:"admin",status:"active",accepted_at:new Date().toISOString()});if(j)throw j;console.log("User added to organization as admin"),l(!0),u({title:"Organization Created!",description:`Welcome to ${p}. Redirecting to your dashboard...`}),await d(),setTimeout(()=>{console.log("Redirecting to organization dashboard:",g),c(`/admin/${g}`)},2e3)}catch(p){console.error("Error creating organization:",p),o(p.message||"Failed to create organization")}finally{n(!1)}})()},[f]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(ue,{className:"shadow-lg",children:[a.jsxs(Me,{className:"text-center",children:[a.jsx("div",{className:"mx-auto bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center text-blue-600 mb-4",children:a.jsx(sn,{className:"h-8 w-8"})}),a.jsx(De,{className:"text-2xl font-bold",children:i?"You're all set!":"Creating Your Organization"}),a.jsx("p",{className:"text-gray-600",children:i?"Welcome to your dashboard.":"Please wait while we set up your organization..."})]}),a.jsxs(de,{children:[s&&a.jsx(Ge,{children:a.jsx(Qe,{children:s})}),!i&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsx(te,{variant:"ghost",disabled:!0,className:"pointer-events-none select-none",children:r?"Creating organization...":"Preparing..."})})]})]})})})},Cs=class Cs{constructor(){nt(this,"services",new Map);nt(this,"singletonInstances",new Map)}static getInstance(){return Cs.instance||(Cs.instance=new Cs),Cs.instance}register(t,r,n=!1){this.services.set(t,{factory:r,singleton:n})}registerInstance(t,r){this.services.set(t,{instance:r})}resolve(t){const r=this.services.get(t);if(!r)throw new Error(`Service not registered: ${String(t)}`);if(r.instance)return r.instance;if(r.singleton){const n=this.singletonInstances.get(t);if(n)return n;if(r.factory){const s=r.factory();return this.singletonInstances.set(t,s),s}}if(r.factory)return r.factory();throw new Error(`Unable to resolve service: ${String(t)}`)}isRegistered(t){return this.services.has(t)}clear(){this.services.clear(),this.singletonInstances.clear()}};nt(Cs,"instance");let mm=Cs;const sc=mm.getInstance(),oc={ANALYTICS_SERVICE:Symbol("AnalyticsService"),PERFORMANCE_SERVICE:Symbol("PerformanceService"),NOTIFICATION_SERVICE:Symbol("NotificationService"),USER_SERVICE:Symbol("UserService"),ORGANIZATION_SERVICE:Symbol("OrganizationService"),FEEDBACK_SERVICE:Symbol("FeedbackService"),CACHE_SERVICE:Symbol("CacheService"),LOGGER_SERVICE:Symbol("LoggerService"),VALIDATION_SERVICE:Symbol("ValidationService")};class r${constructor(){nt(this,"cache",new Map);nt(this,"CACHE_TTL",5*60*1e3)}async getAnalytics(t){const r=this.cache.get(t);if(r&&Date.now()-r.timestamp<this.CACHE_TTL)return r.data;try{const{data:n}=await F.rpc("get_organization_stats_enhanced",{org_id:t});if(!n)throw new Error("No analytics data available");const s=n,o={organizationId:t,metrics:{totalSessions:s.total_sessions||0,completedSessions:s.completed_sessions||0,averageScore:s.avg_session_score||0,completionRate:s.completed_sessions&&s.total_sessions?s.completed_sessions/s.total_sessions*100:0,responseTime:await this.calculateAverageResponseTime(t)},trends:await this.getTrendData(t),insights:await this.generateInsights(t)};return this.cache.set(t,{data:o,timestamp:Date.now()}),o}catch(n){throw console.error("Error fetching analytics:",n),new Error("Failed to fetch analytics data")}}async getRealTimeMetrics(t){const{data:r}=await F.rpc("get_organization_stats",{org_id:t});if(!r)throw new Error("No metrics data available");const n=r;return{totalSessions:n.total_sessions||0,completedSessions:n.completed_sessions||0,averageScore:n.avg_session_score||0,completionRate:n.completed_sessions&&n.total_sessions?n.completed_sessions/n.total_sessions*100:0,responseTime:await this.calculateAverageResponseTime(t)}}async trackInteraction(t,r){console.log("Tracking interaction:",t,r)}async generateInsights(t){const r=[];try{const n=await this.getRealTimeMetrics(t);n.completionRate>80?r.push("Excellent completion rate - users are highly engaged"):n.completionRate<50&&r.push("Low completion rate - consider reviewing form length or question clarity"),n.averageScore>80?r.push("High satisfaction scores indicate strong performance"):n.averageScore<60&&r.push("Lower satisfaction scores suggest areas for improvement"),n.responseTime>300&&r.push("Response times are high - consider optimizing form performance")}catch(n){console.error("Error generating insights:",n)}return r}async calculateAverageResponseTime(t){const{data:r}=await F.from("feedback_responses").select("response_time_ms").eq("organization_id",t).not("response_time_ms","is",null).limit(100).order("created_at",{ascending:!1});if(!r||r.length===0)return 0;const n=r.map(s=>s.response_time_ms).filter(s=>s!==null);return n.length>0?Math.round(n.reduce((s,o)=>s+o,0)/n.length/1e3):0}async getTrendData(t){const{data:r}=await F.from("feedback_sessions").select("created_at, total_score").eq("organization_id",t).gte("created_at",new Date(Date.now()-2592e6).toISOString()).order("created_at",{ascending:!0});if(!r)return[];const n=r.reduce((s,o)=>{const i=new Date(o.created_at).toISOString().split("T")[0];return s[i]||(s[i]={sessions:0,totalScore:0,count:0}),s[i].sessions++,o.total_score&&(s[i].totalScore+=o.total_score,s[i].count++),s},{});return Object.entries(n).map(([s,o])=>({date:s,sessions:o.sessions,score:o.count>0?Math.round(o.totalScore/o.count):0}))}}class n${constructor(){nt(this,"metrics",[]);nt(this,"componentMetrics",new Map);nt(this,"measurements",new Map);nt(this,"MAX_METRICS",1e3)}trackComponentRender(t,r){const n=this.componentMetrics.get(t);n?(n.renderCount++,n.renderTime=(n.renderTime+r)/2,n.lastRender=Date.now()):this.componentMetrics.set(t,{componentName:t,renderTime:r,renderCount:1,lastRender:Date.now()}),this.addMetric({name:`component.${t}.render`,value:r,unit:"ms",timestamp:Date.now()})}getMetrics(){return[...this.metrics].sort((t,r)=>r.timestamp-t.timestamp)}getComponentMetrics(){return Array.from(this.componentMetrics.values()).sort((t,r)=>r.lastRender-t.lastRender)}clearMetrics(){this.metrics=[],this.componentMetrics.clear(),this.measurements.clear()}startMeasurement(t){this.measurements.set(t,performance.now())}endMeasurement(t){const r=this.measurements.get(t);if(!r)return console.warn(`No measurement started for: ${t}`),0;const n=performance.now()-r;return this.measurements.delete(t),this.addMetric({name:t,value:n,unit:"ms",timestamp:Date.now()}),n}addMetric(t){this.metrics.push(t),this.metrics.length>this.MAX_METRICS&&(this.metrics=this.metrics.slice(-Math.floor(this.MAX_METRICS*.8)))}}class s${async sendNotification(t){var n,s;const{error:r}=await F.from("notifications").insert({type:t.type,title:t.title,message:t.message,metadata:t.metadata?JSON.parse(JSON.stringify(t.metadata)):null,organization_id:(n=t.metadata)==null?void 0:n.organizationId,user_id:((s=t.metadata)==null?void 0:s.userId)||null});if(r)throw console.error("Error sending notification:",r),new Error("Failed to send notification")}async getNotifications(t){const{data:r,error:n}=await F.from("notifications").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(50);if(n)throw console.error("Error fetching notifications:",n),new Error("Failed to fetch notifications");return(r||[]).map(s=>({id:s.id,type:s.type,title:s.title,message:s.message,timestamp:new Date(s.created_at).getTime(),read:s.is_read,metadata:s.metadata||{}}))}async markAsRead(t){const{error:r}=await F.from("notifications").update({is_read:!0}).eq("id",t);if(r)throw console.error("Error marking notification as read:",r),new Error("Failed to mark notification as read")}async getPreferences(t){return{emailNotifications:!0,browserNotifications:!0,feedbackAlerts:!0,systemUpdates:!0}}async updatePreferences(t,r){console.log("Updating preferences for user:",t,r)}}class o${async getUsers(t,r,n){try{let s=F.from("organization_users").select("*",{count:"exact"});t.organizationId&&(s=s.eq("organization_id",t.organizationId)),t.role&&(s=s.eq("role",t.role)),t.isActive!==void 0&&(s=s.eq("status",t.isActive?"active":"inactive")),t.search&&(s=s.ilike("email",`%${t.search}%`));const o=r*n,i=o+n-1;s=s.range(o,i);const{data:l,error:c,count:u}=await s;if(c)throw new Error(c.message);return{users:(l||[]).map(d=>({id:d.user_id,email:d.email,role:d.role,organizationId:d.organization_id,isActive:d.status==="active",createdAt:d.created_at,updatedAt:d.updated_at})),total:u||0,page:r,limit:n,hasMore:(u||0)>(r+1)*n}}catch(s){throw ke.error("Failed to get users",{filters:t,page:r,limit:n,error:s}),en(s,"Failed to retrieve users")}}async getUserById(t){try{const{data:r,error:n}=await F.from("organization_users").select("*").eq("user_id",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return{id:r.user_id,email:r.email,role:r.role,organizationId:r.organization_id,isActive:r.status==="active",createdAt:r.created_at,updatedAt:r.updated_at}}catch(r){throw ke.error("Failed to get user by ID",{userId:t,error:r}),en(r,"Failed to retrieve user")}}async getUser(t){return this.getUserById(t)}async updateUser(t,r){try{const{data:n,error:s}=await F.from("organization_users").update({email:r.email,role:r.role,status:r.isActive?"active":"inactive"}).eq("user_id",t).select().single();if(s)throw new Error(s.message);return{id:n.user_id,email:n.email,role:n.role,organizationId:n.organization_id,isActive:n.status==="active",createdAt:n.created_at,updatedAt:n.updated_at}}catch(n){throw ke.error("Failed to update user",{userId:t,updates:r,error:n}),en(n,"Failed to update user")}}async inviteUser(t){var r;try{const n={email:t.email,organizationId:t.organizationId,role:t.role,invitedBy:t.invitedBy},s=mu(n,{email:[wt.required("Email"),wt.email()],organizationId:[wt.required("Organization ID")],role:[wt.required("Role")],invitedBy:[wt.required("Invited By")]});if(!s.isValid)return{success:!1,error:((r=s.errors[0])==null?void 0:r.message)||"Validation failed"};const{data:o,error:i}=await F.rpc("invite_user_to_organization",{p_email:t.email,p_organization_id:t.organizationId,p_role:t.role});if(i)return{success:!1,error:i.message};const l=o;return l!=null&&l.success?{success:!0,invitationId:l.invitation_id}:{success:!1,error:(l==null?void 0:l.error)||"Invitation failed"}}catch(n){return ke.error("Failed to invite user",{params:t,error:n}),{success:!1,error:"Failed to invite user. Please try again."}}}async updateUserRole(t){var r;try{const n={userId:t.userId,role:t.role,updatedBy:t.updatedBy},s=mu(n,{userId:[wt.required("User ID")],role:[wt.required("Role")],updatedBy:[wt.required("Updated By")]});if(!s.isValid)throw jr(Rt.VALIDATION_ERROR,((r=s.errors[0])==null?void 0:r.message)||"Validation failed");const{error:o}=await F.from("organization_users").update({role:t.role}).eq("user_id",t.userId);if(o)throw new Error(o.message)}catch(n){throw ke.error("Failed to update user role",{params:t,error:n}),en(n,"Failed to update user role")}}async deactivateUser(t,r){try{const{error:n}=await F.from("organization_users").update({status:"inactive"}).eq("user_id",t);if(n)throw new Error(n.message)}catch(n){throw ke.error("Failed to deactivate user",{userId:t,deactivatedBy:r,error:n}),en(n,"Failed to deactivate user")}}async reactivateUser(t,r){try{const{error:n}=await F.from("organization_users").update({status:"active"}).eq("user_id",t);if(n)throw new Error(n.message)}catch(n){throw ke.error("Failed to reactivate user",{userId:t,reactivatedBy:r,error:n}),en(n,"Failed to reactivate user")}}async getUsersByOrganization(t){return(await this.getUsers({organizationId:t},0,1e3)).users}async hasPermission(t,r){try{const n=await this.getUserById(t);if(!n)return!1;switch(r){case"manage_users":return["super_admin","org_admin"].includes(n.role);case"view_users":return["super_admin","org_admin","member"].includes(n.role);default:return!1}}catch(n){return ke.error("Failed to check user permission",{userId:t,permission:r,error:n}),!1}}}function a$(){sc.register(oc.ANALYTICS_SERVICE,()=>new r$,!0),sc.register(oc.PERFORMANCE_SERVICE,()=>new n$,!0),sc.register(oc.NOTIFICATION_SERVICE,()=>new s$,!0),sc.register(oc.USER_SERVICE,()=>new o$,!0)}const Mg=()=>{Yt();const[e,t]=m.useState(!0),[r,n]=m.useState(0),s=()=>{typeof window<"u"&&(window.scrollY>r&&window.scrollY>100?t(!1):t(!0),n(window.scrollY))};return m.useEffect(()=>{if(typeof window<"u")return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[r]),a.jsx("header",{className:`fixed top-0 w-full bg-transparent backdrop-blur-lg border-b border-warm-gray-100/20 dark:border-dark-warm-200/20 z-50 transition-transform duration-300 ${e?"translate-y-0":"-translate-y-full"}`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-between items-center py-4",children:a.jsxs(ya,{to:"/",className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(sn,{className:"w-8 h-8 text-sunset-500","aria-label":"Pulsify pulse icon"}),a.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-sunset-500 rounded-full opacity-20 animate-ping"})]}),a.jsx("span",{className:"text-2xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:"Pulsify"})]})})})})},wa=({variant:e="light"})=>{const t=e==="dark";return a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:`absolute -top-40 -right-40 w-96 h-96 ${t?"bg-gradient-to-br from-sunset-500/20 via-coral-500/15 to-golden-400/10":"bg-gradient-to-br from-sunset-200/40 via-coral-200/30 to-golden-200/20"} rounded-full blur-3xl animate-blob`,style:{borderRadius:"60% 40% 30% 70% / 60% 30% 70% 40%",animationDelay:"0s"}}),a.jsx("div",{className:`absolute top-1/3 -left-32 w-80 h-80 ${t?"bg-gradient-to-tr from-golden-400/15 via-sunset-500/20 to-coral-500/10":"bg-gradient-to-tr from-golden-300/30 via-sunset-300/40 to-coral-300/20"} rounded-full blur-2xl animate-flow`,style:{borderRadius:"30% 60% 70% 40% / 50% 60% 30% 60%",animationDelay:"2s"}}),a.jsx("div",{className:`absolute bottom-20 right-1/4 w-64 h-64 ${t?"bg-gradient-to-bl from-coral-500/20 via-golden-400/15 to-sunset-500/10":"bg-gradient-to-bl from-coral-200/35 via-golden-200/25 to-sunset-200/15"} rounded-full blur-2xl animate-float`,style:{borderRadius:"70% 30% 60% 40% / 40% 50% 60% 50%",animationDelay:"4s"}}),a.jsx("div",{className:`absolute top-1/2 left-1/3 w-32 h-32 ${t?"bg-gradient-to-r from-sunset-400/25 to-golden-400/20":"bg-gradient-to-r from-sunset-200/50 to-golden-200/40"} rounded-full blur-xl animate-morph`,style:{animationDelay:"1s"}}),a.jsx("div",{className:`absolute bottom-1/3 left-2/3 w-24 h-24 ${t?"bg-gradient-to-l from-coral-400/20 to-sunset-400/15":"bg-gradient-to-l from-coral-200/45 to-sunset-200/35"} rounded-full blur-lg animate-fluid-move`,style:{animationDelay:"3s"}}),a.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-br from-transparent via-dark-warm-50/10 to-dark-warm-100/20":"bg-gradient-to-br from-transparent via-white/10 to-warm-gray-50/20"}`})]})},i$=()=>{const e=[{icon:a.jsx(Ea,{className:"w-4 h-4"}),value:"94%",label:"Satisfaction Rate",position:"top-20 right-20",delay:"0s"},{icon:a.jsx(Vr,{className:"w-4 h-4"}),value:"2,000+",label:"Happy Customers",position:"top-1/3 left-16",delay:"1s"},{icon:a.jsx(kb,{className:"w-4 h-4"}),value:"15M+",label:"Feedback Collected",position:"bottom-1/3 right-16",delay:"2s"},{icon:a.jsx(ss,{className:"w-4 h-4"}),value:"40%",label:"Growth Increase",position:"bottom-32 left-1/4",delay:"3s"}];return a.jsx("div",{className:"absolute inset-0 pointer-events-none hidden lg:block",children:e.map((t,r)=>a.jsx("div",{className:`absolute ${t.position} bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm border border-warm-gray-200/50 dark:border-dark-warm-300/50 rounded-2xl p-4 shadow-lg shadow-warm-gray-900/5 dark:shadow-dark-warm-50/20 animate-float`,style:{animationDelay:t.delay},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-lg text-white",children:t.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:t.value}),a.jsx("div",{className:"text-xs text-warm-gray-600 dark:text-dark-warm-600",children:t.label})]})]})},r))})},l$=()=>{const e=Yt();return a.jsxs("section",{className:"relative min-h-screen bg-white dark:bg-dark-warm-50 overflow-hidden flex flex-col",children:[a.jsx(wa,{}),a.jsx(wa,{variant:"dark"}),a.jsx(i$,{}),a.jsx("div",{className:"relative w-full flex-grow flex items-center max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 sm:pt-32",children:a.jsxs("div",{className:"text-center space-y-12 animate-fade-in w-full",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600",children:[a.jsxs("div",{className:"flex -space-x-1",children:[a.jsx("div",{className:"w-6 h-6 bg-sunset-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle"}),a.jsx("div",{className:"w-6 h-6 bg-golden-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"w-6 h-6 bg-coral-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle",style:{animationDelay:"1s"}})]}),a.jsx("span",{className:"text-sm font-medium",children:"Trusted by 2,000+ businesses worldwide"})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(sn,{className:"w-12 h-12 text-sunset-500 animate-pulse-gentle"}),a.jsx("div",{className:"absolute inset-0 w-12 h-12 bg-sunset-500 rounded-full opacity-20 animate-ping"})]}),a.jsx("h1",{className:"text-6xl lg:text-8xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 tracking-tight",children:"Pulsify"})]}),a.jsx("div",{className:"relative",children:a.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-bold text-warm-gray-800 dark:text-dark-warm-800 leading-tight max-w-5xl mx-auto",children:["Turn feedback into"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"revenue"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full animate-scale-in"})]}),".",a.jsx("span",{className:"block text-2xl lg:text-4xl mt-4 font-medium text-warm-gray-600 dark:text-dark-warm-600",children:"Get insights 10x faster. Reduce churn by 30%."})]})})]}),a.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed max-w-4xl mx-auto font-medium",children:"Our AI-powered platform unifies and analyzes customer feedback, delivering actionable insights to help you build better products and prevent customer churn."}),a.jsx("div",{className:"flex justify-center pt-8",children:a.jsx(te,{onClick:()=>e("/auth"),className:"bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white font-semibold shadow-lg shadow-sunset-500/25 px-10 py-4 rounded-full text-xl h-auto transition-all duration-300 hover:scale-105",children:a.jsxs("span",{className:"flex items-center justify-center space-x-3",children:[a.jsx("span",{children:"Start Free Trial"}),a.jsx(yp,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})})})]})}),a.jsx("div",{className:"relative w-full flex justify-center pb-8 px-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-8 text-sm text-warm-gray-500 dark:text-dark-warm-500",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"font-medium",children:"No credit card required"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),a.jsx("span",{className:"font-medium",children:"14-day free trial"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",style:{animationDelay:"1s"}}),a.jsx("span",{className:"font-medium",children:"Setup in under 5 minutes"})]})]})})]})},c$=()=>{const e=[{icon:a.jsx(zi,{className:"h-6 w-6"}),title:"Small Businesses",description:"Restaurant owners, retail stores, and service providers looking to understand customer satisfaction"},{icon:a.jsx(Vr,{className:"h-6 w-6"}),title:"Growing Companies",description:"Mid-size businesses scaling operations and needing structured feedback management"},{icon:a.jsx(Ea,{className:"h-6 w-6"}),title:"Enterprise Teams",description:"Large organizations requiring advanced analytics and team collaboration features"}],t=[{step:"01",title:"Collect",description:"Deploy feedback forms across touchpoints or send SMS surveys to gather customer insights",icon:a.jsx(jh,{className:"h-8 w-8"})},{step:"02",title:"Analyze",description:"AI automatically categorizes and analyzes sentiment in real-time with machine learning",icon:a.jsx(ss,{className:"h-8 w-8"})},{step:"03",title:"Act",description:"Get actionable insights and track improvements with intelligent recommendations",icon:a.jsx(_p,{className:"h-8 w-8"})}];return a.jsxs("section",{className:"relative py-24 bg-warm-gray-50 dark:bg-dark-warm-50 overflow-hidden",children:[a.jsx(wa,{}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx(Vr,{className:"w-5 h-5 text-sunset-500"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Who It's For"})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Built for"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"every business"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-3xl mx-auto leading-relaxed font-medium mb-12",children:"Whether you're starting out or scaling up, Pulsify helps you understand and improve customer satisfaction"}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((r,n)=>a.jsxs("div",{className:"group relative bg-white/95 dark:bg-dark-warm-100/95 rounded-2xl p-8 border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sunset-500/5 via-coral-500/5 to-golden-400/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-xl flex items-center justify-center text-white mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:r.icon}),a.jsx("h3",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-3",children:r.title}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed text-sm",children:r.description})]})]},n))})]}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx("div",{className:"w-2 h-2 bg-sunset-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"How It Works"}),a.jsx("div",{className:"w-2 h-2 bg-coral-500 rounded-full animate-pulse",style:{animationDelay:"1s"}})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Simple."," ",a.jsx("span",{className:"relative",children:a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"Powerful."})})," ","Effective."]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-3xl mx-auto leading-relaxed font-medium",children:"Three simple steps to transform feedback into growth"})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-12",children:t.map((r,n)=>a.jsxs("div",{className:"text-center group relative",children:[n<2&&a.jsx("div",{className:"hidden md:block absolute top-16 left-3/4 w-1/2 h-0.5 bg-gradient-to-r from-sunset-300 to-coral-300 dark:from-sunset-600 dark:to-coral-600 opacity-30"}),a.jsxs("div",{className:"relative mb-8 group-hover:scale-110 transition-transform duration-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-400 rounded-2xl flex items-center justify-center text-white mx-auto shadow-xl group-hover:shadow-2xl transition-shadow duration-300",children:r.icon}),a.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-400 rounded-2xl mx-auto opacity-20 animate-pulse"})]}),a.jsx("div",{className:"absolute -top-3 -right-3 w-12 h-12 bg-white dark:bg-dark-warm-100 rounded-full border-4 border-sunset-500 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:a.jsx("span",{className:"text-lg font-space font-black text-sunset-600",children:r.step})})]}),a.jsx("h3",{className:"text-xl lg:text-2xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-4",children:r.title}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium",children:r.description})]},n))})]})]})},u$=()=>a.jsxs("section",{className:"relative py-24 bg-white dark:bg-background overflow-hidden",children:[a.jsx(wa,{variant:"dark"}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid lg:grid-cols-12 gap-16 items-center",children:[a.jsxs("div",{className:"lg:col-span-5 text-center lg:text-left",children:[a.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx(ss,{className:"w-5 h-5 text-sunset-500"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Platform Overview"})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Your"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"complete"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})," ","customer feedback platform"]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium mb-8",children:"Pulsify is an AI-powered feedback management system that helps businesses collect, analyze, and act on customer insights to drive growth and improve satisfaction"}),a.jsx("div",{className:"space-y-4",children:["Real-time sentiment analysis","Multi-channel feedback collection","Automated insights & recommendations"].map((e,t)=>a.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-sunset-500 rounded-full"}),a.jsx("span",{className:"text-warm-gray-700 dark:text-dark-warm-700 font-medium",children:e})]},t))})]}),a.jsx("div",{className:"lg:col-span-7",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"bg-white/95 dark:bg-dark-warm-100/95 rounded-3xl shadow-xl border border-warm-gray-200 dark:border-dark-warm-200 p-8 transition-all duration-500 hover:shadow-2xl hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 mt-1",children:"Real-time insights"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),a.jsx("div",{className:"w-3 h-3 bg-sunset-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"w-3 h-3 bg-coral-500 rounded-full animate-pulse",style:{animationDelay:"1s"}})]})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{icon:a.jsx(Vr,{className:"w-5 h-5"}),value:"2.8k+",label:"Responses",color:"from-sunset-500 to-coral-500"},{icon:a.jsx(kb,{className:"w-5 h-5"}),value:"94%",label:"Satisfaction",color:"from-coral-500 to-golden-400"},{icon:a.jsx(Ea,{className:"w-5 h-5"}),value:"+23%",label:"Growth",color:"from-golden-400 to-sunset-500"},{icon:a.jsx(ss,{className:"w-5 h-5"}),value:"4.8",label:"Avg Rating",color:"from-sunset-500 to-coral-500"}].map((e,t)=>a.jsxs("div",{className:"bg-white/90 dark:bg-dark-warm-200/90 rounded-xl p-4 border border-warm-gray-200/50 dark:border-dark-warm-300/50 hover:-translate-y-1 transition-transform duration-300",children:[a.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${e.color} rounded-lg flex items-center justify-center text-white mb-2`,children:e.icon}),a.jsx("div",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:e.value}),a.jsx("div",{className:"text-xs text-warm-gray-600 dark:text-dark-warm-600",children:e.label})]},t))}),a.jsx("div",{className:"bg-warm-gray-50 dark:bg-dark-warm-200 rounded-xl p-6 min-h-32 flex items-center justify-center border border-warm-gray-200 dark:border-dark-warm-300",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-xl flex items-center justify-center text-white mx-auto mb-3",children:a.jsx(ss,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-lg font-space font-bold text-warm-gray-700 dark:text-dark-warm-700",children:"Interactive Analytics"})]})})]}),a.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 bg-gradient-to-br from-sunset-400 to-coral-400 rounded-xl opacity-20 animate-float"}),a.jsx("div",{className:"absolute -bottom-4 -right-4 w-16 h-16 bg-gradient-to-br from-golden-400 to-sunset-400 rounded-2xl opacity-20 animate-float",style:{animationDelay:"2s"}})]})})]})})]}),d$=()=>{const e=[{problem:"Lost customers due to poor experiences",solution:"Get real-time alerts when issues arise",icon:a.jsx(Vr,{className:"h-6 w-6"}),gradient:"from-sunset-500 to-coral-500"},{problem:"Making decisions without customer insights",solution:"AI-powered analytics reveal hidden patterns",icon:a.jsx(ss,{className:"h-6 w-6"}),gradient:"from-coral-500 to-golden-400"},{problem:"Scattered feedback across multiple channels",solution:"Unified platform for all customer touchpoints",icon:a.jsx(jh,{className:"h-6 w-6"}),gradient:"from-golden-400 to-sunset-500"}],t=[{icon:a.jsx(jh,{className:"h-6 w-6"}),title:"Multi-Channel Collection",description:"Forms, SMS, QR codes - collect feedback everywhere customers are",gradient:"from-sunset-500 to-coral-500",benefits:["Email & SMS surveys","Web forms & QR codes","Social media integration"]},{icon:a.jsx(ss,{className:"h-6 w-6"}),title:"AI-Powered Analysis",description:"Automatic sentiment analysis and categorization for instant insights",gradient:"from-coral-500 to-golden-400",benefits:["Real-time sentiment analysis","Automated categorization","Trend identification"]},{icon:a.jsx(_h,{className:"h-6 w-6"}),title:"Real-Time Alerts",description:"Get notified immediately when feedback requires urgent attention",gradient:"from-golden-400 to-sunset-500",benefits:["Instant notifications","Priority flagging","Custom alert rules"]},{icon:a.jsx(ka,{className:"h-6 w-6"}),title:"Enterprise Security",description:"Bank-grade security with SOC 2 compliance and data protection",gradient:"from-sunset-500 to-coral-500",benefits:["SOC 2 compliance","End-to-end encryption","GDPR compliant"]}];return a.jsxs("section",{className:"relative py-24 bg-white dark:bg-background overflow-hidden",children:[a.jsx(wa,{}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[a.jsx(Ea,{className:"w-5 h-5 text-sunset-500"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Why It Matters"})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Stop losing"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"customers"}),a.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})," ","to poor experiences"]}),a.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-4xl mx-auto leading-relaxed font-medium mb-12",children:"Without proper feedback management, businesses miss critical insights that could prevent customer churn and drive growth"}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:e.map((r,n)=>a.jsxs("div",{className:"group relative bg-white/95 dark:bg-dark-warm-100/95 rounded-2xl p-6 border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 via-orange-500/5 to-yellow-500/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-xl flex items-center justify-center text-white mx-auto mb-4 group-hover:scale-110 transition-transform duration-300`,children:r.icon}),a.jsxs("div",{className:"text-sm font-semibold text-red-600 dark:text-red-400 mb-2",children:["Problem: ",r.problem]}),a.jsxs("div",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["Solution: ",r.solution]})]})]},n))})]}),a.jsx("div",{className:"text-center mb-16",children:a.jsx("h3",{className:"text-2xl lg:text-4xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-12",children:"Powerful features that make the difference"})}),a.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:t.map((r,n)=>a.jsxs(ue,{className:"group relative border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg bg-white/95 dark:bg-dark-warm-100/95 hover:shadow-xl transition-all duration-300 rounded-2xl overflow-hidden hover:-translate-y-1",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sunset-500/5 via-coral-500/5 to-golden-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx(Me,{className:"pb-4 relative",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-xl flex items-center justify-center text-white flex-shrink-0 group-hover:scale-110 transition-transform duration-300`,children:r.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx(De,{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 leading-tight mb-2",children:r.title}),a.jsx(Js,{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium",children:r.description})]})]})}),a.jsx(de,{className:"pt-0 relative",children:a.jsx("div",{className:"space-y-2",children:r.benefits.map((s,o)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ur,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-warm-gray-600 dark:text-dark-warm-600 font-medium",children:s})]},o))})})]},n))})]})]})},f$=()=>{const e=Yt(),[t,r]=m.useState(!1),n=[{icon:a.jsx(pa,{className:"w-8 h-8"}),title:"Customer complaints increasing?",description:"Don't wait until it's too late - start monitoring satisfaction now"},{icon:a.jsx(cs,{className:"w-8 h-8"}),title:"Competing on customer experience?",description:"Get ahead of competitors with better customer insights"},{icon:a.jsx(_h,{className:"w-8 h-8"}),title:"Growing fast and losing touch?",description:"Scale your business without losing the personal connection"}],s=[{name:"Starter",monthlyPrice:7,yearlyPrice:70,period:t?"/year":"/month",description:"Perfect for small teams getting started with feedback.",features:["Up to 5 team members","1,000 responses/month","Standard Analytics","Email Support"],popular:!1,cta:"Start Free Trial",gradient:"from-warm-gray-100 to-warm-gray-50"},{name:"Growth",monthlyPrice:27,yearlyPrice:270,period:t?"/year":"/month",description:"For growing businesses who need to scale their feedback operations.",features:["Up to 15 team members","5,000 responses/month","AI-Powered Insights","Priority Support","Custom Branding"],popular:!0,cta:"Start Free Trial",gradient:"from-sunset-50 to-coral-50"},{name:"Pro",monthlyPrice:97,yearlyPrice:970,period:t?"/year":"/month",description:"For established businesses that require advanced control and integrations.",features:["Up to 30 team members","20,000 responses/month","API Access","Advanced Integrations","Team Collaboration Tools"],popular:!1,cta:"Start Free Trial",gradient:"from-golden-50 to-sunset-50"},{name:"Enterprise",monthlyPrice:247,yearlyPrice:2470,period:t?"/year":"/month",description:"Tailored solutions for large organizations with complex needs.",features:["Unlimited team members","Custom response limits","Dedicated Success Manager","SLA & Advanced Security","On-premise deployment"],popular:!1,cta:"Start Free Trial",gradient:"from-warm-gray-100 to-warm-gray-50"}],o=i=>t?i.yearlyPrice:i.monthlyPrice;return a.jsxs("section",{id:"pricing",className:"relative py-32 bg-gradient-to-br from-warm-gray-50 via-white to-sunset-50/30 dark:from-dark-warm-50 dark:via-dark-warm-100 dark:to-dark-warm-50 overflow-hidden",children:[a.jsx(wa,{}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-24 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-8",children:[a.jsx(pa,{className:"w-6 h-6 text-sunset-500"}),a.jsx("span",{className:"text-lg font-space font-medium",children:"When You Need It"})]}),a.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-8 leading-tight",children:["The"," ",a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"right time"}),a.jsx("div",{className:"absolute -bottom-3 left-0 right-0 h-2 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full animate-scale-in"})]})," ","is now"]}),a.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium max-w-4xl mx-auto mb-16",children:"Don't wait until customer satisfaction becomes a crisis. Start building better relationships today."}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:n.map((i,l)=>a.jsxs("div",{className:"bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm rounded-3xl p-8 border border-warm-gray-200/50 dark:border-dark-warm-300/50 group hover:scale-105 transition-all duration-300",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl flex items-center justify-center text-white mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:i.icon}),a.jsx("h3",{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-4",children:i.title}),a.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed",children:i.description})]},l))})]}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-8",children:[a.jsx(_h,{className:"w-6 h-6 text-sunset-500"}),a.jsx("span",{className:"text-lg font-space font-medium",children:"Where To Get Started"})]}),a.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-8 leading-tight",children:["Choose your"," ",a.jsx("span",{className:"relative",children:a.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"growth path"})})]}),a.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium max-w-4xl mx-auto mb-12",children:"Start free, scale as you grow. Upgrade or downgrade anytime."}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-16",children:[a.jsx("span",{className:`text-lg font-medium ${t?"text-warm-gray-600 dark:text-dark-warm-600":"text-sunset-600 dark:text-sunset-400"}`,children:"Monthly"}),a.jsx("button",{onClick:()=>r(!t),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-sunset-500 focus:ring-offset-2 ${t?"bg-sunset-500":"bg-warm-gray-300 dark:bg-dark-warm-400"}`,children:a.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${t?"translate-x-7":"translate-x-1"}`})}),a.jsxs("span",{className:`text-lg font-medium ${t?"text-sunset-600 dark:text-sunset-400":"text-warm-gray-600 dark:text-dark-warm-600"}`,children:["Yearly",a.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 text-sm rounded-full",children:"Save 20%"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8 max-w-7xl mx-auto mb-16 items-stretch",children:s.map((i,l)=>a.jsxs(ue,{className:`flex flex-col border-0 shadow-lg relative transition-all duration-300 rounded-3xl group ${i.popular?"bg-white dark:bg-dark-warm-100 shadow-2xl shadow-sunset-500/20 ring-2 ring-sunset-500 z-10":"bg-white/60 dark:bg-dark-warm-100/60 backdrop-blur-md border border-warm-gray-200/50 dark:border-dark-warm-300/50 hover:bg-white dark:hover:bg-dark-warm-100 hover:shadow-xl hover:scale-[1.02]"}`,children:[i.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-20",children:a.jsx(Wr,{className:"bg-gradient-to-r from-sunset-500 to-coral-500 text-white px-6 py-2 text-base font-space font-bold shadow-lg rounded-full",children:"Most Popular"})}),a.jsxs(Me,{className:"text-center pb-8 pt-12",children:[a.jsx(De,{className:"text-3xl font-space font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-2",children:i.name}),a.jsxs("div",{className:"mt-6 mb-4",children:[a.jsxs("span",{className:"text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900",children:["$",o(i)]}),i.period&&a.jsx("span",{className:"text-warm-gray-500 dark:text-dark-warm-500 text-lg font-medium",children:i.period})]}),a.jsx(Js,{className:"text-warm-gray-600 dark:text-dark-warm-600 text-base leading-relaxed px-4",children:i.description})]}),a.jsxs(de,{className:"flex flex-col flex-grow px-8 pb-8",children:[a.jsx("ul",{className:"space-y-4 flex-grow",children:i.features.map((c,u)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(ur,{className:"h-6 w-6 text-green-500 mr-3 mt-1 flex-shrink-0"}),a.jsx("span",{className:"text-warm-gray-700 dark:text-dark-warm-600 font-medium text-base",children:c})]},u))}),a.jsx(te,{className:"w-full mt-10",variant:i.popular?"default":"outline",size:"lg",onClick:()=>e("/auth"),children:a.jsxs("span",{className:"flex items-center justify-center",children:[i.cta,a.jsx(yp,{className:"ml-3 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]})]},l))}),a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm rounded-2xl p-8 max-w-2xl mx-auto border border-warm-gray-200/50 dark:border-dark-warm-300/50 shadow-lg",children:a.jsxs("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 font-medium text-lg",children:["All plans include a ",a.jsx("span",{className:"text-sunset-600 dark:text-sunset-400 font-semibold",children:"14-day free trial"}),a.jsx("br",{}),"No setup fees • Cancel anytime • Full feature access"]})})})]})]})},h$=()=>a.jsxs("section",{className:"relative py-32 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-500 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 left-20 w-40 h-40 bg-white/10 rounded-full animate-float blur-xl"}),a.jsx("div",{className:"absolute bottom-20 right-20 w-32 h-32 bg-white/10 rounded-full animate-pulse-gentle blur-lg"}),a.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-white/5 rounded-full animate-morph blur-lg"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-36 h-36 bg-white/5 rounded-full animate-blob blur-xl"}),a.jsx("div",{className:"absolute top-40 right-40 w-64 h-64 bg-white/5 rounded-full blur-3xl animate-flow",style:{borderRadius:"60% 40% 30% 70% / 60% 30% 70% 40%"}}),a.jsx("div",{className:"absolute bottom-40 left-40 w-48 h-48 bg-white/5 rounded-full blur-2xl animate-float",style:{borderRadius:"30% 60% 70% 40% / 50% 60% 30% 60%"}})]}),a.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx(sn,{className:"w-8 h-8 text-white animate-pulse-gentle","aria-label":"Pulsify pulse icon"}),a.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-white rounded-full opacity-20 animate-ping"})]}),a.jsx("span",{className:"text-white/90 text-lg font-space font-medium",children:"Join 2,000+ happy customers"})]}),a.jsxs("h2",{className:"text-5xl lg:text-7xl font-space font-black text-white mb-10 leading-tight","aria-label":"Ready to transform your customer feedback?",children:["Ready to"," ",a.jsxs("span",{className:"relative",children:["transform",a.jsx("div",{className:"absolute -bottom-4 left-0 right-0 h-2 bg-white rounded-full animate-scale-in"})]}),a.jsx("br",{}),"your customer feedback?"]}),a.jsxs("p",{className:"text-2xl lg:text-3xl text-white/95 leading-relaxed max-w-4xl mx-auto font-medium",children:["Join thousands of businesses using Pulsify to make"," ",a.jsx("span",{className:"font-bold",children:"better decisions"})]})]})]}),m$=()=>{const[e,t]=m.useState(!1);m.useEffect(()=>{const n=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches;(n==="dark"||!n&&s)&&(t(!0),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=!e;t(n),n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return a.jsx(te,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full",children:e?a.jsx(_2,{className:"h-5 w-5 text-golden-400"}):a.jsx(y2,{className:"h-5 w-5 text-warm-gray-600"})})},by=({href:e,children:t,isRouterLink:r=!1})=>r?a.jsx(ya,{to:e,className:"text-warm-gray-400 hover:text-white transition-colors duration-300 text-base",children:t}):a.jsx("a",{href:e,className:"text-warm-gray-400 hover:text-white transition-colors duration-300 text-base",children:t}),Dg=()=>a.jsx("footer",{className:"bg-warm-gray-900 dark:bg-dark-warm-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(sn,{className:"w-8 h-8 text-sunset-500","aria-label":"Pulsify pulse icon"}),a.jsx("span",{className:"text-2xl font-space font-bold text-white",children:"Pulsify"})]}),a.jsx("p",{className:"text-base text-warm-gray-400 max-w-xs",children:"Real Insights. Real Impact."}),a.jsxs("div",{className:"text-base text-warm-gray-400 mt-4 space-y-1",children:[a.jsx("p",{children:"info@pulsify.bunisystems.com"}),a.jsx("p",{children:"+254207862379"}),a.jsx("p",{children:"Nairobi, Kenya"})]})]})}),a.jsxs("div",{className:"mt-12 border-t border-warm-gray-700 pt-8 flex flex-col-reverse sm:flex-row sm:justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-x-6 gap-y-4",children:[a.jsxs("p",{className:"text-base text-warm-gray-500",children:["© ",new Date().getFullYear()," Pulsify. All rights reserved."]}),a.jsxs("div",{className:"flex items-center gap-x-6",children:[a.jsx(by,{href:"/privacy-policy",isRouterLink:!0,children:"Privacy Policy"}),a.jsx(by,{href:"/terms-of-service",isRouterLink:!0,children:"Terms of Service"})]})]}),a.jsx(m$,{})]})]})}),p$=[{icon:a.jsx(j2,{className:"h-10 w-10 text-sunset-500"}),name:"SOC 2 Compliant",description:"Enterprise-grade security standards."},{icon:a.jsx(jp,{className:"h-10 w-10 text-coral-500"}),name:"GDPR & CCPA Ready",description:"Your data privacy is our priority."},{icon:a.jsx(f2,{className:"h-10 w-10 text-golden-500"}),name:"99.9% Uptime SLA",description:"Reliable service you can count on."}],g$=()=>a.jsx("section",{className:"py-24 bg-warm-gray-50 dark:bg-dark-warm-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-base font-semibold text-sunset-600 dark:text-sunset-400 tracking-wider uppercase",children:"Trusted & Secure"}),a.jsx("p",{className:"mt-2 text-3xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 tracking-tight sm:text-4xl",children:"Your peace of mind is our top priority"}),a.jsx("p",{className:"mt-5 max-w-prose mx-auto text-xl text-warm-gray-500 dark:text-dark-warm-500",children:"We employ best-in-class security practices to keep your data safe, secure, and private."})]}),a.jsx("div",{className:"mt-12",children:a.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:p$.map(e=>a.jsx("div",{className:"pt-6",children:a.jsx("div",{className:"flow-root bg-white dark:bg-dark-warm-200 rounded-lg px-6 pb-8 shadow-lg",children:a.jsxs("div",{className:"-mt-6",children:[a.jsx("div",{children:a.jsx("span",{className:"inline-flex items-center justify-center p-3 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-md shadow-lg",children:A.cloneElement(e.icon,{className:"h-8 w-8 text-white"})})}),a.jsx("h3",{className:"mt-8 text-lg font-medium text-warm-gray-900 dark:text-dark-warm-900 tracking-tight",children:e.name}),a.jsx("p",{className:"mt-5 text-base text-warm-gray-500 dark:text-dark-warm-500",children:e.description})]})})},e.name))})})]})});var Lg="Collapsible",[v$,_N]=St(Lg),[y$,$g]=v$(Lg),SN=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c=!1,u]=Kt({prop:n,defaultProp:s,onChange:i});return a.jsx(y$,{scope:r,disabled:o,contentId:or(),open:c,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),children:a.jsx(K.div,{"data-state":zg(c),"data-disabled":o?"":void 0,...l,ref:t})})});SN.displayName=Lg;var NN="CollapsibleTrigger",kN=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=$g(NN,r);return a.jsx(K.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":zg(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:L(e.onClick,s.onOpenToggle)})});kN.displayName=NN;var Fg="CollapsibleContent",EN=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=$g(Fg,e.__scopeCollapsible);return a.jsx(Dt,{present:r||s.open,children:({present:o})=>a.jsx(x$,{...n,ref:t,present:o})})});EN.displayName=Fg;var x$=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=e,i=$g(Fg,r),[l,c]=m.useState(n),u=m.useRef(null),f=ne(t,u),d=m.useRef(0),h=d.current,p=m.useRef(0),x=p.current,g=i.open||l,w=m.useRef(g),y=m.useRef();return m.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),Je(()=>{const v=u.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const b=v.getBoundingClientRect();d.current=b.height,p.current=b.width,w.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),c(n)}},[i.open,n]),a.jsx(K.div,{"data-state":zg(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...o,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&s})});function zg(e){return e?"open":"closed"}var w$=SN,b$=kN,j$=EN,_n="Accordion",_$=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ug,S$,N$]=Sa(_n),[yd,hz]=St(_n,[N$,_N]),Bg=_N(),CN=A.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,o=n;return a.jsx(Ug.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(R$,{...o,ref:t}):a.jsx(C$,{...s,ref:t})})});CN.displayName=_n;var[RN,k$]=yd(_n),[PN,E$]=yd(_n,{collapsible:!1}),C$=A.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[l,c]=Kt({prop:r,defaultProp:n,onChange:s});return a.jsx(RN,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:A.useCallback(()=>o&&c(""),[o,c]),children:a.jsx(PN,{scope:e.__scopeAccordion,collapsible:o,children:a.jsx(TN,{...i,ref:t})})})}),R$=A.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=e,[i=[],l]=Kt({prop:r,defaultProp:n,onChange:s}),c=A.useCallback(f=>l((d=[])=>[...d,f]),[l]),u=A.useCallback(f=>l((d=[])=>d.filter(h=>h!==f)),[l]);return a.jsx(RN,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:a.jsx(PN,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(TN,{...o,ref:t})})})}),[P$,xd]=yd(_n),TN=A.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:o="vertical",...i}=e,l=A.useRef(null),c=ne(l,t),u=S$(r),d=so(s)==="ltr",h=L(e.onKeyDown,p=>{var E;if(!_$.includes(p.key))return;const x=p.target,g=u().filter(P=>{var T;return!((T=P.ref.current)!=null&&T.disabled)}),w=g.findIndex(P=>P.ref.current===x),y=g.length;if(w===-1)return;p.preventDefault();let v=w;const b=0,j=y-1,_=()=>{v=w+1,v>j&&(v=b)},k=()=>{v=w-1,v<b&&(v=j)};switch(p.key){case"Home":v=b;break;case"End":v=j;break;case"ArrowRight":o==="horizontal"&&(d?_():k());break;case"ArrowDown":o==="vertical"&&_();break;case"ArrowLeft":o==="horizontal"&&(d?k():_());break;case"ArrowUp":o==="vertical"&&k();break}const N=v%y;(E=g[N].ref.current)==null||E.focus()});return a.jsx(P$,{scope:r,disabled:n,direction:s,orientation:o,children:a.jsx(Ug.Slot,{scope:r,children:a.jsx(K.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:h})})})}),pu="AccordionItem",[T$,Vg]=yd(pu),AN=A.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,o=xd(pu,r),i=k$(pu,r),l=Bg(r),c=or(),u=n&&i.value.includes(n)||!1,f=o.disabled||e.disabled;return a.jsx(T$,{scope:r,open:u,disabled:f,triggerId:c,children:a.jsx(w$,{"data-orientation":o.orientation,"data-state":$N(u),...l,...s,ref:t,disabled:f,open:u,onOpenChange:d=>{d?i.onItemOpen(n):i.onItemClose(n)}})})});AN.displayName=pu;var IN="AccordionHeader",ON=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=xd(_n,r),o=Vg(IN,r);return a.jsx(K.h3,{"data-orientation":s.orientation,"data-state":$N(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});ON.displayName=IN;var pm="AccordionTrigger",MN=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=xd(_n,r),o=Vg(pm,r),i=E$(pm,r),l=Bg(r);return a.jsx(Ug.ItemSlot,{scope:r,children:a.jsx(b$,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...n,ref:t})})});MN.displayName=pm;var DN="AccordionContent",LN=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=xd(_n,r),o=Vg(DN,r),i=Bg(r);return a.jsx(j$,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});LN.displayName=DN;function $N(e){return e?"open":"closed"}var A$=CN,I$=AN,O$=ON,FN=MN,zN=LN;const M$=A$,UN=m.forwardRef(({className:e,...t},r)=>a.jsx(I$,{ref:r,className:U("border-b",e),...t}));UN.displayName="AccordionItem";const BN=m.forwardRef(({className:e,children:t,...r},n)=>a.jsx(O$,{className:"flex",children:a.jsxs(FN,{ref:n,className:U("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Du,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));BN.displayName=FN.displayName;const VN=m.forwardRef(({className:e,children:t,...r},n)=>a.jsx(zN,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:U("pb-4 pt-0",e),children:t})}));VN.displayName=zN.displayName;const D$=[{question:"What is Pulsify?",answer:"Pulsify is an AI-powered customer feedback platform that helps businesses collect, analyze, and act on customer insights to drive growth. We unify feedback from various channels and provide actionable analytics."},{question:"Is there a free trial?",answer:"Yes, we offer a 14-day free trial on our Professional plan. No credit card is required to get started. You can explore all the features and see how Pulsify can benefit your business."},{question:"What kind of support do you offer?",answer:"We offer email support on the Starter plan and priority email and chat support on the Professional plan. Enterprise customers receive a dedicated success manager and custom support SLAs."},{question:"Can I integrate Pulsify with other tools?",answer:"Our Professional and Enterprise plans also include API access for custom integrations."},{question:"How is my data secured?",answer:"We take data security very seriously. Our platform is SOC 2 compliant, and all data is encrypted end-to-end. We follow industry best practices to ensure your data is safe and private."},{question:"Can I customize the feedback forms?",answer:"Yes! You can customize the look and feel of your feedback forms to match your brand, including colors, logos, and custom domains (on supported plans)."}],L$=()=>a.jsx("section",{id:"faq",className:"py-24 bg-white dark:bg-background",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 sm:text-4xl",children:"Frequently Asked Questions"}),a.jsx("p",{className:"mt-4 text-lg text-warm-gray-600 dark:text-dark-warm-600",children:"Have questions? We have answers. If you can't find what you're looking for, feel free to contact us."})]}),a.jsx("div",{className:"mt-12",children:a.jsx(M$,{type:"single",collapsible:!0,className:"w-full",children:D$.map((e,t)=>a.jsxs(UN,{value:`item-${t}`,className:"border-b border-warm-gray-200 dark:border-dark-warm-200",children:[a.jsx(BN,{className:"text-left text-lg font-medium text-warm-gray-900 dark:text-dark-warm-900 hover:no-underline py-6",children:e.question}),a.jsx(VN,{className:"text-base text-warm-gray-600 dark:text-dark-warm-600 pb-6",children:e.answer})]},t))})})]})}),$$=()=>a.jsxs("div",{className:"min-h-screen bg-white dark:bg-background transition-colors duration-300",children:[a.jsx(Mg,{}),a.jsx(l$,{}),a.jsx(u$,{}),a.jsx(g$,{}),a.jsx(c$,{}),a.jsx(d$,{}),a.jsx(f$,{}),a.jsx(L$,{}),a.jsx(h$,{}),a.jsx(Dg,{})]}),F$=()=>a.jsx($$,{}),Ba=()=>{var o;const{organization:e}=fl(),[t,r]=m.useState({assets:[],theme:null,logoAsset:null}),[n,s]=m.useState(!0);return m.useEffect(()=>{(async()=>{if(!e){s(!1);return}try{s(!0);const[l,c]=await Promise.all([K3(e.id),G3(e.id)]),u=l.find(f=>f.asset_type==="logo")||null;r({assets:l,theme:c,logoAsset:u})}catch(l){console.error("Error loading organization config:",l)}finally{s(!1)}})()},[e]),{...t,isLoading:n,organization:e,colors:((o=t.theme)==null?void 0:o.colors)||{primary:(e==null?void 0:e.primary_color)||"#073763",secondary:(e==null?void 0:e.secondary_color)||"#007ACE",accent:"#f97316"},flowConfig:(e==null?void 0:e.flow_configuration)||{},headerTitle:(e==null?void 0:e.feedback_header_title)||"Share Your Experience",headerSubtitle:(e==null?void 0:e.feedback_header_subtitle)||"Help us serve you better with your valuable feedback",welcomeTitle:(e==null?void 0:e.welcome_screen_title)||"Share Your Experience",welcomeDescription:(e==null?void 0:e.welcome_screen_description)||"Help us serve you better with your valuable feedback. Your input helps us improve our services and better serve our community.",thankYouTitle:(e==null?void 0:e.thank_you_title)||"Thank You for Your Feedback!",thankYouMessage:(e==null?void 0:e.thank_you_message)||"Your valuable feedback has been received and will help us improve our services."}},qN=({title:e,subtitle:t,showSecureIndicator:r=!1})=>{const{colors:n,logoAsset:s,organization:o}=Ba(),i={background:`linear-gradient(to right, ${n.primary}, ${n.accent})`},l=(o==null?void 0:o.name)||"Pulsify";return a.jsxs("div",{className:"p-8 text-white text-center",style:i,children:[(s==null?void 0:s.asset_url)&&a.jsx("img",{src:s.asset_url,alt:s.asset_name||`${l} Logo`,className:"h-20 mx-auto mb-6 drop-shadow-lg object-contain",onError:c=>{c.target.src="/lovable-uploads/pulse-favicon-64.png",c.target.alt="Pulsify Logo"}}),a.jsx("h1",{className:"text-4xl font-bold mb-3",children:e==="Pulselify"?"Pulsify":e}),a.jsx("p",{className:"text-xl text-blue-100",children:t==="Turn Customer Feedback Into Growth"?"Real Insights. Real Impact.":t}),r&&a.jsx("div",{className:"flex items-center justify-center mt-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-green-300",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Secure & Confidential"})]})})]})},wd=()=>{const{organization:e,logoAsset:t,colors:r,isLoading:n}=Ba(),[s,o]=m.useState(!1),i={primary:"#073763",secondary:"#007ACE",accent:"#f97316",background:"#f8fafc",surface:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280"},l={primary:r.primary||i.primary,secondary:r.secondary||i.secondary,accent:r.accent||i.accent,background:r.background||i.background,surface:r.surface||i.surface,textPrimary:r.text_primary||i.textPrimary,textSecondary:r.text_secondary||i.textSecondary},u={logoUrl:(t==null?void 0:t.asset_url)||(e==null?void 0:e.logo_url)||"/lovable-uploads/367347fe-02da-4338-b8ba-91138293d303.png",logoAlt:`${(e==null?void 0:e.name)||"Organization"} Logo`},f=()=>{if(typeof document>"u"||s)return;const d=document.documentElement;d.style.setProperty("--brand-primary",l.primary),d.style.setProperty("--brand-secondary",l.secondary),d.style.setProperty("--brand-accent",l.accent),d.style.setProperty("--brand-background",l.background),d.style.setProperty("--brand-surface",l.surface),d.style.setProperty("--brand-text-primary",l.textPrimary),d.style.setProperty("--brand-text-secondary",l.textSecondary);const h=`linear-gradient(to right, ${l.primary}, ${l.accent})`,p=`linear-gradient(to right, ${l.primary}, ${l.secondary})`;d.style.setProperty("--brand-gradient-primary-accent",h),d.style.setProperty("--brand-gradient-primary-secondary",p),o(!0)};return m.useEffect(()=>{!n&&e&&f()},[l.primary,l.secondary,l.accent,n,e]),{colors:l,assets:u,isLoading:n,organizationName:(e==null?void 0:e.name)||"Organization",applyBrandingStyles:f}},gu=({children:e,onClick:t,size:r="lg",variant:n="primary",className:s,disabled:o=!1})=>{const{colors:i}=wd(),c=(()=>{switch(n){case"primary":return{background:`linear-gradient(to right, ${i.primary}, ${i.accent})`,"&:hover":{background:`linear-gradient(to right, ${i.primary}dd, ${i.accent}dd)`}};case"secondary":return{backgroundColor:i.secondary,"&:hover":{backgroundColor:`${i.secondary}dd`}};case"outline":return{borderColor:i.primary,color:i.primary,"&:hover":{backgroundColor:i.primary,color:"white"}};default:return{}}})();return a.jsx(te,{onClick:t,size:r,disabled:o,className:U("text-white font-semibold transform transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl",n==="primary"&&"text-white",n==="outline"&&"bg-transparent border-2",s),style:c,children:e})},z$=({onStart:e})=>{const{colors:t,welcomeTitle:r,welcomeDescription:n}=Ba(),s={background:`linear-gradient(135deg, ${t.primary}22 0%, ${t.secondary}22 50%, ${t.accent}22 100%)`};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:s,children:a.jsxs(ue,{className:"max-w-2xl w-full shadow-2xl border-0 overflow-hidden",children:[a.jsx(qN,{title:r,subtitle:n}),a.jsxs(de,{className:"p-8",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.secondary}20`},children:a.jsx(pa,{className:"h-6 w-6",style:{color:t.secondary}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Quick & Easy"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Takes only 3-5 minutes"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.accent}20`},children:a.jsx(ka,{className:"h-6 w-6",style:{color:t.accent}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Confidential"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Your privacy is protected"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.primary}20`},children:a.jsx(Vr,{className:"h-6 w-6",style:{color:t.primary}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Your Voice Matters"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Every response helps improve our services"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.accent}20`},children:a.jsx(cs,{className:"h-6 w-6",style:{color:t.accent}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Make a Difference"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Shape the future of our services"})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(gu,{onClick:e,size:"lg",className:"px-12 py-4 text-lg",children:"Start Feedback Survey"}),a.jsx("p",{className:"text-sm mt-4 text-gray-600",children:"Your responses are anonymous and help us improve our services"})]})]})]})})},jy=()=>{const{colors:e}=Ba(),t={background:`linear-gradient(135deg, ${e.primary}1A 0%, ${e.secondary}1A 50%, ${e.accent}1A 100%)`};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:t,children:a.jsxs("div",{className:"text-center animate-fade-in",children:[a.jsx("div",{className:"relative mb-6",children:a.jsx(bp,{className:"h-16 w-16 animate-spin mx-auto",style:{color:e.accent}})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:e.primary},children:"Loading Your Feedback Form"}),a.jsx("p",{className:"text-gray-600 animate-pulse",children:"Preparing your personalized experience..."}),a.jsx("div",{className:"mt-4 flex justify-center space-x-1",children:[0,1,2].map(r=>a.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:e.accent,animationDelay:`${r*.1}s`}},r))})]})})},io=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(!1);m.useEffect(()=>{const o=()=>{const i=window.innerWidth;t(i<768),n(i>=768&&i<1024)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const s="ontouchstart"in window||navigator.maxTouchPoints>0;return{isMobile:e,isTablet:r,isDesktop:!e&&!r,isTouchDevice:s,screenSize:e?"mobile":r?"tablet":"desktop"}},U$=({children:e})=>{const{isMobile:t}=io();return a.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 ${t?"pb-24":""}`,children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-orange-400/10 rounded-full blur-3xl"})]}),e]})},WN=m.forwardRef(({...e},t)=>a.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));WN.displayName="Breadcrumb";const HN=m.forwardRef(({className:e,...t},r)=>a.jsx("ol",{ref:r,className:U("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));HN.displayName="BreadcrumbList";const KN=m.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:U("inline-flex items-center gap-1.5",e),...t}));KN.displayName="BreadcrumbItem";const B$=m.forwardRef(({asChild:e,className:t,...r},n)=>{const s=e?fn:"a";return a.jsx(s,{ref:n,className:U("transition-colors hover:text-foreground",t),...r})});B$.displayName="BreadcrumbLink";const GN=m.forwardRef(({className:e,...t},r)=>a.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:U("font-normal text-foreground",e),...t}));GN.displayName="BreadcrumbPage";const V$=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=[{name:"Service Quality",range:[0,2]},{name:"Customer Experience",range:[3,5]},{name:"Overall Satisfaction",range:[6,t-1]}],o=n.find(i=>e>=i.range[0]&&e<=i.range[1]);return a.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsx(WN,{children:a.jsx(HN,{className:"flex-wrap",children:n.map((i,l)=>{const c=i===o,u=i.range.every(f=>r.includes(f));return a.jsx(KN,{className:"flex items-center",children:a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full transition-all ${c?"bg-blue-100 text-blue-700":u?"bg-green-100 text-green-700":"text-gray-500"}`,children:[u?a.jsx(ur,{className:"h-4 w-4"}):a.jsx(Lu,{className:"h-4 w-4"}),a.jsx(GN,{className:"font-medium",children:i.name})]})},i.name)})})})})},q$=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=(e+1)/t*100,s=()=>n<25?"Great start! Your feedback matters.":n<50?"You're doing amazing! Keep going.":n<75?"Almost there! Your input is valuable.":"Final stretch! Thank you for your time.",o=()=>n<33?a.jsx(_p,{className:"h-4 w-4 text-blue-600"}):n<66?a.jsx(Ea,{className:"h-4 w-4 text-orange-600"}):a.jsx(cs,{className:"h-4 w-4 text-green-600"});return a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-orange-50 rounded-xl p-4 border border-blue-200/50",children:a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[o(),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:s()})]}),a.jsxs("div",{className:"text-sm font-bold text-orange-600",children:[Math.round(n),"%"]})]})})},W$=({currentIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s})=>{const o=s<30?"fast":s<60?"steady":"thoughtful",i=()=>{switch(o){case"fast":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"steady":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}},l=()=>{switch(o){case"fast":return a.jsx(Ea,{className:"h-3 w-3"});case"steady":return a.jsx(_p,{className:"h-3 w-3"});default:return a.jsx(cs,{className:"h-3 w-3"})}};return a.jsxs("div",{className:"flex items-center justify-between mb-6 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"font-medium",children:[e+1," of ",t]}),r.includes(e)&&a.jsx(ur,{className:"h-4 w-4 text-green-500"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(pa,{className:"h-4 w-4 text-blue-500"}),a.jsxs("span",{children:["~",n,"s left"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(cs,{className:"h-4 w-4 text-orange-500"}),a.jsxs("span",{children:[s,"s avg"]})]}),a.jsx(Wr,{className:`${i()} shadow-sm border`,children:a.jsxs("div",{className:"flex items-center space-x-1",children:[l(),a.jsx("span",{className:"font-medium",children:o})]})})]})]})},H$=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=(e+1)/t*100;return a.jsxs("div",{className:"mb-4 bg-white/80 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[r.includes(e)?a.jsx(ur,{className:"h-5 w-5 text-green-500"}):a.jsx(Lu,{className:"h-5 w-5 text-gray-400"}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e+1," of ",t]})]}),a.jsxs("span",{className:"text-sm font-bold text-orange-600",children:[Math.round(n),"%"]})]}),a.jsx("div",{className:"relative w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-orange-500 rounded-full transition-all duration-500",style:{width:`${n}%`}})}),a.jsx("div",{className:"flex justify-center mt-2",children:a.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(t,8)},(s,o)=>a.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${o<=e?"bg-blue-500":"bg-gray-300"}`},o))})})]})},K$=({currentQuestionIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s})=>{const{isMobile:o}=io(),{colors:i}=wd();return o?a.jsx(H$,{currentIndex:e,totalQuestions:t,completedQuestions:r}):a.jsxs("div",{className:"mb-8 p-4 rounded-lg border",style:{backgroundColor:`${i.primary}08`,borderColor:`${i.primary}30`},role:"progressbar","aria-valuenow":e+1,"aria-valuemin":1,"aria-valuemax":t,children:[a.jsx(V$,{currentIndex:e,totalQuestions:t,completedQuestions:r}),a.jsx(W$,{currentIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:s}),a.jsx(q$,{currentIndex:e,totalQuestions:t,completedQuestions:r})]})},G$=({value:e,onChange:t,max:r=5})=>a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"flex space-x-2",children:Array.from({length:r},(n,s)=>{const o=s+1;return a.jsx("button",{type:"button",onClick:()=>t(o),className:"transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[#007ACE] rounded","aria-label":`Rate ${o} out of ${r} stars`,children:a.jsx(cs,{className:`h-10 w-10 ${o<=e?"text-yellow-400 fill-yellow-400":"text-gray-300 hover:text-yellow-400"}`})},s)})}),e>0&&a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"text-lg font-medium text-[#073763]",children:[e," out of ",r," stars"]})})]}),Q$=({value:e,onChange:t})=>{const r=s=>s<=6?"Detractor":s<=8?"Passive":"Promoter",n=s=>s<=6?"text-red-600":s<=8?"text-yellow-600":"text-green-600";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[a.jsx("span",{children:"Not likely at all"}),a.jsx("span",{children:"Extremely likely"})]}),a.jsx("div",{className:"grid grid-cols-11 gap-2",children:Array.from({length:11},(s,o)=>a.jsx("button",{type:"button",onClick:()=>t(o),className:`
              h-12 w-full rounded-lg border-2 transition-all duration-200 
              font-medium text-sm hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#007ACE]
              ${e===o?"bg-gradient-to-r from-[#073763] to-[#007ACE] text-white border-[#073763]":"bg-white border-gray-300 text-gray-700 hover:border-[#007ACE]"}
            `,"aria-label":`Rate ${o} out of 10`,children:o},o))}),e!==void 0&&a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"text-lg font-medium text-[#073763]",children:["Score: ",e,"/10"]}),a.jsx("div",{className:`text-sm font-medium ${n(e)}`,children:r(e)})]})]})},Y$=({value:e,onChange:t,scale:r={min:1,max:5,minLabel:"Strongly Disagree",maxLabel:"Strongly Agree"}})=>{const{min:n,max:s,minLabel:o,maxLabel:i}=r,l=Array.from({length:s-n+1},(u,f)=>n+f),c=u=>u===n?o:u===s?i:s-n===4?["","Disagree","Neutral","Agree",""][u-n]:`${u}`;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-4",children:[a.jsx("span",{children:o}),a.jsx("span",{children:i})]}),a.jsx("div",{className:"space-y-3",children:l.map(u=>a.jsxs("label",{className:`
              flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
              hover:bg-blue-50 hover:border-[#007ACE]
              ${e===u?"bg-gradient-to-r from-[#073763] to-[#007ACE] text-white border-[#073763]":"bg-white border-gray-300"}
            `,children:[a.jsx("input",{type:"radio",name:"likert",value:u,checked:e===u,onChange:()=>t(u),className:"sr-only"}),a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx("span",{className:"font-medium",children:c(u)}),a.jsxs("span",{className:"text-sm opacity-75",children:["(",u,")"]})]})]},u))})]})};var qg="Checkbox",[J$,mz]=St(qg),[X$,Z$]=J$(qg),QN=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=m.useState(null),x=ne(t,j=>p(j)),g=m.useRef(!1),w=h?f||!!h.closest("form"):!0,[y=!1,v]=Kt({prop:s,defaultProp:o,onChange:u}),b=m.useRef(y);return m.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const _=()=>v(b.current);return j.addEventListener("reset",_),()=>j.removeEventListener("reset",_)}},[h,v]),a.jsxs(X$,{scope:r,state:y,disabled:l,children:[a.jsx(K.button,{type:"button",role:"checkbox","aria-checked":as(y)?"mixed":y,"aria-required":i,"data-state":XN(y),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:x,onKeyDown:L(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:L(e.onClick,j=>{v(_=>as(_)?!0:!_),w&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),w&&a.jsx(e6,{control:h,bubbles:!g.current,name:n,value:c,checked:y,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:as(o)?!1:o})]})});QN.displayName=qg;var YN="CheckboxIndicator",JN=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=Z$(YN,r);return a.jsx(Dt,{present:n||as(o.state)||o.state===!0,children:a.jsx(K.span,{"data-state":XN(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});JN.displayName=YN;var e6=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...o}=e,i=m.useRef(null),l=od(r),c=Uu(t);m.useEffect(()=>{const f=i.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&p){const x=new Event("click",{bubbles:n});f.indeterminate=as(r),p.call(f,as(r)?!1:r),f.dispatchEvent(x)}},[l,r,n]);const u=m.useRef(as(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function as(e){return e==="indeterminate"}function XN(e){return as(e)?"indeterminate":e?"checked":"unchecked"}var ZN=QN,t6=JN;const ek=m.forwardRef(({className:e,...t},r)=>a.jsx(ZN,{ref:r,className:U("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(t6,{className:U("flex items-center justify-center text-current"),children:a.jsx(xp,{className:"h-4 w-4"})})}));ek.displayName=ZN.displayName;var Wg="Radio",[r6,tk]=St(Wg),[n6,s6]=r6(Wg),rk=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,form:u,...f}=e,[d,h]=m.useState(null),p=ne(t,w=>h(w)),x=m.useRef(!1),g=d?u||!!d.closest("form"):!0;return a.jsxs(n6,{scope:r,checked:s,disabled:i,children:[a.jsx(K.button,{type:"button",role:"radio","aria-checked":s,"data-state":ok(s),"data-disabled":i?"":void 0,disabled:i,value:l,...f,ref:p,onClick:L(e.onClick,w=>{s||c==null||c(),g&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),g&&a.jsx(o6,{control:d,bubbles:!x.current,name:n,value:l,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});rk.displayName=Wg;var nk="RadioIndicator",sk=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=s6(nk,r);return a.jsx(Dt,{present:n||o.checked,children:a.jsx(K.span,{"data-state":ok(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});sk.displayName=nk;var o6=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=m.useRef(null),i=od(r),l=Uu(t);return m.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[i,r,n]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ok(e){return e?"checked":"unchecked"}var a6=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Hg="RadioGroup",[i6,pz]=St(Hg,[La,tk]),ak=La(),ik=tk(),[l6,c6]=i6(Hg),lk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:f=!0,onValueChange:d,...h}=e,p=ak(r),x=so(u),[g,w]=Kt({prop:o,defaultProp:s,onChange:d});return a.jsx(l6,{scope:r,name:n,required:i,disabled:l,value:g,onValueChange:w,children:a.jsx(ng,{asChild:!0,...p,orientation:c,dir:x,loop:f,children:a.jsx(K.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...h,ref:t})})})});lk.displayName=Hg;var ck="RadioGroupItem",uk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=c6(ck,r),i=o.disabled||n,l=ak(r),c=ik(r),u=m.useRef(null),f=ne(t,u),d=o.value===s.value,h=m.useRef(!1);return m.useEffect(()=>{const p=g=>{a6.includes(g.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),a.jsx(sg,{asChild:!0,...l,focusable:!i,active:d,children:a.jsx(rk,{disabled:i,required:o.required,checked:d,...c,...s,name:o.name,ref:f,onCheck:()=>o.onValueChange(s.value),onKeyDown:L(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:L(s.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});uk.displayName=ck;var u6="RadioGroupIndicator",dk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=ik(r);return a.jsx(sk,{...s,...n,ref:t})});dk.displayName=u6;var fk=lk,hk=uk,d6=dk;const Kg=m.forwardRef(({className:e,...t},r)=>a.jsx(fk,{className:U("grid gap-2",e),...t,ref:r}));Kg.displayName=fk.displayName;const Gg=m.forwardRef(({className:e,...t},r)=>a.jsx(hk,{ref:r,className:U("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(d6,{className:"flex items-center justify-center",children:a.jsx(Lu,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Gg.displayName=hk.displayName;const f6=({options:e,value:t,onChange:r,multiple:n})=>{const s=i=>{r(i)},o=(i,l)=>{const c=Array.isArray(t)?t:[];r(l?[...c,i]:c.filter(u=>u!==i))};return n?a.jsx("div",{className:"space-y-3",children:e.map((i,l)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-blue-50 transition-colors",children:[a.jsx(ek,{id:`option-${l}`,checked:Array.isArray(t)&&t.includes(i),onCheckedChange:c=>o(i,c),className:"data-[state=checked]:bg-[#073763] data-[state=checked]:border-[#073763]"}),a.jsx("label",{htmlFor:`option-${l}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:i})]},l))}):a.jsx(Kg,{value:t,onValueChange:s,children:a.jsx("div",{className:"space-y-3",children:e.map((i,l)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-blue-50 transition-colors",children:[a.jsx(Gg,{value:i,id:`option-${l}`,className:"border-[#073763] text-[#073763]"}),a.jsx("label",{htmlFor:`option-${l}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:i})]},l))})})},mk=m.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:U("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));mk.displayName="Textarea";const h6=({value:e,onChange:t,placeholder:r="Please share your thoughts...",maxLength:n=500})=>a.jsxs("div",{className:"space-y-3",children:[a.jsx(mk,{value:e,onChange:s=>t(s.target.value),placeholder:r,maxLength:n,className:"min-h-[120px] resize-none border-gray-300 focus:border-[#007ACE] focus:ring-[#007ACE]"}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[a.jsx("span",{children:"Share any additional thoughts or suggestions"}),a.jsxs("span",{children:[e.length,"/",n]})]})]}),m6=({value:e,onChange:t,options:r})=>{const n=r.filter(o=>o&&o.trim()),s=n.length>0?n:["😞","😐","😊"];return a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"flex space-x-4",children:s.map((o,i)=>a.jsx("button",{type:"button",onClick:()=>t(o),className:`text-6xl p-4 rounded-full transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[#f97316] ${e===o?"bg-orange-100 scale-110":"hover:bg-gray-100"}`,"aria-label":`Select ${o} rating`,children:o},i))}),e&&a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"text-lg font-medium text-[#073763]",children:["You selected: ",e]})})]})},p6=({value:e,onChange:t,options:r})=>{const[n,s]=m.useState(e||[...r]);m.useEffect(()=>{e&&e.length>0?s(e):s([...r])},[e,r]);const o=(c,u)=>{c.dataTransfer.setData("text/plain",u.toString())},i=c=>{c.preventDefault()},l=(c,u)=>{c.preventDefault();const f=parseInt(c.dataTransfer.getData("text/plain")),d=[...n],h=d[f];d.splice(f,1),d.splice(u,0,h),s(d),t(d)};return a.jsxs("div",{className:"space-y-2",children:[n.map((c,u)=>a.jsxs("div",{draggable:!0,onDragStart:f=>o(f,u),onDragOver:i,onDrop:f=>l(f,u),className:"flex items-center p-3 bg-white border border-gray-200 rounded-lg cursor-move hover:shadow-md transition-shadow",children:[a.jsx("span",{className:"flex items-center justify-center w-8 h-8 bg-[#f97316] text-white rounded-full text-sm font-medium mr-3",children:u+1}),a.jsx(m2,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsx("span",{className:"flex-1 text-gray-800",children:c})]},c)),a.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Drag and drop to reorder items by importance (1 = most important)"})]})},g6=({value:e={},onChange:t,options:r,scale:n={min:1,max:5}})=>{const s=(o,i)=>{t({...e,[o]:i})};return a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3 border-b border-gray-200",children:"Aspect"}),Array.from({length:n.max-n.min+1},(o,i)=>a.jsx("th",{className:"text-center p-3 border-b border-gray-200 min-w-[60px]",children:n.min+i},i))]})}),a.jsx("tbody",{children:r.map(o=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"p-3 border-b border-gray-100 font-medium",children:o}),Array.from({length:n.max-n.min+1},(i,l)=>{var u;const c=n.min+l;return a.jsx("td",{className:"p-3 border-b border-gray-100 text-center",children:a.jsx(Kg,{value:((u=e[o])==null?void 0:u.toString())||"",onValueChange:f=>s(o,parseInt(f)),children:a.jsx(Gg,{value:c.toString()})})},c)})]},o))})]}),a.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[a.jsx("span",{children:n.minLabel||`${n.min} - Poor`}),a.jsx("span",{children:n.maxLabel||`${n.max} - Excellent`})]})]})};var pk=["PageUp","PageDown"],gk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vk={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Va="Slider",[gm,v6,y6]=Sa(Va),[yk,gz]=St(Va,[y6]),[x6,bd]=yk(Va),xk=m.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:f,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:x,...g}=e,w=m.useRef(new Set),y=m.useRef(0),b=i==="horizontal"?w6:b6,[j=[],_]=Kt({prop:f,defaultProp:u,onChange:M=>{var W;(W=[...w.current][y.current])==null||W.focus(),d(M)}}),k=m.useRef(j);function N(M){const I=k6(j,M);T(M,I)}function E(M){T(M,y.current)}function P(){const M=k.current[y.current];j[y.current]!==M&&h(j)}function T(M,I,{commit:W}={commit:!1}){const O=P6(o),Y=T6(Math.round((M-n)/o)*o+n,O),$=uu(Y,[n,s]);_((G=[])=>{const C=S6(G,$,I);if(R6(C,c*o)){y.current=C.indexOf($);const R=String(C)!==String(G);return R&&W&&h(C),R?C:G}else return G})}return a.jsx(x6,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:y,thumbs:w.current,values:j,orientation:i,form:x,children:a.jsx(gm.Provider,{scope:e.__scopeSlider,children:a.jsx(gm.Slot,{scope:e.__scopeSlider,children:a.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:L(g.onPointerDown,()=>{l||(k.current=j)}),min:n,max:s,inverted:p,onSlideStart:l?void 0:N,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:P,onHomeKeyDown:()=>!l&&T(n,0,{commit:!0}),onEndKeyDown:()=>!l&&T(s,j.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:I})=>{if(!l){const Y=pk.includes(M.key)||M.shiftKey&&gk.includes(M.key)?10:1,$=y.current,G=j[$],C=o*Y*I;T(G+C,$,{commit:!0})}}})})})})});xk.displayName=Va;var[wk,bk]=yk(Va,{startEdge:"left",endEdge:"right",size:"width",direction:1}),w6=m.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[d,h]=m.useState(null),p=ne(t,b=>h(b)),x=m.useRef(),g=so(s),w=g==="ltr",y=w&&!o||!w&&o;function v(b){const j=x.current||d.getBoundingClientRect(),_=[0,j.width],N=Qg(_,y?[r,n]:[n,r]);return x.current=j,N(b-j.left)}return a.jsx(wk,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:a.jsx(jk,{dir:g,"data-orientation":"horizontal",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const j=v(b.clientX);i==null||i(j)},onSlideMove:b=>{const j=v(b.clientX);l==null||l(j)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:b=>{const _=vk[y?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:_?-1:1})}})})}),b6=m.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=m.useRef(null),d=ne(t,f),h=m.useRef(),p=!s;function x(g){const w=h.current||f.current.getBoundingClientRect(),y=[0,w.height],b=Qg(y,p?[n,r]:[r,n]);return h.current=w,b(g-w.top)}return a.jsx(wk,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:a.jsx(jk,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const w=x(g.clientY);o==null||o(w)},onSlideMove:g=>{const w=x(g.clientY);i==null||i(w)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const y=vk[p?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:y?-1:1})}})})}),jk=m.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=bd(Va,r);return a.jsx(K.span,{...u,ref:t,onKeyDown:L(e.onKeyDown,d=>{d.key==="Home"?(i(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):pk.concat(gk).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:L(e.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),f.thumbs.has(h)?h.focus():n(d)}),onPointerMove:L(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&s(d)}),onPointerUp:L(e.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),o(d))})})}),_k="SliderTrack",Sk=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=bd(_k,r);return a.jsx(K.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});Sk.displayName=_k;var vm="SliderRange",Nk=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=bd(vm,r),o=bk(vm,r),i=m.useRef(null),l=ne(t,i),c=s.values.length,u=s.values.map(h=>Ek(h,s.min,s.max)),f=c>1?Math.min(...u):0,d=100-Math.max(...u);return a.jsx(K.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[o.startEdge]:f+"%",[o.endEdge]:d+"%"}})});Nk.displayName=vm;var ym="SliderThumb",kk=m.forwardRef((e,t)=>{const r=v6(e.__scopeSlider),[n,s]=m.useState(null),o=ne(t,l=>s(l)),i=m.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return a.jsx(j6,{...e,ref:o,index:i})}),j6=m.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...o}=e,i=bd(ym,r),l=bk(ym,r),[c,u]=m.useState(null),f=ne(t,v=>u(v)),d=c?i.form||!!c.closest("form"):!0,h=Uu(c),p=i.values[n],x=p===void 0?0:Ek(p,i.min,i.max),g=N6(n,i.values.length),w=h==null?void 0:h[l.size],y=w?E6(w,x,l.direction):0;return m.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${y}px)`},children:[a.jsx(gm.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(K.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:f,style:p===void 0?{display:"none"}:e.style,onFocus:L(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),d&&a.jsx(_6,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},n)]})});kk.displayName=ym;var _6=e=>{const{value:t,...r}=e,n=m.useRef(null),s=od(t);return m.useEffect(()=>{const o=n.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(o,t),o.dispatchEvent(u)}},[s,t]),a.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function S6(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,o)=>s-o)}function Ek(e,t,r){const o=100/(r-t)*(e-t);return uu(o,[0,100])}function N6(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function k6(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function E6(e,t,r){const n=e/2,o=Qg([0,50],[0,n]);return(n-o(t)*r)*r}function C6(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function R6(e,t){if(t>0){const r=C6(e);return Math.min(...r)>=t}return!0}function Qg(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function P6(e){return(String(e).split(".")[1]||"").length}function T6(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Ck=xk,A6=Sk,I6=Nk,O6=kk;const Rk=m.forwardRef(({className:e,...t},r)=>a.jsxs(Ck,{ref:r,className:U("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(A6,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(I6,{className:"absolute h-full bg-primary"})}),a.jsx(O6,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Rk.displayName=Ck.displayName;const M6=({value:e,onChange:t,scale:r={min:1,max:10}})=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"px-3",children:a.jsx(Rk,{value:[e||r.min],onValueChange:n=>t(n[0]),min:r.min,max:r.max,step:1,className:"w-full"})}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsx("span",{children:r.minLabel||`${r.min}`}),a.jsx("span",{className:"text-lg font-medium text-[#f97316]",children:e||r.min}),a.jsx("span",{children:r.maxLabel||`${r.max}`})]}),a.jsx("div",{className:"flex justify-between text-xs text-gray-500",children:Array.from({length:r.max-r.min+1},(n,s)=>a.jsx("span",{className:"text-center",children:r.min+s},s))})]}),D6=({children:e,title:t,required:r,isAnswered:n,className:s=""})=>a.jsxs(ue,{className:`
      mb-6 shadow-lg border-0 
      animate-fade-in
      transition-all duration-300 ease-out
      hover:shadow-xl hover:scale-[1.02]
      ${n?"ring-2 ring-green-400 ring-opacity-50":""}
      ${s}
    `,children:[a.jsxs(Me,{className:`
        bg-gradient-to-r from-[#f97316] to-[#fb923c] text-white rounded-t-lg 
        relative overflow-hidden
        ${n?"bg-gradient-to-r from-green-500 to-green-600":""}
      `,children:[a.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(De,{className:"text-xl pr-4 animate-fade-in",children:t}),r&&a.jsxs("span",{className:"text-orange-200 text-sm flex items-center mt-1 animate-fade-in",children:[a.jsx("span",{className:"text-red-300 mr-1",children:"*"}),"Required"]})]}),n&&a.jsx(ur,{className:"h-6 w-6 text-green-300 flex-shrink-0 animate-scale-in"})]}),n&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 to-green-600/20 animate-fade-in"})]}),a.jsx(de,{className:"p-6 transition-all duration-200",children:e})]}),L6=({children:e,title:t,required:r,isAnswered:n})=>a.jsxs(ue,{className:`
      mb-20 shadow-lg border-0 mx-2
      animate-fade-in
      transition-all duration-300 ease-out
      ${n?"ring-2 ring-green-400 ring-opacity-50":""}
    `,children:[a.jsx(Me,{className:`
        bg-gradient-to-r from-[#f97316] to-[#fb923c] text-white rounded-t-lg 
        relative overflow-hidden p-4
        ${n?"bg-gradient-to-r from-green-500 to-green-600":""}
      `,children:a.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[a.jsxs("div",{className:"flex-1 pr-2",children:[a.jsx(De,{className:"text-lg leading-tight animate-fade-in",children:t}),r&&a.jsxs("span",{className:"text-orange-200 text-xs flex items-center mt-1",children:[a.jsx("span",{className:"text-red-300 mr-1",children:"*"}),"Required"]})]}),n&&a.jsx(ur,{className:"h-6 w-6 text-green-300 flex-shrink-0 animate-scale-in"})]})}),a.jsx(de,{className:"p-4",children:e})]}),$6=({children:e,className:t=""})=>{const{isMobile:r,isTouchDevice:n}=io(),s=`
    ${r&&n?"touch-manipulation":""}
    ${r?"min-h-[44px]":"min-h-[40px]"}
    ${t}
  `;return a.jsx("div",{className:s,style:{WebkitTapHighlightColor:"transparent"},children:e})},F6=({question:e,value:t,onChange:r,validation:n})=>{const{isMobile:s}=io(),o=t!=null&&t!=="",i=(n==null?void 0:n.isValid)!==!1,l=()=>{const u={value:t,onChange:r};switch(e.type){case"star":return a.jsx(G$,{...u});case"nps":return a.jsx(Q$,{...u});case"likert":return a.jsx(Y$,{...u,scale:e.scale});case"emoji":return a.jsx(m6,{...u,options:e.options||[]});case"ranking":return a.jsx(p6,{...u,options:e.options||[]});case"matrix":return a.jsx(g6,{...u,options:e.options||[],scale:e.scale});case"slider":return a.jsx(M6,{...u,scale:e.scale});case"single-choice":case"multi-choice":return a.jsx(f6,{options:e.options||[],...u,multiple:e.type==="multi-choice"});case"text":return a.jsx(h6,{value:t||"",onChange:r,placeholder:"Please share your thoughts..."});default:return null}},c=s?L6:D6;return a.jsxs(c,{title:e.question,required:e.required,isAnswered:o&&i,children:[(n==null?void 0:n.errors)&&n.errors.length>0&&a.jsxs(Ge,{className:"mb-4 border-red-200 bg-red-50 animate-fade-in",children:[a.jsx(Ui,{className:"h-4 w-4 text-red-600"}),a.jsx(Qe,{className:"text-red-700",children:n.errors[0]})]}),(n==null?void 0:n.warnings)&&n.warnings.length>0&&a.jsxs(Ge,{className:"mb-4 border-yellow-200 bg-yellow-50 animate-fade-in",children:[a.jsx(Eb,{className:"h-4 w-4 text-yellow-600"}),a.jsx(Qe,{className:"text-yellow-700",children:n.warnings[0]})]}),a.jsx($6,{children:a.jsx("div",{role:"group","aria-labelledby":`question-${e.id}`,className:"animate-fade-in",children:l()})})]})},z6=({currentQuestionIndex:e,totalQuestions:t,canGoNext:r,onPrevious:n,onNext:s})=>{const o=e===t-1;return a.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-3",children:a.jsxs("div",{className:"flex justify-between items-center gap-3",children:[a.jsxs(te,{variant:"outline",size:"lg",onClick:n,disabled:e===0,className:"flex-1 border-[#073763] text-[#073763] hover:bg-[#073763] hover:text-white disabled:opacity-30",children:[a.jsx(Sb,{className:"h-5 w-5 mr-1"}),"Previous"]}),a.jsx(te,{size:"lg",onClick:s,disabled:!r,className:"flex-1 bg-gradient-to-r from-[#073763] to-[#007ACE] hover:from-[#062c52] hover:to-[#0066a6] text-white disabled:opacity-30",children:o?a.jsxs(a.Fragment,{children:[a.jsx(b2,{className:"h-5 w-5 mr-1"}),"Submit"]}):a.jsxs(a.Fragment,{children:["Next",a.jsx(wp,{className:"h-5 w-5 ml-1"})]})})]})})})},U6=e=>{const{isMobile:t}=io();if(t)return a.jsx(z6,{...e});const{currentQuestionIndex:r,totalQuestions:n,canGoNext:s,onPrevious:o,onNext:i}=e,l=r===n-1;return a.jsxs("div",{className:"flex justify-between items-center animate-fade-in",children:[a.jsxs(gu,{variant:"outline",onClick:o,disabled:r===0,className:"flex items-center gap-2",children:[a.jsx(Sb,{size:16}),"Previous"]}),a.jsxs(gu,{onClick:i,disabled:!s,className:"flex items-center gap-2",children:[l?"Submit":"Next",!l&&a.jsx(wp,{size:16})]})]})},B6=({onNext:e,onPrevious:t,canGoNext:r,isFirstQuestion:n})=>(m.useEffect(()=>{const s=o=>{if(!(o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement))switch(o.key){case"ArrowRight":case"Enter":r&&(o.preventDefault(),e());break;case"ArrowLeft":n||(o.preventDefault(),t());break}};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,t,r,n]),a.jsx("div",{className:"fixed bottom-4 right-4 bg-white/80 backdrop-blur-sm rounded-lg p-2 shadow-lg border text-xs text-gray-500",children:a.jsx("div",{children:"← → Navigate • Enter Submit"})})),V6=({currentQuestion:e,responses:t,onSuggestionClick:r})=>{const s=(()=>{var l;const o=Object.values(t),i=o.filter(c=>typeof c=="number"&&c>=4||typeof c=="string"&&c.includes("good")).length/o.length;switch(e.type){case"star":return i>.6?[5,4]:[3,4];case"text":return i>.6?["Great service overall!","Very satisfied with the experience"]:["Could be improved","Good but has room for enhancement"];case"single-choice":return((l=e.options)==null?void 0:l.slice(0,2))||[];default:return[]}})();return s.length===0?null:a.jsxs(ue,{className:"mt-4 bg-blue-50 border-blue-200 animate-fade-in",children:[a.jsx(Me,{className:"pb-3",children:a.jsxs(De,{className:"text-sm flex items-center gap-2 text-blue-700",children:[a.jsx(g2,{className:"h-4 w-4"}),"Smart Suggestions"]})}),a.jsx(de,{className:"pt-0",children:a.jsx("div",{className:"space-y-2",children:s.slice(0,2).map((o,i)=>a.jsxs(te,{variant:"outline",size:"sm",className:"w-full justify-between text-left h-auto p-3 hover:bg-blue-100",onClick:()=>r(o),children:[a.jsx("span",{className:"truncate",children:String(o)}),a.jsx(yp,{className:"h-3 w-3 ml-2 flex-shrink-0"})]},i))})})]})},q6=()=>{const[e,t]=m.useState(!1);return a.jsxs("div",{className:"mb-4 text-center",children:[a.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"text-gray-500 hover:text-gray-700",children:[a.jsx(Eb,{className:"h-3 w-3 mr-1"}),"Data Usage",e?a.jsx(Nb,{className:"h-3 w-3 ml-1"}):a.jsx(Du,{className:"h-3 w-3 ml-1"})]}),e&&a.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg text-xs text-gray-600 animate-fade-in",children:[a.jsx("p",{children:"Your responses are stored locally and used only for feedback analysis."}),a.jsx("p",{className:"mt-1",children:"No personal information is collected or shared."})]})]})},W6=({onSave:e,onPause:t,hasUnsavedChanges:r})=>{const{toast:n}=dr(),s=()=>{e(),n({title:"Progress saved",description:"You can continue later from where you left off"})};return a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsxs(te,{variant:"outline",size:"sm",onClick:s,disabled:!r,className:"text-xs",children:[a.jsx(Cb,{className:"h-3 w-3 mr-1"}),"Save Progress"]}),a.jsxs(te,{variant:"outline",size:"sm",onClick:t,className:"text-xs",children:[a.jsx(x2,{className:"h-3 w-3 mr-1"}),"Pause & Exit"]})]})},H6=({children:e,className:t=""})=>{const{isMobile:r,isTablet:n}=io(),{colors:s}=wd(),o=`
    ${r?"px-4 py-2":n?"px-6 py-4":"px-8 py-6"}
    ${r?"max-w-full":n?"max-w-3xl":"max-w-4xl"}
    mx-auto min-h-screen
    ${t}
  `,i={background:`linear-gradient(135deg, ${s.primary}08 0%, ${s.secondary}08 50%, ${s.accent}08 100%)`};return a.jsx("div",{className:o,style:i,children:e})},K6=()=>{const{organization:e,colors:t,headerTitle:r,headerSubtitle:n}=Ba();return e?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50 to-orange-50 rounded-2xl opacity-50"}),a.jsx("div",{className:"relative text-center py-4 px-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${t.primary}, ${t.secondary})`},children:r}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 max-w-2xl mx-auto leading-relaxed",children:n}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500 pt-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{children:"Secure & Confidential"})]})]})})]}):null},G6=()=>null,Q6=({questions:e,currentQuestionIndex:t,responses:r,completedQuestions:n,hasConsented:s,canGoNext:o,estimatedTimeRemaining:i,averageResponseTime:l,hasUnsavedChanges:c,onQuestionResponse:u,onNext:f,onPrevious:d,onSaveProgress:h,onPauseAndExit:p,getValidationResult:x})=>{const{isMobile:g}=io(),w=e[t];return s?a.jsxs(H6,{children:[a.jsx(G6,{}),a.jsx(K6,{}),a.jsxs("div",{className:`bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 ${g?"p-4":"p-8"}`,children:[a.jsx(K$,{currentQuestionIndex:t,totalQuestions:e.length,completedQuestions:n,estimatedTimeRemaining:i,averageResponseTime:l}),a.jsx(F6,{question:w,value:r[w==null?void 0:w.id],onChange:y=>u(w.id,y),validation:x(w==null?void 0:w.id)}),!g&&a.jsx(V6,{currentQuestion:w,responses:r,onSuggestionClick:y=>u(w.id,y)}),!g&&a.jsx("div",{className:"my-6",children:a.jsx(W6,{onSave:h,onPause:p,hasUnsavedChanges:c})}),a.jsx(U6,{currentQuestionIndex:t,totalQuestions:e.length,canGoNext:o,onPrevious:d,onNext:f}),!g&&a.jsx(q6,{})]}),!g&&a.jsx(B6,{onNext:f,onPrevious:d,canGoNext:o,isFirstQuestion:t===0})]}):null},Y6=({isVisible:e,onAccept:t})=>{const{colors:r,organizationName:n}=wd();if(!e)return null;const s={background:`linear-gradient(135deg, ${r.primary}dd 0%, ${r.secondary}dd 50%, ${r.accent}dd 100%)`};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:s,children:a.jsxs(ue,{className:"max-w-2xl w-full shadow-2xl border-0 overflow-hidden",children:[a.jsx(qN,{title:`${n} Feedback`,subtitle:"Your feedback drives our commitment to excellence. Share your experience to help us serve you better.",showSecureIndicator:!0}),a.jsx(de,{className:"p-8",children:a.jsxs("div",{className:"border rounded-lg p-6",style:{backgroundColor:`${r.primary}08`,borderColor:`${r.primary}30`},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(ka,{className:"h-5 w-5",style:{color:r.primary}}),a.jsx("h3",{className:"text-lg font-semibold",style:{color:r.primary},children:"Your Privacy Matters"})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",style:{color:r.textSecondary},children:[a.jsx(jp,{className:"h-4 w-4",style:{color:r.secondary}}),a.jsx("span",{children:"Encrypted & Secure"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",style:{color:r.textSecondary},children:[a.jsx(Oo,{className:"h-4 w-4",style:{color:r.secondary}}),a.jsx("span",{children:"Anonymous & Confidential"})]})]}),a.jsx("div",{className:"text-center",children:a.jsx(gu,{onClick:t,size:"lg",className:"px-12 py-3 text-lg",children:"I understand"})})]})})]})})},J6=({isOpen:e,responses:t,questions:r,onClose:n})=>{const{organization:s,logoAsset:o,colors:i,thankYouTitle:l,thankYouMessage:c}=Ba();if(!s)return null;const u=t.reduce((p,x)=>p+(x.score||0),0),f=t.length>0?Math.round(u/t.length):0,d=Math.round(t.length/r.length*100),h=t.reduce((p,x)=>{const g=r.find(w=>w.id===x.questionId);return g&&g.category&&(p[g.category]||(p[g.category]={total:0,count:0}),p[g.category].total+=x.score||0,p[g.category].count+=1),p},{});return a.jsx(xl,{open:e,onOpenChange:n,children:a.jsxs($a,{className:"sm:max-w-lg bg-gradient-to-br from-white to-gray-50 border-0 shadow-2xl",children:[a.jsxs(Fa,{className:"text-center space-y-6 pb-6",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center shadow-lg",style:{backgroundColor:`${i.primary}10`},children:a.jsx(ur,{className:"w-12 h-12",style:{color:i.primary}})}),a.jsx("div",{className:"absolute -inset-2 rounded-full blur-lg opacity-30",style:{backgroundColor:i.primary}})]}),(o==null?void 0:o.asset_url)&&a.jsx("img",{src:o.asset_url,alt:o.asset_name||`${s.name} Logo`,className:"h-12 w-auto opacity-80"})]}),a.jsx(za,{className:"text-3xl font-bold bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${i.primary}, ${i.secondary})`},children:l})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-center text-gray-700 text-lg leading-relaxed px-4",children:c}),a.jsxs("div",{className:"p-6 bg-white/60 rounded-xl border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-center mb-4",style:{color:i.primary},children:"Your Feedback Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx(cs,{className:"w-6 h-6 mr-1",style:{color:i.primary}})}),a.jsxs("div",{className:"text-2xl font-bold",style:{color:i.primary},children:[f,"/5"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx(ur,{className:"w-6 h-6 mr-1",style:{color:i.primary}})}),a.jsxs("div",{className:"text-2xl font-bold",style:{color:i.primary},children:[d,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),Object.keys(h).length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 text-center",children:"Ratings by Category:"}),Object.entries(h).map(([p,x])=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-600",children:p}),a.jsxs("span",{className:"font-medium",style:{color:i.primary},children:[Math.round(x.total/x.count),"/5"]})]},p))]})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx(te,{onClick:n,size:"lg",className:"text-white font-semibold px-8 py-3 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",style:{backgroundColor:i.primary,background:`linear-gradient(135deg, ${i.primary}, ${i.secondary})`},children:"Complete"})})]})]})})},X6=({showPrivacyNotice:e,isComplete:t,finalResponses:r,questions:n,onAcceptPrivacy:s,onReset:o})=>a.jsxs(a.Fragment,{children:[a.jsx(Y6,{isVisible:e,onAccept:s}),a.jsx(J6,{isOpen:t,responses:r,questions:n,onClose:o})]}),Sf=({orgLoading:e,orgError:t,organization:r})=>e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}):t||!r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Organization Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:t||"The requested organization could not be found or is not active."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):null,Z6=e=>{var t,r;return{id:e.id,type:e.question_type,question:e.question_text,required:e.is_required||!1,category:e.category,options:((t=e.question_options)==null?void 0:t.map(n=>n.option_text))||[],scale:(r=e.question_scale_config)!=null&&r[0]?{min:e.question_scale_config[0].min_value,max:e.question_scale_config[0].max_value,minLabel:e.question_scale_config[0].min_label,maxLabel:e.question_scale_config[0].max_label}:void 0}},eF=async e=>{if(!e)return console.warn("fetchQuestions called without organizationSlug"),[];try{const{data:t,error:r}=await F.functions.invoke("public-questions",{body:{organizationSlug:e}});if(r)throw console.error("Error fetching questions for form:",r),r;return t.map(Z6)}catch(t){throw console.error("Error fetching questions for form:",t),t}},tF=e=>{const[t,r]=m.useState(0);return{currentQuestionIndex:t,goToNext:()=>{t<e-1&&r(i=>i+1)},goToPrevious:()=>{t>0&&r(i=>i-1)},resetNavigation:()=>{r(0)},isLastQuestion:t===e-1,isFirstQuestion:t===0}},rF=()=>{const[e,t]=m.useState({}),[r,n]=m.useState(!1),{organization:s}=fl(),{toast:o}=dr();return{responses:e,isSubmitting:r,handleResponse:(d,h)=>{t(p=>({...p,[d]:h}))},loadResponses:d=>{t(d)},generateFinalResponses:()=>Object.entries(e).map(([d,h])=>({questionId:d,value:h,score:Math.floor(Math.random()*5)+1,category:"QualityService"})),submitResponses:async(d,h)=>{if(!(s!=null&&s.id))throw new Error("Organization not found");n(!0);try{console.log("Submitting feedback via Edge Function...");const{data:p,error:x}=await F.functions.invoke("submit-feedback",{body:{responses:e,organizationId:s.id,questions:d,timingData:h}});if(x)throw x;if(!p.success)throw new Error(p.error||"Failed to submit feedback");return o({title:"Feedback submitted successfully!",description:`${p.responseCount} responses recorded`}),console.log("Feedback submitted successfully:",p),{id:p.sessionId,total_score:p.totalScore}}catch(p){throw console.error("Error submitting feedback:",p),o({title:"Error submitting feedback",description:"Please try again later",variant:"destructive"}),p}finally{n(!1)}},resetResponses:()=>{t({})},organizationId:s==null?void 0:s.id}},nF=(e,t,r=2e3)=>{dr();const n=m.useRef();return m.useEffect(()=>(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{try{localStorage.setItem(t,JSON.stringify(e)),console.log("Auto-saved form data")}catch(i){console.error("Failed to auto-save:",i)}},r),()=>{n.current&&clearTimeout(n.current)}),[e,t,r]),{loadSavedData:()=>{try{const i=localStorage.getItem(t);return i?JSON.parse(i):null}catch(i){return console.error("Failed to load saved data:",i),null}},clearSavedData:()=>{try{localStorage.removeItem(t),console.log("Cleared saved form data")}catch(i){console.error("Failed to clear saved data:",i)}}}},sF=()=>{const[e,t]=m.useState({}),r=m.useCallback((o,i)=>{const l=[],c=[];switch(o.required&&((i==null||i==="")&&l.push("This field is required"),(o.type==="multi-choice"||o.type==="ranking")&&Array.isArray(i)&&i.length===0&&l.push("Please select at least one option"),o.type==="matrix"&&(!i||Object.keys(i).length===0)&&l.push("Please rate all aspects")),o.type){case"text":i&&typeof i=="string"&&(i.length<3&&o.required&&c.push("Consider providing more detailed feedback"),i.length>500&&l.push("Response is too long (maximum 500 characters)"));break;case"star":i!==void 0&&(i<1||i>5)&&l.push("Rating must be between 1 and 5 stars");break;case"nps":i!==void 0&&(i<0||i>10)&&l.push("NPS score must be between 0 and 10");break;case"slider":const u=o.scale||{min:1,max:10};i!==void 0&&(i<u.min||i>u.max)&&l.push(`Value must be between ${u.min} and ${u.max}`);break;case"matrix":if(i&&o.options){const f=o.options.filter(d=>!i[d]);f.length>0&&o.required&&l.push(`Please rate: ${f.join(", ")}`)}break}return{isValid:l.length===0,errors:l,warnings:c}},[]),n=m.useCallback((o,i)=>{const l={};return o.forEach(c=>{l[c.id]=r(c,i[c.id])}),t(l),l},[r]),s=m.useCallback(o=>e[o]||{isValid:!0,errors:[],warnings:[]},[e]);return{validateQuestion:r,validateAllQuestions:n,getValidationResult:s,validationResults:e}},Pk=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(!0),[s,o]=m.useState(null),i=Gp(),l=Kr();return m.useEffect(()=>{(async()=>{const u=l.pathname;console.log("useOrganization - Starting detection for path:",u),n(!0),o(null),t(null);let f=null;const d=i.orgSlug||i.slug,h=["admin","auth","login","create-organization","terms-of-service","privacy-policy"];if(d&&h.includes(d)){console.log(`useOrganization - Path matched special route "${d}", skipping org detection.`),n(!1);return}const x=new URL(window.location.href).hostname;if(x!=="localhost"&&!x.includes("lovable.app")&&!x.includes("lovableproject.com")){console.log("useOrganization - Checking domain:",x);try{f=await HD(x),console.log("useOrganization - Domain result:",f)}catch(w){console.warn("useOrganization - Domain check failed:",w)}}if(!f&&x.includes(".")){const w=x.split(".")[0];if(w!=="www"&&w!=="feedback"&&!w.includes("preview--")){console.log("useOrganization - Checking subdomain:",w);try{f=await pf(w),console.log("useOrganization - Subdomain result:",f)}catch(y){console.warn("useOrganization - Subdomain check failed:",y)}}}if(!f&&d){console.log("useOrganization - Checking slug from params:",d);try{f=await pf(d),console.log("useOrganization - Slug result:",f)}catch(w){console.error("useOrganization - Slug check failed:",w)}}if(!f&&u==="/"){console.log("useOrganization - No org found, defaulting to police-sacco for root path");try{f=await pf("police-sacco"),console.log("useOrganization - Default police-sacco result:",f)}catch(w){console.error("useOrganization - Default police-sacco failed:",w)}}t(f);const g=d&&!h.includes(d);!f&&g&&(console.log("useOrganization - No organization found for slug:",d),o("Organization not found")),n(!1),console.log("useOrganization - Detection finished. Final org:",(f==null?void 0:f.name)||"none")})()},[i.slug,i.orgSlug,l.pathname]),{organization:e,isLoading:r,error:s}};let ac;const oF=new Uint8Array(16);function aF(){if(!ac&&(ac=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ac))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ac(oF)}const st=[];for(let e=0;e<256;++e)st.push((e+256).toString(16).slice(1));function iF(e,t=0){return st[e[t+0]]+st[e[t+1]]+st[e[t+2]]+st[e[t+3]]+"-"+st[e[t+4]]+st[e[t+5]]+"-"+st[e[t+6]]+st[e[t+7]]+"-"+st[e[t+8]]+st[e[t+9]]+"-"+st[e[t+10]]+st[e[t+11]]+st[e[t+12]]+st[e[t+13]]+st[e[t+14]]+st[e[t+15]]}const lF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_y={randomUUID:lF};function Sy(e,t,r){if(_y.randomUUID&&!t&&!e)return _y.randomUUID();e=e||{};const n=e.random||(e.rng||aF)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,iF(n)}class cF{constructor(){nt(this,"sessionTimes",new Map)}startSession(t){this.sessionTimes.set(t,{sessionId:t,startTime:Date.now(),questionTimes:[]})}startQuestion(t,r){const n=this.sessionTimes.get(t);if(!n)return;const s=n.questionTimes[n.questionTimes.length-1];s&&!s.endTime&&(s.endTime=Date.now(),s.responseTime=s.endTime-s.startTime),n.questionTimes.push({questionId:r,startTime:Date.now(),endTime:0,responseTime:0})}endQuestion(t,r){const n=this.sessionTimes.get(t);if(!n)return 0;const s=n.questionTimes.find(o=>o.questionId===r);return!s||s.endTime?(s==null?void 0:s.responseTime)||0:(s.endTime=Date.now(),s.responseTime=s.endTime-s.startTime,s.responseTime)}endSession(t){const r=this.sessionTimes.get(t);if(!r)return 0;const n=r.questionTimes[r.questionTimes.length-1];return n&&!n.endTime&&(n.endTime=Date.now(),n.responseTime=n.endTime-n.startTime),r.endTime=Date.now(),r.totalResponseTime=r.endTime-r.startTime,r.totalResponseTime}getSessionTime(t){return this.sessionTimes.get(t)}calculateCategoryAverages(t){const r=new Map;return t.forEach(n=>{const s=this.sessionTimes.get(n.sessionId);if(!s)return;const o=s.questionTimes.find(i=>i.questionId===n.questionId);!o||!o.responseTime||(r.has(n.category)||r.set(n.category,[]),r.get(n.category).push(o.responseTime))}),Array.from(r.entries()).map(([n,s])=>({category:n,averageTime:s.reduce((o,i)=>o+i,0)/s.length,totalResponses:s.length,minTime:Math.min(...s),maxTime:Math.max(...s)}))}clearSession(t){this.sessionTimes.delete(t)}}const wo=new cF,uF=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!1),[s,o]=m.useState([]),[i,l]=m.useState(!0),[c,u]=m.useState([]),[f,d]=m.useState(null),{organization:h,isLoading:p}=Pk(),{toast:x}=dr(),{responses:g,isSubmitting:w,handleResponse:y,generateFinalResponses:v,submitResponses:b,resetResponses:j,loadResponses:_}=rF(),{currentQuestionIndex:k,goToNext:N,goToPrevious:E,resetNavigation:P}=tF(e.length),{validateQuestion:T,getValidationResult:M}=sF(),I=m.useRef(!1),W=m.useRef(null),O=m.useRef(Sy()),{loadSavedData:Y,clearSavedData:$}=nF({responses:g,currentQuestionIndex:k,completedQuestions:c},h?`feedback-${h.slug}`:"feedback-default");m.useEffect(()=>{(async()=>{if(console.log("useFeedbackForm - Loading questions, org loading:",p,"organization:",h),p)return;const X=(h==null?void 0:h.id)||"fallback";if(I.current&&W.current===X){console.log("useFeedbackForm - Questions already loaded for this organization");return}try{l(!0),d(null);const re=await eF(h==null?void 0:h.slug);console.log("useFeedbackForm - Questions loaded:",re),t(re),I.current=!0,W.current=(h==null?void 0:h.id)||"fallback",wo.startSession(O.current);const we=Y();we&&Object.keys(we.responses||{}).length>0&&(x({title:"Previous session restored",description:"We've restored your previous answers"}),_(we.responses),u(we.completedQuestions||[]))}catch(re){console.error("useFeedbackForm - Error loading questions:",re),d("We couldn't load the survey questions. Please check your connection and try again.")}finally{l(!1)}})()},[h==null?void 0:h.id,h==null?void 0:h.slug,p]),m.useEffect(()=>{if(e.length>0){const B=e[k].id;wo.startQuestion(O.current,B)}},[k,e]);const G=()=>{const B=e[k];if(!B)return!1;const X=g[B.id];return T(B,X).isValid},C=(B,X)=>{y(B,X);const re=e.findIndex(we=>we.id===B);re!==-1&&!c.includes(re)&&u(we=>[...we,re])},R=async()=>{try{console.log("Submitting feedback to database..."),wo.endSession(O.current);const B=wo.getSessionTime(O.current);await b(e,B);const X=v();o(X),n(!0),$(),wo.clearSession(O.current)}catch(B){console.error("Error submitting feedback:",B)}};return{questions:e,currentQuestionIndex:k,responses:g,isComplete:r,finalResponses:s,isLoading:i||w,questionsError:f,completedQuestions:c,handleResponse:C,isCurrentQuestionAnswered:G,goToNext:()=>{k<e.length-1?N():R()},goToPrevious:E,resetForm:()=>{O.current&&wo.clearSession(O.current),O.current=Sy(),P(),j(),n(!1),o([]),u([]),$(),d(null),I.current=!1,W.current=null},getValidationResult:M}},dF=(e,t)=>{const r=Object.keys(e).length,n=r/t*100,s=Object.values(e).reduce((o,i)=>typeof i=="string"&&i.length>10?o+20:Array.isArray(i)&&i.length>1?o+15:o+10,0)/r||0;return Math.min(100,(n+s)/2)},fF=e=>{const t=e.reduce((n,s)=>n+s.score,0)/e.length||0,r=t>=80?"positive":t>=60?"neutral":"needs_improvement";return{responseTime:Math.floor(Math.random()*300)+60,completionRate:e.length/10*100,engagementScore:t,satisfactionTrend:r,commonPatterns:["High satisfaction with services","Mobile app needs improvement"]}},hF=(e,t,r)=>{const[n,s]=m.useState(null),[o,i]=m.useState(Date.now()),[l,c]=m.useState([]),u=()=>{i(Date.now())},f=()=>{const p=Math.floor((Date.now()-o)/1e3);c(x=>[...x,p])},d=()=>l.length>0?Math.round(l.reduce((p,x)=>p+x,0)/l.length):30,h=p=>{const x=d();return(t-p)*x};return m.useEffect(()=>{if(r.length>0){const p=fF(r);s(p)}},[r]),{analytics:n,trackQuestionStart:u,trackQuestionResponse:f,getAverageResponseTime:d,getEstimatedTimeRemaining:h,engagementScore:dF(e,t)}},mF=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(!0);return m.useEffect(()=>{localStorage.getItem("feedback-privacy-consent")==="true"&&(t(!0),n(!1))},[]),{hasConsented:e,showPrivacyNotice:r,acceptPrivacy:()=>{localStorage.setItem("feedback-privacy-consent","true"),t(!0),n(!1)}}},pF=(e,t,r)=>{const{toast:n}=dr(),s=()=>{const l={responses:e,currentQuestionIndex:t,completedQuestions:r,timestamp:new Date().toISOString()};localStorage.setItem("feedback-save-continue",JSON.stringify(l))},o=()=>{s(),n({title:"Session paused",description:"Your progress has been saved. Return anytime to continue."}),window.location.reload()},i=Object.keys(e).length>0;return{saveProgress:s,pauseAndExit:o,hasUnsavedChanges:i}},gF=()=>{const[e,t]=m.useState(!0),{organization:r,isLoading:n,error:s}=Pk();console.log("FeedbackForm - Organization state:",{organization:r,orgLoading:n,orgError:s});const{questions:o,currentQuestionIndex:i,responses:l,isComplete:c,finalResponses:u,isLoading:f,questionsError:d,completedQuestions:h,handleResponse:p,isCurrentQuestionAnswered:x,goToNext:g,goToPrevious:w,resetForm:y,getValidationResult:v}=uF(),{trackQuestionStart:b,trackQuestionResponse:j,getAverageResponseTime:_,getEstimatedTimeRemaining:k}=hF(l,o.length,u),{hasConsented:N,showPrivacyNotice:E,acceptPrivacy:P}=mF(),{saveProgress:T,pauseAndExit:M,hasUnsavedChanges:I}=pF(l,i,h);m.useEffect(()=>{!e&&o.length>0&&b()},[i,b,e,o.length]);const W=($,G)=>{p($,G),j()},O=()=>{t(!1)},Y=()=>{y(),t(!0)};return n?(console.log("FeedbackForm - Showing loading state"),a.jsx(jy,{})):s||!r?(console.log("FeedbackForm - Showing error boundary for org"),a.jsx(Sf,{orgLoading:n,orgError:s,organization:r})):d?(console.log("FeedbackForm - Showing error boundary for questions"),a.jsx(Sf,{orgLoading:!1,orgError:d,organization:r})):f?(console.log("FeedbackForm - Questions loading"),a.jsx(jy,{})):e?(console.log("FeedbackForm - Showing welcome screen"),a.jsx(z$,{onStart:O})):o.length===0?(console.log("FeedbackForm - No questions available"),a.jsx(Sf,{orgLoading:!1,orgError:"No questions configured for this organization",organization:r})):(console.log("FeedbackForm - Rendering main content"),a.jsxs(U$,{children:[a.jsx(Q6,{questions:o,currentQuestionIndex:i,responses:l,completedQuestions:h,hasConsented:N,canGoNext:x(),estimatedTimeRemaining:k(i),averageResponseTime:_(),hasUnsavedChanges:I,onQuestionResponse:W,onNext:g,onPrevious:w,onSaveProgress:T,onPauseAndExit:M,getValidationResult:v}),a.jsx(X6,{showPrivacyNotice:E,isComplete:c,finalResponses:u,questions:o,onAcceptPrivacy:P,onReset:Y})]}))},Ny=()=>a.jsx(gF,{}),ky=({children:e,permission:t,organizationId:r,fallback:n,showRequiredRole:s=!0})=>{const{hasPermission:o,userRole:i,isLoading:l,isAdmin:c,error:u}=hl(r),{isOrgAdmin:f}=bn();if(l)return a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bp,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Checking permissions..."})]})});if(u)return console.error("Permission guard error:",u),a.jsxs(ue,{className:"border-amber-200",children:[a.jsx(Me,{children:a.jsxs(De,{className:"flex items-center text-amber-600",children:[a.jsx(Bo,{className:"w-5 h-5 mr-2"}),"Permission Check Failed"]})}),a.jsx(de,{children:a.jsx("p",{className:"text-sm text-gray-600",children:"Unable to verify permissions. Please refresh the page or contact support if the issue persists."})})]});if(c||f)return console.log("Permission granted via admin privileges"),a.jsx(a.Fragment,{children:e});if(o(t))return console.log("Permission granted:",t),a.jsx(a.Fragment,{children:e});if(console.log("Permission denied:",{permission:t,userRole:i,organizationId:r}),n)return a.jsx(a.Fragment,{children:n});const d=vF(t),h=Gi(d),p=i?Gi(i):null;return a.jsxs(ue,{className:"border-red-200",children:[a.jsx(Me,{children:a.jsxs(De,{className:"flex items-center text-red-600",children:[a.jsx(jp,{className:"w-5 h-5 mr-2"}),"Access Restricted"]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bo,{className:"w-4 h-4 text-amber-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"You don't have permission to access this feature."})]}),s&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Required role:"}),a.jsxs(Wr,{variant:h.variant,className:"flex items-center gap-1",children:[a.jsx(h.icon,{className:"w-3 h-3"}),h.label]})]}),p&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Your role:"}),a.jsxs(Wr,{variant:p.variant,className:"flex items-center gap-1",children:[a.jsx(p.icon,{className:"w-3 h-3"}),p.label]})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Contact your organization administrator to request access."})]})]})};function vF(e){return{view_analytics:"viewer",export_data:"analyst",manage_questions:"admin",manage_users:"admin",manage_integrations:"admin",manage_organization:"admin",manage_billing:"owner"}[e]||"admin"}const yF=e=>{const{dateRange:t}=cD();return pn({queryKey:["analytics-data",e,t],queryFn:async()=>{const{data:r}=await F.from("questions").select("*").eq("organization_id",e).eq("is_active",!0).order("category",{ascending:!0}).order("order_index",{ascending:!0});let n=F.from("feedback_responses").select(`
          id,
          question_id,
          response_value,
          question_category,
          session_id,
          created_at,
          score,
          response_time_ms
        `).eq("organization_id",e);if(t!=null&&t.from&&(n=n.gte("created_at",t.from.toISOString())),t!=null&&t.to){const f=new Date(t.to);f.setDate(f.getDate()+1),n=n.lt("created_at",f.toISOString())}const{data:s}=await n;let o=F.from("feedback_sessions").select("id, status, created_at, total_score").eq("organization_id",e);if(t!=null&&t.from&&(o=o.gte("created_at",t.from.toISOString())),t!=null&&t.to){const f=new Date(t.to);f.setDate(f.getDate()+1),o=o.lt("created_at",f.toISOString())}const{data:i}=await o,l=(r||[]).map(f=>{const d=(s||[]).filter(y=>y.question_id===f.id),h=d.length,p=i&&i.length>0?Math.round(h/i.length*100):0,x={};d.forEach(y=>{const v=JSON.stringify(y.response_value);x[v]=(x[v]||0)+1});const g=[];if(p>80?g.push("High completion rate indicates good user engagement"):p<50&&g.push("Low completion rate may indicate question complexity"),h>0){const y=d.reduce((v,b)=>v+(b.score||0),0)/h;y>8?g.push("High satisfaction scores"):y<5&&g.push("Low satisfaction scores need attention")}let w="neutral";return p>70&&g.some(y=>y.includes("High"))?w="positive":p<50||g.some(y=>y.includes("Low"))?w="negative":g.length>1&&(w="mixed"),{id:f.id,question_text:f.question_text,question_type:f.question_type||"text",category:f.category||"General",total_responses:h,completion_rate:p,avg_score:d.reduce((y,v)=>y+(v.score||0),0)/(h||1),response_distribution:x,insights:g,trend:w}}),c=new Map;l.forEach(f=>{const d=f.category;c.has(d)||c.set(d,{category:d,total_questions:0,total_responses:0,completion_rate:0,questions:[],avg_score:0});const h=c.get(d);h.total_questions+=1,h.total_responses+=f.total_responses,h.questions.push(f)});const u=Array.from(c.values()).map(f=>({...f,completion_rate:f.questions.length>0?Math.round(f.questions.reduce((d,h)=>d+h.completion_rate,0)/f.questions.length):0,avg_score:f.questions.length>0?f.questions.reduce((d,h)=>d+h.avg_score,0)/f.questions.length:0}));return{questions:l,categories:u,summary:{total_questions:l.length,total_responses:l.reduce((f,d)=>f+d.total_responses,0),overall_completion_rate:u.length>0?Math.round(u.reduce((f,d)=>f+d.completion_rate,0)/u.length):0,overall_avg_score:l.length>0?l.reduce((f,d)=>f+d.avg_score,0)/l.length:0}}},enabled:!!e,staleTime:5*60*1e3})},xF=m.createContext(null),wF=({children:e})=>{console.log("DashboardDataProvider rendering");const{organization:t,loading:r}=fl();console.log("Organization from context:",{organization:t,orgLoading:r});const{data:n,isLoading:s,error:o}=pn({queryKey:["organization-stats",t==null?void 0:t.id],queryFn:()=>(console.log("Fetching stats for organization:",t==null?void 0:t.id),qD(t.id)),enabled:!!(t!=null&&t.id)});console.log("Stats query result:",{stats:n,statsLoading:s,error:o});const{data:i,isLoading:l}=yF((t==null?void 0:t.id)||""),c=r||s||l,u=n||null;console.log("DashboardDataProvider state:",{organization:t==null?void 0:t.name,hasStats:!!u,isLoading:c,error:o==null?void 0:o.message});const f={organization:t,stats:u,analyticsData:i,isLoading:c,error:o};return a.jsx(xF.Provider,{value:f,children:e})},bF=A.lazy(()=>Lt(()=>import("./MembersTab-B7i7B61K.js"),[])),jF=A.lazy(()=>Lt(()=>import("./InboxTab-5iFu4wsb.js"),__vite__mapDeps([0,1,2,3]))),_F=A.lazy(()=>Lt(()=>import("./AdvancedDashboardTab-DrNxZm9a.js"),__vite__mapDeps([4,5,6,7,8,2,9]))),SF=A.lazy(()=>Lt(()=>import("./CustomerInsightsTab-DgNBClOI.js"),__vite__mapDeps([10,5,8,9]))),NF=A.lazy(()=>Lt(()=>import("./SentimentTab-CLZp1AXi.js"),__vite__mapDeps([11,5,7]))),kF=A.lazy(()=>Lt(()=>import("./FeedbackTab-DWJ0fZTT.js"),__vite__mapDeps([12,5,1,8,6]))),EF=A.lazy(()=>Lt(()=>import("./IntegrationsTab-Cv6QLJ3j.js"),__vite__mapDeps([13,1,3,2]))),CF=A.lazy(()=>Lt(()=>import("./QuestionsTab-D_9xQvAc.js"),[])),RF=A.lazy(()=>Lt(()=>import("./SettingsTab-COQdRlWd.js"),[])),PF=({activeTab:e,setActiveTab:t,organization:r,stats:n,isLiveActivity:s,setIsLiveActivity:o,handleQuickActions:i})=>a.jsx("div",{children:a.jsxs(ml,{value:e,onValueChange:t,className:"space-y-6",children:[a.jsx(Be,{value:"overview",className:"space-y-6",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading advanced dashboard…"}),children:a.jsx(_F,{organization:r,stats:n,activeTab:e,setActiveTab:t,isLiveActivity:s,setIsLiveActivity:o,handleQuickActions:i})})}),a.jsx(Be,{value:"customer-insights",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading customer insights…"}),children:a.jsx(SF,{organizationId:r.id})})}),a.jsx(Be,{value:"sentiment",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading sentiment…"}),children:a.jsx(NF,{organizationId:r.id})})}),a.jsx(Be,{value:"members",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading members…"}),children:a.jsx(bF,{organization:r})})}),a.jsx(Be,{value:"feedback",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading feedback…"}),children:a.jsx(kF,{organizationId:r.id})})}),a.jsx(Be,{value:"inbox",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading inbox…"}),children:a.jsx(jF,{organizationId:r.id})})}),a.jsx(Be,{value:"questions",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading questions…"}),children:a.jsx(CF,{organization:r})})}),a.jsx(Be,{value:"settings",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading settings…"}),children:a.jsx(RF,{organization:r})})}),a.jsx(Be,{value:"integrations",children:a.jsx(A.Suspense,{fallback:a.jsx("div",{children:"Loading integrations…"}),children:a.jsx(EF,{})})})]})}),TF=()=>{const{user:e,isAdmin:t,signOut:r,currentOrganization:n}=bn(),{userRole:s,isLoading:o}=hl(n),i=async()=>{await r(),et.success("Successfully signed out.")};let l="Member",c=null;return t?(l="System Admin",c={icon:({className:u})=>a.jsx("div",{className:`${u} text-red-600`,children:"👑"}),label:"System Admin"}):s&&(c=Gi(s),l=c.label),console.log("DashboardUserMenu role display:",{isAdmin:t,userRole:s,role:l,currentOrganization:n,isLoading:o}),a.jsxs("div",{className:"flex items-center gap-3 ml-3",children:[a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[a.jsx(Np,{className:"w-5 h-5 text-orange-500"}),a.jsxs("div",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(e==null?void 0:e.email)||"—"}),a.jsxs("div",{className:"flex items-center gap-1",children:[(c==null?void 0:c.icon)&&a.jsx(c.icon,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:o?"Loading...":l})]})]})]}),a.jsx(te,{variant:"ghost",size:"icon",title:"Sign out",onClick:i,className:"rounded-full hover:bg-red-50 hover:text-red-600 dark:hover:bg-red-900/20",children:a.jsx(v2,{className:"w-5 h-5"})})]})},AF=()=>{const{organization:e}=fl();return a.jsx("header",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:(e==null?void 0:e.name)||"Dashboard"})}),a.jsx(TF,{})]})})})},IF=()=>{const{slug:e}=Gp(),{user:t,isAdmin:r,loading:n}=bn(),{organization:s,loading:o,error:i,refreshOrganization:l}=fl(),{hasPermission:c,userRole:u,isLoading:f}=hl(s==null?void 0:s.id),[d,h]=m.useState("overview"),[p,x]=m.useState(!1);if(m.useEffect(()=>{e&&!o&&l()},[e,l,o]),console.log("OrganizationAdminDashboard:",{slug:e,organization:s==null?void 0:s.name,userRole:u,hasViewAccess:c("view_analytics"),isAdmin:r,loading:{auth:n,org:o,rbac:f}}),n||o||f)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading dashboard..."})]})});if(!t)return a.jsx(ai,{to:"/auth",replace:!0});if(i)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs(Ge,{variant:"destructive",children:[a.jsx(Bo,{className:"h-4 w-4"}),a.jsxs(Qe,{children:["Failed to load organization: ",i]})]})});if(!s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs(Ge,{variant:"destructive",children:[a.jsx(Bo,{className:"h-4 w-4"}),a.jsx(Qe,{children:"Organization not found or you don't have access to it."})]})});if(!r&&!c("view_analytics"))return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(ky,{permission:"view_analytics",organizationId:s.id,showRequiredRole:!0,fallback:a.jsxs(Ge,{variant:"destructive",children:[a.jsx(Bo,{className:"h-4 w-4"}),a.jsx(Qe,{children:"You don't have permission to access this organization's dashboard. Contact your organization administrator for access."})]}),children:a.jsx("div",{})})});const g={onCreateQuestion:()=>h("questions"),onInviteUser:()=>h("members"),onExportData:()=>console.log("Export data"),onViewSettings:()=>h("settings")};return a.jsx(ky,{permission:"view_analytics",organizationId:s.id,showRequiredRole:!0,children:a.jsx(wF,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(AF,{}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx(PF,{activeTab:d,setActiveTab:h,organization:s,isLiveActivity:p,setIsLiveActivity:x,handleQuickActions:g})})]})})})},OF=()=>a.jsx(IF,{}),MF=()=>{const e=Kr();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},DF=()=>{const{pathname:e}=Kr();return m.useEffect(()=>{e!=="/"&&document.documentElement.classList.remove("dark")},[e]),null},LF=()=>a.jsxs("div",{className:"bg-white dark:bg-background",children:[a.jsx(Mg,{}),a.jsxs("main",{className:"max-w-4xl mx-auto pt-32 pb-16 px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-8",children:"Terms of Service"}),a.jsxs("div",{className:"prose dark:prose-invert max-w-none text-warm-gray-600 dark:text-dark-warm-600 space-y-4",children:[a.jsx("p",{children:"Last updated: June 15, 2025"}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"1. Agreement to Terms"}),a.jsx("p",{children:"By using our services, you agree to be bound by these Terms of Service. If you do not agree to these Terms, do not use the services."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"2. Use of Services"}),a.jsx("p",{children:"You may use our services only in compliance with these Terms and all applicable laws. We grant you a limited, non-exclusive, non-transferable, revocable license to use the services."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"3. Accounts"}),a.jsx("p",{children:"When you create an account with us, you must provide us with information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"4. Termination"}),a.jsx("p",{children:"We may terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"5. Governing Law"}),a.jsx("p",{children:"These Terms shall be governed by the laws of Kenya, without regard to its conflict of law provisions."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"6. Contact Us"}),a.jsx("p",{children:"If you have any questions about these Terms, please contact us at info@pulsify.bunisystems.com."})]})]}),a.jsx(Dg,{})]}),$F=()=>a.jsxs("div",{className:"bg-white dark:bg-background",children:[a.jsx(Mg,{}),a.jsxs("main",{className:"max-w-4xl mx-auto pt-32 pb-16 px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-8",children:"Privacy Policy"}),a.jsxs("div",{className:"prose dark:prose-invert max-w-none text-warm-gray-600 dark:text-dark-warm-600 space-y-4",children:[a.jsx("p",{children:"Last updated: June 15, 2025"}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"1. Introduction"}),a.jsx("p",{children:"Welcome to Pulsify. We are committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"2. Information We Collect"}),a.jsx("p",{children:"We may collect personal identification information (Name, email address, phone number, etc.) and non-personal information (browser type, etc.) from you in a variety of ways."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"3. How We Use Your Information"}),a.jsx("p",{children:"We use the information we collect to operate and maintain our services, send you marketing communications, respond to your comments and questions, and provide you with user support."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"4. Data Security"}),a.jsx("p",{children:"We take data security very seriously. Our platform is SOC 2 compliant, and all data is encrypted end-to-end. We follow industry best practices to ensure your data is safe and private. We implement a variety of security measures to maintain the safety of your personal information."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"5. Changes to This Privacy Policy"}),a.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),a.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"6. Contact Us"}),a.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at info@pulsify.bunisystems.com."})]})]}),a.jsx(Dg,{})]}),FF=()=>{const e=Yt(),[t]=Wu(),{toast:r}=dr(),[n,s]=m.useState(!0);return m.useEffect(()=>{(async()=>{var l;const i=window.location.href;console.log("=== AUTH CALLBACK START ==="),console.log("Current URL:",i),console.log("Search params:",Object.fromEntries(t.entries()));try{s(!0);const{data:c,error:u}=await F.auth.getSession();if(console.log("Session data:",c),u)throw console.error("Session error:",u),u;if(!((l=c.session)!=null&&l.user)){console.log("No session found, redirecting to auth"),e("/auth");return}const f=c.session.user;console.log("Authenticated user:",f.email);const d=t.get("type");console.log("Auth callback type:",d),console.log("=== PROCESSING REGULAR AUTH FLOW ==="),d==="signup"?(console.log("Processing signup confirmation"),r({title:"Welcome!",description:"Your account has been created successfully."})):console.log("Processing sign-in confirmation");const h=await Us.handlePostAuthRedirect(f);console.log("Redirecting to:",h),e(h)}catch(c){console.error("=== AUTH CALLBACK ERROR ==="),console.error("Auth callback error:",c),r({title:"Authentication Error",description:c.message||"Something went wrong during authentication",variant:"destructive"}),e("/auth")}finally{s(!1)}})()},[t,e,r]),n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(sm,{text:"Processing authentication..."}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Setting up your account access..."})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx(sm,{text:"Redirecting..."})})})},zF=()=>{const e=Yt(),[t]=Wu(),[r,n]=m.useState(!1),[s,o]=m.useState(""),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[f,d]=m.useState({email:"",newPassword:"",confirmPassword:""});m.useEffect(()=>{const g=t.get("access_token"),w=t.get("refresh_token"),y=t.get("type");g&&w&&y==="recovery"&&(u(!0),F.auth.setSession({access_token:g,refresh_token:w}))},[t]);const h=async g=>{if(g.preventDefault(),!f.email){o("Email is required");return}try{n(!0),o("");const{error:w}=await Us.resetPassword(f.email);if(w){o(w.message||"Failed to send reset email");return}l(!0)}catch(w){console.error("Password reset error:",w),o("Failed to send reset email. Please try again.")}finally{n(!1)}},p=async g=>{if(g.preventDefault(),f.newPassword!==f.confirmPassword){o("Passwords do not match");return}if(f.newPassword.length<6){o("Password must be at least 6 characters long");return}try{n(!0),o("");const{error:w}=await Us.updatePassword(f.newPassword);if(w){o(w.message||"Failed to update password");return}l(!0),setTimeout(()=>{e("/auth")},2e3)}catch(w){console.error("Password update error:",w),o("Failed to update password. Please try again.")}finally{n(!1)}},x=(g,w)=>{d(y=>({...y,[g]:w})),s&&o("")};return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(ue,{className:"w-full max-w-md",children:[a.jsx(Me,{children:a.jsxs(De,{className:"flex items-center gap-2 text-green-600",children:[a.jsx(ur,{className:"w-5 h-5"}),c?"Password Updated":"Reset Email Sent"]})}),a.jsx(de,{children:c?a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"Your password has been updated successfully."}),a.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login page..."})]}):a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions."}),a.jsx(te,{onClick:()=>e("/auth"),className:"w-full",children:"Back to Login"})]})})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(ue,{className:"w-full max-w-md",children:[a.jsxs(Me,{children:[a.jsxs(De,{className:"flex items-center gap-2",children:[a.jsx(p2,{className:"w-5 h-5"}),c?"Set New Password":"Reset Password"]}),a.jsx(Js,{children:c?"Enter your new password below":"Enter your email address and we'll send you a reset link"})]}),a.jsxs(de,{children:[a.jsxs("form",{onSubmit:c?p:h,className:"space-y-4",children:[s&&a.jsxs(Ge,{variant:"destructive",children:[a.jsx(Ui,{className:"h-4 w-4"}),a.jsx(Qe,{children:s})]}),c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"newPassword",children:"New Password"}),a.jsx(le,{id:"newPassword",type:"password",value:f.newPassword,onChange:g=>x("newPassword",g.target.value),placeholder:"Enter your new password",required:!0,minLength:6})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsx(le,{id:"confirmPassword",type:"password",value:f.confirmPassword,onChange:g=>x("confirmPassword",g.target.value),placeholder:"Confirm your new password",required:!0})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"email",children:"Email"}),a.jsx(le,{id:"email",type:"email",value:f.email,onChange:g=>x("email",g.target.value),placeholder:"Enter your email address",required:!0})]}),a.jsx(te,{type:"submit",className:"w-full",disabled:r,children:r?c?"Updating Password...":"Sending Email...":c?"Update Password":"Send Reset Email"})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(te,{variant:"link",onClick:()=>e("/auth"),className:"p-0",children:"Back to Login"})})]})]})})},UF=()=>{const{token:e}=Gp(),t=Yt(),[r,n]=m.useState(null),[s,o]=m.useState(!0),[i,l]=m.useState(!1),[c,u]=m.useState(""),[f,d]=m.useState(!1),[h,p]=m.useState({password:"",confirmPassword:"",firstName:"",lastName:""});m.useEffect(()=>{e&&x()},[e]);const x=async()=>{var y;try{o(!0),u("");const{data:v,error:b}=await F.rpc("validate_invitation_token",{p_token:e});if(b||!v||v.length===0||!v[0].is_valid){u(((y=v==null?void 0:v[0])==null?void 0:y.error_message)||"Invalid or expired invitation");return}const j=v[0];n({id:j.invitation_id,email:j.email,organization_id:j.organization_id,role:j.role,enhanced_role:j.enhanced_role,organizations:{id:j.organization_id,name:j.organization_name,slug:j.organization_slug}})}catch(v){console.error("Error validating invitation:",v),u("Failed to validate invitation. Please try again.")}finally{o(!1)}},g=async y=>{if(y.preventDefault(),!(!r||!e)){if(h.password!==h.confirmPassword){u("Passwords do not match");return}if(h.password.length<6){u("Password must be at least 6 characters long");return}try{l(!0),u("");const{data:v,error:b}=await F.functions.invoke("process-invitation",{body:{token:e,password:h.password,firstName:h.firstName,lastName:h.lastName}});if(b)throw b;if(!v.success){u(v.error||"Failed to process invitation");return}d(!0),setTimeout(()=>{t("/auth")},2e3)}catch(v){console.error("Error processing invitation:",v),u(v.message||"Failed to process invitation. Please try again.")}finally{l(!1)}}},w=(y,v)=>{p(b=>({...b,[y]:v})),c&&u("")};return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Validating invitation..."})]})}):c&&!r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(ue,{className:"w-full max-w-md",children:[a.jsx(Me,{children:a.jsxs(De,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(Ui,{className:"w-5 h-5"}),"Invalid Invitation"]})}),a.jsxs(de,{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:c}),a.jsx(te,{onClick:()=>t("/auth"),className:"w-full",children:"Go to Login"})]})]})}):f?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(ue,{className:"w-full max-w-md",children:[a.jsx(Me,{children:a.jsxs(De,{className:"flex items-center gap-2 text-green-600",children:[a.jsx(ur,{className:"w-5 h-5"}),"Welcome to ",r==null?void 0:r.organizations.name,"!"]})}),a.jsxs(de,{children:[a.jsxs("p",{className:"text-gray-600 mb-4",children:["Your account has been created successfully. You are now a member of ",r==null?void 0:r.organizations.name,"."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to sign in page..."})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(ue,{className:"w-full max-w-md",children:[a.jsxs(Me,{children:[a.jsxs(De,{className:"flex items-center gap-2",children:[a.jsx(zi,{className:"w-5 h-5"}),"Join ",r==null?void 0:r.organizations.name]}),a.jsxs(Js,{children:["You've been invited to join ",r==null?void 0:r.organizations.name," as a ",(r==null?void 0:r.enhanced_role)||(r==null?void 0:r.role),". Set up your password to get started."]})]}),a.jsxs(de,{children:[a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c&&a.jsxs(Ge,{variant:"destructive",children:[a.jsx(Ui,{className:"h-4 w-4"}),a.jsx(Qe,{children:c})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"email",children:"Email"}),a.jsx(le,{id:"email",type:"email",value:(r==null?void 0:r.email)||"",disabled:!0,className:"bg-gray-50"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"firstName",children:"First Name"}),a.jsx(le,{id:"firstName",type:"text",value:h.firstName,onChange:y=>w("firstName",y.target.value),placeholder:"Your first name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"lastName",children:"Last Name"}),a.jsx(le,{id:"lastName",type:"text",value:h.lastName,onChange:y=>w("lastName",y.target.value),placeholder:"Your last name"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"password",children:"Password"}),a.jsx(le,{id:"password",type:"password",value:h.password,onChange:y=>w("password",y.target.value),placeholder:"Create a secure password",required:!0,minLength:6})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx(le,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:y=>w("confirmPassword",y.target.value),placeholder:"Confirm your password",required:!0})]}),a.jsx(te,{type:"submit",className:"w-full",disabled:i,children:i?"Setting up your account...":"Accept Invitation & Join"})]}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900",children:"Organization Details"}),a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"Organization:"})," ",r==null?void 0:r.organizations.name]}),a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"Role:"})," ",(r==null?void 0:r.enhanced_role)||(r==null?void 0:r.role)]})]})]})]})})},BF=new NA;a$();function VF(){return a.jsx(PA,{client:BF,children:a.jsxs(cA,{children:[a.jsx(lP,{}),a.jsx(LP,{}),a.jsxs(LI,{children:[a.jsx(DF,{}),a.jsx(hD,{children:a.jsx(iD,{children:a.jsxs(RI,{children:[a.jsx(pt,{path:"/",element:a.jsx(F$,{})}),a.jsx(pt,{path:"/terms-of-service",element:a.jsx(LF,{})}),a.jsx(pt,{path:"/privacy-policy",element:a.jsx($F,{})}),a.jsx(pt,{path:"/admin/login",element:a.jsx(VD,{})}),a.jsx(pt,{path:"/admin",element:a.jsx(hf,{requireAdmin:!0,children:a.jsx(e$,{})})}),a.jsx(pt,{path:"/auth",element:a.jsx(BD,{})}),a.jsx(pt,{path:"/reset-password",element:a.jsx(zF,{})}),a.jsx(pt,{path:"/invitation/accept/:token",element:a.jsx(UF,{})}),a.jsx(pt,{path:"/auth-callback",element:a.jsx(FF,{})}),a.jsx(pt,{path:"/create-organization",element:a.jsx(hf,{children:a.jsx(t$,{})})}),a.jsx(pt,{path:"/admin/:slug",element:a.jsx(hf,{requiredPermission:"view_analytics",children:a.jsx(lD,{children:a.jsx(OF,{})})})}),a.jsx(pt,{path:"/:orgSlug",element:a.jsx(Ny,{})}),a.jsx(pt,{path:"/org/:slug",element:a.jsx(Ny,{})}),a.jsx(pt,{path:"*",element:a.jsx(MF,{})})]})})})]})]})})}Xw(document.getElementById("root")).render(a.jsx(A.StrictMode,{children:a.jsx(VF,{})}));export{Vr as $,Ge as A,Wr as B,ue as C,s3 as D,Oo as E,d3 as F,lN as G,ur as H,le as I,Bo as J,h2 as K,Ui as L,Ea as M,jh as N,sn as O,ky as P,ml as Q,A as R,q_ as S,gl as T,H3 as U,pl as V,nr as W,Be as X,ss as Y,_h as Z,_p as _,pn as a,Jc as a0,g2 as a1,yp as a2,Nb as a3,Du as a4,wp as a5,Pj as a6,ir as a7,Ly as a8,jb as a9,Cb as aA,St as aB,ne as aC,Kt as aD,L as aE,od as aF,Uu as aG,Wl as aH,u2 as aI,w2 as aJ,mk as aK,k2 as aL,bn as aM,x2 as aN,pa as aa,c2 as ab,Pk as ac,xn as ad,gn as ae,p2 as af,bp as ag,jg as ah,_g as ai,cd as aj,ud as ak,fd as al,hd as am,dd as an,pd as ao,md as ap,xl as aq,$a as ar,Fa as as,za as at,a5 as au,o5 as av,iz as aw,xp as ax,Or as ay,ee as az,Me as b,J as c,De as d,Js as e,de as f,yg as g,W_ as h,xg as i,a as j,wg as k,Qe as l,vl as m,vn as n,Te as o,yl as p,Ae as q,m as r,F as s,te as t,hl as u,K as v,U as w,o3 as x,iN as y,u3 as z};
