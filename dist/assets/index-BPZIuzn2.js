var kz=Object.defineProperty;var kN=e=>{throw TypeError(e)};var Cz=(e,t,r)=>t in e?kz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var pt=(e,t,r)=>Cz(e,typeof t!="symbol"?t+"":t,r),Ry=(e,t,r)=>t.has(e)||kN("Cannot "+r);var M=(e,t,r)=>(Ry(e,t,"read from private field"),r?r.call(e):t.get(e)),pe=(e,t,r)=>t.has(e)?kN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ce=(e,t,r,n)=>(Ry(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Pe=(e,t,r)=>(Ry(e,t,"access private method"),r);var wh=(e,t,r,n)=>({set _(a){ce(e,t,a,r)},get _(){return M(e,t,n)}});function Oz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ye(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Az(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var mA={exports:{}},Ug={},pA={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=Symbol.for("react.element"),Tz=Symbol.for("react.portal"),Rz=Symbol.for("react.fragment"),Mz=Symbol.for("react.strict_mode"),$z=Symbol.for("react.profiler"),Iz=Symbol.for("react.provider"),Dz=Symbol.for("react.context"),Lz=Symbol.for("react.forward_ref"),Fz=Symbol.for("react.suspense"),zz=Symbol.for("react.memo"),Uz=Symbol.for("react.lazy"),CN=Symbol.iterator;function Bz(e){return e===null||typeof e!="object"?null:(e=CN&&e[CN]||e["@@iterator"],typeof e=="function"?e:null)}var gA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vA=Object.assign,yA={};function Rc(e,t,r){this.props=e,this.context=t,this.refs=yA,this.updater=r||gA}Rc.prototype.isReactComponent={};Rc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xA(){}xA.prototype=Rc.prototype;function A1(e,t,r){this.props=e,this.context=t,this.refs=yA,this.updater=r||gA}var T1=A1.prototype=new xA;T1.constructor=A1;vA(T1,Rc.prototype);T1.isPureReactComponent=!0;var ON=Array.isArray,bA=Object.prototype.hasOwnProperty,R1={current:null},wA={key:!0,ref:!0,__self:!0,__source:!0};function jA(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)bA.call(t,n)&&!wA.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Df,type:e,key:s,ref:o,props:a,_owner:R1.current}}function qz(e,t){return{$$typeof:Df,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function M1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Df}function Wz(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var AN=/\/+/g;function My(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wz(""+e.key):t.toString(36)}function xm(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Df:case Tz:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+My(o,0):n,ON(a)?(r="",e!=null&&(r=e.replace(AN,"$&/")+"/"),xm(a,t,r,"",function(u){return u})):a!=null&&(M1(a)&&(a=qz(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(AN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",ON(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+My(s,l);o+=xm(s,t,r,c,a)}else if(c=Bz(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+My(s,l++),o+=xm(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jh(e,t,r){if(e==null)return e;var n=[],a=0;return xm(e,n,"","",function(s){return t.call(r,s,a++)}),n}function Vz(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jr={current:null},bm={transition:null},Hz={ReactCurrentDispatcher:jr,ReactCurrentBatchConfig:bm,ReactCurrentOwner:R1};function _A(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:jh,forEach:function(e,t,r){jh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return jh(e,function(){t++}),t},toArray:function(e){return jh(e,function(t){return t})||[]},only:function(e){if(!M1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Rc;Re.Fragment=Rz;Re.Profiler=$z;Re.PureComponent=A1;Re.StrictMode=Mz;Re.Suspense=Fz;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hz;Re.act=_A;Re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vA({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=R1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)bA.call(t,c)&&!wA.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Df,type:e.type,key:a,ref:s,props:n,_owner:o}};Re.createContext=function(e){return e={$$typeof:Dz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Iz,_context:e},e.Consumer=e};Re.createElement=jA;Re.createFactory=function(e){var t=jA.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:Lz,render:e}};Re.isValidElement=M1;Re.lazy=function(e){return{$$typeof:Uz,_payload:{_status:-1,_result:e},_init:Vz}};Re.memo=function(e,t){return{$$typeof:zz,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=bm.transition;bm.transition={};try{e()}finally{bm.transition=t}};Re.unstable_act=_A;Re.useCallback=function(e,t){return jr.current.useCallback(e,t)};Re.useContext=function(e){return jr.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return jr.current.useDeferredValue(e)};Re.useEffect=function(e,t){return jr.current.useEffect(e,t)};Re.useId=function(){return jr.current.useId()};Re.useImperativeHandle=function(e,t,r){return jr.current.useImperativeHandle(e,t,r)};Re.useInsertionEffect=function(e,t){return jr.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return jr.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return jr.current.useMemo(e,t)};Re.useReducer=function(e,t,r){return jr.current.useReducer(e,t,r)};Re.useRef=function(e){return jr.current.useRef(e)};Re.useState=function(e){return jr.current.useState(e)};Re.useSyncExternalStore=function(e,t,r){return jr.current.useSyncExternalStore(e,t,r)};Re.useTransition=function(){return jr.current.useTransition()};Re.version="18.3.1";pA.exports=Re;var y=pA.exports;const P=Ye(y),SA=Oz({__proto__:null,default:P},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kz=y,Gz=Symbol.for("react.element"),Yz=Symbol.for("react.fragment"),Qz=Object.prototype.hasOwnProperty,Xz=Kz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jz={key:!0,ref:!0,__self:!0,__source:!0};function NA(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Qz.call(t,n)&&!Jz.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Gz,type:e,key:s,ref:o,props:a,_owner:Xz.current}}Ug.Fragment=Yz;Ug.jsx=NA;Ug.jsxs=NA;mA.exports=Ug;var i=mA.exports,EA={exports:{}},on={},PA={exports:{}},kA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,$){var V=O.length;O.push($);e:for(;0<V;){var z=V-1>>>1,B=O[z];if(0<a(B,$))O[z]=$,O[V]=B,V=z;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],V=O.pop();if(V!==$){O[0]=V;e:for(var z=0,B=O.length,Q=B>>>1;z<Q;){var oe=2*(z+1)-1,ge=O[oe],me=oe+1,ne=O[me];if(0>a(ge,V))me<B&&0>a(ne,ge)?(O[z]=ne,O[me]=V,z=me):(O[z]=ge,O[oe]=V,z=oe);else if(me<B&&0>a(ne,V))O[z]=ne,O[me]=V,z=me;else break e}}return $}function a(O,$){var V=O.sortIndex-$.sortIndex;return V!==0?V:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=O)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function j(O){if(p=!1,w(O),!g)if(r(c)!==null)g=!0,I(_);else{var $=r(u);$!==null&&F(j,$.startTime-O)}}function _(O,$){g=!1,p&&(p=!1,b(E),E=-1),m=!0;var V=h;try{for(w($),f=r(c);f!==null&&(!(f.expirationTime>$)||O&&!T());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var B=z(f.expirationTime<=$);$=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),w($)}else n(c);f=r(c)}if(f!==null)var Q=!0;else{var oe=r(u);oe!==null&&F(j,oe.startTime-$),Q=!1}return Q}finally{f=null,h=V,m=!1}}var S=!1,N=null,E=-1,C=5,k=-1;function T(){return!(e.unstable_now()-k<C)}function A(){if(N!==null){var O=e.unstable_now();k=O;var $=!0;try{$=N(!0,O)}finally{$?D():(S=!1,N=null)}}else S=!1}var D;if(typeof x=="function")D=function(){x(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,L=R.port2;R.port1.onmessage=A,D=function(){L.postMessage(null)}}else D=function(){v(A,0)};function I(O){N=O,S||(S=!0,D())}function F(O,$){E=v(function(){O(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,I(_))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var V=h;h=$;try{return O()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=h;h=O;try{return $()}finally{h=V}},e.unstable_scheduleCallback=function(O,$,V){var z=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?z+V:z):V=z,O){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=V+B,O={id:d++,callback:$,priorityLevel:O,startTime:V,expirationTime:B,sortIndex:-1},V>z?(O.sortIndex=V,t(u,O),r(c)===null&&O===r(u)&&(p?(b(E),E=-1):p=!0,F(j,V-z))):(O.sortIndex=B,t(c,O),g||m||(g=!0,I(_))),O},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(O){var $=h;return function(){var V=h;h=$;try{return O.apply(this,arguments)}finally{h=V}}}})(kA);PA.exports=kA;var Zz=PA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eU=y,an=Zz;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CA=new Set,Sd={};function Co(e,t){Xl(e,t),Xl(e+"Capture",t)}function Xl(e,t){for(Sd[e]=t,e=0;e<t.length;e++)CA.add(t[e])}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d0=Object.prototype.hasOwnProperty,tU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TN={},RN={};function rU(e){return d0.call(RN,e)?!0:d0.call(TN,e)?!1:tU.test(e)?RN[e]=!0:(TN[e]=!0,!1)}function nU(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aU(e,t,r,n){if(t===null||typeof t>"u"||nU(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _r(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new _r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new _r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new _r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new _r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new _r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new _r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new _r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new _r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new _r(e,5,!1,e.toLowerCase(),null,!1,!1)});var $1=/[\-:]([a-z])/g;function I1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($1,I1);Qt[t]=new _r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($1,I1);Qt[t]=new _r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($1,I1);Qt[t]=new _r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new _r(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new _r(e,1,!1,e.toLowerCase(),null,!0,!0)});function D1(e,t,r,n){var a=Qt.hasOwnProperty(t)?Qt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aU(t,r,a,n)&&(r=null),n||a===null?rU(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var is=eU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_h=Symbol.for("react.element"),ll=Symbol.for("react.portal"),cl=Symbol.for("react.fragment"),L1=Symbol.for("react.strict_mode"),f0=Symbol.for("react.profiler"),OA=Symbol.for("react.provider"),AA=Symbol.for("react.context"),F1=Symbol.for("react.forward_ref"),h0=Symbol.for("react.suspense"),m0=Symbol.for("react.suspense_list"),z1=Symbol.for("react.memo"),ws=Symbol.for("react.lazy"),TA=Symbol.for("react.offscreen"),MN=Symbol.iterator;function ju(e){return e===null||typeof e!="object"?null:(e=MN&&e[MN]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,$y;function Ku(e){if($y===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$y=t&&t[1]||""}return`
`+$y+e}var Iy=!1;function Dy(e,t){if(!e||Iy)return"";Iy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Iy=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ku(e):""}function sU(e){switch(e.tag){case 5:return Ku(e.type);case 16:return Ku("Lazy");case 13:return Ku("Suspense");case 19:return Ku("SuspenseList");case 0:case 2:case 15:return e=Dy(e.type,!1),e;case 11:return e=Dy(e.type.render,!1),e;case 1:return e=Dy(e.type,!0),e;default:return""}}function p0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cl:return"Fragment";case ll:return"Portal";case f0:return"Profiler";case L1:return"StrictMode";case h0:return"Suspense";case m0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case AA:return(e.displayName||"Context")+".Consumer";case OA:return(e._context.displayName||"Context")+".Provider";case F1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z1:return t=e.displayName||null,t!==null?t:p0(e.type)||"Memo";case ws:t=e._payload,e=e._init;try{return p0(e(t))}catch{}}return null}function iU(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p0(t);case 8:return t===L1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ti(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oU(e){var t=RA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sh(e){e._valueTracker||(e._valueTracker=oU(e))}function MA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=RA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function g0(e,t){var r=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $N(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ti(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $A(e,t){t=t.checked,t!=null&&D1(e,"checked",t,!1)}function v0(e,t){$A(e,t);var r=ti(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?y0(e,t.type,r):t.hasOwnProperty("defaultValue")&&y0(e,t.type,ti(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function IN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function y0(e,t,r){(t!=="number"||zm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gu=Array.isArray;function _l(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ti(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function x0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function DN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(Gu(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ti(r)}}function IA(e,t){var r=ti(t.value),n=ti(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function LN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function DA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function b0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?DA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nh,LA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nh=Nh||document.createElement("div"),Nh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var nd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lU=["Webkit","ms","Moz","O"];Object.keys(nd).forEach(function(e){lU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nd[t]=nd[e]})});function FA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||nd.hasOwnProperty(e)&&nd[e]?(""+t).trim():t+"px"}function zA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=FA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var cU=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function w0(e,t){if(t){if(cU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function j0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _0=null;function U1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var S0=null,Sl=null,Nl=null;function FN(e){if(e=zf(e)){if(typeof S0!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Hg(t),S0(e.stateNode,e.type,t))}}function UA(e){Sl?Nl?Nl.push(e):Nl=[e]:Sl=e}function BA(){if(Sl){var e=Sl,t=Nl;if(Nl=Sl=null,FN(e),t)for(e=0;e<t.length;e++)FN(t[e])}}function qA(e,t){return e(t)}function WA(){}var Ly=!1;function VA(e,t,r){if(Ly)return e(t,r);Ly=!0;try{return qA(e,t,r)}finally{Ly=!1,(Sl!==null||Nl!==null)&&(WA(),BA())}}function Ed(e,t){var r=e.stateNode;if(r===null)return null;var n=Hg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var N0=!1;if(Ya)try{var _u={};Object.defineProperty(_u,"passive",{get:function(){N0=!0}}),window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{N0=!1}function uU(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ad=!1,Um=null,Bm=!1,E0=null,dU={onError:function(e){ad=!0,Um=e}};function fU(e,t,r,n,a,s,o,l,c){ad=!1,Um=null,uU.apply(dU,arguments)}function hU(e,t,r,n,a,s,o,l,c){if(fU.apply(this,arguments),ad){if(ad){var u=Um;ad=!1,Um=null}else throw Error(X(198));Bm||(Bm=!0,E0=u)}}function Oo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function HA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zN(e){if(Oo(e)!==e)throw Error(X(188))}function mU(e){var t=e.alternate;if(!t){if(t=Oo(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return zN(a),e;if(s===n)return zN(a),t;s=s.sibling}throw Error(X(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function KA(e){return e=mU(e),e!==null?GA(e):null}function GA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GA(e);if(t!==null)return t;e=e.sibling}return null}var YA=an.unstable_scheduleCallback,UN=an.unstable_cancelCallback,pU=an.unstable_shouldYield,gU=an.unstable_requestPaint,jt=an.unstable_now,vU=an.unstable_getCurrentPriorityLevel,B1=an.unstable_ImmediatePriority,QA=an.unstable_UserBlockingPriority,qm=an.unstable_NormalPriority,yU=an.unstable_LowPriority,XA=an.unstable_IdlePriority,Bg=null,pa=null;function xU(e){if(pa&&typeof pa.onCommitFiberRoot=="function")try{pa.onCommitFiberRoot(Bg,e,void 0,(e.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:jU,bU=Math.log,wU=Math.LN2;function jU(e){return e>>>=0,e===0?32:31-(bU(e)/wU|0)|0}var Eh=64,Ph=4194304;function Yu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Yu(l):(s&=o,s!==0&&(n=Yu(s)))}else o=r&~a,o!==0?n=Yu(o):s!==0&&(n=Yu(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Hn(t),a=1<<r,n|=e[r],t&=~a;return n}function _U(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SU(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Hn(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=_U(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function P0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JA(){var e=Eh;return Eh<<=1,!(Eh&4194240)&&(Eh=64),e}function Fy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Lf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hn(t),e[t]=r}function NU(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Hn(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function q1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Hn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ve=0;function ZA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eT,W1,tT,rT,nT,k0=!1,kh=[],qs=null,Ws=null,Vs=null,Pd=new Map,kd=new Map,Ns=[],EU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BN(e,t){switch(e){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kd.delete(t.pointerId)}}function Su(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=zf(t),t!==null&&W1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function PU(e,t,r,n,a){switch(t){case"focusin":return qs=Su(qs,e,t,r,n,a),!0;case"dragenter":return Ws=Su(Ws,e,t,r,n,a),!0;case"mouseover":return Vs=Su(Vs,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Pd.set(s,Su(Pd.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,kd.set(s,Su(kd.get(s)||null,e,t,r,n,a)),!0}return!1}function aT(e){var t=Wi(e.target);if(t!==null){var r=Oo(t);if(r!==null){if(t=r.tag,t===13){if(t=HA(r),t!==null){e.blockedOn=t,nT(e.priority,function(){tT(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=C0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_0=n,r.target.dispatchEvent(n),_0=null}else return t=zf(r),t!==null&&W1(t),e.blockedOn=r,!1;t.shift()}return!0}function qN(e,t,r){wm(e)&&r.delete(t)}function kU(){k0=!1,qs!==null&&wm(qs)&&(qs=null),Ws!==null&&wm(Ws)&&(Ws=null),Vs!==null&&wm(Vs)&&(Vs=null),Pd.forEach(qN),kd.forEach(qN)}function Nu(e,t){e.blockedOn===t&&(e.blockedOn=null,k0||(k0=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,kU)))}function Cd(e){function t(a){return Nu(a,e)}if(0<kh.length){Nu(kh[0],e);for(var r=1;r<kh.length;r++){var n=kh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qs!==null&&Nu(qs,e),Ws!==null&&Nu(Ws,e),Vs!==null&&Nu(Vs,e),Pd.forEach(t),kd.forEach(t),r=0;r<Ns.length;r++)n=Ns[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ns.length&&(r=Ns[0],r.blockedOn===null);)aT(r),r.blockedOn===null&&Ns.shift()}var El=is.ReactCurrentBatchConfig,Vm=!0;function CU(e,t,r,n){var a=Ve,s=El.transition;El.transition=null;try{Ve=1,V1(e,t,r,n)}finally{Ve=a,El.transition=s}}function OU(e,t,r,n){var a=Ve,s=El.transition;El.transition=null;try{Ve=4,V1(e,t,r,n)}finally{Ve=a,El.transition=s}}function V1(e,t,r,n){if(Vm){var a=C0(e,t,r,n);if(a===null)Yy(e,t,n,Hm,r),BN(e,n);else if(PU(a,e,t,r,n))n.stopPropagation();else if(BN(e,n),t&4&&-1<EU.indexOf(e)){for(;a!==null;){var s=zf(a);if(s!==null&&eT(s),s=C0(e,t,r,n),s===null&&Yy(e,t,n,Hm,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Yy(e,t,n,null,r)}}var Hm=null;function C0(e,t,r,n){if(Hm=null,e=U1(n),e=Wi(e),e!==null)if(t=Oo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=HA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hm=e,null}function sT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vU()){case B1:return 1;case QA:return 4;case qm:case yU:return 16;case XA:return 536870912;default:return 16}default:return 16}}var Ls=null,H1=null,jm=null;function iT(){if(jm)return jm;var e,t=H1,r=t.length,n,a="value"in Ls?Ls.value:Ls.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return jm=a.slice(e,1<n?1-n:void 0)}function _m(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ch(){return!0}function WN(){return!1}function ln(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ch:WN,this.isPropagationStopped=WN,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),t}var Mc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},K1=ln(Mc),Ff=ht({},Mc,{view:0,detail:0}),AU=ln(Ff),zy,Uy,Eu,qg=ht({},Ff,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:G1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Eu&&(Eu&&e.type==="mousemove"?(zy=e.screenX-Eu.screenX,Uy=e.screenY-Eu.screenY):Uy=zy=0,Eu=e),zy)},movementY:function(e){return"movementY"in e?e.movementY:Uy}}),VN=ln(qg),TU=ht({},qg,{dataTransfer:0}),RU=ln(TU),MU=ht({},Ff,{relatedTarget:0}),By=ln(MU),$U=ht({},Mc,{animationName:0,elapsedTime:0,pseudoElement:0}),IU=ln($U),DU=ht({},Mc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LU=ln(DU),FU=ht({},Mc,{data:0}),HN=ln(FU),zU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BU[e])?!!t[e]:!1}function G1(){return qU}var WU=ht({},Ff,{key:function(e){if(e.key){var t=zU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_m(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:G1,charCode:function(e){return e.type==="keypress"?_m(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_m(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VU=ln(WU),HU=ht({},qg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KN=ln(HU),KU=ht({},Ff,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:G1}),GU=ln(KU),YU=ht({},Mc,{propertyName:0,elapsedTime:0,pseudoElement:0}),QU=ln(YU),XU=ht({},qg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JU=ln(XU),ZU=[9,13,27,32],Y1=Ya&&"CompositionEvent"in window,sd=null;Ya&&"documentMode"in document&&(sd=document.documentMode);var eB=Ya&&"TextEvent"in window&&!sd,oT=Ya&&(!Y1||sd&&8<sd&&11>=sd),GN=" ",YN=!1;function lT(e,t){switch(e){case"keyup":return ZU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ul=!1;function tB(e,t){switch(e){case"compositionend":return cT(t);case"keypress":return t.which!==32?null:(YN=!0,GN);case"textInput":return e=t.data,e===GN&&YN?null:e;default:return null}}function rB(e,t){if(ul)return e==="compositionend"||!Y1&&lT(e,t)?(e=iT(),jm=H1=Ls=null,ul=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oT&&t.locale!=="ko"?null:t.data;default:return null}}var nB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nB[e.type]:t==="textarea"}function uT(e,t,r,n){UA(n),t=Km(t,"onChange"),0<t.length&&(r=new K1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var id=null,Od=null;function aB(e){wT(e,0)}function Wg(e){var t=hl(e);if(MA(t))return e}function sB(e,t){if(e==="change")return t}var dT=!1;if(Ya){var qy;if(Ya){var Wy="oninput"in document;if(!Wy){var XN=document.createElement("div");XN.setAttribute("oninput","return;"),Wy=typeof XN.oninput=="function"}qy=Wy}else qy=!1;dT=qy&&(!document.documentMode||9<document.documentMode)}function JN(){id&&(id.detachEvent("onpropertychange",fT),Od=id=null)}function fT(e){if(e.propertyName==="value"&&Wg(Od)){var t=[];uT(t,Od,e,U1(e)),VA(aB,t)}}function iB(e,t,r){e==="focusin"?(JN(),id=t,Od=r,id.attachEvent("onpropertychange",fT)):e==="focusout"&&JN()}function oB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wg(Od)}function lB(e,t){if(e==="click")return Wg(t)}function cB(e,t){if(e==="input"||e==="change")return Wg(t)}function uB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:uB;function Ad(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d0.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function ZN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eE(e,t){var r=ZN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ZN(r)}}function hT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mT(){for(var e=window,t=zm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zm(e.document)}return t}function Q1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dB(e){var t=mT(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hT(r.ownerDocument.documentElement,r)){if(n!==null&&Q1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=eE(r,s);var o=eE(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fB=Ya&&"documentMode"in document&&11>=document.documentMode,dl=null,O0=null,od=null,A0=!1;function tE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;A0||dl==null||dl!==zm(n)||(n=dl,"selectionStart"in n&&Q1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),od&&Ad(od,n)||(od=n,n=Km(O0,"onSelect"),0<n.length&&(t=new K1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=dl)))}function Oh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fl={animationend:Oh("Animation","AnimationEnd"),animationiteration:Oh("Animation","AnimationIteration"),animationstart:Oh("Animation","AnimationStart"),transitionend:Oh("Transition","TransitionEnd")},Vy={},pT={};Ya&&(pT=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Vg(e){if(Vy[e])return Vy[e];if(!fl[e])return e;var t=fl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pT)return Vy[e]=t[r];return e}var gT=Vg("animationend"),vT=Vg("animationiteration"),yT=Vg("animationstart"),xT=Vg("transitionend"),bT=new Map,rE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(e,t){bT.set(e,t),Co(t,[e])}for(var Hy=0;Hy<rE.length;Hy++){var Ky=rE[Hy],hB=Ky.toLowerCase(),mB=Ky[0].toUpperCase()+Ky.slice(1);vi(hB,"on"+mB)}vi(gT,"onAnimationEnd");vi(vT,"onAnimationIteration");vi(yT,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(xT,"onTransitionEnd");Xl("onMouseEnter",["mouseout","mouseover"]);Xl("onMouseLeave",["mouseout","mouseover"]);Xl("onPointerEnter",["pointerout","pointerover"]);Xl("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qu));function nE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hU(n,t,void 0,e),e.currentTarget=null}function wT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;nE(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;nE(a,l,u),s=c}}}if(Bm)throw e=E0,Bm=!1,E0=null,e}function st(e,t){var r=t[I0];r===void 0&&(r=t[I0]=new Set);var n=e+"__bubble";r.has(n)||(jT(t,e,2,!1),r.add(n))}function Gy(e,t,r){var n=0;t&&(n|=4),jT(r,e,n,t)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Td(e){if(!e[Ah]){e[Ah]=!0,CA.forEach(function(r){r!=="selectionchange"&&(pB.has(r)||Gy(r,!1,e),Gy(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ah]||(t[Ah]=!0,Gy("selectionchange",!1,t))}}function jT(e,t,r,n){switch(sT(t)){case 1:var a=CU;break;case 4:a=OU;break;default:a=V1}r=a.bind(null,t,r,e),a=void 0,!N0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Yy(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Wi(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}VA(function(){var u=s,d=U1(r),f=[];e:{var h=bT.get(e);if(h!==void 0){var m=K1,g=e;switch(e){case"keypress":if(_m(r)===0)break e;case"keydown":case"keyup":m=VU;break;case"focusin":g="focus",m=By;break;case"focusout":g="blur",m=By;break;case"beforeblur":case"afterblur":m=By;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=VN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=RU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=GU;break;case gT:case vT:case yT:m=IU;break;case xT:m=QU;break;case"scroll":m=AU;break;case"wheel":m=JU;break;case"copy":case"cut":case"paste":m=LU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=KN}var p=(t&4)!==0,v=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,b!==null&&(j=Ed(x,b),j!=null&&p.push(Rd(x,j,w)))),v)break;x=x.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==_0&&(g=r.relatedTarget||r.fromElement)&&(Wi(g)||g[Qa]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Wi(g):null,g!==null&&(v=Oo(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=VN,j="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=KN,j="onPointerLeave",b="onPointerEnter",x="pointer"),v=m==null?h:hl(m),w=g==null?h:hl(g),h=new p(j,x+"leave",m,r,d),h.target=v,h.relatedTarget=w,j=null,Wi(d)===u&&(p=new p(b,x+"enter",g,r,d),p.target=w,p.relatedTarget=v,j=p),v=j,m&&g)t:{for(p=m,b=g,x=0,w=p;w;w=Ho(w))x++;for(w=0,j=b;j;j=Ho(j))w++;for(;0<x-w;)p=Ho(p),x--;for(;0<w-x;)b=Ho(b),w--;for(;x--;){if(p===b||b!==null&&p===b.alternate)break t;p=Ho(p),b=Ho(b)}p=null}else p=null;m!==null&&aE(f,h,m,p,!1),g!==null&&v!==null&&aE(f,v,g,p,!0)}}e:{if(h=u?hl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=sB;else if(QN(h))if(dT)_=cB;else{_=oB;var S=iB}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=lB);if(_&&(_=_(e,u))){uT(f,_,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&y0(h,"number",h.value)}switch(S=u?hl(u):window,e){case"focusin":(QN(S)||S.contentEditable==="true")&&(dl=S,O0=u,od=null);break;case"focusout":od=O0=dl=null;break;case"mousedown":A0=!0;break;case"contextmenu":case"mouseup":case"dragend":A0=!1,tE(f,r,d);break;case"selectionchange":if(fB)break;case"keydown":case"keyup":tE(f,r,d)}var N;if(Y1)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ul?lT(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(oT&&r.locale!=="ko"&&(ul||E!=="onCompositionStart"?E==="onCompositionEnd"&&ul&&(N=iT()):(Ls=d,H1="value"in Ls?Ls.value:Ls.textContent,ul=!0)),S=Km(u,E),0<S.length&&(E=new HN(E,e,null,r,d),f.push({event:E,listeners:S}),N?E.data=N:(N=cT(r),N!==null&&(E.data=N)))),(N=eB?tB(e,r):rB(e,r))&&(u=Km(u,"onBeforeInput"),0<u.length&&(d=new HN("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}wT(f,t)})}function Rd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Km(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Ed(e,r),s!=null&&n.unshift(Rd(e,s,a)),s=Ed(e,t),s!=null&&n.push(Rd(e,s,a))),e=e.return}return n}function Ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function aE(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Ed(r,s),c!=null&&o.unshift(Rd(r,c,l))):a||(c=Ed(r,s),c!=null&&o.push(Rd(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var gB=/\r\n?/g,vB=/\u0000|\uFFFD/g;function sE(e){return(typeof e=="string"?e:""+e).replace(gB,`
`).replace(vB,"")}function Th(e,t,r){if(t=sE(t),sE(e)!==t&&r)throw Error(X(425))}function Gm(){}var T0=null,R0=null;function M0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $0=typeof setTimeout=="function"?setTimeout:void 0,yB=typeof clearTimeout=="function"?clearTimeout:void 0,iE=typeof Promise=="function"?Promise:void 0,xB=typeof queueMicrotask=="function"?queueMicrotask:typeof iE<"u"?function(e){return iE.resolve(null).then(e).catch(bB)}:$0;function bB(e){setTimeout(function(){throw e})}function Qy(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Cd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Cd(t)}function Hs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $c=Math.random().toString(36).slice(2),fa="__reactFiber$"+$c,Md="__reactProps$"+$c,Qa="__reactContainer$"+$c,I0="__reactEvents$"+$c,wB="__reactListeners$"+$c,jB="__reactHandles$"+$c;function Wi(e){var t=e[fa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qa]||r[fa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=oE(e);e!==null;){if(r=e[fa])return r;e=oE(e)}return t}e=r,r=e.parentNode}return null}function zf(e){return e=e[fa]||e[Qa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Hg(e){return e[Md]||null}var D0=[],ml=-1;function yi(e){return{current:e}}function lt(e){0>ml||(e.current=D0[ml],D0[ml]=null,ml--)}function rt(e,t){ml++,D0[ml]=e.current,e.current=t}var ri={},ur=yi(ri),Ir=yi(!1),co=ri;function Jl(e,t){var r=e.type.contextTypes;if(!r)return ri;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Dr(e){return e=e.childContextTypes,e!=null}function Ym(){lt(Ir),lt(ur)}function lE(e,t,r){if(ur.current!==ri)throw Error(X(168));rt(ur,t),rt(Ir,r)}function _T(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(X(108,iU(e)||"Unknown",a));return ht({},r,n)}function Qm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ri,co=ur.current,rt(ur,e),rt(Ir,Ir.current),!0}function cE(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=_T(e,t,co),n.__reactInternalMemoizedMergedChildContext=e,lt(Ir),lt(ur),rt(ur,e)):lt(Ir),rt(Ir,r)}var Ma=null,Kg=!1,Xy=!1;function ST(e){Ma===null?Ma=[e]:Ma.push(e)}function _B(e){Kg=!0,ST(e)}function xi(){if(!Xy&&Ma!==null){Xy=!0;var e=0,t=Ve;try{var r=Ma;for(Ve=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ma=null,Kg=!1}catch(a){throw Ma!==null&&(Ma=Ma.slice(e+1)),YA(B1,xi),a}finally{Ve=t,Xy=!1}}return null}var pl=[],gl=0,Xm=null,Jm=0,pn=[],gn=0,uo=null,Da=1,La="";function Mi(e,t){pl[gl++]=Jm,pl[gl++]=Xm,Xm=e,Jm=t}function NT(e,t,r){pn[gn++]=Da,pn[gn++]=La,pn[gn++]=uo,uo=e;var n=Da;e=La;var a=32-Hn(n)-1;n&=~(1<<a),r+=1;var s=32-Hn(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Da=1<<32-Hn(t)+a|r<<a|n,La=s+e}else Da=1<<s|r<<a|n,La=e}function X1(e){e.return!==null&&(Mi(e,1),NT(e,1,0))}function J1(e){for(;e===Xm;)Xm=pl[--gl],pl[gl]=null,Jm=pl[--gl],pl[gl]=null;for(;e===uo;)uo=pn[--gn],pn[gn]=null,La=pn[--gn],pn[gn]=null,Da=pn[--gn],pn[gn]=null}var tn=null,en=null,ct=!1,zn=null;function ET(e,t){var r=vn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,en=Hs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,en=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=uo!==null?{id:Da,overflow:La}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tn=e,en=null,!0):!1;default:return!1}}function L0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function F0(e){if(ct){var t=en;if(t){var r=t;if(!uE(e,t)){if(L0(e))throw Error(X(418));t=Hs(r.nextSibling);var n=tn;t&&uE(e,t)?ET(n,r):(e.flags=e.flags&-4097|2,ct=!1,tn=e)}}else{if(L0(e))throw Error(X(418));e.flags=e.flags&-4097|2,ct=!1,tn=e}}}function dE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function Rh(e){if(e!==tn)return!1;if(!ct)return dE(e),ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!M0(e.type,e.memoizedProps)),t&&(t=en)){if(L0(e))throw PT(),Error(X(418));for(;t;)ET(e,t),t=Hs(t.nextSibling)}if(dE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){en=Hs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}en=null}}else en=tn?Hs(e.stateNode.nextSibling):null;return!0}function PT(){for(var e=en;e;)e=Hs(e.nextSibling)}function Zl(){en=tn=null,ct=!1}function Z1(e){zn===null?zn=[e]:zn.push(e)}var SB=is.ReactCurrentBatchConfig;function Pu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function Mh(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fE(e){var t=e._init;return t(e._payload)}function kT(e){function t(b,x){if(e){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function a(b,x){return b=Qs(b,x),b.index=0,b.sibling=null,b}function s(b,x,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,w,j){return x===null||x.tag!==6?(x=ax(w,b.mode,j),x.return=b,x):(x=a(x,w),x.return=b,x)}function c(b,x,w,j){var _=w.type;return _===cl?d(b,x,w.props.children,j,w.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ws&&fE(_)===x.type)?(j=a(x,w.props),j.ref=Pu(b,x,w),j.return=b,j):(j=Om(w.type,w.key,w.props,null,b.mode,j),j.ref=Pu(b,x,w),j.return=b,j)}function u(b,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=sx(w,b.mode,j),x.return=b,x):(x=a(x,w.children||[]),x.return=b,x)}function d(b,x,w,j,_){return x===null||x.tag!==7?(x=so(w,b.mode,j,_),x.return=b,x):(x=a(x,w),x.return=b,x)}function f(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ax(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _h:return w=Om(x.type,x.key,x.props,null,b.mode,w),w.ref=Pu(b,null,x),w.return=b,w;case ll:return x=sx(x,b.mode,w),x.return=b,x;case ws:var j=x._init;return f(b,j(x._payload),w)}if(Gu(x)||ju(x))return x=so(x,b.mode,w,null),x.return=b,x;Mh(b,x)}return null}function h(b,x,w,j){var _=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(b,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _h:return w.key===_?c(b,x,w,j):null;case ll:return w.key===_?u(b,x,w,j):null;case ws:return _=w._init,h(b,x,_(w._payload),j)}if(Gu(w)||ju(w))return _!==null?null:d(b,x,w,j,null);Mh(b,w)}return null}function m(b,x,w,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(w)||null,l(x,b,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _h:return b=b.get(j.key===null?w:j.key)||null,c(x,b,j,_);case ll:return b=b.get(j.key===null?w:j.key)||null,u(x,b,j,_);case ws:var S=j._init;return m(b,x,w,S(j._payload),_)}if(Gu(j)||ju(j))return b=b.get(w)||null,d(x,b,j,_,null);Mh(x,j)}return null}function g(b,x,w,j){for(var _=null,S=null,N=x,E=x=0,C=null;N!==null&&E<w.length;E++){N.index>E?(C=N,N=null):C=N.sibling;var k=h(b,N,w[E],j);if(k===null){N===null&&(N=C);break}e&&N&&k.alternate===null&&t(b,N),x=s(k,x,E),S===null?_=k:S.sibling=k,S=k,N=C}if(E===w.length)return r(b,N),ct&&Mi(b,E),_;if(N===null){for(;E<w.length;E++)N=f(b,w[E],j),N!==null&&(x=s(N,x,E),S===null?_=N:S.sibling=N,S=N);return ct&&Mi(b,E),_}for(N=n(b,N);E<w.length;E++)C=m(N,b,E,w[E],j),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?E:C.key),x=s(C,x,E),S===null?_=C:S.sibling=C,S=C);return e&&N.forEach(function(T){return t(b,T)}),ct&&Mi(b,E),_}function p(b,x,w,j){var _=ju(w);if(typeof _!="function")throw Error(X(150));if(w=_.call(w),w==null)throw Error(X(151));for(var S=_=null,N=x,E=x=0,C=null,k=w.next();N!==null&&!k.done;E++,k=w.next()){N.index>E?(C=N,N=null):C=N.sibling;var T=h(b,N,k.value,j);if(T===null){N===null&&(N=C);break}e&&N&&T.alternate===null&&t(b,N),x=s(T,x,E),S===null?_=T:S.sibling=T,S=T,N=C}if(k.done)return r(b,N),ct&&Mi(b,E),_;if(N===null){for(;!k.done;E++,k=w.next())k=f(b,k.value,j),k!==null&&(x=s(k,x,E),S===null?_=k:S.sibling=k,S=k);return ct&&Mi(b,E),_}for(N=n(b,N);!k.done;E++,k=w.next())k=m(N,b,E,k.value,j),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?E:k.key),x=s(k,x,E),S===null?_=k:S.sibling=k,S=k);return e&&N.forEach(function(A){return t(b,A)}),ct&&Mi(b,E),_}function v(b,x,w,j){if(typeof w=="object"&&w!==null&&w.type===cl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case _h:e:{for(var _=w.key,S=x;S!==null;){if(S.key===_){if(_=w.type,_===cl){if(S.tag===7){r(b,S.sibling),x=a(S,w.props.children),x.return=b,b=x;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ws&&fE(_)===S.type){r(b,S.sibling),x=a(S,w.props),x.ref=Pu(b,S,w),x.return=b,b=x;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===cl?(x=so(w.props.children,b.mode,j,w.key),x.return=b,b=x):(j=Om(w.type,w.key,w.props,null,b.mode,j),j.ref=Pu(b,x,w),j.return=b,b=j)}return o(b);case ll:e:{for(S=w.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(b,x.sibling),x=a(x,w.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=sx(w,b.mode,j),x.return=b,b=x}return o(b);case ws:return S=w._init,v(b,x,S(w._payload),j)}if(Gu(w))return g(b,x,w,j);if(ju(w))return p(b,x,w,j);Mh(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(b,x.sibling),x=a(x,w),x.return=b,b=x):(r(b,x),x=ax(w,b.mode,j),x.return=b,b=x),o(b)):r(b,x)}return v}var ec=kT(!0),CT=kT(!1),Zm=yi(null),ep=null,vl=null,ej=null;function tj(){ej=vl=ep=null}function rj(e){var t=Zm.current;lt(Zm),e._currentValue=t}function z0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pl(e,t){ep=e,ej=vl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mr=!0),e.firstContext=null)}function Sn(e){var t=e._currentValue;if(ej!==e)if(e={context:e,memoizedValue:t,next:null},vl===null){if(ep===null)throw Error(X(308));vl=e,ep.dependencies={lanes:0,firstContext:e}}else vl=vl.next=e;return t}var Vi=null;function nj(e){Vi===null?Vi=[e]:Vi.push(e)}function OT(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,nj(t)):(r.next=a.next,a.next=r),t.interleaved=r,Xa(e,n)}function Xa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var js=!1;function aj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Xa(e,r)}return a=n.interleaved,a===null?(t.next=t,nj(n)):(t.next=a.next,a.next=t),n.interleaved=t,Xa(e,r)}function Sm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q1(e,r)}}function hE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function tp(e,t,r,n){var a=e.updateQueue;js=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=ht({},f,h);break e;case 2:js=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);ho|=o,e.lanes=o,e.memoizedState=f}}function mE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(X(191,a));a.call(n)}}}var Uf={},ga=yi(Uf),$d=yi(Uf),Id=yi(Uf);function Hi(e){if(e===Uf)throw Error(X(174));return e}function sj(e,t){switch(rt(Id,t),rt($d,e),rt(ga,Uf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:b0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=b0(t,e)}lt(ga),rt(ga,t)}function tc(){lt(ga),lt($d),lt(Id)}function TT(e){Hi(Id.current);var t=Hi(ga.current),r=b0(t,e.type);t!==r&&(rt($d,e),rt(ga,r))}function ij(e){$d.current===e&&(lt(ga),lt($d))}var dt=yi(0);function rp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jy=[];function oj(){for(var e=0;e<Jy.length;e++)Jy[e]._workInProgressVersionPrimary=null;Jy.length=0}var Nm=is.ReactCurrentDispatcher,Zy=is.ReactCurrentBatchConfig,fo=0,ft=null,Tt=null,zt=null,np=!1,ld=!1,Dd=0,NB=0;function Jt(){throw Error(X(321))}function lj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yn(e[r],t[r]))return!1;return!0}function cj(e,t,r,n,a,s){if(fo=s,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nm.current=e===null||e.memoizedState===null?CB:OB,e=r(n,a),ld){s=0;do{if(ld=!1,Dd=0,25<=s)throw Error(X(301));s+=1,zt=Tt=null,t.updateQueue=null,Nm.current=AB,e=r(n,a)}while(ld)}if(Nm.current=ap,t=Tt!==null&&Tt.next!==null,fo=0,zt=Tt=ft=null,np=!1,t)throw Error(X(300));return e}function uj(){var e=Dd!==0;return Dd=0,e}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ft.memoizedState=zt=e:zt=zt.next=e,zt}function Nn(){if(Tt===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=zt===null?ft.memoizedState:zt.next;if(t!==null)zt=t,Tt=e;else{if(e===null)throw Error(X(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},zt===null?ft.memoizedState=zt=e:zt=zt.next=e}return zt}function Ld(e,t){return typeof t=="function"?t(e):t}function ex(e){var t=Nn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=Tt,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((fo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,ft.lanes|=d,ho|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Yn(n,t.memoizedState)||(Mr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,ft.lanes|=s,ho|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tx(e){var t=Nn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Yn(s,t.memoizedState)||(Mr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function RT(){}function MT(e,t){var r=ft,n=Nn(),a=t(),s=!Yn(n.memoizedState,a);if(s&&(n.memoizedState=a,Mr=!0),n=n.queue,dj(DT.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||zt!==null&&zt.memoizedState.tag&1){if(r.flags|=2048,Fd(9,IT.bind(null,r,n,a,t),void 0,null),Bt===null)throw Error(X(349));fo&30||$T(r,t,a)}return a}function $T(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function IT(e,t,r,n){t.value=r,t.getSnapshot=n,LT(t)&&FT(e)}function DT(e,t,r){return r(function(){LT(t)&&FT(e)})}function LT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yn(e,r)}catch{return!0}}function FT(e){var t=Xa(e,1);t!==null&&Kn(t,e,1,-1)}function pE(e){var t=oa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ld,lastRenderedState:e},t.queue=e,e=e.dispatch=kB.bind(null,ft,e),[t.memoizedState,e]}function Fd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function zT(){return Nn().memoizedState}function Em(e,t,r,n){var a=oa();ft.flags|=e,a.memoizedState=Fd(1|t,r,void 0,n===void 0?null:n)}function Gg(e,t,r,n){var a=Nn();n=n===void 0?null:n;var s=void 0;if(Tt!==null){var o=Tt.memoizedState;if(s=o.destroy,n!==null&&lj(n,o.deps)){a.memoizedState=Fd(t,r,s,n);return}}ft.flags|=e,a.memoizedState=Fd(1|t,r,s,n)}function gE(e,t){return Em(8390656,8,e,t)}function dj(e,t){return Gg(2048,8,e,t)}function UT(e,t){return Gg(4,2,e,t)}function BT(e,t){return Gg(4,4,e,t)}function qT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function WT(e,t,r){return r=r!=null?r.concat([e]):null,Gg(4,4,qT.bind(null,t,e),r)}function fj(){}function VT(e,t){var r=Nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lj(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HT(e,t){var r=Nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lj(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function KT(e,t,r){return fo&21?(Yn(r,t)||(r=JA(),ft.lanes|=r,ho|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mr=!0),e.memoizedState=r)}function EB(e,t){var r=Ve;Ve=r!==0&&4>r?r:4,e(!0);var n=Zy.transition;Zy.transition={};try{e(!1),t()}finally{Ve=r,Zy.transition=n}}function GT(){return Nn().memoizedState}function PB(e,t,r){var n=Ys(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},YT(e))QT(t,r);else if(r=OT(e,t,r,n),r!==null){var a=br();Kn(r,e,n,a),XT(r,t,n)}}function kB(e,t,r){var n=Ys(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(YT(e))QT(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Yn(l,o)){var c=t.interleaved;c===null?(a.next=a,nj(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=OT(e,t,a,n),r!==null&&(a=br(),Kn(r,e,n,a),XT(r,t,n))}}function YT(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function QT(e,t){ld=np=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function XT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q1(e,r)}}var ap={readContext:Sn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},CB={readContext:Sn,useCallback:function(e,t){return oa().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:gE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Em(4194308,4,qT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Em(4194308,4,e,t)},useInsertionEffect:function(e,t){return Em(4,2,e,t)},useMemo:function(e,t){var r=oa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=oa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=PB.bind(null,ft,e),[n.memoizedState,e]},useRef:function(e){var t=oa();return e={current:e},t.memoizedState=e},useState:pE,useDebugValue:fj,useDeferredValue:function(e){return oa().memoizedState=e},useTransition:function(){var e=pE(!1),t=e[0];return e=EB.bind(null,e[1]),oa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ft,a=oa();if(ct){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Bt===null)throw Error(X(349));fo&30||$T(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,gE(DT.bind(null,n,s,e),[e]),n.flags|=2048,Fd(9,IT.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=oa(),t=Bt.identifierPrefix;if(ct){var r=La,n=Da;r=(n&~(1<<32-Hn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=NB++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OB={readContext:Sn,useCallback:VT,useContext:Sn,useEffect:dj,useImperativeHandle:WT,useInsertionEffect:UT,useLayoutEffect:BT,useMemo:HT,useReducer:ex,useRef:zT,useState:function(){return ex(Ld)},useDebugValue:fj,useDeferredValue:function(e){var t=Nn();return KT(t,Tt.memoizedState,e)},useTransition:function(){var e=ex(Ld)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:RT,useSyncExternalStore:MT,useId:GT,unstable_isNewReconciler:!1},AB={readContext:Sn,useCallback:VT,useContext:Sn,useEffect:dj,useImperativeHandle:WT,useInsertionEffect:UT,useLayoutEffect:BT,useMemo:HT,useReducer:tx,useRef:zT,useState:function(){return tx(Ld)},useDebugValue:fj,useDeferredValue:function(e){var t=Nn();return Tt===null?t.memoizedState=e:KT(t,Tt.memoizedState,e)},useTransition:function(){var e=tx(Ld)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:RT,useSyncExternalStore:MT,useId:GT,unstable_isNewReconciler:!1};function Mn(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function U0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ht({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yg={isMounted:function(e){return(e=e._reactInternals)?Oo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=br(),a=Ys(e),s=qa(n,a);s.payload=t,r!=null&&(s.callback=r),t=Ks(e,s,a),t!==null&&(Kn(t,e,a,n),Sm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=br(),a=Ys(e),s=qa(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ks(e,s,a),t!==null&&(Kn(t,e,a,n),Sm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=br(),n=Ys(e),a=qa(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ks(e,a,n),t!==null&&(Kn(t,e,n,r),Sm(t,e,n))}};function vE(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ad(r,n)||!Ad(a,s):!0}function JT(e,t,r){var n=!1,a=ri,s=t.contextType;return typeof s=="object"&&s!==null?s=Sn(s):(a=Dr(t)?co:ur.current,n=t.contextTypes,s=(n=n!=null)?Jl(e,a):ri),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function yE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Yg.enqueueReplaceState(t,t.state,null)}function B0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},aj(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Sn(s):(s=Dr(t)?co:ur.current,a.context=Jl(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(U0(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Yg.enqueueReplaceState(a,a.state,null),tp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function rc(e,t){try{var r="",n=t;do r+=sU(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function rx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function q0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TB=typeof WeakMap=="function"?WeakMap:Map;function ZT(e,t,r){r=qa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ip||(ip=!0,Z0=n),q0(e,t)},r}function eR(e,t,r){r=qa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){q0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){q0(e,t),typeof n!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function xE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new TB;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=HB.bind(null,e,t,r),t.then(e,e))}function bE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wE(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=qa(-1,1),t.tag=2,Ks(r,t,1))),r.lanes|=1),e)}var RB=is.ReactCurrentOwner,Mr=!1;function gr(e,t,r,n){t.child=e===null?CT(t,null,r,n):ec(t,e.child,r,n)}function jE(e,t,r,n,a){r=r.render;var s=t.ref;return Pl(t,a),n=cj(e,t,r,n,s,a),r=uj(),e!==null&&!Mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ja(e,t,a)):(ct&&r&&X1(t),t.flags|=1,gr(e,t,n,a),t.child)}function _E(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!bj(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,tR(e,t,s,n,a)):(e=Om(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ad,r(o,n)&&e.ref===t.ref)return Ja(e,t,a)}return t.flags|=1,e=Qs(s,n),e.ref=t.ref,e.return=t,t.child=e}function tR(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Ad(s,n)&&e.ref===t.ref)if(Mr=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Mr=!0);else return t.lanes=e.lanes,Ja(e,t,a)}return W0(e,t,r,n,a)}function rR(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(xl,Yr),Yr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(xl,Yr),Yr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,rt(xl,Yr),Yr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,rt(xl,Yr),Yr|=n;return gr(e,t,a,r),t.child}function nR(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function W0(e,t,r,n,a){var s=Dr(r)?co:ur.current;return s=Jl(t,s),Pl(t,a),r=cj(e,t,r,n,s,a),n=uj(),e!==null&&!Mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ja(e,t,a)):(ct&&n&&X1(t),t.flags|=1,gr(e,t,r,a),t.child)}function SE(e,t,r,n,a){if(Dr(r)){var s=!0;Qm(t)}else s=!1;if(Pl(t,a),t.stateNode===null)Pm(e,t),JT(t,r,n),B0(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Sn(u):(u=Dr(r)?co:ur.current,u=Jl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&yE(t,o,n,u),js=!1;var h=t.memoizedState;o.state=h,tp(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Ir.current||js?(typeof d=="function"&&(U0(t,r,d,n),c=t.memoizedState),(l=js||vE(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,AT(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Mn(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Sn(c):(c=Dr(r)?co:ur.current,c=Jl(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&yE(t,o,n,c),js=!1,h=t.memoizedState,o.state=h,tp(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||Ir.current||js?(typeof m=="function"&&(U0(t,r,m,n),g=t.memoizedState),(u=js||vE(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return V0(e,t,r,n,s,a)}function V0(e,t,r,n,a,s){nR(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&cE(t,r,!1),Ja(e,t,s);n=t.stateNode,RB.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ec(t,e.child,null,s),t.child=ec(t,null,l,s)):gr(e,t,l,s),t.memoizedState=n.state,a&&cE(t,r,!0),t.child}function aR(e){var t=e.stateNode;t.pendingContext?lE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lE(e,t.context,!1),sj(e,t.containerInfo)}function NE(e,t,r,n,a){return Zl(),Z1(a),t.flags|=256,gr(e,t,r,n),t.child}var H0={dehydrated:null,treeContext:null,retryLane:0};function K0(e){return{baseLanes:e,cachePool:null,transitions:null}}function sR(e,t,r){var n=t.pendingProps,a=dt.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),rt(dt,a&1),e===null)return F0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jg(o,n,0,null),e=so(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=K0(r),t.memoizedState=H0,e):hj(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return MB(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Qs(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Qs(l,s):(s=so(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?K0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=H0,n}return s=e.child,e=s.sibling,n=Qs(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hj(e,t){return t=Jg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $h(e,t,r,n){return n!==null&&Z1(n),ec(t,e.child,null,r),e=hj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MB(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=rx(Error(X(422))),$h(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Jg({mode:"visible",children:n.children},a,0,null),s=so(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ec(t,e.child,null,o),t.child.memoizedState=K0(o),t.memoizedState=H0,s);if(!(t.mode&1))return $h(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(X(419)),n=rx(s,n,void 0),$h(e,t,o,n)}if(l=(o&e.childLanes)!==0,Mr||l){if(n=Bt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Xa(e,a),Kn(n,e,a,-1))}return xj(),n=rx(Error(X(421))),$h(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=KB.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,en=Hs(a.nextSibling),tn=t,ct=!0,zn=null,e!==null&&(pn[gn++]=Da,pn[gn++]=La,pn[gn++]=uo,Da=e.id,La=e.overflow,uo=t),t=hj(t,n.children),t.flags|=4096,t)}function EE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),z0(e.return,t,r)}function nx(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function iR(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(gr(e,t,n.children,r),n=dt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&EE(e,r,t);else if(e.tag===19)EE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(rt(dt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&rp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),nx(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&rp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}nx(t,!0,r,null,s);break;case"together":nx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ja(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ho|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=Qs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $B(e,t,r){switch(t.tag){case 3:aR(t),Zl();break;case 5:TT(t);break;case 1:Dr(t.type)&&Qm(t);break;case 4:sj(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;rt(Zm,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(rt(dt,dt.current&1),t.flags|=128,null):r&t.child.childLanes?sR(e,t,r):(rt(dt,dt.current&1),e=Ja(e,t,r),e!==null?e.sibling:null);rt(dt,dt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return iR(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),rt(dt,dt.current),n)break;return null;case 22:case 23:return t.lanes=0,rR(e,t,r)}return Ja(e,t,r)}var oR,G0,lR,cR;oR=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};G0=function(){};lR=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Hi(ga.current);var s=null;switch(r){case"input":a=g0(e,a),n=g0(e,n),s=[];break;case"select":a=ht({},a,{value:void 0}),n=ht({},n,{value:void 0}),s=[];break;case"textarea":a=x0(e,a),n=x0(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Gm)}w0(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&st("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};cR=function(e,t,r,n){r!==n&&(t.flags|=4)};function ku(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function IB(e,t,r){var n=t.pendingProps;switch(J1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return Dr(t.type)&&Ym(),Zt(t),null;case 3:return n=t.stateNode,tc(),lt(Ir),lt(ur),oj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zn!==null&&(rb(zn),zn=null))),G0(e,t),Zt(t),null;case 5:ij(t);var a=Hi(Id.current);if(r=t.type,e!==null&&t.stateNode!=null)lR(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return Zt(t),null}if(e=Hi(ga.current),Rh(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[fa]=t,n[Md]=s,e=(t.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(a=0;a<Qu.length;a++)st(Qu[a],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":$N(n,s),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},st("invalid",n);break;case"textarea":DN(n,s),st("invalid",n)}w0(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Th(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Th(n.textContent,l,e),a=["children",""+l]):Sd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&st("scroll",n)}switch(r){case"input":Sh(n),IN(n,s,!0);break;case"textarea":Sh(n),LN(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Gm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=DA(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fa]=t,e[Md]=n,oR(e,t,!1,!1),t.stateNode=e;e:{switch(o=j0(r,n),r){case"dialog":st("cancel",e),st("close",e),a=n;break;case"iframe":case"object":case"embed":st("load",e),a=n;break;case"video":case"audio":for(a=0;a<Qu.length;a++)st(Qu[a],e);a=n;break;case"source":st("error",e),a=n;break;case"img":case"image":case"link":st("error",e),st("load",e),a=n;break;case"details":st("toggle",e),a=n;break;case"input":$N(e,n),a=g0(e,n),st("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ht({},n,{value:void 0}),st("invalid",e);break;case"textarea":DN(e,n),a=x0(e,n),st("invalid",e);break;default:a=n}w0(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?zA(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&LA(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Nd(e,c):typeof c=="number"&&Nd(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sd.hasOwnProperty(s)?c!=null&&s==="onScroll"&&st("scroll",e):c!=null&&D1(e,s,c,o))}switch(r){case"input":Sh(e),IN(e,n,!1);break;case"textarea":Sh(e),LN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ti(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?_l(e,!!n.multiple,s,!1):n.defaultValue!=null&&_l(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Gm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)cR(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=Hi(Id.current),Hi(ga.current),Rh(t)){if(n=t.stateNode,r=t.memoizedProps,n[fa]=t,(s=n.nodeValue!==r)&&(e=tn,e!==null))switch(e.tag){case 3:Th(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Th(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fa]=t,t.stateNode=n}return Zt(t),null;case 13:if(lt(dt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&en!==null&&t.mode&1&&!(t.flags&128))PT(),Zl(),t.flags|=98560,s=!1;else if(s=Rh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(X(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[fa]=t}else Zl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),s=!1}else zn!==null&&(rb(zn),zn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?Mt===0&&(Mt=3):xj())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return tc(),G0(e,t),e===null&&Td(t.stateNode.containerInfo),Zt(t),null;case 10:return rj(t.type._context),Zt(t),null;case 17:return Dr(t.type)&&Ym(),Zt(t),null;case 19:if(lt(dt),s=t.memoizedState,s===null)return Zt(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)ku(s,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rp(e),o!==null){for(t.flags|=128,ku(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return rt(dt,dt.current&1|2),t.child}e=e.sibling}s.tail!==null&&jt()>nc&&(t.flags|=128,n=!0,ku(s,!1),t.lanes=4194304)}else{if(!n)if(e=rp(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ku(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ct)return Zt(t),null}else 2*jt()-s.renderingStartTime>nc&&r!==1073741824&&(t.flags|=128,n=!0,ku(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=jt(),t.sibling=null,r=dt.current,rt(dt,n?r&1|2:r&1),t):(Zt(t),null);case 22:case 23:return yj(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yr&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function DB(e,t){switch(J1(t),t.tag){case 1:return Dr(t.type)&&Ym(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tc(),lt(Ir),lt(ur),oj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ij(t),null;case 13:if(lt(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Zl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(dt),null;case 4:return tc(),null;case 10:return rj(t.type._context),null;case 22:case 23:return yj(),null;case 24:return null;default:return null}}var Ih=!1,rr=!1,LB=typeof WeakSet=="function"?WeakSet:Set,de=null;function yl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vt(e,t,n)}else r.current=null}function Y0(e,t,r){try{r()}catch(n){vt(e,t,n)}}var PE=!1;function FB(e,t){if(T0=Vm,e=mT(),Q1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(R0={focusedElem:e,selectionRange:r},Vm=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Mn(t.type,p),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(j){vt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return g=PE,PE=!1,g}function cd(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Y0(t,r,s)}a=a.next}while(a!==n)}}function Qg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Q0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function uR(e){var t=e.alternate;t!==null&&(e.alternate=null,uR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fa],delete t[Md],delete t[I0],delete t[wB],delete t[jB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dR(e){return e.tag===5||e.tag===3||e.tag===4}function kE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function X0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gm));else if(n!==4&&(e=e.child,e!==null))for(X0(e,t,r),e=e.sibling;e!==null;)X0(e,t,r),e=e.sibling}function J0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(J0(e,t,r),e=e.sibling;e!==null;)J0(e,t,r),e=e.sibling}var Kt=null,In=!1;function ms(e,t,r){for(r=r.child;r!==null;)fR(e,t,r),r=r.sibling}function fR(e,t,r){if(pa&&typeof pa.onCommitFiberUnmount=="function")try{pa.onCommitFiberUnmount(Bg,r)}catch{}switch(r.tag){case 5:rr||yl(r,t);case 6:var n=Kt,a=In;Kt=null,ms(e,t,r),Kt=n,In=a,Kt!==null&&(In?(e=Kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kt.removeChild(r.stateNode));break;case 18:Kt!==null&&(In?(e=Kt,r=r.stateNode,e.nodeType===8?Qy(e.parentNode,r):e.nodeType===1&&Qy(e,r),Cd(e)):Qy(Kt,r.stateNode));break;case 4:n=Kt,a=In,Kt=r.stateNode.containerInfo,In=!0,ms(e,t,r),Kt=n,In=a;break;case 0:case 11:case 14:case 15:if(!rr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Y0(r,t,o),a=a.next}while(a!==n)}ms(e,t,r);break;case 1:if(!rr&&(yl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){vt(r,t,l)}ms(e,t,r);break;case 21:ms(e,t,r);break;case 22:r.mode&1?(rr=(n=rr)||r.memoizedState!==null,ms(e,t,r),rr=n):ms(e,t,r);break;default:ms(e,t,r)}}function CE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new LB),t.forEach(function(n){var a=GB.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Cn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Kt=l.stateNode,In=!1;break e;case 3:Kt=l.stateNode.containerInfo,In=!0;break e;case 4:Kt=l.stateNode.containerInfo,In=!0;break e}l=l.return}if(Kt===null)throw Error(X(160));fR(s,o,a),Kt=null,In=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){vt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hR(t,e),t=t.sibling}function hR(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cn(t,e),sa(e),n&4){try{cd(3,e,e.return),Qg(3,e)}catch(p){vt(e,e.return,p)}try{cd(5,e,e.return)}catch(p){vt(e,e.return,p)}}break;case 1:Cn(t,e),sa(e),n&512&&r!==null&&yl(r,r.return);break;case 5:if(Cn(t,e),sa(e),n&512&&r!==null&&yl(r,r.return),e.flags&32){var a=e.stateNode;try{Nd(a,"")}catch(p){vt(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&$A(a,s),j0(l,o);var u=j0(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?zA(a,f):d==="dangerouslySetInnerHTML"?LA(a,f):d==="children"?Nd(a,f):D1(a,d,f,u)}switch(l){case"input":v0(a,s);break;case"textarea":IA(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?_l(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?_l(a,!!s.multiple,s.defaultValue,!0):_l(a,!!s.multiple,s.multiple?[]:"",!1))}a[Md]=s}catch(p){vt(e,e.return,p)}}break;case 6:if(Cn(t,e),sa(e),n&4){if(e.stateNode===null)throw Error(X(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){vt(e,e.return,p)}}break;case 3:if(Cn(t,e),sa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cd(t.containerInfo)}catch(p){vt(e,e.return,p)}break;case 4:Cn(t,e),sa(e);break;case 13:Cn(t,e),sa(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(gj=jt())),n&4&&CE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(rr=(u=rr)||d,Cn(t,e),rr=u):Cn(t,e),sa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(de=e,d=e.child;d!==null;){for(f=de=d;de!==null;){switch(h=de,m=h.child,h.tag){case 0:case 11:case 14:case 15:cd(4,h,h.return);break;case 1:yl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){vt(n,r,p)}}break;case 5:yl(h,h.return);break;case 22:if(h.memoizedState!==null){AE(f);continue}}m!==null?(m.return=h,de=m):AE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=FA("display",o))}catch(p){vt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){vt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Cn(t,e),sa(e),n&4&&CE(e);break;case 21:break;default:Cn(t,e),sa(e)}}function sa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(dR(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Nd(a,""),n.flags&=-33);var s=kE(e);J0(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=kE(e);X0(e,l,o);break;default:throw Error(X(161))}}catch(c){vt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zB(e,t,r){de=e,mR(e)}function mR(e,t,r){for(var n=(e.mode&1)!==0;de!==null;){var a=de,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Ih;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||rr;l=Ih;var u=rr;if(Ih=o,(rr=c)&&!u)for(de=a;de!==null;)o=de,c=o.child,o.tag===22&&o.memoizedState!==null?TE(a):c!==null?(c.return=o,de=c):TE(a);for(;s!==null;)de=s,mR(s),s=s.sibling;de=a,Ih=l,rr=u}OE(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,de=s):OE(e)}}function OE(e){for(;de!==null;){var t=de;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rr||Qg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Mn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&mE(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}mE(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}rr||t.flags&512&&Q0(t)}catch(h){vt(t,t.return,h)}}if(t===e){de=null;break}if(r=t.sibling,r!==null){r.return=t.return,de=r;break}de=t.return}}function AE(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var r=t.sibling;if(r!==null){r.return=t.return,de=r;break}de=t.return}}function TE(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qg(4,t)}catch(c){vt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){vt(t,a,c)}}var s=t.return;try{Q0(t)}catch(c){vt(t,s,c)}break;case 5:var o=t.return;try{Q0(t)}catch(c){vt(t,o,c)}}}catch(c){vt(t,t.return,c)}if(t===e){de=null;break}var l=t.sibling;if(l!==null){l.return=t.return,de=l;break}de=t.return}}var UB=Math.ceil,sp=is.ReactCurrentDispatcher,mj=is.ReactCurrentOwner,xn=is.ReactCurrentBatchConfig,Fe=0,Bt=null,Pt=null,Yt=0,Yr=0,xl=yi(0),Mt=0,zd=null,ho=0,Xg=0,pj=0,ud=null,Tr=null,gj=0,nc=1/0,Ta=null,ip=!1,Z0=null,Gs=null,Dh=!1,Fs=null,op=0,dd=0,eb=null,km=-1,Cm=0;function br(){return Fe&6?jt():km!==-1?km:km=jt()}function Ys(e){return e.mode&1?Fe&2&&Yt!==0?Yt&-Yt:SB.transition!==null?(Cm===0&&(Cm=JA()),Cm):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:sT(e.type)),e):1}function Kn(e,t,r,n){if(50<dd)throw dd=0,eb=null,Error(X(185));Lf(e,r,n),(!(Fe&2)||e!==Bt)&&(e===Bt&&(!(Fe&2)&&(Xg|=r),Mt===4&&Es(e,Yt)),Lr(e,n),r===1&&Fe===0&&!(t.mode&1)&&(nc=jt()+500,Kg&&xi()))}function Lr(e,t){var r=e.callbackNode;SU(e,t);var n=Wm(e,e===Bt?Yt:0);if(n===0)r!==null&&UN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&UN(r),t===1)e.tag===0?_B(RE.bind(null,e)):ST(RE.bind(null,e)),xB(function(){!(Fe&6)&&xi()}),r=null;else{switch(ZA(n)){case 1:r=B1;break;case 4:r=QA;break;case 16:r=qm;break;case 536870912:r=XA;break;default:r=qm}r=jR(r,pR.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function pR(e,t){if(km=-1,Cm=0,Fe&6)throw Error(X(327));var r=e.callbackNode;if(kl()&&e.callbackNode!==r)return null;var n=Wm(e,e===Bt?Yt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lp(e,n);else{t=n;var a=Fe;Fe|=2;var s=vR();(Bt!==e||Yt!==t)&&(Ta=null,nc=jt()+500,ao(e,t));do try{WB();break}catch(l){gR(e,l)}while(!0);tj(),sp.current=s,Fe=a,Pt!==null?t=0:(Bt=null,Yt=0,t=Mt)}if(t!==0){if(t===2&&(a=P0(e),a!==0&&(n=a,t=tb(e,a))),t===1)throw r=zd,ao(e,0),Es(e,n),Lr(e,jt()),r;if(t===6)Es(e,n);else{if(a=e.current.alternate,!(n&30)&&!BB(a)&&(t=lp(e,n),t===2&&(s=P0(e),s!==0&&(n=s,t=tb(e,s))),t===1))throw r=zd,ao(e,0),Es(e,n),Lr(e,jt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:$i(e,Tr,Ta);break;case 3:if(Es(e,n),(n&130023424)===n&&(t=gj+500-jt(),10<t)){if(Wm(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){br(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$0($i.bind(null,e,Tr,Ta),t);break}$i(e,Tr,Ta);break;case 4:if(Es(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Hn(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UB(n/1960))-n,10<n){e.timeoutHandle=$0($i.bind(null,e,Tr,Ta),n);break}$i(e,Tr,Ta);break;case 5:$i(e,Tr,Ta);break;default:throw Error(X(329))}}}return Lr(e,jt()),e.callbackNode===r?pR.bind(null,e):null}function tb(e,t){var r=ud;return e.current.memoizedState.isDehydrated&&(ao(e,t).flags|=256),e=lp(e,t),e!==2&&(t=Tr,Tr=r,t!==null&&rb(t)),e}function rb(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function BB(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Yn(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Es(e,t){for(t&=~pj,t&=~Xg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Hn(t),n=1<<r;e[r]=-1,t&=~n}}function RE(e){if(Fe&6)throw Error(X(327));kl();var t=Wm(e,0);if(!(t&1))return Lr(e,jt()),null;var r=lp(e,t);if(e.tag!==0&&r===2){var n=P0(e);n!==0&&(t=n,r=tb(e,n))}if(r===1)throw r=zd,ao(e,0),Es(e,t),Lr(e,jt()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$i(e,Tr,Ta),Lr(e,jt()),null}function vj(e,t){var r=Fe;Fe|=1;try{return e(t)}finally{Fe=r,Fe===0&&(nc=jt()+500,Kg&&xi())}}function mo(e){Fs!==null&&Fs.tag===0&&!(Fe&6)&&kl();var t=Fe;Fe|=1;var r=xn.transition,n=Ve;try{if(xn.transition=null,Ve=1,e)return e()}finally{Ve=n,xn.transition=r,Fe=t,!(Fe&6)&&xi()}}function yj(){Yr=xl.current,lt(xl)}function ao(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yB(r)),Pt!==null)for(r=Pt.return;r!==null;){var n=r;switch(J1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ym();break;case 3:tc(),lt(Ir),lt(ur),oj();break;case 5:ij(n);break;case 4:tc();break;case 13:lt(dt);break;case 19:lt(dt);break;case 10:rj(n.type._context);break;case 22:case 23:yj()}r=r.return}if(Bt=e,Pt=e=Qs(e.current,null),Yt=Yr=t,Mt=0,zd=null,pj=Xg=ho=0,Tr=ud=null,Vi!==null){for(t=0;t<Vi.length;t++)if(r=Vi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}Vi=null}return e}function gR(e,t){do{var r=Pt;try{if(tj(),Nm.current=ap,np){for(var n=ft.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}np=!1}if(fo=0,zt=Tt=ft=null,ld=!1,Dd=0,mj.current=null,r===null||r.return===null){Mt=1,zd=t,Pt=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Yt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=bE(o);if(m!==null){m.flags&=-257,wE(m,o,l,s,t),m.mode&1&&xE(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){xE(s,u,t),xj();break e}c=Error(X(426))}}else if(ct&&l.mode&1){var v=bE(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),wE(v,o,l,s,t),Z1(rc(c,l));break e}}s=c=rc(c,l),Mt!==4&&(Mt=2),ud===null?ud=[s]:ud.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=ZT(s,c,t);hE(s,b);break e;case 1:l=c;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Gs===null||!Gs.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=eR(s,l,t);hE(s,j);break e}}s=s.return}while(s!==null)}xR(r)}catch(_){t=_,Pt===r&&r!==null&&(Pt=r=r.return);continue}break}while(!0)}function vR(){var e=sp.current;return sp.current=ap,e===null?ap:e}function xj(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Bt===null||!(ho&268435455)&&!(Xg&268435455)||Es(Bt,Yt)}function lp(e,t){var r=Fe;Fe|=2;var n=vR();(Bt!==e||Yt!==t)&&(Ta=null,ao(e,t));do try{qB();break}catch(a){gR(e,a)}while(!0);if(tj(),Fe=r,sp.current=n,Pt!==null)throw Error(X(261));return Bt=null,Yt=0,Mt}function qB(){for(;Pt!==null;)yR(Pt)}function WB(){for(;Pt!==null&&!pU();)yR(Pt)}function yR(e){var t=wR(e.alternate,e,Yr);e.memoizedProps=e.pendingProps,t===null?xR(e):Pt=t,mj.current=null}function xR(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=DB(r,t),r!==null){r.flags&=32767,Pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Pt=null;return}}else if(r=IB(r,t,Yr),r!==null){Pt=r;return}if(t=t.sibling,t!==null){Pt=t;return}Pt=t=e}while(t!==null);Mt===0&&(Mt=5)}function $i(e,t,r){var n=Ve,a=xn.transition;try{xn.transition=null,Ve=1,VB(e,t,r,n)}finally{xn.transition=a,Ve=n}return null}function VB(e,t,r,n){do kl();while(Fs!==null);if(Fe&6)throw Error(X(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(NU(e,s),e===Bt&&(Pt=Bt=null,Yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Dh||(Dh=!0,jR(qm,function(){return kl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=Ve;Ve=1;var l=Fe;Fe|=4,mj.current=null,FB(e,r),hR(r,e),dB(R0),Vm=!!T0,R0=T0=null,e.current=r,zB(r),gU(),Fe=l,Ve=o,xn.transition=s}else e.current=r;if(Dh&&(Dh=!1,Fs=e,op=a),s=e.pendingLanes,s===0&&(Gs=null),xU(r.stateNode),Lr(e,jt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ip)throw ip=!1,e=Z0,Z0=null,e;return op&1&&e.tag!==0&&kl(),s=e.pendingLanes,s&1?e===eb?dd++:(dd=0,eb=e):dd=0,xi(),null}function kl(){if(Fs!==null){var e=ZA(op),t=xn.transition,r=Ve;try{if(xn.transition=null,Ve=16>e?16:e,Fs===null)var n=!1;else{if(e=Fs,Fs=null,op=0,Fe&6)throw Error(X(331));var a=Fe;for(Fe|=4,de=e.current;de!==null;){var s=de,o=s.child;if(de.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(de=u;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:cd(8,d,s)}var f=d.child;if(f!==null)f.return=d,de=f;else for(;de!==null;){d=de;var h=d.sibling,m=d.return;if(uR(d),d===u){de=null;break}if(h!==null){h.return=m,de=h;break}de=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}de=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,de=o;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cd(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,de=b;break e}de=s.return}}var x=e.current;for(de=x;de!==null;){o=de;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,de=w;else e:for(o=x;de!==null;){if(l=de,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qg(9,l)}}catch(_){vt(l,l.return,_)}if(l===o){de=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,de=j;break e}de=l.return}}if(Fe=a,xi(),pa&&typeof pa.onPostCommitFiberRoot=="function")try{pa.onPostCommitFiberRoot(Bg,e)}catch{}n=!0}return n}finally{Ve=r,xn.transition=t}}return!1}function ME(e,t,r){t=rc(r,t),t=ZT(e,t,1),e=Ks(e,t,1),t=br(),e!==null&&(Lf(e,1,t),Lr(e,t))}function vt(e,t,r){if(e.tag===3)ME(e,e,r);else for(;t!==null;){if(t.tag===3){ME(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gs===null||!Gs.has(n))){e=rc(r,e),e=eR(t,e,1),t=Ks(t,e,1),e=br(),t!==null&&(Lf(t,1,e),Lr(t,e));break}}t=t.return}}function HB(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=br(),e.pingedLanes|=e.suspendedLanes&r,Bt===e&&(Yt&r)===r&&(Mt===4||Mt===3&&(Yt&130023424)===Yt&&500>jt()-gj?ao(e,0):pj|=r),Lr(e,t)}function bR(e,t){t===0&&(e.mode&1?(t=Ph,Ph<<=1,!(Ph&130023424)&&(Ph=4194304)):t=1);var r=br();e=Xa(e,t),e!==null&&(Lf(e,t,r),Lr(e,r))}function KB(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),bR(e,r)}function GB(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),bR(e,r)}var wR;wR=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Mr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Mr=!1,$B(e,t,r);Mr=!!(e.flags&131072)}else Mr=!1,ct&&t.flags&1048576&&NT(t,Jm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Pm(e,t),e=t.pendingProps;var a=Jl(t,ur.current);Pl(t,r),a=cj(null,t,n,e,a,r);var s=uj();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dr(n)?(s=!0,Qm(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,aj(t),a.updater=Yg,t.stateNode=a,a._reactInternals=t,B0(t,n,e,r),t=V0(null,t,n,!0,s,r)):(t.tag=0,ct&&s&&X1(t),gr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Pm(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=QB(n),e=Mn(n,e),a){case 0:t=W0(null,t,n,e,r);break e;case 1:t=SE(null,t,n,e,r);break e;case 11:t=jE(null,t,n,e,r);break e;case 14:t=_E(null,t,n,Mn(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Mn(n,a),W0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Mn(n,a),SE(e,t,n,a,r);case 3:e:{if(aR(t),e===null)throw Error(X(387));n=t.pendingProps,s=t.memoizedState,a=s.element,AT(e,t),tp(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=rc(Error(X(423)),t),t=NE(e,t,n,r,a);break e}else if(n!==a){a=rc(Error(X(424)),t),t=NE(e,t,n,r,a);break e}else for(en=Hs(t.stateNode.containerInfo.firstChild),tn=t,ct=!0,zn=null,r=CT(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zl(),n===a){t=Ja(e,t,r);break e}gr(e,t,n,r)}t=t.child}return t;case 5:return TT(t),e===null&&F0(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,M0(n,a)?o=null:s!==null&&M0(n,s)&&(t.flags|=32),nR(e,t),gr(e,t,o,r),t.child;case 6:return e===null&&F0(t),null;case 13:return sR(e,t,r);case 4:return sj(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ec(t,null,n,r):gr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Mn(n,a),jE(e,t,n,a,r);case 7:return gr(e,t,t.pendingProps,r),t.child;case 8:return gr(e,t,t.pendingProps.children,r),t.child;case 12:return gr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,rt(Zm,n._currentValue),n._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===a.children&&!Ir.current){t=Ja(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=qa(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),z0(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),z0(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Pl(t,r),a=Sn(a),n=n(a),t.flags|=1,gr(e,t,n,r),t.child;case 14:return n=t.type,a=Mn(n,t.pendingProps),a=Mn(n.type,a),_E(e,t,n,a,r);case 15:return tR(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Mn(n,a),Pm(e,t),t.tag=1,Dr(n)?(e=!0,Qm(t)):e=!1,Pl(t,r),JT(t,n,a),B0(t,n,a,r),V0(null,t,n,!0,e,r);case 19:return iR(e,t,r);case 22:return rR(e,t,r)}throw Error(X(156,t.tag))};function jR(e,t){return YA(e,t)}function YB(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,r,n){return new YB(e,t,r,n)}function bj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QB(e){if(typeof e=="function")return bj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===F1)return 11;if(e===z1)return 14}return 2}function Qs(e,t){var r=e.alternate;return r===null?(r=vn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Om(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")bj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cl:return so(r.children,a,s,t);case L1:o=8,a|=8;break;case f0:return e=vn(12,r,t,a|2),e.elementType=f0,e.lanes=s,e;case h0:return e=vn(13,r,t,a),e.elementType=h0,e.lanes=s,e;case m0:return e=vn(19,r,t,a),e.elementType=m0,e.lanes=s,e;case TA:return Jg(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case OA:o=10;break e;case AA:o=9;break e;case F1:o=11;break e;case z1:o=14;break e;case ws:o=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=vn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function so(e,t,r,n){return e=vn(7,e,n,t),e.lanes=r,e}function Jg(e,t,r,n){return e=vn(22,e,n,t),e.elementType=TA,e.lanes=r,e.stateNode={isHidden:!1},e}function ax(e,t,r){return e=vn(6,e,null,t),e.lanes=r,e}function sx(e,t,r){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XB(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fy(0),this.expirationTimes=Fy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fy(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function wj(e,t,r,n,a,s,o,l,c){return e=new XB(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=vn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},aj(s),e}function JB(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ll,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _R(e){if(!e)return ri;e=e._reactInternals;e:{if(Oo(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(Dr(r))return _T(e,r,t)}return t}function SR(e,t,r,n,a,s,o,l,c){return e=wj(r,n,!0,e,a,s,o,l,c),e.context=_R(null),r=e.current,n=br(),a=Ys(r),s=qa(n,a),s.callback=t??null,Ks(r,s,a),e.current.lanes=a,Lf(e,a,n),Lr(e,n),e}function Zg(e,t,r,n){var a=t.current,s=br(),o=Ys(a);return r=_R(r),t.context===null?t.context=r:t.pendingContext=r,t=qa(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ks(a,t,o),e!==null&&(Kn(e,a,o,s),Sm(e,a,o)),o}function cp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $E(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jj(e,t){$E(e,t),(e=e.alternate)&&$E(e,t)}function ZB(){return null}var NR=typeof reportError=="function"?reportError:function(e){console.error(e)};function _j(e){this._internalRoot=e}ev.prototype.render=_j.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Zg(e,t,null,null)};ev.prototype.unmount=_j.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mo(function(){Zg(null,e,null,null)}),t[Qa]=null}};function ev(e){this._internalRoot=e}ev.prototype.unstable_scheduleHydration=function(e){if(e){var t=rT();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ns.length&&t!==0&&t<Ns[r].priority;r++);Ns.splice(r,0,e),r===0&&aT(e)}};function Sj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function IE(){}function e8(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=cp(o);s.call(u)}}var o=SR(t,n,e,0,null,!1,!1,"",IE);return e._reactRootContainer=o,e[Qa]=o.current,Td(e.nodeType===8?e.parentNode:e),mo(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=cp(c);l.call(u)}}var c=wj(e,0,!1,null,null,!1,!1,"",IE);return e._reactRootContainer=c,e[Qa]=c.current,Td(e.nodeType===8?e.parentNode:e),mo(function(){Zg(t,c,r,n)}),c}function rv(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=cp(o);l.call(c)}}Zg(t,o,e,a)}else o=e8(r,t,e,a,n);return cp(o)}eT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yu(t.pendingLanes);r!==0&&(q1(t,r|1),Lr(t,jt()),!(Fe&6)&&(nc=jt()+500,xi()))}break;case 13:mo(function(){var n=Xa(e,1);if(n!==null){var a=br();Kn(n,e,1,a)}}),jj(e,1)}};W1=function(e){if(e.tag===13){var t=Xa(e,134217728);if(t!==null){var r=br();Kn(t,e,134217728,r)}jj(e,134217728)}};tT=function(e){if(e.tag===13){var t=Ys(e),r=Xa(e,t);if(r!==null){var n=br();Kn(r,e,t,n)}jj(e,t)}};rT=function(){return Ve};nT=function(e,t){var r=Ve;try{return Ve=e,t()}finally{Ve=r}};S0=function(e,t,r){switch(t){case"input":if(v0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Hg(n);if(!a)throw Error(X(90));MA(n),v0(n,a)}}}break;case"textarea":IA(e,r);break;case"select":t=r.value,t!=null&&_l(e,!!r.multiple,t,!1)}};qA=vj;WA=mo;var t8={usingClientEntryPoint:!1,Events:[zf,hl,Hg,UA,BA,vj]},Cu={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r8={bundleType:Cu.bundleType,version:Cu.version,rendererPackageName:Cu.rendererPackageName,rendererConfig:Cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=KA(e),e===null?null:e.stateNode},findFiberByHostInstance:Cu.findFiberByHostInstance||ZB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{Bg=Lh.inject(r8),pa=Lh}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t8;on.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sj(t))throw Error(X(200));return JB(e,t,null,r)};on.createRoot=function(e,t){if(!Sj(e))throw Error(X(299));var r=!1,n="",a=NR;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=wj(e,1,!1,null,null,r,!1,n,a),e[Qa]=t.current,Td(e.nodeType===8?e.parentNode:e),new _j(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=KA(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return mo(e)};on.hydrate=function(e,t,r){if(!tv(t))throw Error(X(200));return rv(null,e,t,!0,r)};on.hydrateRoot=function(e,t,r){if(!Sj(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=NR;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=SR(t,null,e,1,r??null,a,!1,s,o),e[Qa]=t.current,Td(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ev(t)};on.render=function(e,t,r){if(!tv(t))throw Error(X(200));return rv(null,e,t,!1,r)};on.unmountComponentAtNode=function(e){if(!tv(e))throw Error(X(40));return e._reactRootContainer?(mo(function(){rv(null,null,e,!1,function(){e._reactRootContainer=null,e[Qa]=null})}),!0):!1};on.unstable_batchedUpdates=vj;on.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!tv(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return rv(e,t,r,!1,n)};on.version="18.3.1-next-f1338f8080-20240426";function ER(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ER)}catch(e){console.error(e)}}ER(),EA.exports=on;var Ao=EA.exports;const PR=Ye(Ao);var kR,DE=Ao;kR=DE.createRoot,DE.hydrateRoot;const n8=1,a8=1e6;let ix=0;function s8(){return ix=(ix+1)%Number.MAX_SAFE_INTEGER,ix.toString()}const ox=new Map,LE=e=>{if(ox.has(e))return;const t=setTimeout(()=>{ox.delete(e),fd({type:"REMOVE_TOAST",toastId:e})},a8);ox.set(e,t)},i8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,n8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?LE(r):e.toasts.forEach(n=>{LE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Am=[];let Tm={toasts:[]};function fd(e){Tm=i8(Tm,e),Am.forEach(t=>{t(Tm)})}function Ce({...e}){const t=s8(),r=a=>fd({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>fd({type:"DISMISS_TOAST",toastId:t});return fd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function cn(){const[e,t]=P.useState(Tm);return P.useEffect(()=>(Am.push(t),()=>{const r=Am.indexOf(t);r>-1&&Am.splice(r,1)}),[e]),{...e,toast:Ce,dismiss:r=>fd({type:"DISMISS_TOAST",toastId:r})}}function J(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function o8(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function nv(...e){return t=>e.forEach(r=>o8(r,t))}function we(...e){return y.useCallback(nv(...e),e)}function l8(e,t=[]){let r=[];function n(s,o){const l=y.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,v=y.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,c8(a,...t)]}function c8(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Fr=y.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.Children.toArray(r),s=a.find(u8);if(s){const o=s.props.children,l=a.map(c=>c===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return i.jsx(nb,{...n,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return i.jsx(nb,{...n,ref:t,children:r})});Fr.displayName="Slot";var nb=y.forwardRef((e,t)=>{const{children:r,...n}=e;if(y.isValidElement(r)){const a=f8(r);return y.cloneElement(r,{...d8(n,r.props),ref:t?nv(t,a):a})}return y.Children.count(r)>1?y.Children.only(null):null});nb.displayName="SlotClone";var Nj=({children:e})=>i.jsx(i.Fragment,{children:e});function u8(e){return y.isValidElement(e)&&e.type===Nj}function d8(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{s(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function f8(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ic(e){const t=e+"CollectionProvider",[r,n]=l8(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:p}=m,v=P.useRef(null),b=P.useRef(new Map).current;return i.jsx(a,{scope:g,itemMap:b,collectionRef:v,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=P.forwardRef((m,g)=>{const{scope:p,children:v}=m,b=s(l,p),x=we(g,b.collectionRef);return i.jsx(Fr,{ref:x,children:v})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=P.forwardRef((m,g)=>{const{scope:p,children:v,...b}=m,x=P.useRef(null),w=we(g,x),j=s(u,p);return P.useEffect(()=>(j.itemMap.set(x,{ref:x,...b}),()=>void j.itemMap.delete(x))),i.jsx(Fr,{[d]:"",ref:w,children:v})});f.displayName=u;function h(m){const g=s(e+"CollectionConsumer",m);return P.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((j,_)=>b.indexOf(j.ref.current)-b.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}function h8(e,t){const r=y.createContext(t),n=s=>{const{children:o,...l}=s,c=y.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function dr(e,t=[]){let r=[];function n(s,o){const l=y.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,m8(a,...t)]}function m8(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var p8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=p8.reduce((e,t)=>{const r=y.forwardRef((n,a)=>{const{asChild:s,...o}=n,l=s?Fr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ej(e,t){e&&Ao.flushSync(()=>e.dispatchEvent(t))}function Xt(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function g8(e,t=globalThis==null?void 0:globalThis.document){const r=Xt(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var v8="DismissableLayer",ab="dismissableLayer.update",y8="dismissableLayer.pointerDownOutside",x8="dismissableLayer.focusOutside",FE,CR=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dc=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(CR),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),g=we(t,N=>f(N)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(v),x=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=b,_=w8(N=>{const E=N.target,C=[...u.branches].some(k=>k.contains(E));!j||C||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=j8(N=>{const E=N.target;[...u.branches].some(k=>k.contains(E))||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return g8(N=>{x===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(FE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),zE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=FE)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),zE())},[d,u]),y.useEffect(()=>{const N=()=>m({});return document.addEventListener(ab,N),()=>document.removeEventListener(ab,N)},[]),i.jsx(ue.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:J(e.onFocusCapture,S.onFocusCapture),onBlurCapture:J(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:J(e.onPointerDownCapture,_.onPointerDownCapture)})});Dc.displayName=v8;var b8="DismissableLayerBranch",OR=y.forwardRef((e,t)=>{const r=y.useContext(CR),n=y.useRef(null),a=we(t,n);return y.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(ue.div,{...e,ref:a})});OR.displayName=b8;function w8(e,t=globalThis==null?void 0:globalThis.document){const r=Xt(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){AR(y8,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function j8(e,t=globalThis==null?void 0:globalThis.document){const r=Xt(e),n=y.useRef(!1);return y.useEffect(()=>{const a=s=>{s.target&&!n.current&&AR(x8,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function zE(){const e=new CustomEvent(ab);document.dispatchEvent(e)}function AR(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Ej(a,s):a.dispatchEvent(s)}var _8=Dc,S8=OR,It=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},N8="Portal",Bf=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=y.useState(!1);It(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?PR.createPortal(i.jsx(ue.div,{...n,ref:t}),o):null});Bf.displayName=N8;function E8(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Ur=e=>{const{present:t,children:r}=e,n=P8(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),s=we(n.ref,k8(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:s}):null};Ur.displayName="Presence";function P8(e){const[t,r]=y.useState(),n=y.useRef({}),a=y.useRef(e),s=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=E8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Fh(n.current);s.current=l==="mounted"?u:"none"},[l]),It(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=Fh(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),It(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Fh(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=Fh(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Fh(e){return(e==null?void 0:e.animationName)||"none"}function k8(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function wr({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=C8({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:n,l=Xt(r),c=y.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[s,e,a,l]);return[o,c]}function C8({defaultProp:e,onChange:t}){const r=y.useState(e),[n]=r,a=y.useRef(n),s=Xt(t);return y.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var O8="VisuallyHidden",qf=y.forwardRef((e,t)=>i.jsx(ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));qf.displayName=O8;var A8=qf,Pj="ToastProvider",[kj,T8,R8]=Ic("Toast"),[TR,KOe]=dr("Toast",[R8]),[M8,av]=TR(Pj),RR=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Pj}\`. Expected non-empty \`string\`.`),i.jsx(kj.Provider,{scope:t,children:i.jsx(M8,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};RR.displayName=Pj;var MR="ToastViewport",$8=["F8"],sb="toast.viewportPause",ib="toast.viewportResume",$R=y.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=$8,label:a="Notifications ({hotkey})",...s}=e,o=av(MR,r),l=T8(r),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=we(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;y.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(j=>b[j]||b.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),y.useEffect(()=>{const v=c.current,b=f.current;if(g&&v&&b){const x=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(sb);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(ib);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!v.contains(S.relatedTarget)&&w()},_=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",j),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=y.useCallback(({tabbingDirection:v})=>{const x=l().map(w=>{const j=w.ref.current,_=[j,...G8(j)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return y.useEffect(()=>{const v=f.current;if(v){const b=x=>{var _,S,N;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const E=document.activeElement,C=x.shiftKey;if(x.target===v&&C){(_=u.current)==null||_.focus();return}const A=p({tabbingDirection:C?"backwards":"forwards"}),D=A.findIndex(R=>R===E);lx(A.slice(D+1))?x.preventDefault():C?(S=u.current)==null||S.focus():(N=d.current)==null||N.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,p]),i.jsxs(S8,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(ob,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});lx(v)}}),i.jsx(kj.Slot,{scope:r,children:i.jsx(ue.ol,{tabIndex:-1,...s,ref:h})}),g&&i.jsx(ob,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});lx(v)}})]})});$R.displayName=MR;var IR="ToastFocusProxy",ob=y.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=av(IR,r);return i.jsx(qf,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});ob.displayName=IR;var sv="Toast",I8="toast.swipeStart",D8="toast.swipeMove",L8="toast.swipeCancel",F8="toast.swipeEnd",DR=y.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...o}=e,[l=!0,c]=wr({prop:n,defaultProp:a,onChange:s});return i.jsx(Ur,{present:r||l,children:i.jsx(B8,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Xt(e.onPause),onResume:Xt(e.onResume),onSwipeStart:J(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:J(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});DR.displayName=sv;var[z8,U8]=TR(sv,{onClose(){}}),B8=y.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,p=av(sv,r),[v,b]=y.useState(null),x=we(t,R=>b(R)),w=y.useRef(null),j=y.useRef(null),_=a||p.duration,S=y.useRef(0),N=y.useRef(_),E=y.useRef(0),{onToastAdd:C,onToastRemove:k}=p,T=Xt(()=>{var L;(v==null?void 0:v.contains(document.activeElement))&&((L=p.viewport)==null||L.focus()),o()}),A=y.useCallback(R=>{!R||R===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(T,R))},[T]);y.useEffect(()=>{const R=p.viewport;if(R){const L=()=>{A(N.current),u==null||u()},I=()=>{const F=new Date().getTime()-S.current;N.current=N.current-F,window.clearTimeout(E.current),c==null||c()};return R.addEventListener(sb,I),R.addEventListener(ib,L),()=>{R.removeEventListener(sb,I),R.removeEventListener(ib,L)}}},[p.viewport,_,c,u,A]),y.useEffect(()=>{s&&!p.isClosePausedRef.current&&A(_)},[s,_,p.isClosePausedRef,A]),y.useEffect(()=>(C(),()=>k()),[C,k]);const D=y.useMemo(()=>v?WR(v):null,[v]);return p.viewport?i.jsxs(i.Fragment,{children:[D&&i.jsx(q8,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),i.jsx(z8,{scope:r,onClose:T,children:Ao.createPortal(i.jsx(kj.ItemSlot,{scope:r,children:i.jsx(_8,{asChild:!0,onEscapeKeyDown:J(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||T(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:J(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:J(e.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:J(e.onPointerMove,R=>{if(!w.current)return;const L=R.clientX-w.current.x,I=R.clientY-w.current.y,F=!!j.current,O=["left","right"].includes(p.swipeDirection),$=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,V=O?$(0,L):0,z=O?0:$(0,I),B=R.pointerType==="touch"?10:2,Q={x:V,y:z},oe={originalEvent:R,delta:Q};F?(j.current=Q,zh(D8,f,oe,{discrete:!1})):UE(Q,p.swipeDirection,B)?(j.current=Q,zh(I8,d,oe,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(L)>B||Math.abs(I)>B)&&(w.current=null)}),onPointerUp:J(e.onPointerUp,R=>{const L=j.current,I=R.target;if(I.hasPointerCapture(R.pointerId)&&I.releasePointerCapture(R.pointerId),j.current=null,w.current=null,L){const F=R.currentTarget,O={originalEvent:R,delta:L};UE(L,p.swipeDirection,p.swipeThreshold)?zh(F8,m,O,{discrete:!0}):zh(L8,h,O,{discrete:!0}),F.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),q8=e=>{const{__scopeToast:t,children:r,...n}=e,a=av(sv,t),[s,o]=y.useState(!1),[l,c]=y.useState(!1);return H8(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Bf,{asChild:!0,children:i.jsx(qf,{...n,children:s&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},W8="ToastTitle",LR=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(ue.div,{...n,ref:t})});LR.displayName=W8;var V8="ToastDescription",FR=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(ue.div,{...n,ref:t})});FR.displayName=V8;var zR="ToastAction",UR=y.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(qR,{altText:r,asChild:!0,children:i.jsx(Cj,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${zR}\`. Expected non-empty \`string\`.`),null)});UR.displayName=zR;var BR="ToastClose",Cj=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=U8(BR,r);return i.jsx(qR,{asChild:!0,children:i.jsx(ue.button,{type:"button",...n,ref:t,onClick:J(e.onClick,a.onClose)})})});Cj.displayName=BR;var qR=y.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return i.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function WR(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),K8(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...WR(n))}}),t}function zh(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Ej(a,s):a.dispatchEvent(s)}var UE=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function H8(e=()=>{}){const t=Xt(e);It(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function K8(e){return e.nodeType===e.ELEMENT_NODE}function G8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lx(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Y8=RR,VR=$R,HR=DR,KR=LR,GR=FR,YR=UR,QR=Cj;function XR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=XR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=XR(e))&&(n&&(n+=" "),n+=t);return n}const BE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qE=De,To=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return qE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=BE(d)||BE(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...s,...l}[p]):{...s,...l}[p]===v})?[...u,f,h]:u},[]);return qE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...X8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:JR("lucide",a),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(e,t)=>{const r=y.forwardRef(({className:n,...a},s)=>y.createElement(J8,{ref:s,iconNode:t,className:JR(`lucide-${Q8(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Z("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=Z("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=Z("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=Z("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=Z("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=Z("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Z("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=Z("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Z("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=Z("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=Z("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=Z("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=Z("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=Z("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=Z("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=Z("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=Z("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=Z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=Z("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=Z("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=Z("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=Z("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=Z("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=Z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=Z("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=Z("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=Z("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=Z("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=Z("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=Z("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=Z("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=Z("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Z("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=Z("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=Z("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Z("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=Z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Z("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=Z("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=Z("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=Z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=Z("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=Z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$j="-",R9=e=>{const t=$9(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split($j);return l[0]===""&&l.length!==1&&l.shift(),hM(l,t)||M9(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},hM=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?hM(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join($j);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},GE=/^\[(.+)\]$/,M9=e=>{if(GE.test(e)){const t=GE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},$9=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return D9(Object.entries(e.classGroups),r).forEach(([s,o])=>{cb(o,n,s,t)}),n},cb=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:YE(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(I9(a)){cb(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{cb(o,YE(t,s),r,n)})})},YE=(e,t)=>{let r=e;return t.split($j).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},I9=e=>e.isThemeGetter,D9=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,L9=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},mM="!",F9=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(mM),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},z9=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},U9=e=>({cache:L9(e.cacheSize),parseClassName:F9(e),...R9(e)}),B9=/\s+/,q9=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(B9);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=z9(d).join(":"),b=f?v+mM:v,x=b+p;if(s.includes(x))continue;s.push(x);const w=a(p,g);for(let j=0;j<w.length;++j){const _=w[j];s.push(b+_)}l=u+(l.length>0?" "+l:l)}return l};function W9(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=pM(t))&&(n&&(n+=" "),n+=r);return n}const pM=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=pM(e[n]))&&(r&&(r+=" "),r+=t);return r};function V9(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=U9(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=q9(c,r);return a(c,d),d}return function(){return s(W9.apply(null,arguments))}}const at=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},gM=/^\[(?:([a-z-]+):)?(.+)\]$/i,H9=/^\d+\/\d+$/,K9=new Set(["px","full","screen"]),G9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Y9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ka=e=>Cl(e)||K9.has(e)||H9.test(e),ps=e=>Uc(e,"length",i7),Cl=e=>!!e&&!Number.isNaN(Number(e)),cx=e=>Uc(e,"number",Cl),Ou=e=>!!e&&Number.isInteger(Number(e)),Z9=e=>e.endsWith("%")&&Cl(e.slice(0,-1)),Ne=e=>gM.test(e),gs=e=>G9.test(e),e7=new Set(["length","size","percentage"]),t7=e=>Uc(e,e7,vM),r7=e=>Uc(e,"position",vM),n7=new Set(["image","url"]),a7=e=>Uc(e,n7,l7),s7=e=>Uc(e,"",o7),Au=()=>!0,Uc=(e,t,r)=>{const n=gM.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},i7=e=>Y9.test(e)&&!Q9.test(e),vM=()=>!1,o7=e=>X9.test(e),l7=e=>J9.test(e),c7=()=>{const e=at("colors"),t=at("spacing"),r=at("blur"),n=at("brightness"),a=at("borderColor"),s=at("borderRadius"),o=at("borderSpacing"),l=at("borderWidth"),c=at("contrast"),u=at("grayscale"),d=at("hueRotate"),f=at("invert"),h=at("gap"),m=at("gradientColorStops"),g=at("gradientColorStopPositions"),p=at("inset"),v=at("margin"),b=at("opacity"),x=at("padding"),w=at("saturate"),j=at("scale"),_=at("sepia"),S=at("skew"),N=at("space"),E=at("translate"),C=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Ne,t],A=()=>[Ne,t],D=()=>["",ka,ps],R=()=>["auto",Cl,Ne],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ne],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Cl,Ne];return{cacheSize:500,separator:":",theme:{colors:[Au],spacing:[ka,ps],blur:["none","",gs,Ne],brightness:z(),borderColor:[e],borderRadius:["none","","full",gs,Ne],borderSpacing:A(),borderWidth:D(),contrast:z(),grayscale:$(),hueRotate:z(),invert:$(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[Z9,ps],inset:T(),margin:T(),opacity:z(),padding:A(),saturate:z(),scale:z(),sepia:$(),skew:z(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[gs]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Ne]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ou,Ne]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ou,Ne]}],"grid-cols":[{"grid-cols":[Au]}],"col-start-end":[{col:["auto",{span:["full",Ou,Ne]},Ne]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Au]}],"row-start-end":[{row:["auto",{span:[Ou,Ne]},Ne]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,t]}],"min-w":[{"min-w":[Ne,t,"min","max","fit"]}],"max-w":[{"max-w":[Ne,t,"none","full","min","max","fit","prose",{screen:[gs]},gs]}],h:[{h:[Ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",gs,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cx]}],"font-family":[{font:[Au]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",Cl,cx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ka,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ka,ps]}],"underline-offset":[{"underline-offset":["auto",ka,Ne]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),r7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",t7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},a7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[ka,Ne]}],"outline-w":[{outline:[ka,ps]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ka,ps]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",gs,s7]}],"shadow-color":[{shadow:[Au]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",gs,Ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ou,Ne]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ka,ps,cx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},u7=V9(c7);function U(...e){return u7(De(e))}const d7=Y8,yM=y.forwardRef(({className:e,...t},r)=>i.jsx(VR,{ref:r,className:U("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));yM.displayName=VR.displayName;const f7=To("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xM=y.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(HR,{ref:n,className:U(f7({variant:t}),e),...r}));xM.displayName=HR.displayName;const h7=y.forwardRef(({className:e,...t},r)=>i.jsx(YR,{ref:r,className:U("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));h7.displayName=YR.displayName;const bM=y.forwardRef(({className:e,...t},r)=>i.jsx(QR,{ref:r,className:U("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Vf,{className:"h-4 w-4"})}));bM.displayName=QR.displayName;const wM=y.forwardRef(({className:e,...t},r)=>i.jsx(KR,{ref:r,className:U("text-sm font-semibold",e),...t}));wM.displayName=KR.displayName;const jM=y.forwardRef(({className:e,...t},r)=>i.jsx(GR,{ref:r,className:U("text-sm opacity-90",e),...t}));jM.displayName=GR.displayName;function m7(){const{toasts:e}=cn();return i.jsxs(d7,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return i.jsxs(xM,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(wM,{children:r}),n&&i.jsx(jM,{children:n})]}),a,i.jsx(bM,{})]},t)}),i.jsx(yM,{})]})}var QE=["light","dark"],p7="(prefers-color-scheme: dark)",g7=y.createContext(void 0),v7={setTheme:e=>{},themes:[]},y7=()=>{var e;return(e=y.useContext(g7))!=null?e:v7};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?QE.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let b=o?o[g]:g,x=p?g+"|| ''":`'${b}'`,w="";return a&&v&&!p&&QE.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?p||b?w+=`c.add(${x})`:w+="null":b&&(w+=`d[s](n,${x})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${p7}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var x7=e=>{switch(e){case"success":return j7;case"info":return S7;case"warning":return _7;case"error":return N7;default:return null}},b7=Array(12).fill(0),w7=({visible:e})=>P.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},P.createElement("div",{className:"sonner-spinner"},b7.map((t,r)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),j7=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_7=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),S7=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),N7=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),E7=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},ub=1,P7=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ub++,s=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0;return n.then(async s=>{if(C7(s)&&!s.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${s.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${s.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(s):t.success,l=typeof t.description=="function"?await t.description(s):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async s=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(s):t.error,l=typeof t.description=="function"?await t.description(s):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var s;a&&(this.dismiss(r),r=void 0),(s=t.finally)==null||s.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||ub++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Gr=new P7,k7=(e,t)=>{let r=(t==null?void 0:t.id)||ub++;return Gr.addToast({title:e,...t,id:r}),r},C7=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",O7=k7,A7=()=>Gr.toasts,yr=Object.assign(O7,{success:Gr.success,info:Gr.info,warning:Gr.warning,error:Gr.error,custom:Gr.custom,message:Gr.message,promise:Gr.promise,dismiss:Gr.dismiss,loading:Gr.loading},{getHistory:A7});function T7(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}T7(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Uh(e){return e.label!==void 0}var R7=3,M7="32px",$7=4e3,I7=356,D7=14,L7=20,F7=200;function z7(...e){return e.filter(Boolean).join(" ")}var U7=e=>{var t,r,n,a,s,o,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:g,setHeights:p,visibleToasts:v,heights:b,index:x,toasts:w,expanded:j,removeToast:_,defaultRichColors:S,closeButton:N,style:E,cancelButtonStyle:C,actionButtonStyle:k,className:T="",descriptionClassName:A="",duration:D,position:R,gap:L,loadingIcon:I,expandByDefault:F,classNames:O,icons:$,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:z,cn:B}=e,[Q,oe]=P.useState(!1),[ge,me]=P.useState(!1),[ne,be]=P.useState(!1),[Y,te]=P.useState(!1),[le,q]=P.useState(0),[Oe,ye]=P.useState(0),Ke=P.useRef(null),Le=P.useRef(null),wt=x===0,qr=x+1<=v,mt=h.type,Er=h.dismissible!==!1,Pa=h.className||"",wu=h.descriptionClassName||"",Ai=P.useMemo(()=>b.findIndex(Se=>Se.toastId===h.id)||0,[b,h.id]),xh=P.useMemo(()=>{var Se;return(Se=h.closeButton)!=null?Se:N},[h.closeButton,N]),_N=P.useMemo(()=>h.duration||D||$7,[h.duration,D]),Ay=P.useRef(0),Wo=P.useRef(0),SN=P.useRef(0),Vo=P.useRef(null),[NN,Sz]=R.split("-"),EN=P.useMemo(()=>b.reduce((Se,nt,Je)=>Je>=Ai?Se:Se+nt.height,0),[b,Ai]),PN=E7(),Nz=h.invert||f,Ty=mt==="loading";Wo.current=P.useMemo(()=>Ai*L+EN,[Ai,EN]),P.useEffect(()=>{oe(!0)},[]),P.useLayoutEffect(()=>{if(!Q)return;let Se=Le.current,nt=Se.style.height;Se.style.height="auto";let Je=Se.getBoundingClientRect().height;Se.style.height=nt,ye(Je),p(na=>na.find(aa=>aa.toastId===h.id)?na.map(aa=>aa.toastId===h.id?{...aa,height:Je}:aa):[{toastId:h.id,height:Je,position:h.position},...na])},[Q,h.title,h.description,p,h.id]);let hs=P.useCallback(()=>{me(!0),q(Wo.current),p(Se=>Se.filter(nt=>nt.toastId!==h.id)),setTimeout(()=>{_(h)},F7)},[h,_,p,Wo]);P.useEffect(()=>{if(h.promise&&mt==="loading"||h.duration===1/0||h.type==="loading")return;let Se,nt=_N;return j||g||z&&PN?(()=>{if(SN.current<Ay.current){let Je=new Date().getTime()-Ay.current;nt=nt-Je}SN.current=new Date().getTime()})():nt!==1/0&&(Ay.current=new Date().getTime(),Se=setTimeout(()=>{var Je;(Je=h.onAutoClose)==null||Je.call(h,h),hs()},nt)),()=>clearTimeout(Se)},[j,g,F,h,_N,hs,h.promise,mt,z,PN]),P.useEffect(()=>{let Se=Le.current;if(Se){let nt=Se.getBoundingClientRect().height;return ye(nt),p(Je=>[{toastId:h.id,height:nt,position:h.position},...Je]),()=>p(Je=>Je.filter(na=>na.toastId!==h.id))}},[p,h.id]),P.useEffect(()=>{h.delete&&hs()},[hs,h.delete]);function Ez(){return $!=null&&$.loading?P.createElement("div",{className:"sonner-loader","data-visible":mt==="loading"},$.loading):I?P.createElement("div",{className:"sonner-loader","data-visible":mt==="loading"},I):P.createElement(w7,{visible:mt==="loading"})}return P.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Le,className:B(T,Pa,O==null?void 0:O.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[mt],(r=h==null?void 0:h.classNames)==null?void 0:r[mt]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:S,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":Q,"data-promise":!!h.promise,"data-removed":ge,"data-visible":qr,"data-y-position":NN,"data-x-position":Sz,"data-index":x,"data-front":wt,"data-swiping":ne,"data-dismissible":Er,"data-type":mt,"data-invert":Nz,"data-swipe-out":Y,"data-expanded":!!(j||F&&Q),style:{"--index":x,"--toasts-before":x,"--z-index":w.length-x,"--offset":`${ge?le:Wo.current}px`,"--initial-height":F?"auto":`${Oe}px`,...E,...h.style},onPointerDown:Se=>{Ty||!Er||(Ke.current=new Date,q(Wo.current),Se.target.setPointerCapture(Se.pointerId),Se.target.tagName!=="BUTTON"&&(be(!0),Vo.current={x:Se.clientX,y:Se.clientY}))},onPointerUp:()=>{var Se,nt,Je,na;if(Y||!Er)return;Vo.current=null;let aa=Number(((Se=Le.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount").replace("px",""))||0),bh=new Date().getTime()-((nt=Ke.current)==null?void 0:nt.getTime()),Pz=Math.abs(aa)/bh;if(Math.abs(aa)>=L7||Pz>.11){q(Wo.current),(Je=h.onDismiss)==null||Je.call(h,h),hs(),te(!0);return}(na=Le.current)==null||na.style.setProperty("--swipe-amount","0px"),be(!1)},onPointerMove:Se=>{var nt;if(!Vo.current||!Er)return;let Je=Se.clientY-Vo.current.y,na=Se.clientX-Vo.current.x,aa=(NN==="top"?Math.min:Math.max)(0,Je),bh=Se.pointerType==="touch"?10:2;Math.abs(aa)>bh?(nt=Le.current)==null||nt.style.setProperty("--swipe-amount",`${Je}px`):Math.abs(na)>bh&&(Vo.current=null)}},xh&&!h.jsx?P.createElement("button",{"aria-label":V,"data-disabled":Ty,"data-close-button":!0,onClick:Ty||!Er?()=>{}:()=>{var Se;hs(),(Se=h.onDismiss)==null||Se.call(h,h)},className:B(O==null?void 0:O.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||P.isValidElement(h.title)?h.jsx||h.title:P.createElement(P.Fragment,null,mt||h.icon||h.promise?P.createElement("div",{"data-icon":"",className:B(O==null?void 0:O.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ez():null,h.type!=="loading"?h.icon||($==null?void 0:$[mt])||x7(mt):null):null,P.createElement("div",{"data-content":"",className:B(O==null?void 0:O.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},P.createElement("div",{"data-title":"",className:B(O==null?void 0:O.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?P.createElement("div",{"data-description":"",className:B(A,wu,O==null?void 0:O.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),P.isValidElement(h.cancel)?h.cancel:h.cancel&&Uh(h.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:Se=>{var nt,Je;Uh(h.cancel)&&Er&&((Je=(nt=h.cancel).onClick)==null||Je.call(nt,Se),hs())},className:B(O==null?void 0:O.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,P.isValidElement(h.action)?h.action:h.action&&Uh(h.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:Se=>{var nt,Je;Uh(h.action)&&(Se.defaultPrevented||((Je=(nt=h.action).onClick)==null||Je.call(nt,Se),hs()))},className:B(O==null?void 0:O.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function XE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var B7=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=R7,toastOptions:m,dir:g=XE(),gap:p=D7,loadingIcon:v,icons:b,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:w,cn:j=z7}=e,[_,S]=P.useState([]),N=P.useMemo(()=>Array.from(new Set([r].concat(_.filter(z=>z.position).map(z=>z.position)))),[_,r]),[E,C]=P.useState([]),[k,T]=P.useState(!1),[A,D]=P.useState(!1),[R,L]=P.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=P.useRef(null),F=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=P.useRef(null),$=P.useRef(!1),V=P.useCallback(z=>{var B;(B=_.find(Q=>Q.id===z.id))!=null&&B.delete||Gr.dismiss(z.id),S(Q=>Q.filter(({id:oe})=>oe!==z.id))},[_]);return P.useEffect(()=>Gr.subscribe(z=>{if(z.dismiss){S(B=>B.map(Q=>Q.id===z.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{PR.flushSync(()=>{S(B=>{let Q=B.findIndex(oe=>oe.id===z.id);return Q!==-1?[...B.slice(0,Q),{...B[Q],...z},...B.slice(Q+1)]:[z,...B]})})})}),[]),P.useEffect(()=>{if(c!=="system"){L(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{L(z?"dark":"light")})},[c]),P.useEffect(()=>{_.length<=1&&T(!1)},[_]),P.useEffect(()=>{let z=B=>{var Q,oe;n.every(ge=>B[ge]||B.code===ge)&&(T(!0),(Q=I.current)==null||Q.focus()),B.code==="Escape"&&(document.activeElement===I.current||(oe=I.current)!=null&&oe.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[n]),P.useEffect(()=>{if(I.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,$.current=!1)}},[I.current]),_.length?P.createElement("section",{"aria-label":`${x} ${F}`,tabIndex:-1},N.map((z,B)=>{var Q;let[oe,ge]=z.split("-");return P.createElement("ol",{key:z,dir:g==="auto"?XE():g,tabIndex:-1,ref:I,className:o,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":oe,"data-x-position":ge,style:{"--front-toast-height":`${((Q=E[0])==null?void 0:Q.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||M7,"--width":`${I7}px`,"--gap":`${p}px`,...f},onBlur:me=>{$.current&&!me.currentTarget.contains(me.relatedTarget)&&($.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||$.current||($.current=!0,O.current=me.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{A||T(!1)},onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},_.filter(me=>!me.position&&B===0||me.position===z).map((me,ne)=>{var be,Y;return P.createElement(U7,{key:me.id,icons:b,index:ne,toast:me,defaultRichColors:u,duration:(be=m==null?void 0:m.duration)!=null?be:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(Y=m==null?void 0:m.closeButton)!=null?Y:s,interacting:A,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:V,toasts:_.filter(te=>te.position==me.position),heights:E.filter(te=>te.position==me.position),setHeights:C,expandByDefault:a,gap:p,loadingIcon:v,expanded:k,pauseWhenPageIsHidden:w,cn:j})}))})):null};const q7=({...e})=>{const{theme:t="system"}=y7();return i.jsx(B7,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var W7=SA.useId||(()=>{}),V7=0;function rn(e){const[t,r]=y.useState(W7());return It(()=>{e||r(n=>n??String(V7++))},[e]),e||(t?`radix-${t}`:"")}const H7=["top","right","bottom","left"],ii=Math.min,Jr=Math.max,mp=Math.round,Bh=Math.floor,oi=e=>({x:e,y:e}),K7={left:"right",right:"left",bottom:"top",top:"bottom"},G7={start:"end",end:"start"};function db(e,t,r){return Jr(e,ii(t,r))}function es(e,t){return typeof e=="function"?e(t):e}function ts(e){return e.split("-")[0]}function Bc(e){return e.split("-")[1]}function Ij(e){return e==="x"?"y":"x"}function Dj(e){return e==="y"?"height":"width"}function li(e){return["top","bottom"].includes(ts(e))?"y":"x"}function Lj(e){return Ij(li(e))}function Y7(e,t,r){r===void 0&&(r=!1);const n=Bc(e),a=Lj(e),s=Dj(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=pp(o)),[o,pp(o)]}function Q7(e){const t=pp(e);return[fb(e),t,fb(t)]}function fb(e){return e.replace(/start|end/g,t=>G7[t])}function X7(e,t,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?s:o;default:return[]}}function J7(e,t,r,n){const a=Bc(e);let s=X7(ts(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(fb)))),s}function pp(e){return e.replace(/left|right|bottom|top/g,t=>K7[t])}function Z7(e){return{top:0,right:0,bottom:0,left:0,...e}}function _M(e){return typeof e!="number"?Z7(e):{top:e,right:e,bottom:e,left:e}}function gp(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function JE(e,t,r){let{reference:n,floating:a}=e;const s=li(t),o=Lj(t),l=Dj(o),c=ts(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Bc(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const eq=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=JE(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:b}=l[p],{x,y:w,data:j,reset:_}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=w??f,m={...m,[v]:{...m[v],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=JE(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Ud(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=es(t,e),g=_M(m),v=l[h?f==="floating"?"reference":"floating":f],b=gp(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},_=gp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-_.top+g.top)/j.y,bottom:(_.bottom-b.bottom+g.bottom)/j.y,left:(b.left-_.left+g.left)/j.x,right:(_.right-b.right+g.right)/j.x}}const tq=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=es(e,t)||{};if(u==null)return{};const f=_M(d),h={x:r,y:n},m=Lj(a),g=Dj(m),p=await o.getDimensions(u),v=m==="y",b=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=s.reference[g]+s.reference[m]-h[m]-s.floating[g],_=h[m]-s.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[w]||s.floating[g]);const E=j/2-_/2,C=N/2-p[g]/2-1,k=ii(f[b],C),T=ii(f[x],C),A=k,D=N-p[g]-T,R=N/2-p[g]/2+E,L=db(A,R,D),I=!c.arrow&&Bc(a)!=null&&R!==L&&s.reference[g]/2-(R<A?k:T)-p[g]/2<0,F=I?R<A?R-A:R-D:0;return{[m]:h[m]+F,data:{[m]:L,centerOffset:R-L-F,...I&&{alignmentOffset:F}},reset:I}}}),rq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=es(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=ts(a),x=li(l),w=ts(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!p?[pp(l)]:Q7(l)),S=g!=="none";!h&&S&&_.push(...J7(l,p,g,j));const N=[l,..._],E=await Ud(t,v),C=[];let k=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&C.push(E[b]),f){const R=Y7(a,o,j);C.push(E[R[0]],E[R[1]])}if(k=[...k,{placement:a,overflows:C}],!C.every(R=>R<=0)){var T,A;const R=(((T=s.flip)==null?void 0:T.index)||0)+1,L=N[R];if(L)return{data:{index:R,overflows:k},reset:{placement:L}};let I=(A=k.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:A.placement;if(!I)switch(m){case"bestFit":{var D;const F=(D=k.filter(O=>{if(S){const $=li(O.placement);return $===x||$==="y"}return!0}).map(O=>[O.placement,O.overflows.filter($=>$>0).reduce(($,V)=>$+V,0)]).sort((O,$)=>O[1]-$[1])[0])==null?void 0:D[0];F&&(I=F);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function ZE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function eP(e){return H7.some(t=>e[t]>=0)}const nq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=es(e,t);switch(n){case"referenceHidden":{const s=await Ud(t,{...a,elementContext:"reference"}),o=ZE(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:eP(o)}}}case"escaped":{const s=await Ud(t,{...a,altBoundary:!0}),o=ZE(s,r.floating);return{data:{escapedOffsets:o,escaped:eP(o)}}}default:return{}}}}};async function aq(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ts(r),l=Bc(r),c=li(r)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,f=es(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const sq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await aq(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},iq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:x}=v;return{x:b,y:x}}},...c}=es(e,t),u={x:r,y:n},d=await Ud(t,c),f=li(ts(a)),h=Ij(f);let m=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=m+d[v],w=m-d[b];m=db(x,m,w)}if(o){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=g+d[v],w=g-d[b];g=db(x,g,w)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:o}}}}}},oq=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=es(e,t),d={x:r,y:n},f=li(a),h=Ij(f);let m=d[h],g=d[f];const p=es(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",j=s.reference[h]-s.floating[w]+v.mainAxis,_=s.reference[h]+s.reference[w]-v.mainAxis;m<j?m=j:m>_&&(m=_)}if(u){var b,x;const w=h==="y"?"width":"height",j=["top","left"].includes(ts(a)),_=s.reference[f]-s.floating[w]+(j&&((b=o.offset)==null?void 0:b[f])||0)+(j?0:v.crossAxis),S=s.reference[f]+s.reference[w]+(j?0:((x=o.offset)==null?void 0:x[f])||0)-(j?v.crossAxis:0);g<_?g=_:g>S&&(g=S)}return{[h]:m,[f]:g}}}},lq=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=es(e,t),d=await Ud(t,u),f=ts(a),h=Bc(a),m=li(a)==="y",{width:g,height:p}=s.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const x=p-d.top-d.bottom,w=g-d.left-d.right,j=ii(p-d[v],x),_=ii(g-d[b],w),S=!t.middlewareData.shift;let N=j,E=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=x),S&&!h){const k=Jr(d.left,0),T=Jr(d.right,0),A=Jr(d.top,0),D=Jr(d.bottom,0);m?E=g-2*(k!==0||T!==0?k+T:Jr(d.left,d.right)):N=p-2*(A!==0||D!==0?A+D:Jr(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function fv(){return typeof window<"u"}function qc(e){return SM(e)?(e.nodeName||"").toLowerCase():"#document"}function nn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ja(e){var t;return(t=(SM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function SM(e){return fv()?e instanceof Node||e instanceof nn(e).Node:!1}function Qn(e){return fv()?e instanceof Element||e instanceof nn(e).Element:!1}function ba(e){return fv()?e instanceof HTMLElement||e instanceof nn(e).HTMLElement:!1}function tP(e){return!fv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nn(e).ShadowRoot}function Hf(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Xn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function cq(e){return["table","td","th"].includes(qc(e))}function hv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Fj(e){const t=zj(),r=Qn(e)?Xn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function uq(e){let t=ci(e);for(;ba(t)&&!ac(t);){if(Fj(t))return t;if(hv(t))return null;t=ci(t)}return null}function zj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ac(e){return["html","body","#document"].includes(qc(e))}function Xn(e){return nn(e).getComputedStyle(e)}function mv(e){return Qn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ci(e){if(qc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tP(e)&&e.host||ja(e);return tP(t)?t.host:t}function NM(e){const t=ci(e);return ac(t)?e.ownerDocument?e.ownerDocument.body:e.body:ba(t)&&Hf(t)?t:NM(t)}function Bd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=NM(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=nn(a);if(s){const l=hb(o);return t.concat(o,o.visualViewport||[],Hf(a)?a:[],l&&r?Bd(l):[])}return t.concat(a,Bd(a,[],r))}function hb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function EM(e){const t=Xn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ba(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=mp(r)!==s||mp(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function Uj(e){return Qn(e)?e:e.contextElement}function Ol(e){const t=Uj(e);if(!ba(t))return oi(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=EM(t);let o=(s?mp(r.width):r.width)/n,l=(s?mp(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const dq=oi(0);function PM(e){const t=nn(e);return!zj()||!t.visualViewport?dq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fq(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==nn(e)?!1:t}function go(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=Uj(e);let o=oi(1);t&&(n?Qn(n)&&(o=Ol(n)):o=Ol(e));const l=fq(s,r,n)?PM(s):oi(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=nn(s),m=n&&Qn(n)?nn(n):n;let g=h,p=hb(g);for(;p&&n&&m!==g;){const v=Ol(p),b=p.getBoundingClientRect(),x=Xn(p),w=b.left+(p.clientLeft+parseFloat(x.paddingLeft))*v.x,j=b.top+(p.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=j,g=nn(p),p=hb(g)}}return gp({width:d,height:f,x:c,y:u})}function hq(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=ja(n),l=t?hv(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=oi(1);const d=oi(0),f=ba(n);if((f||!f&&!s)&&((qc(n)!=="body"||Hf(o))&&(c=mv(n)),ba(n))){const h=go(n);u=Ol(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function mq(e){return Array.from(e.getClientRects())}function mb(e,t){const r=mv(e).scrollLeft;return t?t.left+r:go(ja(e)).left+r}function pq(e){const t=ja(e),r=mv(e),n=e.ownerDocument.body,a=Jr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Jr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+mb(e);const l=-r.scrollTop;return Xn(n).direction==="rtl"&&(o+=Jr(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function gq(e,t){const r=nn(e),n=ja(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=zj();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}function vq(e,t){const r=go(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=ba(e)?Ol(e):oi(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function rP(e,t,r){let n;if(t==="viewport")n=gq(e,r);else if(t==="document")n=pq(ja(e));else if(Qn(t))n=vq(t,r);else{const a=PM(e);n={...t,x:t.x-a.x,y:t.y-a.y}}return gp(n)}function kM(e,t){const r=ci(e);return r===t||!Qn(r)||ac(r)?!1:Xn(r).position==="fixed"||kM(r,t)}function yq(e,t){const r=t.get(e);if(r)return r;let n=Bd(e,[],!1).filter(l=>Qn(l)&&qc(l)!=="body"),a=null;const s=Xn(e).position==="fixed";let o=s?ci(e):e;for(;Qn(o)&&!ac(o);){const l=Xn(o),c=Fj(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Hf(o)&&!c&&kM(e,o))?n=n.filter(d=>d!==o):a=l,o=ci(o)}return t.set(e,n),n}function xq(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?hv(t)?[]:yq(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=rP(t,d,a);return u.top=Jr(f.top,u.top),u.right=ii(f.right,u.right),u.bottom=ii(f.bottom,u.bottom),u.left=Jr(f.left,u.left),u},rP(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bq(e){const{width:t,height:r}=EM(e);return{width:t,height:r}}function wq(e,t,r){const n=ba(t),a=ja(t),s=r==="fixed",o=go(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=oi(0);if(n||!n&&!s)if((qc(t)!=="body"||Hf(a))&&(l=mv(t)),n){const m=go(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=mb(a));let u=0,d=0;if(a&&!n&&!s){const m=a.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-mb(a,m)}const f=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-d;return{x:f,y:h,width:o.width,height:o.height}}function ux(e){return Xn(e).position==="static"}function nP(e,t){if(!ba(e)||Xn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ja(e)===r&&(r=r.ownerDocument.body),r}function CM(e,t){const r=nn(e);if(hv(e))return r;if(!ba(e)){let a=ci(e);for(;a&&!ac(a);){if(Qn(a)&&!ux(a))return a;a=ci(a)}return r}let n=nP(e,t);for(;n&&cq(n)&&ux(n);)n=nP(n,t);return n&&ac(n)&&ux(n)&&!Fj(n)?r:n||uq(e)||r}const jq=async function(e){const t=this.getOffsetParent||CM,r=this.getDimensions,n=await r(e.floating);return{reference:wq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _q(e){return Xn(e).direction==="rtl"}const Sq={convertOffsetParentRelativeRectToViewportRelativeRect:hq,getDocumentElement:ja,getClippingRect:xq,getOffsetParent:CM,getElementRects:jq,getClientRects:mq,getDimensions:bq,getScale:Ol,isElement:Qn,isRTL:_q};function Nq(e,t){let r=null,n;const a=ja(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const m=Bh(d),g=Bh(a.clientWidth-(u+f)),p=Bh(a.clientHeight-(d+h)),v=Bh(u),x={rootMargin:-m+"px "+-g+"px "+-p+"px "+-v+"px",threshold:Jr(0,ii(1,c))||1};let w=!0;function j(_){const S=_[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(j,{...x,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,x)}r.observe(e)}return o(!0),s}function Eq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Uj(e),d=a||s?[...u?Bd(u):[],...Bd(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const f=u&&l?Nq(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?go(e):null;c&&v();function v(){const b=go(e);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&r(),p=b,g=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(x=>{a&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const Pq=sq,kq=iq,Cq=rq,Oq=lq,Aq=nq,aP=tq,Tq=oq,Rq=(e,t,r)=>{const n=new Map,a={platform:Sq,...r},s={...a.platform,_c:n};return eq(e,t,{...a,platform:s})};var Mm=typeof document<"u"?y.useLayoutEffect:y.useEffect;function vp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!vp(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!vp(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function OM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sP(e,t){const r=OM(e);return Math.round(t*r)/r}function dx(e){const t=y.useRef(e);return Mm(()=>{t.current=e}),t}function Mq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(n);vp(h,n)||m(n);const[g,p]=y.useState(null),[v,b]=y.useState(null),x=y.useCallback(O=>{O!==S.current&&(S.current=O,p(O))},[]),w=y.useCallback(O=>{O!==N.current&&(N.current=O,b(O))},[]),j=s||g,_=o||v,S=y.useRef(null),N=y.useRef(null),E=y.useRef(d),C=c!=null,k=dx(c),T=dx(a),A=dx(u),D=y.useCallback(()=>{if(!S.current||!N.current)return;const O={placement:t,strategy:r,middleware:h};T.current&&(O.platform=T.current),Rq(S.current,N.current,O).then($=>{const V={...$,isPositioned:A.current!==!1};R.current&&!vp(E.current,V)&&(E.current=V,Ao.flushSync(()=>{f(V)}))})},[h,t,r,T,A]);Mm(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const R=y.useRef(!1);Mm(()=>(R.current=!0,()=>{R.current=!1}),[]),Mm(()=>{if(j&&(S.current=j),_&&(N.current=_),j&&_){if(k.current)return k.current(j,_,D);D()}},[j,_,D,k,C]);const L=y.useMemo(()=>({reference:S,floating:N,setReference:x,setFloating:w}),[x,w]),I=y.useMemo(()=>({reference:j,floating:_}),[j,_]),F=y.useMemo(()=>{const O={position:r,left:0,top:0};if(!I.floating)return O;const $=sP(I.floating,d.x),V=sP(I.floating,d.y);return l?{...O,transform:"translate("+$+"px, "+V+"px)",...OM(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:V}},[r,l,I.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:D,refs:L,elements:I,floatingStyles:F}),[d,D,L,I,F])}const $q=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?aP({element:n.current,padding:a}).fn(r):{}:n?aP({element:n,padding:a}).fn(r):{}}}},Iq=(e,t)=>({...Pq(e),options:[e,t]}),Dq=(e,t)=>({...kq(e),options:[e,t]}),Lq=(e,t)=>({...Tq(e),options:[e,t]}),Fq=(e,t)=>({...Cq(e),options:[e,t]}),zq=(e,t)=>({...Oq(e),options:[e,t]}),Uq=(e,t)=>({...Aq(e),options:[e,t]}),Bq=(e,t)=>({...$q(e),options:[e,t]});var qq="Arrow",AM=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(ue.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});AM.displayName=qq;var Wq=AM;function Vq(e,t=[]){let r=[];function n(s,o){const l=y.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,v=y.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Hq(a,...t)]}function Hq(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Kf(e){const[t,r]=y.useState(void 0);return It(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Bj="Popper",[TM,Wc]=Vq(Bj),[Kq,RM]=TM(Bj),MM=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return i.jsx(Kq,{scope:t,anchor:n,onAnchorChange:a,children:r})};MM.displayName=Bj;var $M="PopperAnchor",IM=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=RM($M,r),o=y.useRef(null),l=we(t,o);return y.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(ue.div,{...a,ref:l})});IM.displayName=$M;var qj="PopperContent",[Gq,Yq]=TM(qj),DM=y.forwardRef((e,t)=>{var ne,be,Y,te,le,q;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=RM(qj,r),[b,x]=y.useState(null),w=we(t,Oe=>x(Oe)),[j,_]=y.useState(null),S=Kf(j),N=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,C=n+(s!=="center"?"-"+s:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],A=T.length>0,D={padding:k,boundary:T.filter(Xq),altBoundary:A},{refs:R,floatingStyles:L,placement:I,isPositioned:F,middlewareData:O}=Mq({strategy:"fixed",placement:C,whileElementsMounted:(...Oe)=>Eq(...Oe,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Iq({mainAxis:a+E,alignmentAxis:o}),c&&Dq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Lq():void 0,...D}),c&&Fq({...D}),zq({...D,apply:({elements:Oe,rects:ye,availableWidth:Ke,availableHeight:Le})=>{const{width:wt,height:qr}=ye.reference,mt=Oe.floating.style;mt.setProperty("--radix-popper-available-width",`${Ke}px`),mt.setProperty("--radix-popper-available-height",`${Le}px`),mt.setProperty("--radix-popper-anchor-width",`${wt}px`),mt.setProperty("--radix-popper-anchor-height",`${qr}px`)}}),j&&Bq({element:j,padding:l}),Jq({arrowWidth:N,arrowHeight:E}),h&&Uq({strategy:"referenceHidden",...D})]}),[$,V]=zM(I),z=Xt(g);It(()=>{F&&(z==null||z())},[F,z]);const B=(ne=O.arrow)==null?void 0:ne.x,Q=(be=O.arrow)==null?void 0:be.y,oe=((Y=O.arrow)==null?void 0:Y.centerOffset)!==0,[ge,me]=y.useState();return It(()=>{b&&me(window.getComputedStyle(b).zIndex)},[b]),i.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:F?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(te=O.transformOrigin)==null?void 0:te.x,(le=O.transformOrigin)==null?void 0:le.y].join(" "),...((q=O.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Gq,{scope:r,placedSide:$,onArrowChange:_,arrowX:B,arrowY:Q,shouldHideArrow:oe,children:i.jsx(ue.div,{"data-side":$,"data-align":V,...p,ref:w,style:{...p.style,animation:F?void 0:"none"}})})})});DM.displayName=qj;var LM="PopperArrow",Qq={top:"bottom",right:"left",bottom:"top",left:"right"},FM=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=Yq(LM,n),o=Qq[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(Wq,{...a,ref:r,style:{...a.style,display:"block"}})})});FM.displayName=LM;function Xq(e){return e!==null}var Jq=e=>({name:"transformOrigin",options:e,fn(t){var v,b,x;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=zM(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function zM(e){const[t,r="center"]=e.split("-");return[t,r]}var Wj=MM,Vj=IM,Hj=DM,Kj=FM,[pv,GOe]=dr("Tooltip",[Wc]),gv=Wc(),UM="TooltipProvider",Zq=700,pb="tooltip.open",[eW,Gj]=pv(UM),BM=e=>{const{__scopeTooltip:t,delayDuration:r=Zq,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,[o,l]=y.useState(!0),c=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(eW,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:s})};BM.displayName=UM;var vv="Tooltip",[tW,yv]=pv(vv),qM=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=Gj(vv,e.__scopeTooltip),u=gv(t),[d,f]=y.useState(null),h=rn(),m=y.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,v=y.useRef(!1),[b=!1,x]=wr({prop:n,defaultProp:a,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(pb))):c.onClose(),s==null||s(N)}}),w=y.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),j=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,x(!0)},[x]),_=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),S=y.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,x(!0),m.current=0},p)},[p,x]);return y.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),i.jsx(Wj,{...u,children:i.jsx(tW,{scope:t,contentId:h,open:b,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:y.useCallback(()=>{c.isOpenDelayed?S():j()},[c.isOpenDelayed,S,j]),onTriggerLeave:y.useCallback(()=>{g?_():(window.clearTimeout(m.current),m.current=0)},[_,g]),onOpen:j,onClose:_,disableHoverableContent:g,children:r})})};qM.displayName=vv;var gb="TooltipTrigger",WM=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=yv(gb,r),s=Gj(gb,r),o=gv(r),l=y.useRef(null),c=we(t,l,a.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Vj,{asChild:!0,...o,children:i.jsx(ue.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:J(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:J(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:J(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:J(e.onBlur,a.onClose),onClick:J(e.onClick,a.onClose)})})});WM.displayName=gb;var rW="TooltipPortal",[YOe,nW]=pv(rW,{forceMount:void 0}),sc="TooltipContent",VM=y.forwardRef((e,t)=>{const r=nW(sc,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,o=yv(sc,e.__scopeTooltip);return i.jsx(Ur,{present:n||o.open,children:o.disableHoverableContent?i.jsx(HM,{side:a,...s,ref:t}):i.jsx(aW,{side:a,...s,ref:t})})}),aW=y.forwardRef((e,t)=>{const r=yv(sc,e.__scopeTooltip),n=Gj(sc,e.__scopeTooltip),a=y.useRef(null),s=we(t,a),[o,l]=y.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=y.useCallback(()=>{l(null),f(!1)},[f]),m=y.useCallback((g,p)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},x=lW(b,v.getBoundingClientRect()),w=cW(b,x),j=uW(p.getBoundingClientRect()),_=fW([...w,...j]);l(_),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const g=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),y.useEffect(()=>{if(o){const g=p=>{const v=p.target,b={x:p.clientX,y:p.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!dW(b,o);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),i.jsx(HM,{...e,ref:s})}),[sW,iW]=pv(vv,{isInside:!1}),HM=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=yv(sc,r),u=gv(r),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(pb,d),()=>document.removeEventListener(pb,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Dc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(Hj,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Nj,{children:n}),i.jsx(sW,{scope:r,isInside:!0,children:i.jsx(A8,{id:c.contentId,role:"tooltip",children:a||n})})]})})});VM.displayName=sc;var KM="TooltipArrow",oW=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=gv(r);return iW(KM,r).isInside?null:i.jsx(Kj,{...a,...n,ref:t})});oW.displayName=KM;function lW(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function cW(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function uW(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function dW(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,c=t[s].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function fW(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),hW(t)}function hW(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var mW=BM,pW=qM,gW=WM,GM=VM;const YM=mW,vW=pW,yW=gW,QM=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(GM,{ref:n,sideOffset:t,className:U("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));QM.displayName=GM.displayName;var Vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vo=typeof window>"u"||"Deno"in globalThis;function mn(){}function xW(e,t){return typeof e=="function"?e(t):e}function vb(e){return typeof e=="number"&&e>=0&&e!==1/0}function XM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Al(e,t){return typeof e=="function"?e(t):e}function Un(e,t){return typeof e=="function"?e(t):e}function iP(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Yj(o,t.options))return!1}else if(!qd(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function oP(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(yo(t.options.mutationKey)!==yo(s))return!1}else if(!qd(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Yj(e,t){return((t==null?void 0:t.queryKeyHashFn)||yo)(e)}function yo(e){return JSON.stringify(e,(t,r)=>yb(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function qd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!qd(e[r],t[r])):!1}function JM(e,t){if(e===t)return e;const r=lP(e)&&lP(t);if(r||yb(e)&&yb(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:s[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=JM(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function yp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function lP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yb(e){if(!cP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!cP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function cP(e){return Object.prototype.toString.call(e)==="[object Object]"}function bW(e){return new Promise(t=>{setTimeout(t,e)})}function xb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?JM(e,t):t}function wW(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function jW(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Qj=Symbol();function ZM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Qj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Xi,Cs,Ll,aA,_W=(aA=class extends Vc{constructor(){super();pe(this,Xi);pe(this,Cs);pe(this,Ll);ce(this,Ll,t=>{if(!vo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){M(this,Cs)||this.setEventListener(M(this,Ll))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Cs))==null||t.call(this),ce(this,Cs,void 0))}setEventListener(t){var r;ce(this,Ll,t),(r=M(this,Cs))==null||r.call(this),ce(this,Cs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){M(this,Xi)!==t&&(ce(this,Xi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof M(this,Xi)=="boolean"?M(this,Xi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Xi=new WeakMap,Cs=new WeakMap,Ll=new WeakMap,aA),Xj=new _W,Fl,Os,zl,sA,SW=(sA=class extends Vc{constructor(){super();pe(this,Fl,!0);pe(this,Os);pe(this,zl);ce(this,zl,t=>{if(!vo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){M(this,Os)||this.setEventListener(M(this,zl))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Os))==null||t.call(this),ce(this,Os,void 0))}setEventListener(t){var r;ce(this,zl,t),(r=M(this,Os))==null||r.call(this),ce(this,Os,t(this.setOnline.bind(this)))}setOnline(t){M(this,Fl)!==t&&(ce(this,Fl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return M(this,Fl)}},Fl=new WeakMap,Os=new WeakMap,zl=new WeakMap,sA),xp=new SW;function bb(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function NW(e){return Math.min(1e3*2**e,3e4)}function e$(e){return(e??"online")==="online"?xp.isOnline():!0}var t$=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fx(e){return e instanceof t$}function r$(e){let t=!1,r=0,n=!1,a;const s=bb(),o=p=>{var v;n||(h(new t$(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Xj.isFocused()&&(e.networkMode==="always"||xp.isOnline())&&e.canRun(),d=()=>e$(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),a==null||a(),s.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),a==null||a(),s.reject(p))},m=()=>new Promise(p=>{var v;a=b=>{(n||u())&&p(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var S;if(n)return;const x=e.retry??(vo?0:3),w=e.retryDelay??NW,j=typeof w=="function"?w(r,b):w,_=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!_){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),bW(j).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}function EW(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Rt=EW(),Ji,iA,n$=(iA=class{constructor(){pe(this,Ji)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vb(this.gcTime)&&ce(this,Ji,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vo?1/0:5*60*1e3))}clearGcTimeout(){M(this,Ji)&&(clearTimeout(M(this,Ji)),ce(this,Ji,void 0))}},Ji=new WeakMap,iA),Ul,Bl,hn,er,Rf,Zi,$n,Oa,oA,PW=(oA=class extends n${constructor(t){super();pe(this,$n);pe(this,Ul);pe(this,Bl);pe(this,hn);pe(this,er);pe(this,Rf);pe(this,Zi);ce(this,Zi,!1),ce(this,Rf,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,hn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,Ul,kW(this.options)),this.state=t.state??M(this,Ul),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=M(this,er))==null?void 0:t.promise}setOptions(t){this.options={...M(this,Rf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,hn).remove(this)}setData(t,r){const n=xb(this.state.data,t,this.options);return Pe(this,$n,Oa).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Pe(this,$n,Oa).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=M(this,er))==null?void 0:n.promise;return(a=M(this,er))==null||a.cancel(t),r?r.then(mn).catch(mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Ul))}isActive(){return this.observers.some(t=>Un(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!XM(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=M(this,er))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=M(this,er))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),M(this,hn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(M(this,er)&&(M(this,Zi)?M(this,er).cancel({revert:!0}):M(this,er).cancelRetry()),this.scheduleGc()),M(this,hn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,$n,Oa).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(M(this,er))return M(this,er).continueRetry(),M(this,er).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ce(this,Zi,!0),n.signal)})},s=()=>{const f=ZM(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),ce(this,Zi,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),ce(this,Bl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Pe(this,$n,Oa).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,g,p;fx(f)&&f.silent||Pe(this,$n,Oa).call(this,{type:"error",error:f}),fx(f)||((m=(h=M(this,hn).config).onError)==null||m.call(h,f,this),(p=(g=M(this,hn).config).onSettled)==null||p.call(g,this.state.data,f,this)),this.scheduleGc()};return ce(this,er,r$({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,g,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(m=(h=M(this,hn).config).onSuccess)==null||m.call(h,f,this),(p=(g=M(this,hn).config).onSettled)==null||p.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Pe(this,$n,Oa).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Pe(this,$n,Oa).call(this,{type:"pause"})},onContinue:()=>{Pe(this,$n,Oa).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),M(this,er).start()}},Ul=new WeakMap,Bl=new WeakMap,hn=new WeakMap,er=new WeakMap,Rf=new WeakMap,Zi=new WeakMap,$n=new WeakSet,Oa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...a$(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return fx(a)&&a.revert&&M(this,Bl)?{...M(this,Bl),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Rt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),M(this,hn).notify({query:this,type:"updated",action:t})})},oA);function a$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:e$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kW(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var la,lA,CW=(lA=class extends Vc{constructor(t={}){super();pe(this,la);this.config=t,ce(this,la,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??Yj(a,r);let o=this.get(s);return o||(o=new PW({cache:this,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){M(this,la).has(t.queryHash)||(M(this,la).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=M(this,la).get(t.queryHash);r&&(t.destroy(),r===t&&M(this,la).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return M(this,la).get(t)}getAll(){return[...M(this,la).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>iP(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>iP(t,n)):r}notify(t){Rt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Rt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},la=new WeakMap,lA),ca,mr,eo,ua,ys,cA,OW=(cA=class extends n${constructor(t){super();pe(this,ua);pe(this,ca);pe(this,mr);pe(this,eo);this.mutationId=t.mutationId,ce(this,mr,t.mutationCache),ce(this,ca,[]),this.state=t.state||s$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){M(this,ca).includes(t)||(M(this,ca).push(t),this.clearGcTimeout(),M(this,mr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,ca,M(this,ca).filter(r=>r!==t)),this.scheduleGc(),M(this,mr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){M(this,ca).length||(this.state.status==="pending"?this.scheduleGc():M(this,mr).remove(this))}continue(){var t;return((t=M(this,eo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,o,l,c,u,d,f,h,m,g,p,v,b,x,w,j,_,S,N;ce(this,eo,r$({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,C)=>{Pe(this,ua,ys).call(this,{type:"failed",failureCount:E,error:C})},onPause:()=>{Pe(this,ua,ys).call(this,{type:"pause"})},onContinue:()=>{Pe(this,ua,ys).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,mr).canRun(this)}));const r=this.state.status==="pending",n=!M(this,eo).canStart();try{if(!r){Pe(this,ua,ys).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(a=M(this,mr).config).onMutate)==null?void 0:s.call(a,t,this));const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));C!==this.state.context&&Pe(this,ua,ys).call(this,{type:"pending",context:C,variables:t,isPaused:n})}const E=await M(this,eo).start();return await((u=(c=M(this,mr).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,t,this.state.context)),await((m=(h=M(this,mr).config).onSettled)==null?void 0:m.call(h,E,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,E,null,t,this.state.context)),Pe(this,ua,ys).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(v=M(this,mr).config).onError)==null?void 0:b.call(v,E,t,this.state.context,this)),await((w=(x=this.options).onError)==null?void 0:w.call(x,E,t,this.state.context)),await((_=(j=M(this,mr).config).onSettled)==null?void 0:_.call(j,void 0,E,this.state.variables,this.state.context,this)),await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,E,t,this.state.context)),E}finally{Pe(this,ua,ys).call(this,{type:"error",error:E})}}finally{M(this,mr).runNext(this)}}},ca=new WeakMap,mr=new WeakMap,eo=new WeakMap,ua=new WeakSet,ys=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Rt.batch(()=>{M(this,ca).forEach(n=>{n.onMutationUpdate(t)}),M(this,mr).notify({mutation:this,type:"updated",action:t})})},cA);function s$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kr,Mf,uA,AW=(uA=class extends Vc{constructor(t={}){super();pe(this,Kr);pe(this,Mf);this.config=t,ce(this,Kr,new Map),ce(this,Mf,Date.now())}build(t,r,n){const a=new OW({mutationCache:this,mutationId:++wh(this,Mf)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=qh(t),n=M(this,Kr).get(r)??[];n.push(t),M(this,Kr).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=qh(t);if(M(this,Kr).has(r)){const a=(n=M(this,Kr).get(r))==null?void 0:n.filter(s=>s!==t);a&&(a.length===0?M(this,Kr).delete(r):M(this,Kr).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=M(this,Kr).get(qh(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=M(this,Kr).get(qh(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...M(this,Kr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>oP(r,n))}findAll(t={}){return this.getAll().filter(r=>oP(t,r))}notify(t){Rt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Rt.batch(()=>Promise.all(t.map(r=>r.continue().catch(mn))))}},Kr=new WeakMap,Mf=new WeakMap,uA);function qh(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function uP(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=ZM(t.options,t.fetchOptions),x=async(w,j,_)=>{if(p)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};v(S);const N=await b(S),{maxPages:E}=t.options,C=_?jW:wW;return{pages:C(w.pages,N,E),pageParams:C(w.pageParams,j,E)}};if(a&&s.length){const w=a==="backward",j=w?TW:dP,_={pages:s,pageParams:o},S=j(n,_);l=await x(_,S,w)}else{const w=e??s.length;do{const j=c===0?o[0]??n.initialPageParam:dP(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function dP(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function TW(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var gt,As,Ts,ql,Wl,Rs,Vl,Hl,dA,RW=(dA=class{constructor(e={}){pe(this,gt);pe(this,As);pe(this,Ts);pe(this,ql);pe(this,Wl);pe(this,Rs);pe(this,Vl);pe(this,Hl);ce(this,gt,e.queryCache||new CW),ce(this,As,e.mutationCache||new AW),ce(this,Ts,e.defaultOptions||{}),ce(this,ql,new Map),ce(this,Wl,new Map),ce(this,Rs,0)}mount(){wh(this,Rs)._++,M(this,Rs)===1&&(ce(this,Vl,Xj.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,gt).onFocus())})),ce(this,Hl,xp.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,gt).onOnline())})))}unmount(){var e,t;wh(this,Rs)._--,M(this,Rs)===0&&((e=M(this,Vl))==null||e.call(this),ce(this,Vl,void 0),(t=M(this,Hl))==null||t.call(this),ce(this,Hl,void 0))}isFetching(e){return M(this,gt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return M(this,As).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=M(this,gt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=M(this,gt).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Al(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return M(this,gt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=M(this,gt).get(n.queryHash),s=a==null?void 0:a.state.data,o=xW(t,s);if(o!==void 0)return M(this,gt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Rt.batch(()=>M(this,gt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=M(this,gt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=M(this,gt);Rt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=M(this,gt),n={type:"active",...e};return Rt.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Rt.batch(()=>M(this,gt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(mn).catch(mn)}invalidateQueries(e={},t={}){return Rt.batch(()=>{if(M(this,gt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Rt.batch(()=>M(this,gt).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(mn)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(mn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=M(this,gt).build(this,t);return r.isStaleByTime(Al(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mn).catch(mn)}fetchInfiniteQuery(e){return e.behavior=uP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mn).catch(mn)}ensureInfiniteQueryData(e){return e.behavior=uP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xp.isOnline()?M(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,gt)}getMutationCache(){return M(this,As)}getDefaultOptions(){return M(this,Ts)}setDefaultOptions(e){ce(this,Ts,e)}setQueryDefaults(e,t){M(this,ql).set(yo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...M(this,ql).values()];let r={};return t.forEach(n=>{qd(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){M(this,Wl).set(yo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...M(this,Wl).values()];let r={};return t.forEach(n=>{qd(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...M(this,Ts).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Yj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Qj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...M(this,Ts).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){M(this,gt).clear(),M(this,As).clear()}},gt=new WeakMap,As=new WeakMap,Ts=new WeakMap,ql=new WeakMap,Wl=new WeakMap,Rs=new WeakMap,Vl=new WeakMap,Hl=new WeakMap,dA),kr,$e,$f,pr,to,Kl,Ms,da,If,Gl,Yl,ro,no,$s,Ql,qe,Ju,wb,jb,_b,Sb,Nb,Eb,Pb,i$,fA,MW=(fA=class extends Vc{constructor(t,r){super();pe(this,qe);pe(this,kr);pe(this,$e);pe(this,$f);pe(this,pr);pe(this,to);pe(this,Kl);pe(this,Ms);pe(this,da);pe(this,If);pe(this,Gl);pe(this,Yl);pe(this,ro);pe(this,no);pe(this,$s);pe(this,Ql,new Set);this.options=r,ce(this,kr,t),ce(this,da,null),ce(this,Ms,bb()),this.options.experimental_prefetchInRender||M(this,Ms).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,$e).addObserver(this),fP(M(this,$e),this.options)?Pe(this,qe,Ju).call(this):this.updateResult(),Pe(this,qe,Sb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kb(M(this,$e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kb(M(this,$e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pe(this,qe,Nb).call(this),Pe(this,qe,Eb).call(this),M(this,$e).removeObserver(this)}setOptions(t,r){const n=this.options,a=M(this,$e);if(this.options=M(this,kr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Un(this.options.enabled,M(this,$e))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pe(this,qe,Pb).call(this),M(this,$e).setOptions(this.options),n._defaulted&&!yp(this.options,n)&&M(this,kr).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,$e),observer:this});const s=this.hasListeners();s&&hP(M(this,$e),a,this.options,n)&&Pe(this,qe,Ju).call(this),this.updateResult(r),s&&(M(this,$e)!==a||Un(this.options.enabled,M(this,$e))!==Un(n.enabled,M(this,$e))||Al(this.options.staleTime,M(this,$e))!==Al(n.staleTime,M(this,$e)))&&Pe(this,qe,wb).call(this);const o=Pe(this,qe,jb).call(this);s&&(M(this,$e)!==a||Un(this.options.enabled,M(this,$e))!==Un(n.enabled,M(this,$e))||o!==M(this,$s))&&Pe(this,qe,_b).call(this,o)}getOptimisticResult(t){const r=M(this,kr).getQueryCache().build(M(this,kr),t),n=this.createResult(r,t);return IW(this,n)&&(ce(this,pr,n),ce(this,Kl,this.options),ce(this,to,M(this,$e).state)),n}getCurrentResult(){return M(this,pr)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){M(this,Ql).add(t)}getCurrentQuery(){return M(this,$e)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=M(this,kr).defaultQueryOptions(t),n=M(this,kr).getQueryCache().build(M(this,kr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Pe(this,qe,Ju).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,pr)))}createResult(t,r){var E;const n=M(this,$e),a=this.options,s=M(this,pr),o=M(this,to),l=M(this,Kl),u=t!==n?t.state:M(this,$f),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const C=this.hasListeners(),k=!C&&fP(t,r),T=C&&hP(t,n,r,a);(k||T)&&(f={...f,...a$(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=f;if(r.select&&f.data!==void 0)if(s&&f.data===(o==null?void 0:o.data)&&r.select===M(this,If))m=M(this,Gl);else try{ce(this,If,r.select),m=r.select(f.data),m=xb(s==null?void 0:s.data,m,r),ce(this,Gl,m),ce(this,da,null)}catch(C){ce(this,da,C)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let C;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))C=s.data;else if(C=typeof r.placeholderData=="function"?r.placeholderData((E=M(this,Yl))==null?void 0:E.state.data,M(this,Yl)):r.placeholderData,r.select&&C!==void 0)try{C=r.select(C),ce(this,da,null)}catch(k){ce(this,da,k)}C!==void 0&&(v="success",m=xb(s==null?void 0:s.data,C,r),h=!0)}M(this,da)&&(g=M(this,da),m=M(this,Gl),p=Date.now(),v="error");const b=f.fetchStatus==="fetching",x=v==="pending",w=v==="error",j=x&&b,_=m!==void 0,N={status:v,fetchStatus:f.fetchStatus,isPending:x,isSuccess:v==="success",isError:w,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:w&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&_,isStale:Jj(t,r),refetch:this.refetch,promise:M(this,Ms)};if(this.options.experimental_prefetchInRender){const C=A=>{N.status==="error"?A.reject(N.error):N.data!==void 0&&A.resolve(N.data)},k=()=>{const A=ce(this,Ms,N.promise=bb());C(A)},T=M(this,Ms);switch(T.status){case"pending":t.queryHash===n.queryHash&&C(T);break;case"fulfilled":(N.status==="error"||N.data!==T.value)&&k();break;case"rejected":(N.status!=="error"||N.error!==T.reason)&&k();break}}return N}updateResult(t){const r=M(this,pr),n=this.createResult(M(this,$e),this.options);if(ce(this,to,M(this,$e).state),ce(this,Kl,this.options),M(this,to).data!==void 0&&ce(this,Yl,M(this,$e)),yp(n,r))return;ce(this,pr,n);const a={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!M(this,Ql).size)return!0;const c=new Set(l??M(this,Ql));return this.options.throwOnError&&c.add("error"),Object.keys(M(this,pr)).some(u=>{const d=u;return M(this,pr)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&s()&&(a.listeners=!0),Pe(this,qe,i$).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pe(this,qe,Sb).call(this)}},kr=new WeakMap,$e=new WeakMap,$f=new WeakMap,pr=new WeakMap,to=new WeakMap,Kl=new WeakMap,Ms=new WeakMap,da=new WeakMap,If=new WeakMap,Gl=new WeakMap,Yl=new WeakMap,ro=new WeakMap,no=new WeakMap,$s=new WeakMap,Ql=new WeakMap,qe=new WeakSet,Ju=function(t){Pe(this,qe,Pb).call(this);let r=M(this,$e).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(mn)),r},wb=function(){Pe(this,qe,Nb).call(this);const t=Al(this.options.staleTime,M(this,$e));if(vo||M(this,pr).isStale||!vb(t))return;const n=XM(M(this,pr).dataUpdatedAt,t)+1;ce(this,ro,setTimeout(()=>{M(this,pr).isStale||this.updateResult()},n))},jb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,$e)):this.options.refetchInterval)??!1},_b=function(t){Pe(this,qe,Eb).call(this),ce(this,$s,t),!(vo||Un(this.options.enabled,M(this,$e))===!1||!vb(M(this,$s))||M(this,$s)===0)&&ce(this,no,setInterval(()=>{(this.options.refetchIntervalInBackground||Xj.isFocused())&&Pe(this,qe,Ju).call(this)},M(this,$s)))},Sb=function(){Pe(this,qe,wb).call(this),Pe(this,qe,_b).call(this,Pe(this,qe,jb).call(this))},Nb=function(){M(this,ro)&&(clearTimeout(M(this,ro)),ce(this,ro,void 0))},Eb=function(){M(this,no)&&(clearInterval(M(this,no)),ce(this,no,void 0))},Pb=function(){const t=M(this,kr).getQueryCache().build(M(this,kr),this.options);if(t===M(this,$e))return;const r=M(this,$e);ce(this,$e,t),ce(this,$f,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},i$=function(t){Rt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(M(this,pr))}),M(this,kr).getQueryCache().notify({query:M(this,$e),type:"observerResultsUpdated"})})},fA);function $W(e,t){return Un(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function fP(e,t){return $W(e,t)||e.state.data!==void 0&&kb(e,t,t.refetchOnMount)}function kb(e,t,r){if(Un(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Jj(e,t)}return!1}function hP(e,t,r,n){return(e!==t||Un(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Jj(e,r)}function Jj(e,t){return Un(t.enabled,e)!==!1&&e.isStaleByTime(Al(t.staleTime,e))}function IW(e,t){return!yp(e.getCurrentResult(),t)}var Is,Ds,Cr,Ia,Ga,$m,Cb,hA,DW=(hA=class extends Vc{constructor(r,n){super();pe(this,Ga);pe(this,Is);pe(this,Ds);pe(this,Cr);pe(this,Ia);ce(this,Is,r),this.setOptions(n),this.bindMethods(),Pe(this,Ga,$m).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=M(this,Is).defaultMutationOptions(r),yp(this.options,n)||M(this,Is).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,Cr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&yo(n.mutationKey)!==yo(this.options.mutationKey)?this.reset():((a=M(this,Cr))==null?void 0:a.state.status)==="pending"&&M(this,Cr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=M(this,Cr))==null||r.removeObserver(this)}onMutationUpdate(r){Pe(this,Ga,$m).call(this),Pe(this,Ga,Cb).call(this,r)}getCurrentResult(){return M(this,Ds)}reset(){var r;(r=M(this,Cr))==null||r.removeObserver(this),ce(this,Cr,void 0),Pe(this,Ga,$m).call(this),Pe(this,Ga,Cb).call(this)}mutate(r,n){var a;return ce(this,Ia,n),(a=M(this,Cr))==null||a.removeObserver(this),ce(this,Cr,M(this,Is).getMutationCache().build(M(this,Is),this.options)),M(this,Cr).addObserver(this),M(this,Cr).execute(r)}},Is=new WeakMap,Ds=new WeakMap,Cr=new WeakMap,Ia=new WeakMap,Ga=new WeakSet,$m=function(){var n;const r=((n=M(this,Cr))==null?void 0:n.state)??s$();ce(this,Ds,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Cb=function(r){Rt.batch(()=>{var n,a,s,o,l,c,u,d;if(M(this,Ia)&&this.hasListeners()){const f=M(this,Ds).variables,h=M(this,Ds).context;(r==null?void 0:r.type)==="success"?((a=(n=M(this,Ia)).onSuccess)==null||a.call(n,r.data,f,h),(o=(s=M(this,Ia)).onSettled)==null||o.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=M(this,Ia)).onError)==null||c.call(l,r.error,f,h),(d=(u=M(this,Ia)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(M(this,Ds))})})},hA),o$=y.createContext(void 0),Sr=e=>{const t=y.useContext(o$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},LW=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(o$.Provider,{value:e,children:t})),l$=y.createContext(!1),FW=()=>y.useContext(l$);l$.Provider;function zW(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var UW=y.createContext(zW()),BW=()=>y.useContext(UW);function c$(e,t){return typeof e=="function"?e(...t):!!e}function u$(){}var qW=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},WW=e=>{y.useEffect(()=>{e.clearReset()},[e])},VW=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&c$(r,[e.error,n]),HW=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},KW=(e,t)=>e.isLoading&&e.isFetching&&!t,GW=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,mP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function YW(e,t,r){var d,f,h,m,g;const n=Sr(),a=FW(),s=BW(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",HW(o),qW(o,s),WW(s);const l=!n.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(y.useSyncExternalStore(y.useCallback(p=>{const v=a?()=>{}:c.subscribe(Rt.batchCalls(p));return c.updateResult(),v},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),GW(o,u))throw mP(o,c,s);if(VW({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,o,u),o.experimental_prefetchInRender&&!vo&&KW(u,a)){const p=l?mP(o,c,s):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;p==null||p.catch(u$).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function St(e,t){return YW(e,MW)}function bt(e,t){const r=Sr(),[n]=y.useState(()=>new DW(r,e));y.useEffect(()=>{n.setOptions(e)},[n,e]);const a=y.useSyncExternalStore(y.useCallback(o=>n.subscribe(Rt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=y.useCallback((o,l)=>{n.mutate(o,l).catch(u$)},[n]);if(a.error&&c$(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wd.apply(this,arguments)}var Us;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Us||(Us={}));const pP="popstate";function QW(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return Ob("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:bp(a)}return JW(t,r,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function d$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XW(){return Math.random().toString(36).substr(2,8)}function gP(e,t){return{usr:e.state,key:e.key,idx:t}}function Ob(e,t,r,n){return r===void 0&&(r=null),Wd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hc(t):t,{state:r,key:t&&t.key||n||XW()})}function bp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Hc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function JW(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=Us.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Wd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Us.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:b})}function h(v,b){l=Us.Push;let x=Ob(p.location,v,b);u=d()+1;let w=gP(x,u),j=p.createHref(x);try{o.pushState(w,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(j)}s&&c&&c({action:l,location:p.location,delta:1})}function m(v,b){l=Us.Replace;let x=Ob(p.location,v,b);u=d();let w=gP(x,u),j=p.createHref(x);o.replaceState(w,"",j),s&&c&&c({action:l,location:p.location,delta:0})}function g(v){let b=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:bp(v);return x=x.replace(/ $/,"%20"),Nt(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(pP,f),c=v,()=>{a.removeEventListener(pP,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var vP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vP||(vP={}));function ZW(e,t,r){return r===void 0&&(r="/"),eV(e,t,r,!1)}function eV(e,t,r,n){let a=typeof t=="string"?Hc(t):t,s=Zj(a.pathname||"/",r);if(s==null)return null;let o=f$(e);tV(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=fV(s);l=uV(o[c],u,n)}return l}function f$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Nt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Xs([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),f$(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:lV(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of h$(s.path))a(s,o,c)}),t}function h$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=h$(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function tV(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:cV(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const rV=/^:[\w-]+$/,nV=3,aV=2,sV=1,iV=10,oV=-2,yP=e=>e==="*";function lV(e,t){let r=e.split("/"),n=r.length;return r.some(yP)&&(n+=oV),t&&(n+=aV),r.filter(a=>!yP(a)).reduce((a,s)=>a+(rV.test(s)?nV:s===""?sV:iV),n)}function cV(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function uV(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=xP({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=xP({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Xs([s,f.pathname]),pathnameBase:gV(Xs([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Xs([s,f.pathnameBase]))}return o}function xP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=dV(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function dV(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),d$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function fV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return d$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function hV(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Hc(e):e;return{pathname:r?r.startsWith("/")?r:mV(r,t):t,search:vV(n),hash:yV(a)}}function mV(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function hx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pV(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function e_(e,t){let r=pV(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function t_(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Hc(e):(a=Wd({},e),Nt(!a.pathname||!a.pathname.includes("?"),hx("?","pathname","search",a)),Nt(!a.pathname||!a.pathname.includes("#"),hx("#","pathname","hash",a)),Nt(!a.search||!a.search.includes("#"),hx("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=hV(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Xs=e=>e.join("/").replace(/\/\/+/g,"/"),gV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m$=["post","put","patch","delete"];new Set(m$);const bV=["get",...m$];new Set(bV);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}const r_=y.createContext(null),wV=y.createContext(null),bi=y.createContext(null),xv=y.createContext(null),os=y.createContext({outlet:null,matches:[],isDataRoute:!1}),p$=y.createContext(null);function jV(e,t){let{relative:r}=t===void 0?{}:t;Kc()||Nt(!1);let{basename:n,navigator:a}=y.useContext(bi),{hash:s,pathname:o,search:l}=y$(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Xs([n,o])),a.createHref({pathname:c,search:l,hash:s})}function Kc(){return y.useContext(xv)!=null}function _a(){return Kc()||Nt(!1),y.useContext(xv).location}function g$(e){y.useContext(bi).static||y.useLayoutEffect(e)}function Jn(){let{isDataRoute:e}=y.useContext(os);return e?$V():_V()}function _V(){Kc()||Nt(!1);let e=y.useContext(r_),{basename:t,future:r,navigator:n}=y.useContext(bi),{matches:a}=y.useContext(os),{pathname:s}=_a(),o=JSON.stringify(e_(a,r.v7_relativeSplatPath)),l=y.useRef(!1);return g$(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=t_(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Xs([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}function v$(){let{matches:e}=y.useContext(os),t=e[e.length-1];return t?t.params:{}}function y$(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(bi),{matches:a}=y.useContext(os),{pathname:s}=_a(),o=JSON.stringify(e_(a,n.v7_relativeSplatPath));return y.useMemo(()=>t_(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function SV(e,t){return NV(e,t)}function NV(e,t,r,n){Kc()||Nt(!1);let{navigator:a}=y.useContext(bi),{matches:s}=y.useContext(os),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=_a(),d;if(t){var f;let v=typeof t=="string"?Hc(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Nt(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=ZW(e,{pathname:m}),p=OV(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Xs([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Xs([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&p?y.createElement(xv.Provider,{value:{location:Vd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Us.Pop}},p):p}function EV(){let e=MV(),t=xV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,null)}const PV=y.createElement(EV,null);class kV extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(os.Provider,{value:this.props.routeContext},y.createElement(p$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CV(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(r_);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(os.Provider,{value:t},n)}function OV(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Nt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||PV,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),x=()=>{let w;return m?w=p:g?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(CV,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(kV,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var x$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(x$||{}),wp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wp||{});function AV(e){let t=y.useContext(r_);return t||Nt(!1),t}function TV(e){let t=y.useContext(wV);return t||Nt(!1),t}function RV(e){let t=y.useContext(os);return t||Nt(!1),t}function b$(e){let t=RV(),r=t.matches[t.matches.length-1];return r.route.id||Nt(!1),r.route.id}function MV(){var e;let t=y.useContext(p$),r=TV(wp.UseRouteError),n=b$(wp.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function $V(){let{router:e}=AV(x$.UseNavigateStable),t=b$(wp.UseNavigateStable),r=y.useRef(!1);return g$(()=>{r.current=!0}),y.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Vd({fromRouteId:t},s)))},[e,t])}function Wh(e){let{to:t,replace:r,state:n,relative:a}=e;Kc()||Nt(!1);let{future:s,static:o}=y.useContext(bi),{matches:l}=y.useContext(os),{pathname:c}=_a(),u=Jn(),d=t_(t,e_(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Wr(e){Nt(!1)}function IV(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Us.Pop,navigator:s,static:o=!1,future:l}=e;Kc()&&Nt(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:s,static:o,future:Vd({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Hc(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=y.useMemo(()=>{let v=Zj(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:y.createElement(bi.Provider,{value:u},y.createElement(xv.Provider,{children:r,value:p}))}function DV(e){let{children:t,location:r}=e;return SV(Ab(t),r)}new Promise(()=>{});function Ab(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let s=[...t,a];if(n.type===y.Fragment){r.push.apply(r,Ab(n.props.children,s));return}n.type!==Wr&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ab(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(this,arguments)}function LV(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function FV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zV(e,t){return e.button===0&&(!t||t==="_self")&&!FV(e)}function Rb(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function UV(e,t){let r=Rb(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const BV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qV="6";try{window.__reactRouterVersion=qV}catch{}const WV="startTransition",bP=SA[WV];function VV(e){let{basename:t,children:r,future:n,window:a}=e,s=y.useRef();s.current==null&&(s.current=QW({window:a,v5Compat:!0}));let o=s.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&bP?bP(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.createElement(IV,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const HV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ic=y.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=LV(t,BV),{basename:m}=y.useContext(bi),g,p=!1;if(typeof u=="string"&&KV.test(u)&&(g=u,HV))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=Zj(j.pathname,m);j.origin===w.origin&&_!=null?u=_+j.search+j.hash:p=!0}catch{}let v=jV(u,{relative:a}),b=GV(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||b(w)}return y.createElement("a",Tb({},h,{href:g||v,onClick:p||s?n:x,ref:r,target:c}))});var wP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wP||(wP={}));var jP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jP||(jP={}));function GV(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Jn(),u=_a(),d=y$(e,{relative:o});return y.useCallback(f=>{if(zV(f,r)){f.preventDefault();let h=n!==void 0?n:bp(u)===bp(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function n_(e){let t=y.useRef(Rb(e)),r=y.useRef(!1),n=_a(),a=y.useMemo(()=>UV(n.search,r.current?null:t.current),[n.search]),s=Jn(),o=y.useCallback((l,c)=>{const u=Rb(typeof l=="function"?l(a):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,o]}const YV="modulepreload",QV=function(e){return"/"+e},_P={},Gf=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=QV(c),c in _P)return;_P[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":YV,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},XV=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gf(async()=>{const{default:n}=await Promise.resolve().then(()=>Gc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class a_ extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class JV extends a_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ZV extends a_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class eH extends a_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Mb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Mb||(Mb={}));var tH=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class rH{constructor(t,{headers:r={},customFetch:n,region:a=Mb.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=XV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return tH(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(g=>{throw new JV(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new ZV(d);if(!d.ok)throw new eH(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var Rr={},s_={},bv={},Yf={},wv={},jv={},nH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},oc=nH();const aH=oc.fetch,w$=oc.fetch.bind(oc),j$=oc.Headers,sH=oc.Request,iH=oc.Response,Gc=Object.freeze(Object.defineProperty({__proto__:null,Headers:j$,Request:sH,Response:iH,default:w$,fetch:aH},Symbol.toStringTag,{value:"Module"})),oH=Az(Gc);var _v={};Object.defineProperty(_v,"__esModule",{value:!0});let lH=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_v.default=lH;var _$=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jv,"__esModule",{value:!0});const cH=_$(oH),uH=_$(_v);let dH=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=cH.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,c;let u=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await s.text();try{u=JSON.parse(p),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,m="OK")}catch{s.status===404&&p===""?(h=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new uH.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(a=a.catch(s=>{var o,l,c;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};jv.default=dH;var fH=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wv,"__esModule",{value:!0});const hH=fH(jv);let mH=class extends hH.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wv.default=mH;var pH=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yf,"__esModule",{value:!0});const gH=pH(wv);let vH=class extends gH.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Yf.default=vH;var yH=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bv,"__esModule",{value:!0});const Tu=yH(Yf);let xH=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Tu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Tu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Tu.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Tu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Tu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};bv.default=xH;var Sv={},Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.version=void 0;Nv.version="0.0.0-automated";Object.defineProperty(Sv,"__esModule",{value:!0});Sv.DEFAULT_HEADERS=void 0;const bH=Nv;Sv.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bH.version}`};var S$=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s_,"__esModule",{value:!0});const wH=S$(bv),jH=S$(Yf),_H=Sv;let SH=class N${constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},_H.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new wH.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new N$(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new jH.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};s_.default=SH;var Yc=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.PostgrestError=Rr.PostgrestBuilder=Rr.PostgrestTransformBuilder=Rr.PostgrestFilterBuilder=Rr.PostgrestQueryBuilder=Rr.PostgrestClient=void 0;const E$=Yc(s_);Rr.PostgrestClient=E$.default;const P$=Yc(bv);Rr.PostgrestQueryBuilder=P$.default;const k$=Yc(Yf);Rr.PostgrestFilterBuilder=k$.default;const C$=Yc(wv);Rr.PostgrestTransformBuilder=C$.default;const O$=Yc(jv);Rr.PostgrestBuilder=O$.default;const A$=Yc(_v);Rr.PostgrestError=A$.default;var NH=Rr.default={PostgrestClient:E$.default,PostgrestQueryBuilder:P$.default,PostgrestFilterBuilder:k$.default,PostgrestTransformBuilder:C$.default,PostgrestBuilder:O$.default,PostgrestError:A$.default};const{PostgrestClient:EH,PostgrestQueryBuilder:r2e,PostgrestFilterBuilder:n2e,PostgrestTransformBuilder:a2e,PostgrestBuilder:s2e,PostgrestError:i2e}=NH;let $b;typeof window>"u"?$b=require("ws"):$b=window.WebSocket;const PH=$b,kH="2.11.10",CH={"X-Client-Info":`realtime-js/${kH}`},OH="1.0.0",T$=1e4,AH=1e3;var Tl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Tl||(Tl={}));var hr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(hr||(hr={}));var Dn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Dn||(Dn={}));var Ib;(function(e){e.websocket="websocket"})(Ib||(Ib={}));var Ui;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ui||(Ui={}));class TH{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class R${constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const SP=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=RH(o,e,t,a),s),{})},RH=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,o=r[e];return s&&!n.includes(s)?M$(s,o):Db(o)},M$=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return DH(t,r)}switch(e){case Ze.bool:return MH(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return $H(t);case Ze.json:case Ze.jsonb:return IH(t);case Ze.timestamp:return LH(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Db(t);default:return Db(t)}},Db=e=>e,MH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$H=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},IH=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DH=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>M$(t,l))}return e},LH=e=>typeof e=="string"?e.replace(" ","T"):e,$$=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class mx{constructor(t,r,n={},a=T$){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var NP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(NP||(NP={}));class hd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hd.syncState(this.state,a,s,o),this.pendingDiffs.forEach(c=>{this.state=hd.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=hd.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var EP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(EP||(EP={}));var PP;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(PP||(PP={}));var Ra;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ra||(Ra={}));class i_{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mx(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new R$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=hr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new hd(this),this.broadcastEndpointURL=$$(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Ra.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ra.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Ra.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let p=0;p<m;p++){const v=h[p],{filter:{event:b,schema:x,table:w,filter:j}}=v,_=d&&d[p];if(_&&_.event===b&&_.schema===x&&_.table===w&&_.filter===j)g.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),this.state=hr.errored,t==null||t(Ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ra.SUBSCRIBED);return}}).receive("error",d=>{this.state=hr.errored,t==null||t(Ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=hr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const a=new mx(this,Dn.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new mx(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Dn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var g,p,v,b,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,_=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((p=r.ids)===null||p===void 0?void 0:p.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(x=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:b,type:x,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===hr.closed}_isJoined(){return this.state===hr.joined}_isJoining(){return this.state===hr.joining}_isLeaving(){return this.state===hr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&i_.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dn.close,{},t)}_onError(t){this._on(Dn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=SP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=SP(t.columns,t.old_record)),r}}const kP=()=>{},FH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zH{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=CH,this.params={},this.timeout=T$,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kP,this.ref=0,this.logger=kP,this.conn=null,this.sendBuffer=[],this.serializer=new TH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Gf(async()=>{const{default:c}=await Promise.resolve().then(()=>Gc);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Ib.websocket}`,this.httpEndpoint=$$(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new R$(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=PH),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new UH(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OH}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Tl.connecting:return Ui.Connecting;case Tl.open:return Ui.Open;case Tl.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new i_(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Dn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(AH,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:s,ref:o}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([FH],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class UH{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Tl.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class o_ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class BH extends o_{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lb extends o_{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var qH=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const I$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gf(async()=>{const{default:n}=await Promise.resolve().then(()=>Gc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},WH=()=>qH(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gf(()=>Promise.resolve().then(()=>Gc),void 0)).Response:Response}),Fb=e=>{if(Array.isArray(e))return e.map(r=>Fb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Fb(n)}),t};var Ro=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const px=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VH=(e,t,r)=>Ro(void 0,void 0,void 0,function*(){const n=yield WH();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new BH(px(a),e.status||500))}).catch(a=>{t(new Lb(px(a),a))}):t(new Lb(px(e),e))}),HH=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Qf(e,t,r,n,a,s){return Ro(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,HH(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>VH(c,l,n))})})}function jp(e,t,r,n){return Ro(this,void 0,void 0,function*(){return Qf(e,"GET",t,r,n)})}function _s(e,t,r,n,a){return Ro(this,void 0,void 0,function*(){return Qf(e,"POST",t,n,a,r)})}function KH(e,t,r,n,a){return Ro(this,void 0,void 0,function*(){return Qf(e,"PUT",t,n,a,r)})}function GH(e,t,r,n){return Ro(this,void 0,void 0,function*(){return Qf(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function D$(e,t,r,n,a){return Ro(this,void 0,void 0,function*(){return Qf(e,"DELETE",t,n,a,r)})}var Pr=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const YH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QH{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=I$(a)}uploadOrUpdate(t,r,n,a){return Pr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},CP),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Pr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:CP.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Pr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield _s(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new o_("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Pr(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Lt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Pr(this,void 0,void 0,function*(){try{return{data:{path:(yield _s(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Lt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Pr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield _s(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(Lt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Pr(this,void 0,void 0,function*(){try{const a=yield _s(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(Lt(a))return{data:null,error:a};throw a}})}download(t,r){return Pr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield jp(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Lt(l))return{data:null,error:l};throw l}})}info(t){return Pr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield jp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fb(n),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}exists(t){return Pr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield GH(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Lt(n)&&n instanceof Lb){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield D$(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Pr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},YH),r),{prefix:t||""});return{data:yield _s(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Lt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const XH="2.7.1",JH={"X-Client-Info":`storage-js/${XH}`};var Ko=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ZH{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},JH),r),this.fetch=I$(n)}listBuckets(){return Ko(this,void 0,void 0,function*(){try{return{data:yield jp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Lt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ko(this,void 0,void 0,function*(){try{return{data:yield jp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ko(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ko(this,void 0,void 0,function*(){try{return{data:yield KH(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ko(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ko(this,void 0,void 0,function*(){try{return{data:yield D$(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}}class eK extends ZH{constructor(t,r={},n){super(t,r,n)}from(t){return new QH(this.url,this.headers,t,this.fetch)}}const tK="2.50.0";let Zu="";typeof Deno<"u"?Zu="deno":typeof document<"u"?Zu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zu="react-native":Zu="node";const rK={"X-Client-Info":`supabase-js-${Zu}/${tK}`},nK={headers:rK},aK={schema:"public"},sK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iK={};var oK=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const lK=e=>{let t;return e?t=e:typeof fetch>"u"?t=w$:t=fetch,(...r)=>t(...r)},cK=()=>typeof Headers>"u"?j$:Headers,uK=(e,t,r)=>{const n=lK(r),a=cK();return(s,o)=>oK(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var dK=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function fK(e){return e.endsWith("/")?e:e+"/"}function hK(e,t){var r,n;const{db:a,auth:s,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>dK(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const L$="2.70.0",ol=30*1e3,zb=3,gx=zb*ol,mK="http://localhost:9999",pK="supabase.auth.token",gK={"X-Client-Info":`gotrue-js/${L$}`},Ub="X-Supabase-Api-Version",F$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yK=6e5;class l_ extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xK extends l_{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bK(e){return _e(e)&&e.name==="AuthApiError"}class z$ extends l_{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class wi extends l_{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class xs extends wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wK(e){return _e(e)&&e.name==="AuthSessionMissingError"}class Vh extends wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hh extends wi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kh extends wi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jK(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class OP extends wi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bb extends wi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function vx(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class AP extends wi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class md extends wi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TP=` 	
\r=`.split(""),_K=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<TP.length;t+=1)e[TP[t].charCodeAt(0)]=-2;for(let t=0;t<_p.length;t+=1)e[_p[t].charCodeAt(0)]=t;return e})();function RP(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_p[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_p[n]),t.queuedBits-=6}}function U$(e,t,r){const n=_K[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function MP(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{EK(o,n,r)};for(let o=0;o<e.length;o+=1)U$(e.charCodeAt(o),a,s);return t.join("")}function SK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function NK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}SK(n,t)}}function EK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function PK(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)U$(e.charCodeAt(a),r,n);return new Uint8Array(t)}function kK(e){const t=[];return NK(e,r=>t.push(r)),new Uint8Array(t)}function CK(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>RP(a,r,n)),RP(null,r,n),t.join("")}function OK(e){return Math.round(Date.now()/1e3)+e}function AK(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Tn=()=>typeof window<"u"&&typeof document<"u",Ti={tested:!1,writable:!1},pd=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ti.tested)return Ti.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ti.tested=!0,Ti.writable=!0}catch{Ti.tested=!0,Ti.writable=!1}return Ti.writable};function TK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const B$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gf(async()=>{const{default:n}=await Promise.resolve().then(()=>Gc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},RK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",q$=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Gh=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Yh=async(e,t)=>{await e.removeItem(t)};class Ev{constructor(){this.promise=new Ev.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ev.promiseConstructor=Promise;function yx(e){const t=e.split(".");if(t.length!==3)throw new md("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vK.test(t[n]))throw new md("JWT not in base64url format");return{header:JSON.parse(MP(t[0])),payload:JSON.parse(MP(t[1])),signature:PK(t[2]),raw:{header:t[0],payload:t[1]}}}async function MK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $K(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){a(o);return}}})()})}function IK(e){return("0"+e.toString(16)).substr(-2)}function DK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,IK).join("")}async function LK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function FK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await LK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Go(e,t,r=!1){const n=DK();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await q$(e,`${t}-code-verifier`,a);const s=await FK(n);return[s,n===s?"plain":"s256"]}const zK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UK(e){const t=e.headers.get(Ub);if(!t||!t.match(zK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function BK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function qK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yo(e){if(!WK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var VK=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ii=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HK=[502,503,504];async function $P(e){var t;if(!RK(e))throw new Bb(Ii(e),0);if(HK.includes(e.status))throw new Bb(Ii(e),e.status);let r;try{r=await e.json()}catch(s){throw new z$(Ii(s),s)}let n;const a=UK(e);if(a&&a.getTime()>=F$["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new AP(Ii(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new AP(Ii(r),e.status,r.weak_password.reasons);throw new xK(Ii(r),e.status||500,n)}const KK=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ae(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[Ub]||(s[Ub]=F$["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await GK(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function GK(e,t,r,n,a,s){const o=KK(t,n,a,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Bb(Ii(c),0)}if(l.ok||await $P(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await $P(c)}}function Aa(e){var t;let r=null;JK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=OK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function IP(e){const t=Aa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ps(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YK(e){return{data:e,error:null}}function QK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,o=VK(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function XK(e){return e}function JK(e){return e.access_token&&e.refresh_token&&e.expires_in}const xx=["global","local","others"];var ZK=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class eG{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=B$(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=xx[0]){if(xx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xx.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ps})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ZK(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:QK,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ps})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:XK});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(_e(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Yo(t);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ps})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yo(t);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ps})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yo(t);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ps})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yo(t.userId);try{const{data:r,error:n}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yo(t.userId),Yo(t.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}}const tG={getItem:e=>pd()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{pd()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{pd()&&globalThis.localStorage.removeItem(e)}};function DP(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function rG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qo={debug:!!(globalThis&&pd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W$ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nG extends W${}async function aG(e,t,r){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}rG();const sG={url:mK,storageKey:pK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function LP(e,t,r){return await r()}class Hd{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hd.nextInstanceID,Hd.nextInstanceID+=1,this.instanceID>0&&Tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},sG),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new eG({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=B$(a.fetch),this.lock=a.lock||LP,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Tn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=aG:this.lock=LP,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:pd()?this.storage=tG:(this.memoryStorage={},this.storage=DP(this.memoryStorage)):(this.memoryStorage={},this.storage=DP(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${L$}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=TK(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Tn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),jK(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _e(r)?{error:r}:{error:new z$("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Aa}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Go(this.storage,this.storageKey)),s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Aa})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Aa})}else throw new Hh("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:IP})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:IP})}else throw new Hh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Vh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,s,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:b,statement:x,options:w}=t;let j;if(Tn())if(typeof b=="object")j=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:v,error:b}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:CK(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Aa});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Vh}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(_e(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Gh(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:o}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Aa});if(await Yh(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Vh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(_e(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=t,l=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Aa}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Vh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Go(this.storage,this.storageKey));const{error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Hh("You must provide either an email or phone number.")}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Aa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Go(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:YK})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xs;const{error:a}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:o}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:o,error:l}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Hh("You must provide either an email or phone number and a type")}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Gh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<gx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ps}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xs}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Ps})})}catch(r){if(_e(r))return wK(r)&&(await this._removeSession(),await Yh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new xs;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Go(this.storage,this.storageKey));const{data:u,error:d}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ps});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xs;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=yx(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(_e(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new xs;const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Tn())throw new Kh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new OP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new OP("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!o||!u)throw new Kh("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=ol&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:v}=await this._getUser(s);if(v)throw v;const b={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(_e(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Gh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(bK(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Yh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=AK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Go(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Tn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(_e(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $K(async a=>(a>0&&await MK(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Aa})),(a,s)=>{const o=200*Math.pow(2,a);return s&&vx(s)&&Date.now()+o-n<ol})}catch(n){if(this._debug(r,"error",n),_e(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Tn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Gh(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<gx;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${gx}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),vx(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ev;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new xs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),_e(s)){const o={session:null,error:s};return vx(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await q$(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Yh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ol);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ol);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ol}ms, refresh threshold is ${zb} ticks`),a<=zb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof W$)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Go(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(_e(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_e(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=yx(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+yK>Date.now()))return n;const{data:a,error:s}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new md("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===t),!n)throw new md("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:c}}=yx(n);if(BK(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:o},error:null}}const u=qK(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,kK(`${l}.${c}`)))throw new md("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}}Hd.nextInstanceID=0;const iG=Hd;class oG extends iG{constructor(t){super(t)}}var lG=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class cG{constructor(t,r,n){var a,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=fK(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:aK,realtime:iK,auth:Object.assign(Object.assign({},sK),{storageKey:u}),global:nK},f=hK(n??{},d);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=uK(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new EH(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new rH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eK(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return lG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:s,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oG({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new zH(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uG=(e,t,r)=>new cG(e,t,r),dG="https://rigurrwjiaucodxuuzeh.supabase.co",fG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ3VycndqaWF1Y29keHV1emVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3NDI1NTYsImV4cCI6MjA2NTMxODU1Nn0.nr5QAlB0UyA3VQWXolIsc8lXXzwj0Ur6Nj-ddr7f7AQ",G=uG(dG,fG),V$=y.createContext(void 0),c_=()=>{const e=y.useContext(V$);if(!e)throw new Error("useOrganization must be used within an OrganizationProvider");return e},hG=["admin","auth","create-organization","login","terms-of-service","privacy-policy"],mG=e=>{const t=e.split("/").filter(r=>r);return t[0]==="admin"&&t.length>1&&t[1]!=="login"||t[0]==="org"&&t.length>1?t[1]:t.length>0&&!hG.includes(t[0])?t[0]:null},pG=({children:e})=>{const[t,r]=y.useState(null),[n,a]=y.useState(!0),[s,o]=y.useState(null),l=_a(),c=async()=>{a(!0),o(null);try{const u=mG(l.pathname);if(!u){r(null),a(!1);return}const{data:d,error:f}=await G.from("organizations").select("*").eq("slug",u).single();f?(f.code==="PGRST116"?o("Organization not found"):o(f.message||"Failed to load organization"),r(null)):(r(d),o(null))}catch(u){o(u.message||"An unexpected error occurred"),r(null)}finally{a(!1)}};return y.useEffect(()=>{c()},[l.pathname]),i.jsx(V$.Provider,{value:{organization:t,loading:n,error:s,refreshOrganization:c},children:e})},H$=y.createContext(void 0),gG=({children:e})=>{const[t,r]=y.useState(),n={dateRange:t,setDateRange:r};return i.jsx(H$.Provider,{value:n,children:e})},K$=()=>{const e=y.useContext(H$);if(e===void 0)throw new Error("useDashboard must be used within a DashboardProvider. Make sure the component calling useDashboard is wrapped with <DashboardProvider>.");return e},vG=async e=>{var t;try{console.log("Checking user roles for:",e),await new Promise(c=>setTimeout(c,100));const{data:r,error:n}=await G.rpc("get_current_user_admin_status");n&&console.error("Error checking admin status:",n);const{data:a,error:s}=await G.from("organization_users").select("organization_id, role, organizations(slug)").eq("user_id",e).single();s&&s.code!=="PGRST116"&&console.error("Error checking org memberships:",s);const o=!!r,l=!!(a!=null&&a.organization_id);return console.log("User roles determined:",{isAdmin:o,hasOrgRole:l,orgData:a}),{isAdmin:o,isOrgAdmin:l,currentOrganization:(a==null?void 0:a.organization_id)||null,currentOrganizationSlug:((t=a==null?void 0:a.organizations)==null?void 0:t.slug)||null}}catch(r){return console.error("Error checking user roles:",r),{isAdmin:!1,isOrgAdmin:!1,currentOrganization:null,currentOrganizationSlug:null}}},yG=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(null),[a,s]=y.useState(!1),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(null),[h,m]=y.useState(!0);return y.useEffect(()=>{let g=!0,p;const v=async x=>{try{const w=await vG(x);g&&(s(w.isAdmin),l(w.isOrgAdmin),u(w.currentOrganization),f(w.currentOrganizationSlug),m(!1))}catch(w){console.error("Error updating user roles:",w),g&&m(!1)}},{data:{subscription:b}}=G.auth.onAuthStateChange(async(x,w)=>{var j;g&&(console.log("Auth state change in useAuthState:",x,(j=w==null?void 0:w.user)==null?void 0:j.email),n(w),t((w==null?void 0:w.user)??null),p&&clearTimeout(p),w!=null&&w.user?p=setTimeout(()=>{g&&v(w.user.id)},200):(s(!1),l(!1),u(null),f(null),m(!1)))});return G.auth.getSession().then(({data:{session:x}})=>{var w;g&&(console.log("Initial session check:",(w=x==null?void 0:x.user)==null?void 0:w.email),n(x),t((x==null?void 0:x.user)??null),x!=null&&x.user?v(x.user.id):m(!1))}),()=>{g=!1,p&&clearTimeout(p),b.unsubscribe()}},[]),{user:e,session:r,isAdmin:a,isOrgAdmin:o,currentOrganization:c,currentOrganizationSlug:d,loading:h}},xG=()=>G.supabaseKey||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ3VycndqaWF1Y29keHV1emVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3NDI1NTYsImV4cCI6MjA2NTMxODU1Nn0.nr5QAlB0UyA3VQWXolIsc8lXXzwj0Ur6Nj-ddr7f7AQ",G$=e=>{const t=window.location.origin,r=xG(),n=e.includes("?")?"&":"?";return`${t}${e}${n}apikey=${r}`};class gd{static getBaseUrl(){return window.location.origin}static async signUp(t,r){try{const n=G$("/auth-callback?type=signup"),{data:a,error:s}=await G.auth.signUp({email:t,password:r,options:{emailRedirectTo:n}});return{data:a,error:s}}catch(n){return console.error("Sign up error:",n),{data:null,error:n}}}static async signIn(t,r){try{const{data:n,error:a}=await G.auth.signInWithPassword({email:t,password:r});return{data:n,error:a}}catch(n){return console.error("Sign in error:",n),{data:null,error:n}}}static async resetPassword(t){try{const{data:r,error:n}=await G.functions.invoke("send-password-reset",{body:{email:t}});return n?(console.error("Password reset error:",n),{data:null,error:n}):{data:r,error:null}}catch(r){return console.error("Password reset error:",r),{data:null,error:r}}}static async updatePassword(t){try{const{data:r,error:n}=await G.auth.updateUser({password:t});return{data:r,error:n}}catch(r){return console.error("Update password error:",r),{data:null,error:r}}}static async signOut(){try{this.cleanupAuthState();const{error:t}=await G.auth.signOut({scope:"global"});return window.location.href="/auth",{error:t}}catch(t){return console.error("Sign out error:",t),window.location.href="/auth",{error:t}}}static cleanupAuthState(){localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&localStorage.removeItem(t)}),Object.keys(sessionStorage||{}).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&sessionStorage.removeItem(t)})}static async handlePostAuthRedirect(t){var r;try{console.log("Determining redirect path for user:",t.email),await new Promise(c=>setTimeout(c,1e3));let n=null,a=0;const s=3;for(;!n&&a<s;){a++,console.log(`Checking organization membership, attempt ${a}`);const{data:c,error:u}=await G.from("organization_users").select("organization_id, organizations(slug)").eq("user_id",t.id).limit(1);if(u&&console.error("Error checking organization membership:",u),c&&c.length>0){n=c;break}a<s&&await new Promise(d=>setTimeout(d,1e3))}if(n&&n.length>0){const c=(r=n[0].organizations)==null?void 0:r.slug;if(c)return console.log("User has organization, redirecting to:",`/admin/${c}`),`/admin/${c}`}const{data:o,error:l}=await G.rpc("get_current_user_admin_status");return l&&console.error("Error checking admin status:",l),o?(console.log("User is system admin, redirecting to:","/admin"),"/admin"):(console.log("No organization found, redirecting to:","/create-organization"),"/create-organization")}catch(n){return console.error("Post-auth redirect error:",n),"/create-organization"}}}const Y$=y.createContext(void 0),Zn=()=>{const e=y.useContext(Y$);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},bG=({children:e})=>{const t=yG(),r=async(c,u)=>{console.log("Starting sign in process"),gd.cleanupAuthState();try{const{error:d}=await G.auth.signInWithPassword({email:c,password:u});return d?(console.error("Sign in error:",d),{error:d}):(console.log("Sign in successful, waiting for auth state update"),{error:null})}catch(d){return console.error("Sign in error:",d),{error:d}}},n=async(c,u)=>{try{const d=G$("/auth-callback?type=signup"),{error:f}=await G.auth.signUp({email:c,password:u,options:{emailRedirectTo:d}});return{error:f}}catch(d){return console.error("Sign up error:",d),{error:d}}},a=async c=>{try{return await gd.resetPassword(c)}catch(u){return console.error("Password reset error:",u),{error:u}}},s=async c=>{try{const{error:u}=await G.auth.updateUser({password:c});return{error:u}}catch(u){return console.error("Update password error:",u),{error:u}}},o=async()=>{try{gd.cleanupAuthState(),await G.auth.signOut({scope:"global"}),window.location.href="/auth"}catch(c){console.error("Sign out error:",c),window.location.href="/auth"}},l=async()=>{t.user&&console.log("Refreshing user roles for:",t.user.id)};return i.jsx(Y$.Provider,{value:{...t,signIn:r,signUp:n,signOut:o,resetPassword:a,updatePassword:s,refreshUserRoles:l},children:e})},bx=({children:e,requireAdmin:t=!1,requireOrgAdmin:r=!1})=>{const[n,a]=y.useState(!1);try{const{user:s,isAdmin:o,isOrgAdmin:l,loading:c}=Zn();return y.useEffect(()=>{if(!c&&(!s||t&&!o||r&&!l&&!o)){const u=setTimeout(()=>a(!0),100);return()=>clearTimeout(u)}},[c,s,o,l,t,r]),c?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}):s?t&&!o?n?i.jsx(Wh,{to:"/",replace:!0}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Verifying permissions..."})]})}):r&&!l&&!o?n?i.jsx(Wh,{to:"/",replace:!0}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Verifying permissions..."})]})}):i.jsx(i.Fragment,{children:e}):i.jsx(Wh,{to:"/auth",replace:!0})}catch(s){return console.error("Auth context not available:",s),i.jsx(Wh,{to:"/auth",replace:!0})}},H=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));H.displayName="Card";const se=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("flex flex-col space-y-1.5 p-6",e),...t}));se.displayName="CardHeader";const ie=y.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:U("text-2xl font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const Gn=y.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:U("text-sm text-muted-foreground",e),...t}));Gn.displayName="CardDescription";const K=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("p-6 pt-0",e),...t}));K.displayName="CardContent";const Q$=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("flex items-center p-6 pt-0",e),...t}));Q$.displayName="CardFooter";const u_=To("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 shadow-lg backdrop-blur-sm",{variants:{variant:{default:"bg-gradient-to-r from-orange-400 to-orange-500 text-white hover:from-orange-500 hover:to-orange-600 shadow-orange-500/25",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-sunset-500 text-sunset-500 bg-transparent hover:bg-sunset-500 hover:text-white",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-8 py-3 text-base font-semibold",sm:"h-10 rounded-full px-6 text-sm",lg:"h-14 rounded-full px-10 py-4 text-lg font-bold",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),ee=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?Fr:"button";return i.jsx(o,{className:U(u_({variant:t,size:r,className:e})),ref:s,...a})});ee.displayName="Button";const he=y.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:U("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));he.displayName="Input";var wG="Label",X$=y.forwardRef((e,t)=>i.jsx(ue.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));X$.displayName=wG;var J$=X$;const jG=To("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ae=y.forwardRef(({className:e,...t},r)=>i.jsx(J$,{ref:r,className:U(jG(),e),...t}));ae.displayName=J$.displayName;function _G(e,t=[]){let r=[];function n(s,o){const l=y.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,v=y.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,SG(a,...t)]}function SG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var NG=y.createContext(void 0);function Mo(e){const t=y.useContext(NG);return e||t||"ltr"}var wx="rovingFocusGroup.onEntryFocus",EG={bubbles:!1,cancelable:!0},Pv="RovingFocusGroup",[qb,Z$,PG]=Ic(Pv),[kG,Qc]=_G(Pv,[PG]),[CG,OG]=kG(Pv),eI=y.forwardRef((e,t)=>i.jsx(qb.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(qb.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(AG,{...e,ref:t})})}));eI.displayName=Pv;var AG=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),m=we(t,h),g=Mo(s),[p=null,v]=wr({prop:o,defaultProp:l,onChange:c}),[b,x]=y.useState(!1),w=Xt(u),j=Z$(r),_=y.useRef(!1),[S,N]=y.useState(0);return y.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(wx,w),()=>E.removeEventListener(wx,w)},[w]),i.jsx(CG,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:y.useCallback(E=>v(E),[v]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:y.useCallback(()=>N(E=>E-1),[]),children:i.jsx(ue.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:J(e.onMouseDown,()=>{_.current=!0}),onFocus:J(e.onFocus,E=>{const C=!_.current;if(E.target===E.currentTarget&&C&&!b){const k=new CustomEvent(wx,EG);if(E.currentTarget.dispatchEvent(k),!k.defaultPrevented){const T=j().filter(I=>I.focusable),A=T.find(I=>I.active),D=T.find(I=>I.id===p),L=[A,D,...T].filter(Boolean).map(I=>I.ref.current);nI(L,d)}}_.current=!1}),onBlur:J(e.onBlur,()=>x(!1))})})}),tI="RovingFocusGroupItem",rI=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,...o}=e,l=rn(),c=s||l,u=OG(tI,r),d=u.currentTabStopId===c,f=Z$(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return y.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),i.jsx(qb.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:i.jsx(ue.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:J(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:J(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:J(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=MG(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=f().filter(x=>x.focusable).map(x=>x.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const x=b.indexOf(g.currentTarget);b=u.loop?$G(b,x+1):b.slice(x+1)}setTimeout(()=>nI(b))}})})})});rI.displayName=tI;var TG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RG(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function MG(e,t,r){const n=RG(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return TG[n]}function nI(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function $G(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var d_=eI,f_=rI,h_="Tabs",[IG,o2e]=dr(h_,[Qc]),aI=Qc(),[DG,m_]=IG(h_),sI=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Mo(l),[f,h]=wr({prop:n,onChange:a,defaultProp:s});return i.jsx(DG,{scope:r,baseId:rn(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(ue.div,{dir:d,"data-orientation":o,...u,ref:t})})});sI.displayName=h_;var iI="TabsList",oI=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=m_(iI,r),o=aI(r);return i.jsx(d_,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(ue.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});oI.displayName=iI;var lI="TabsTrigger",cI=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=m_(lI,r),l=aI(r),c=fI(o.baseId,n),u=hI(o.baseId,n),d=n===o.value;return i.jsx(f_,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(ue.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:J(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:J(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:J(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});cI.displayName=lI;var uI="TabsContent",dI=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=m_(uI,r),c=fI(l.baseId,n),u=hI(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Ur,{present:a||d,children:({present:h})=>i.jsx(ue.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});dI.displayName=uI;function fI(e,t){return`${e}-trigger-${t}`}function hI(e,t){return`${e}-content-${t}`}var LG=sI,mI=oI,pI=cI,gI=dI;const Sa=LG,ea=y.forwardRef(({className:e,...t},r)=>i.jsx(mI,{ref:r,className:U("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ea.displayName=mI.displayName;const Ue=y.forwardRef(({className:e,...t},r)=>i.jsx(pI,{ref:r,className:U("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ue.displayName=pI.displayName;const Be=y.forwardRef(({className:e,...t},r)=>i.jsx(gI,{ref:r,className:U("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Be.displayName=gI.displayName;const FG=To("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ir=y.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:U(FG({variant:t}),e),...r}));ir.displayName="Alert";const vI=y.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:U("mb-1 font-medium leading-none tracking-tight",e),...t}));vI.displayName="AlertTitle";const or=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("text-sm [&_p]:leading-relaxed",e),...t}));or.displayName="AlertDescription";const zG=()=>bt({mutationFn:async({email:e})=>{var t,r,n,a;console.log("Sending password reset request for:",e);try{const{data:s,error:o}=await G.functions.invoke("send-password-reset",{body:{email:e.trim().toLowerCase()}});if(console.log("Password reset function response:",{data:s,error:o}),o){if(console.error("Supabase function invoke error:",o),(t=o.message)!=null&&t.includes("NetworkError")||(r=o.message)!=null&&r.includes("Failed to fetch"))throw new Error("Network error: Please check your internet connection and try again");if((n=o.message)!=null&&n.includes("FunctionsError")||(a=o.message)!=null&&a.includes("non-2xx status code")){const l=(s==null?void 0:s.error)||"Service error occurred. Please try again.";throw new Error(l)}throw new Error(o.message||"Failed to send password reset request")}if(!s)throw console.error("No data returned from password reset function"),new Error("No response received from server");if(typeof s=="object"&&s!==null&&"success"in s){const l=s;if(l.success===!1)throw console.error("Password reset failed:",l.error),new Error(l.error||"Failed to send password reset email");return console.log("Password reset successful:",l),l}return console.log("Password reset completed with response:",s),{success:!0,message:"Password reset email sent successfully"}}catch(s){console.error("Password reset error:",s);const o=s.message||"Failed to send password reset email. Please try again.";throw new Error(o)}},onSuccess:e=>{yr.success(e.message||"Password reset email sent! Check your inbox for instructions.")},onError:e=>{console.error("Password reset mutation error:",e);const t=e.message||"Failed to send password reset email";yr.error(t)}});function UG(){const[e,t]=y.useState(""),[r,n]=y.useState(""),[a,s]=y.useState(!1),[o,l]=y.useState(""),[c,u]=y.useState(!1),{signIn:d,signUp:f,updatePassword:h}=Zn(),m=zG(),g=Jn(),{toast:p}=cn(),[v]=n_(),b=async _=>{_.preventDefault(),s(!0),l(""),console.log("Starting sign in process for:",e);const{error:S}=await d(e,r);if(S){l(S.message),s(!1);return}p({title:"Welcome back!",description:"You have been signed in successfully."}),console.log("Sign in successful, waiting for session..."),setTimeout(async()=>{try{const{data:{session:N}}=await G.auth.getSession();if(N!=null&&N.user){console.log("Session found, determining redirect path...");const E=await gd.handlePostAuthRedirect(N.user);console.log("Redirecting to:",E),g(E)}else console.log("No session found after sign in, redirecting to auth"),g("/auth")}catch(N){console.error("Post-signin redirection error:",N),g("/")}finally{s(!1)}},1e3)},x=async _=>{_.preventDefault(),s(!0),l("");const{error:S}=await f(e,r);if(S){l(S.message),s(!1);return}p({title:"Account created!",description:"Please check your email to verify your account."}),s(!1)},w=async _=>{_.preventDefault(),s(!0),l("");try{await m.mutateAsync({email:e}),u(!1)}catch(S){l(S.message||"Failed to send password reset email")}finally{s(!1)}},j=async _=>{s(!0),l("");const{error:S}=await h(_);if(S){l(S.message),s(!1);return}p({title:"Password updated!",description:"Your password has been successfully updated."}),g("/"),s(!1)};return{email:e,setEmail:t,password:r,setPassword:n,loading:a||m.isPending,error:o,setError:l,showForgotPassword:c,setShowForgotPassword:u,handleSignIn:b,handleSignUp:x,handleForgotPassword:w,handleNewPassword:j,isPasswordReset:v.get("reset")==="true"}}const BG=()=>{const{email:e,setEmail:t,password:r,setPassword:n,loading:a,error:s,handleSignIn:o,handleSignUp:l,handleForgotPassword:c,handleNewPassword:u,showForgotPassword:d,setShowForgotPassword:f,isPasswordReset:h}=UG(),[m]=n_(),[g,p]=y.useState(!1),[v,b]=y.useState(""),[x,w]=y.useState(""),[j,_]=y.useState(""),S=m.get("setup-password")==="true",N=m.get("org"),E=m.get("email");y.useEffect(()=>{S&&E&&t(decodeURIComponent(E))},[S,E,t]);const C=k=>{if(k.preventDefault(),v!==x){_("Passwords do not match");return}if(v.length<6){_("Password must be at least 6 characters");return}_(""),u(v)};return S?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs(H,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[i.jsxs(se,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:i.jsx(sr,{className:"h-8 w-8"})}),i.jsx(ie,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Set Your Password"}),i.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Complete your invitation to join the organization"}),N&&i.jsxs("p",{className:"text-sm text-sunset-600 font-medium",children:["Organization: ",N]})]}),i.jsx(K,{children:i.jsxs("form",{onSubmit:C,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"invited-email",className:"font-medium text-warm-gray-700",children:"Email"}),i.jsx(he,{id:"invited-email",type:"email",value:e,disabled:!0,className:"bg-gray-50 border-warm-gray-200 text-base cursor-not-allowed"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ae,{htmlFor:"new-password",className:"font-medium text-warm-gray-700",children:"Create Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(he,{id:"new-password",type:g?"text":"password",value:v,onChange:k=>b(k.target.value),required:!0,placeholder:"Create your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!g),children:g?i.jsx(Xu,{className:"h-4 w-4 text-warm-gray-400"}):i.jsx(zs,{className:"h-4 w-4 text-warm-gray-400"})})]}),i.jsx("p",{className:"text-xs text-warm-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"confirm-password",className:"font-medium text-warm-gray-700",children:"Confirm Password"}),i.jsx(he,{id:"confirm-password",type:"password",value:x,onChange:k=>w(k.target.value),required:!0,placeholder:"Confirm your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),j&&i.jsx(ir,{className:"bg-red-50 border border-red-200",children:i.jsx(or,{className:"text-red-700",children:j})}),i.jsx(ee,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:a,children:a?"Setting up...":"Complete Setup"})]})})]})})}):h?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs(ic,{to:"/auth",className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[i.jsx(Rm,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),i.jsxs(H,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[i.jsxs(se,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:i.jsx(sr,{className:"h-8 w-8"})}),i.jsx(ie,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Set New Password"}),i.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Enter your new password below"})]}),i.jsx(K,{children:i.jsxs("form",{onSubmit:C,className:"space-y-5",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ae,{htmlFor:"new-password",className:"font-medium text-warm-gray-700",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(he,{id:"new-password",type:g?"text":"password",value:v,onChange:k=>b(k.target.value),required:!0,placeholder:"Enter new password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!g),children:g?i.jsx(Xu,{className:"h-4 w-4 text-warm-gray-400"}):i.jsx(zs,{className:"h-4 w-4 text-warm-gray-400"})})]})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"confirm-password",className:"font-medium text-warm-gray-700",children:"Confirm Password"}),i.jsx(he,{id:"confirm-password",type:"password",value:x,onChange:k=>w(k.target.value),required:!0,placeholder:"Confirm new password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),j&&i.jsx(ir,{className:"bg-red-50 border border-red-200",children:i.jsx(or,{className:"text-red-700",children:j})}),i.jsx(ee,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:a,children:a?"Updating...":"Update Password"})]})})]})]})}):d?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("button",{onClick:()=>f(!1),className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[i.jsx(Rm,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),i.jsxs(H,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[i.jsxs(se,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:i.jsx(sr,{className:"h-8 w-8"})}),i.jsx(ie,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Reset Password"}),i.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Enter your email to receive reset instructions"})]}),i.jsx(K,{children:i.jsxs("form",{onSubmit:c,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"reset-email",className:"font-medium text-warm-gray-700",children:"Email"}),i.jsx(he,{id:"reset-email",type:"email",value:e,onChange:k=>t(k.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),s&&i.jsx(ir,{className:"bg-red-50 border border-red-200",children:i.jsx(or,{className:"text-red-700",children:s})}),i.jsx(ee,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:a,children:a?"Sending...":"Send Reset Link"})]})})]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sunset-50 via-coral-50 to-golden-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs(ic,{to:"/",className:"inline-flex items-center text-sunset-500 hover:text-sunset-600 mb-8 transition-colors font-medium",children:[i.jsx(Rm,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),i.jsxs(H,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-lg",children:[i.jsxs(se,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-sunset-100 w-16 h-16 rounded-full flex items-center justify-center text-sunset-500 mb-4 shadow-md",children:i.jsx(sr,{className:"h-8 w-8"})}),i.jsx(ie,{className:"text-2xl font-space font-extrabold text-warm-gray-900",children:"Welcome to Pulsify"}),i.jsx("p",{className:"text-warm-gray-500 font-medium",children:"Sign in to your organization account"})]}),i.jsx(K,{children:i.jsxs(Sa,{defaultValue:"signin",className:"w-full",children:[i.jsxs(ea,{className:"grid w-full grid-cols-2 mb-6 bg-warm-gray-100/80 border border-warm-gray-200 rounded-lg shadow-sm",children:[i.jsx(Ue,{value:"signin",className:"font-semibold text-warm-gray-700",children:"Sign In"}),i.jsx(Ue,{value:"signup",className:"font-semibold text-warm-gray-700",children:"Sign Up"})]}),i.jsx(Be,{value:"signin",children:i.jsxs("form",{onSubmit:o,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"email",className:"font-medium text-warm-gray-700",children:"Email"}),i.jsx(he,{id:"email",type:"email",value:e,onChange:k=>t(k.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{htmlFor:"password",className:"font-medium text-warm-gray-700",children:"Password"}),i.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-sm text-sunset-500 hover:text-sunset-600 font-medium transition-colors",children:"Forgot password?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(he,{id:"password",type:g?"text":"password",value:r,onChange:k=>n(k.target.value),required:!0,placeholder:"Enter your password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!g),children:g?i.jsx(Xu,{className:"h-4 w-4 text-warm-gray-400"}):i.jsx(zs,{className:"h-4 w-4 text-warm-gray-400"})})]})]}),s&&i.jsx(ir,{className:"bg-red-50 border border-red-200",children:i.jsx(or,{className:"text-red-700",children:s})}),i.jsx(ee,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:a,children:a?"Signing in...":"Sign In"})]})}),i.jsx(Be,{value:"signup",children:i.jsxs("form",{onSubmit:l,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"signup-email",className:"font-medium text-warm-gray-700",children:"Email"}),i.jsx(he,{id:"signup-email",type:"email",value:e,onChange:k=>t(k.target.value),required:!0,placeholder:"your-email@company.com",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base"})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"signup-password",className:"font-medium text-warm-gray-700",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(he,{id:"signup-password",type:g?"text":"password",value:r,onChange:k=>n(k.target.value),required:!0,placeholder:"Create a password",className:"bg-white border-warm-gray-200 focus:border-sunset-400 focus:ring-sunset-300 text-base pr-10"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!g),children:g?i.jsx(Xu,{className:"h-4 w-4 text-warm-gray-400"}):i.jsx(zs,{className:"h-4 w-4 text-warm-gray-400"})})]}),i.jsx("p",{className:"text-xs text-warm-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),s&&i.jsx(ir,{className:"bg-red-50 border border-red-200",children:i.jsx(or,{className:"text-red-700",children:s})}),i.jsx(ee,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white text-base font-bold rounded-full shadow-lg shadow-sunset-500/20",disabled:a,children:a?"Creating account...":"Sign Up"}),i.jsx("div",{className:"text-xs text-center text-warm-gray-400 mt-3",children:"After verifying your email, your organization will be created in the next step."})]})})]})})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsxs("span",{className:"text-xs flex items-center justify-center gap-2 text-warm-gray-400",children:[i.jsx(Za,{className:"w-3 h-3 text-sunset-500"}),"Real Insights. Real Impact."]})})]})})},qG=()=>i.jsx(BG,{}),WG=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(""),[a,s]=y.useState(!1),[o,l]=y.useState(""),{signIn:c}=Zn(),u=Jn(),{toast:d}=cn(),f=async h=>{h.preventDefault(),s(!0),l("");const{error:m}=await c(e,r);if(m)l(m.message),s(!1);else{try{const{data:{session:g}}=await G.auth.getSession();if(g!=null&&g.user){const{data:p,error:v}=await G.rpc("get_current_user_admin_status");if(v){console.error("Error checking admin status:",v),l("Failed to verify admin privileges"),s(!1);return}p?(d({title:"Welcome back, Admin!",description:"You have been signed in successfully."}),u("/admin")):(l("Access denied. This login is for system administrators only."),await G.auth.signOut())}else l("Authentication failed. Please try again.")}catch(g){console.error("Error during admin verification:",g),l("Failed to verify admin privileges")}s(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs(ic,{to:"/",className:"inline-flex items-center text-slate-300 hover:text-white mb-8 transition-colors",children:[i.jsx(Rm,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),i.jsxs(H,{className:"bg-slate-800 border-slate-700",children:[i.jsxs(se,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-red-100 w-16 h-16 rounded-full flex items-center justify-center text-red-600 mb-4",children:i.jsx(zc,{className:"h-8 w-8"})}),i.jsx(ie,{className:"text-2xl font-bold text-white",children:"System Administrator"}),i.jsx("p",{className:"text-slate-400",children:"Sign in to access the admin dashboard"})]}),i.jsxs(K,{children:[i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"email",className:"text-slate-300",children:"Email"}),i.jsx(he,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"admin@example.com"})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"password",className:"text-slate-300",children:"Password"}),i.jsx(he,{id:"password",type:"password",value:r,onChange:h=>n(h.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"Enter your password"})]}),o&&i.jsx(ir,{className:"bg-red-900 border-red-700",children:i.jsx(or,{className:"text-red-200",children:o})}),i.jsx(ee,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:a,children:a?"Signing in...":"Sign In as Admin"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-slate-400 text-sm",children:["Not an admin? ",i.jsx(ic,{to:"/auth",className:"text-blue-400 hover:text-blue-300",children:"User Login"})]})})]})]})]})})},VG=async e=>{try{const{data:t,error:r}=await G.rpc("get_organization_stats_enhanced",{org_id:e});return r?(console.error("Error fetching organization stats:",r),null):t}catch(t){return console.error("Error fetching organization stats:",t),null}},HG=async()=>{try{const{data:e,error:t}=await G.from("organizations").select("*").order("created_at",{ascending:!1});return t?(console.error("Error fetching organizations:",t),[]):e||[]}catch(e){return console.error("Error fetching organizations:",e),[]}},jx=async e=>{try{const{data:t,error:r}=await G.from("organizations").select("*").eq("slug",e).eq("is_active",!0).single();return r?(console.error("Error fetching organization by slug:",r),null):t}catch(t){return console.error("Error fetching organization by slug:",t),null}},KG=async e=>{try{const{data:t,error:r}=await G.from("organizations").select("*").eq("domain",e).eq("is_active",!0).single();return r?(console.error("Error fetching organization by domain:",r),null):t}catch(t){return console.error("Error fetching organization by domain:",t),null}},GG=async e=>{try{const{data:{user:t}}=await G.auth.getUser();let r="starter";(e.plan_type==="pro"||e.plan_type==="enterprise")&&(r=e.plan_type);const n={...e,created_by_user_id:(t==null?void 0:t.id)||e.created_by_user_id,is_active:!0,primary_color:e.primary_color||"#007ACE",secondary_color:e.secondary_color||"#073763",plan_type:r,max_responses:e.max_responses||100,features_config:e.features_config||null,trial_ends_at:e.trial_ends_at||null},{data:a,error:s}=await G.from("organizations").insert(n).select().single();return s?(console.error("Error creating organization:",s),null):(a!=null&&a.id&&(t!=null&&t.id)&&await G.from("organization_audit_log").insert({organization_id:a.id,action:"create_organization",performed_by:t.id,new_value:a}),a)}catch(t){return console.error("Error creating organization:",t),null}},yI=async(e,t)=>{try{const{plan_type:r,...n}=t;let a={...n};r!==void 0&&(r==="starter"||r==="pro"||r==="enterprise"?a.plan_type=r:a.plan_type="starter");const{data:s,error:o}=await G.from("organizations").update(a).eq("id",e).select().single();return o?(console.error("Error updating organization:",o),null):s}catch(r){return console.error("Error updating organization:",r),null}},YG=({onClose:e,onSubmit:t})=>{const[r,n]=y.useState({name:"",slug:"",domain:"",logo_url:"",primary_color:"#007ACE",secondary_color:"#073763",plan_type:"starter",trial_ends_at:"",billing_email:"",max_responses:100,features_config:void 0}),[a,s]=y.useState(!1),[o,l]=y.useState(""),c=f=>{if(f.preventDefault(),!r.name||!r.slug)return;let h;try{o.trim()&&(h=JSON.parse(o))}catch{alert("Invalid JSON in Feature Overrides!");return}t({...r,features_config:h,trial_ends_at:r.trial_ends_at?new Date(r.trial_ends_at).toISOString():void 0})},u=f=>f.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),d=f=>{n(h=>({...h,name:f,slug:u(f)}))};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(H,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(se,{children:i.jsx(ie,{children:"Create New Organization"})}),i.jsx(K,{children:i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"name",children:"Organization Name *"}),i.jsx(he,{id:"name",value:r.name,onChange:f=>d(f.target.value),placeholder:"Enter organization name",required:!0})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"slug",children:"URL Slug *"}),i.jsx(he,{id:"slug",value:r.slug,onChange:f=>n(h=>({...h,slug:f.target.value})),placeholder:"url-friendly-name",required:!0}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Will be accessible at /",r.slug]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"domain",children:"Custom Domain"}),i.jsx(he,{id:"domain",value:r.domain,onChange:f=>n(h=>({...h,domain:f.target.value})),placeholder:"feedback.yourcompany.com"})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"billing_email",children:"Billing Email"}),i.jsx(he,{id:"billing_email",type:"email",value:r.billing_email,onChange:f=>n(h=>({...h,billing_email:f.target.value})),placeholder:"billing@company.com"})]})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"logo_url",children:"Logo URL"}),i.jsx(he,{id:"logo_url",value:r.logo_url,onChange:f=>n(h=>({...h,logo_url:f.target.value})),placeholder:"https://example.com/logo.png"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"primary_color",children:"Primary Color"}),i.jsx(he,{id:"primary_color",type:"color",value:r.primary_color,onChange:f=>n(h=>({...h,primary_color:f.target.value}))})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"secondary_color",children:"Secondary Color"}),i.jsx(he,{id:"secondary_color",type:"color",value:r.secondary_color,onChange:f=>n(h=>({...h,secondary_color:f.target.value}))})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"max_responses",children:"Max Responses"}),i.jsx(he,{id:"max_responses",type:"number",value:r.max_responses,onChange:f=>n(h=>({...h,max_responses:parseInt(f.target.value)||100})),min:"1"})]})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"plan_type",children:"Plan Type / Tier"}),i.jsxs("select",{id:"plan_type",value:r.plan_type,onChange:f=>n(h=>({...h,plan_type:f.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[i.jsx("option",{value:"starter",children:"Starter"}),i.jsx("option",{value:"pro",children:"Pro"}),i.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"trial_ends_at",children:"Trial Ends At"}),i.jsx(he,{id:"trial_ends_at",type:"datetime-local",value:r.trial_ends_at||"",onChange:f=>n(h=>({...h,trial_ends_at:f.target.value})),placeholder:"Trial end date"})]}),i.jsxs("div",{children:[i.jsx(ee,{type:"button",variant:"outline",className:"w-full",onClick:()=>s(f=>!f),children:a?"Hide Feature Overrides":"Show Feature Overrides (Advanced)"}),a&&i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsx(ae,{htmlFor:"features_override",children:"Feature Overrides (JSON)"}),i.jsx("textarea",{id:"features_override",className:"w-full min-h-[120px] border rounded p-2 font-mono text-xs",placeholder:'e.g. { "analytics": true, "modules": {"settings": false} }',value:o,onChange:f=>l(f.target.value)}),i.jsx("p",{className:"text-xs text-gray-500",children:"Advanced: Override plan tier settings on a per-feature basis."})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(ee,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),i.jsx(ee,{type:"submit",children:"Create Organization"})]})]})})]})})},QG=()=>St({queryKey:["system-user-management"],queryFn:async()=>{const{data:e,error:t}=await G.functions.invoke("system-user-management");if(t){if(t.context&&typeof t.context.json=="function")try{const n=await t.context.json();if(n.error)throw new Error(n.error)}catch{}throw new Error(`Failed to fetch system user data: ${t.message}`)}return{...e,users:((e==null?void 0:e.users)||[]).map(n=>({...n,organization_user_created_at:n.organization_user_created_at??n.created_at??null,role:n.enhanced_role||n.role||"member"})),invitations:((e==null?void 0:e.invitations)||[]).map(n=>({...n,role:n.enhanced_role||n.role||"member"}))}},staleTime:5*60*1e3}),XG=()=>{const e=Sr();return bt({mutationFn:async({userId:t,email:r,organizationId:n,role:a})=>{const{data:s,error:o}=await G.functions.invoke("assign-user-to-org",{body:{user_id:t,organization_id:n,role:a}});if(o){if(o.context&&typeof o.context.json=="function")try{const l=await o.context.json();if(l.error)throw new Error(l.error)}catch{}throw new Error(o.message||"An unknown error occurred.")}return s},onSuccess:()=>{e.invalidateQueries({queryKey:["system-user-management"]})}})},JG=()=>{const e=Sr();return bt({mutationFn:async()=>{const{data:t,error:r}=await G.functions.invoke("admin-approve-invitations");if(r){if(r.context&&typeof r.context.json=="function")try{const n=await r.context.json();if(n.error)throw new Error(n.error)}catch{}throw new Error(r.message)}return t},onSuccess:()=>{e.invalidateQueries({queryKey:["system-user-management"]})}})},ui=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:U("w-full caption-bottom text-sm",e),...t})}));ui.displayName="Table";const di=y.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:U("[&_tr]:border-b",e),...t}));di.displayName="TableHeader";const fi=y.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:U("[&_tr:last-child]:border-0",e),...t}));fi.displayName="TableBody";const ZG=y.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:U("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));ZG.displayName="TableFooter";const Ut=y.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:U("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ut.displayName="TableRow";const je=y.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:U("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));je.displayName="TableHead";const xe=y.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:U("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xe.displayName="TableCell";const eY=y.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:U("mt-4 text-sm text-muted-foreground",e),...t}));eY.displayName="TableCaption";const tY=To("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ke({className:e,variant:t,...r}){return i.jsx("div",{className:U(tY({variant:t}),e),...r})}const xo={owner:{variant:"destructive",icon:i9,label:"Owner",description:"Full access including billing and organization management",level:6,permissions:["*"]},admin:{variant:"default",icon:zc,label:"Admin",description:"Full access except billing and ownership changes",level:5,permissions:["manage_users","manage_questions","view_analytics","manage_integrations"]},manager:{variant:"secondary",icon:po,label:"Manager",description:"Team management and question creation",level:4,permissions:["manage_questions","view_analytics","invite_users"]},analyst:{variant:"outline",icon:cr,label:"Analyst",description:"Analytics access and data export",level:3,permissions:["view_analytics","export_data"]},member:{variant:"secondary",icon:Mj,label:"Member",description:"Basic access to view analytics",level:2,permissions:["view_analytics"]},viewer:{variant:"outline",icon:zs,label:"Viewer",description:"Read-only access to basic analytics",level:1,permissions:["view_basic_analytics"]}},Sp=e=>xo[e]||xo.member,p_=(e,t)=>{var a,s;const r=((a=xo[e])==null?void 0:a.level)||0,n=((s=xo[t])==null?void 0:s.level)||0;return r>n},rY=e=>{var r;const t=((r=xo[e])==null?void 0:r.level)||0;return Object.entries(xo).filter(([,n])=>n.level<t).map(([n])=>n)},g_=(e,t)=>{const r=xo[e];return r?r.permissions.includes("*")?!0:r.permissions.includes(t):!1},nY=e=>e.split("@")[0].slice(0,2).toUpperCase(),Np=e=>new Date(e).toLocaleDateString(),aY=e=>e==="active"?"default":"secondary",xI=e=>{const t=new Date(e),r=new Date;return(t.getTime()-r.getTime())/(1e3*60*60)<=24},kv=({role:e,showIcon:t=!1,className:r=""})=>{const n=Sp(e),a=n.icon;return i.jsxs(ke,{variant:n.variant,className:r,children:[t&&i.jsx(a,{className:"w-3 h-3 mr-1"}),n.label]})},sY=({users:e,onAssignUser:t})=>e.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No users found in the system."}):i.jsx("div",{className:"rounded-md border",children:i.jsxs(ui,{children:[i.jsx(di,{children:i.jsxs(Ut,{children:[i.jsx(je,{children:"Email"}),i.jsx(je,{children:"Organization"}),i.jsx(je,{children:"Role"}),i.jsx(je,{children:"Status"}),i.jsx(je,{children:"Joined"}),i.jsx(je,{className:"w-[100px]",children:"Actions"})]})}),i.jsx(fi,{children:e.map(r=>i.jsxs(Ut,{children:[i.jsx(xe,{className:"font-medium",children:r.email}),i.jsx(xe,{children:r.organizations?i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:r.organizations.name}),i.jsxs("div",{className:"text-sm text-gray-500",children:["/",r.organizations.slug]})]}):i.jsx("span",{className:"text-gray-400",children:"No organization"})}),i.jsx(xe,{children:i.jsx(kv,{role:r.role})}),i.jsx(xe,{children:i.jsx(ke,{variant:r.status==="active"?"default":"secondary",children:r.status})}),i.jsx(xe,{children:r.organization_user_created_at?new Date(r.organization_user_created_at).toLocaleDateString():new Date(r.created_at).toLocaleDateString()}),i.jsx(xe,{children:i.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>t(r),className:"flex items-center gap-2",children:[i.jsx(Rj,{className:"w-4 h-4"}),"Assign"]})})]},`${r.user_id}-${r.organization_id}`))})]})}),iY=({invitations:e})=>e.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(fp,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{children:"No pending invitations found."})]}):i.jsx("div",{className:"rounded-md border",children:i.jsxs(ui,{children:[i.jsx(di,{children:i.jsxs(Ut,{children:[i.jsx(je,{children:"Email"}),i.jsx(je,{children:"Organization"}),i.jsx(je,{children:"Role"}),i.jsx(je,{children:"Status"}),i.jsx(je,{children:"Expires"}),i.jsx(je,{children:"Created"})]})}),i.jsx(fi,{children:e.map(t=>{const r=xI(t.expires_at);return i.jsxs(Ut,{children:[i.jsx(xe,{className:"font-medium",children:t.email}),i.jsx(xe,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:t.organizations.name}),i.jsxs("div",{className:"text-sm text-gray-500",children:["/",t.organizations.slug]})]})}),i.jsx(xe,{children:i.jsx(kv,{role:t.role})}),i.jsx(xe,{children:i.jsx(ke,{variant:"secondary",children:t.status})}),i.jsx(xe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:r?"text-red-600":"",children:new Date(t.expires_at).toLocaleDateString()}),r&&i.jsxs(ke,{variant:"destructive",className:"flex items-center gap-1",children:[i.jsx(ai,{className:"w-3 h-3"}),"Soon"]})]})}),i.jsx(xe,{children:new Date(t.created_at).toLocaleDateString()})]},t.id)})})]})}),Ep=({size:e="md",text:t="Loading...",className:r=""})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return i.jsxs("div",{className:`flex items-center justify-center space-x-2 ${r}`,children:[i.jsx(lv,{className:`animate-spin ${n[e]}`}),t&&i.jsx("span",{className:"text-gray-600",children:t})]})};var _x="focusScope.autoFocusOnMount",Sx="focusScope.autoFocusOnUnmount",FP={bubbles:!1,cancelable:!0},oY="FocusScope",Cv=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=y.useState(null),u=Xt(a),d=Xt(s),f=y.useRef(null),h=we(t,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:bs(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||bs(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&bs(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,m.paused]),y.useEffect(()=>{if(l){UP.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(_x,FP);l.addEventListener(_x,u),l.dispatchEvent(b),b.defaultPrevented||(lY(hY(bI(l)),{select:!0}),document.activeElement===p&&bs(l))}return()=>{l.removeEventListener(_x,u),setTimeout(()=>{const b=new CustomEvent(Sx,FP);l.addEventListener(Sx,d),l.dispatchEvent(b),b.defaultPrevented||bs(p??document.body,{select:!0}),l.removeEventListener(Sx,d),UP.remove(m)},0)}}},[l,u,d,m]);const g=y.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(v&&b){const x=p.currentTarget,[w,j]=cY(x);w&&j?!p.shiftKey&&b===j?(p.preventDefault(),r&&bs(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&bs(j,{select:!0})):b===x&&p.preventDefault()}},[r,n,m.paused]);return i.jsx(ue.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Cv.displayName=oY;function lY(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(bs(n,{select:t}),document.activeElement!==r)return}function cY(e){const t=bI(e),r=zP(t,e),n=zP(t.reverse(),e);return[r,n]}function bI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zP(e,t){for(const r of e)if(!uY(r,{upTo:t}))return r}function uY(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dY(e){return e instanceof HTMLInputElement&&"select"in e}function bs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&dY(e)&&t&&e.select()}}var UP=fY();function fY(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=BP(e,t),e.unshift(t)},remove(t){var r;e=BP(e,t),(r=e[0])==null||r.resume()}}}function BP(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function hY(e){return e.filter(t=>t.tagName!=="A")}var Nx=0;function v_(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qP()),document.body.insertAdjacentElement("beforeend",e[1]??qP()),Nx++,()=>{Nx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nx--}},[])}function qP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ha=function(){return ha=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ha.apply(this,arguments)};function wI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function mY(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Im="right-scroll-bar-position",Dm="width-before-scroll-bar",pY="with-scroll-bars-hidden",gY="--removed-body-scroll-bar-size";function Ex(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vY(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var yY=typeof window<"u"?y.useLayoutEffect:y.useEffect,WP=new WeakMap;function xY(e,t){var r=vY(null,function(n){return e.forEach(function(a){return Ex(a,n)})});return yY(function(){var n=WP.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||Ex(l,null)}),s.forEach(function(l){a.has(l)||Ex(l,o)})}WP.set(r,e)},[e]),r}function bY(e){return e}function wY(e,t){t===void 0&&(t=bY);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function jY(e){e===void 0&&(e={});var t=wY(null);return t.options=ha({async:!0,ssr:!1},e),t}var jI=function(e){var t=e.sideCar,r=wI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,ha({},r))};jI.isSideCarExport=!0;function _Y(e,t){return e.useMedium(t),jI}var _I=jY(),Px=function(){},Ov=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:Px,onWheelCapture:Px,onTouchMoveCapture:Px}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,x=e.gapMode,w=wI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=xY([r,t]),S=ha(ha({},w),a);return y.createElement(y.Fragment,null,d&&y.createElement(j,{sideCar:_I,removeScrollBar:u,shards:f,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!p,lockRef:r,gapMode:x}),o?y.cloneElement(y.Children.only(l),ha(ha({},S),{ref:_})):y.createElement(b,ha({},S,{className:c,ref:_}),l))});Ov.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ov.classNames={fullWidth:Dm,zeroRight:Im};var SY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NY(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SY();return t&&e.setAttribute("nonce",t),e}function EY(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function PY(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kY=function(){var e=0,t=null;return{add:function(r){e==0&&(t=NY())&&(EY(t,r),PY(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},CY=function(){var e=kY();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},SI=function(){var e=CY(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},OY={left:0,top:0,right:0,gap:0},kx=function(e){return parseInt(e||"",10)||0},AY=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[kx(r),kx(n),kx(a)]},TY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return OY;var t=AY(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},RY=SI(),Rl="data-scroll-locked",MY=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(pY,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Rl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Im,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Dm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Im," .").concat(Im,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Dm," .").concat(Dm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Rl,`] {
    `).concat(gY,": ").concat(l,`px;
  }
`)},VP=function(){var e=parseInt(document.body.getAttribute(Rl)||"0",10);return isFinite(e)?e:0},$Y=function(){y.useEffect(function(){return document.body.setAttribute(Rl,(VP()+1).toString()),function(){var e=VP()-1;e<=0?document.body.removeAttribute(Rl):document.body.setAttribute(Rl,e.toString())}},[])},IY=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;$Y();var s=y.useMemo(function(){return TY(a)},[a]);return y.createElement(RY,{styles:MY(s,!t,a,r?"":"!important")})},Wb=!1;if(typeof window<"u")try{var Qh=Object.defineProperty({},"passive",{get:function(){return Wb=!0,!0}});window.addEventListener("test",Qh,Qh),window.removeEventListener("test",Qh,Qh)}catch{Wb=!1}var Xo=Wb?{passive:!1}:!1,DY=function(e){return e.tagName==="TEXTAREA"},NI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!DY(e)&&r[t]==="visible")},LY=function(e){return NI(e,"overflowY")},FY=function(e){return NI(e,"overflowX")},HP=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=EI(e,n);if(a){var s=PI(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},zY=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},UY=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},EI=function(e,t){return e==="v"?LY(t):FY(t)},PI=function(e,t){return e==="v"?zY(t):UY(t)},BY=function(e,t){return e==="h"&&t==="rtl"?-1:1},qY=function(e,t,r,n,a){var s=BY(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=PI(e,l),g=m[0],p=m[1],v=m[2],b=p-v-s*g;(g||b)&&EI(e,l)&&(f+=b,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Xh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},KP=function(e){return[e.deltaX,e.deltaY]},GP=function(e){return e&&"current"in e?e.current:e},WY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HY=0,Jo=[];function KY(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(HY++)[0],s=y.useState(SI)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=mY([e.lockRef.current],(e.shards||[]).map(GP),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=Xh(p),x=r.current,w="deltaX"in p?p.deltaX:x[0]-b[0],j="deltaY"in p?p.deltaY:x[1]-b[1],_,S=p.target,N=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&N==="h"&&S.type==="range")return!1;var E=HP(N,S);if(!E)return!0;if(E?_=N:(_=N==="v"?"h":"v",E=HP(N,S)),!E)return!1;if(!n.current&&"changedTouches"in p&&(w||j)&&(n.current=_),!_)return!0;var C=n.current||_;return qY(C,v,p,C==="h"?w:j,!0)},[]),c=y.useCallback(function(p){var v=p;if(!(!Jo.length||Jo[Jo.length-1]!==s)){var b="deltaY"in v?KP(v):Xh(v),x=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&WY(_.delta,b)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(GP).filter(Boolean).filter(function(_){return _.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(p,v,b,x){var w={name:p,delta:v,target:b,should:x,shadowParent:GY(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=y.useCallback(function(p){r.current=Xh(p),n.current=void 0},[]),f=y.useCallback(function(p){u(p.type,KP(p),p.target,l(p,e.lockRef.current))},[]),h=y.useCallback(function(p){u(p.type,Xh(p),p.target,l(p,e.lockRef.current))},[]);y.useEffect(function(){return Jo.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Xo),document.addEventListener("touchmove",c,Xo),document.addEventListener("touchstart",d,Xo),function(){Jo=Jo.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,Xo),document.removeEventListener("touchmove",c,Xo),document.removeEventListener("touchstart",d,Xo)}},[]);var m=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(s,{styles:VY(a)}):null,m?y.createElement(IY,{gapMode:e.gapMode}):null)}function GY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const YY=_Y(_I,KY);var Av=y.forwardRef(function(e,t){return y.createElement(Ov,ha({},e,{ref:t,sideCar:YY}))});Av.classNames=Ov.classNames;var QY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zo=new WeakMap,Jh=new WeakMap,Zh={},Cx=0,kI=function(e){return e&&(e.host||kI(e.parentNode))},XY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=kI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},JY=function(e,t,r,n){var a=XY(t,Array.isArray(e)?e:[e]);Zh[r]||(Zh[r]=new WeakMap);var s=Zh[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Zo.get(h)||0)+1,v=(s.get(h)||0)+1;Zo.set(h,p),s.set(h,v),o.push(h),p===1&&g&&Jh.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),Cx++,function(){o.forEach(function(f){var h=Zo.get(f)-1,m=s.get(f)-1;Zo.set(f,h),s.set(f,m),h||(Jh.has(f)||f.removeAttribute(n),Jh.delete(f)),m||f.removeAttribute(r)}),Cx--,Cx||(Zo=new WeakMap,Zo=new WeakMap,Jh=new WeakMap,Zh={})}},y_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=QY(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),JY(n,a,r,"aria-hidden")):function(){return null}},x_="Dialog",[CI,OI]=dr(x_),[ZY,ta]=CI(x_),AI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u=!1,d]=wr({prop:n,defaultProp:a,onChange:s});return i.jsx(ZY,{scope:t,triggerRef:l,contentRef:c,contentId:rn(),titleId:rn(),descriptionId:rn(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};AI.displayName=x_;var TI="DialogTrigger",RI=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ta(TI,r),s=we(t,a.triggerRef);return i.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":j_(a.open),...n,ref:s,onClick:J(e.onClick,a.onOpenToggle)})});RI.displayName=TI;var b_="DialogPortal",[eQ,MI]=CI(b_,{forceMount:void 0}),$I=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=ta(b_,t);return i.jsx(eQ,{scope:t,forceMount:r,children:y.Children.map(n,o=>i.jsx(Ur,{present:r||s.open,children:i.jsx(Bf,{asChild:!0,container:a,children:o})}))})};$I.displayName=b_;var Pp="DialogOverlay",II=y.forwardRef((e,t)=>{const r=MI(Pp,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ta(Pp,e.__scopeDialog);return s.modal?i.jsx(Ur,{present:n||s.open,children:i.jsx(tQ,{...a,ref:t})}):null});II.displayName=Pp;var tQ=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ta(Pp,r);return i.jsx(Av,{as:Fr,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(ue.div,{"data-state":j_(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),bo="DialogContent",DI=y.forwardRef((e,t)=>{const r=MI(bo,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ta(bo,e.__scopeDialog);return i.jsx(Ur,{present:n||s.open,children:s.modal?i.jsx(rQ,{...a,ref:t}):i.jsx(nQ,{...a,ref:t})})});DI.displayName=bo;var rQ=y.forwardRef((e,t)=>{const r=ta(bo,e.__scopeDialog),n=y.useRef(null),a=we(t,r.contentRef,n);return y.useEffect(()=>{const s=n.current;if(s)return y_(s)},[]),i.jsx(LI,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:J(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:J(e.onFocusOutside,s=>s.preventDefault())})}),nQ=y.forwardRef((e,t)=>{const r=ta(bo,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return i.jsx(LI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),LI=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=ta(bo,r),c=y.useRef(null),u=we(t,c);return v_(),i.jsxs(i.Fragment,{children:[i.jsx(Cv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Dc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":j_(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(sQ,{titleId:l.titleId}),i.jsx(oQ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),w_="DialogTitle",FI=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ta(w_,r);return i.jsx(ue.h2,{id:a.titleId,...n,ref:t})});FI.displayName=w_;var zI="DialogDescription",UI=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ta(zI,r);return i.jsx(ue.p,{id:a.descriptionId,...n,ref:t})});UI.displayName=zI;var BI="DialogClose",qI=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ta(BI,r);return i.jsx(ue.button,{type:"button",...n,ref:t,onClick:J(e.onClick,()=>a.onOpenChange(!1))})});qI.displayName=BI;function j_(e){return e?"open":"closed"}var WI="DialogTitleWarning",[aQ,VI]=h8(WI,{contentName:bo,titleName:w_,docsSlug:"dialog"}),sQ=({titleId:e})=>{const t=VI(WI),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},iQ="DialogDescriptionWarning",oQ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VI(iQ).contentName}}.`;return y.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},__=AI,HI=RI,S_=$I,Xf=II,Jf=DI,Zf=FI,eh=UI,th=qI;const Xc=__,KI=HI,lQ=S_,cQ=th,GI=y.forwardRef(({className:e,...t},r)=>i.jsx(Xf,{ref:r,className:U("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));GI.displayName=Xf.displayName;const $o=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(lQ,{children:[i.jsx(GI,{}),i.jsxs(Jf,{ref:n,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(th,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Vf,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$o.displayName=Jf.displayName;const Io=({className:e,...t})=>i.jsx("div",{className:U("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Io.displayName="DialogHeader";const YI=({className:e,...t})=>i.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});YI.displayName="DialogFooter";const Do=y.forwardRef(({className:e,...t},r)=>i.jsx(Zf,{ref:r,className:U("text-lg font-semibold leading-none tracking-tight",e),...t}));Do.displayName=Zf.displayName;const QI=y.forwardRef(({className:e,...t},r)=>i.jsx(eh,{ref:r,className:U("text-sm text-muted-foreground",e),...t}));QI.displayName=eh.displayName;function kp(e,[t,r]){return Math.min(r,Math.max(t,e))}function rh(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var uQ=[" ","Enter","ArrowUp","ArrowDown"],dQ=[" ","Enter"],nh="Select",[Tv,Rv,fQ]=Ic(nh),[Jc,l2e]=dr(nh,[fQ,Wc]),Mv=Wc(),[hQ,ji]=Jc(nh),[mQ,pQ]=Jc(nh),XI=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=Mv(t),[v,b]=y.useState(null),[x,w]=y.useState(null),[j,_]=y.useState(!1),S=Mo(u),[N=!1,E]=wr({prop:n,defaultProp:a,onChange:s}),[C,k]=wr({prop:o,defaultProp:l,onChange:c}),T=y.useRef(null),A=v?g||!!v.closest("form"):!0,[D,R]=y.useState(new Set),L=Array.from(D).map(I=>I.props.value).join(";");return i.jsx(Wj,{...p,children:i.jsxs(hQ,{required:m,scope:t,trigger:v,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:rn(),value:C,onValueChange:k,open:N,onOpenChange:E,dir:S,triggerPointerDownPosRef:T,disabled:h,children:[i.jsx(Tv.Provider,{scope:t,children:i.jsx(mQ,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(I=>{R(F=>new Set(F).add(I))},[]),onNativeOptionRemove:y.useCallback(I=>{R(F=>{const O=new Set(F);return O.delete(I),O})},[]),children:r})}),A?i.jsxs(jD,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:I=>k(I.target.value),disabled:h,form:g,children:[C===void 0?i.jsx("option",{value:""}):null,Array.from(D)]},L):null]})})};XI.displayName=nh;var JI="SelectTrigger",ZI=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Mv(r),o=ji(JI,r),l=o.disabled||n,c=we(t,o.onTriggerChange),u=Rv(r),d=y.useRef("touch"),[f,h,m]=_D(p=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===o.value),x=SD(v,p,b);x!==void 0&&o.onValueChange(x.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(Vj,{asChild:!0,...s,children:i.jsx(ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":wD(o.value)?"":void 0,...a,ref:c,onClick:J(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:J(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:J(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&uQ.includes(p.key)&&(g(),p.preventDefault())})})})});ZI.displayName=JI;var eD="SelectValue",tD=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=ji(eD,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=we(t,c.onValueNodeChange);return It(()=>{u(d)},[u,d]),i.jsx(ue.span,{...l,ref:f,style:{pointerEvents:"none"},children:wD(c.value)?i.jsx(i.Fragment,{children:o}):s})});tD.displayName=eD;var gQ="SelectIcon",rD=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(ue.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});rD.displayName=gQ;var vQ="SelectPortal",nD=e=>i.jsx(Bf,{asChild:!0,...e});nD.displayName=vQ;var wo="SelectContent",aD=y.forwardRef((e,t)=>{const r=ji(wo,e.__scopeSelect),[n,a]=y.useState();if(It(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Ao.createPortal(i.jsx(sD,{scope:e.__scopeSelect,children:i.jsx(Tv.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(iD,{...e,ref:t})});aD.displayName=wo;var Rn=10,[sD,_i]=Jc(wo),yQ="SelectContentImpl",iD=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...b}=e,x=ji(wo,r),[w,j]=y.useState(null),[_,S]=y.useState(null),N=we(t,ne=>j(ne)),[E,C]=y.useState(null),[k,T]=y.useState(null),A=Rv(r),[D,R]=y.useState(!1),L=y.useRef(!1);y.useEffect(()=>{if(w)return y_(w)},[w]),v_();const I=y.useCallback(ne=>{const[be,...Y]=A().map(q=>q.ref.current),[te]=Y.slice(-1),le=document.activeElement;for(const q of ne)if(q===le||(q==null||q.scrollIntoView({block:"nearest"}),q===be&&_&&(_.scrollTop=0),q===te&&_&&(_.scrollTop=_.scrollHeight),q==null||q.focus(),document.activeElement!==le))return},[A,_]),F=y.useCallback(()=>I([E,w]),[I,E,w]);y.useEffect(()=>{D&&F()},[D,F]);const{onOpenChange:O,triggerPointerDownPosRef:$}=x;y.useEffect(()=>{if(w){let ne={x:0,y:0};const be=te=>{var le,q;ne={x:Math.abs(Math.round(te.pageX)-(((le=$.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(te.pageY)-(((q=$.current)==null?void 0:q.y)??0))}},Y=te=>{ne.x<=10&&ne.y<=10?te.preventDefault():w.contains(te.target)||O(!1),document.removeEventListener("pointermove",be),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Y,{capture:!0})}}},[w,O,$]),y.useEffect(()=>{const ne=()=>O(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[O]);const[V,z]=_D(ne=>{const be=A().filter(le=>!le.disabled),Y=be.find(le=>le.ref.current===document.activeElement),te=SD(be,ne,Y);te&&setTimeout(()=>te.ref.current.focus())}),B=y.useCallback((ne,be,Y)=>{const te=!L.current&&!Y;(x.value!==void 0&&x.value===be||te)&&(C(ne),te&&(L.current=!0))},[x.value]),Q=y.useCallback(()=>w==null?void 0:w.focus(),[w]),oe=y.useCallback((ne,be,Y)=>{const te=!L.current&&!Y;(x.value!==void 0&&x.value===be||te)&&T(ne)},[x.value]),ge=n==="popper"?Vb:oD,me=ge===Vb?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return i.jsx(sD,{scope:r,content:w,viewport:_,onViewportChange:S,itemRefCallback:B,selectedItem:E,onItemLeave:Q,itemTextRefCallback:oe,focusSelectedItem:F,selectedItemText:k,position:n,isPositioned:D,searchRef:V,children:i.jsx(Av,{as:Fr,allowPinchZoom:!0,children:i.jsx(Cv,{asChild:!0,trapped:x.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:J(a,ne=>{var be;(be=x.trigger)==null||be.focus({preventScroll:!0}),ne.preventDefault()}),children:i.jsx(Dc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(ge,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ne=>ne.preventDefault(),...b,...me,onPlaced:()=>R(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:J(b.onKeyDown,ne=>{const be=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!be&&ne.key.length===1&&z(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let te=A().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const le=ne.target,q=te.indexOf(le);te=te.slice(q+1)}setTimeout(()=>I(te)),ne.preventDefault()}})})})})})})});iD.displayName=yQ;var xQ="SelectItemAlignedPosition",oD=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=ji(wo,r),o=_i(wo,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=we(t,N=>d(N)),h=Rv(r),m=y.useRef(!1),g=y.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:b,focusSelectedItem:x}=o,w=y.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&v&&b){const N=s.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(s.dir!=="rtl"){const le=k.left-E.left,q=C.left-le,Oe=N.left-q,ye=N.width+Oe,Ke=Math.max(ye,E.width),Le=window.innerWidth-Rn,wt=kp(q,[Rn,Math.max(Rn,Le-Ke)]);l.style.minWidth=ye+"px",l.style.left=wt+"px"}else{const le=E.right-k.right,q=window.innerWidth-C.right-le,Oe=window.innerWidth-N.right-q,ye=N.width+Oe,Ke=Math.max(ye,E.width),Le=window.innerWidth-Rn,wt=kp(q,[Rn,Math.max(Rn,Le-Ke)]);l.style.minWidth=ye+"px",l.style.right=wt+"px"}const T=h(),A=window.innerHeight-Rn*2,D=p.scrollHeight,R=window.getComputedStyle(u),L=parseInt(R.borderTopWidth,10),I=parseInt(R.paddingTop,10),F=parseInt(R.borderBottomWidth,10),O=parseInt(R.paddingBottom,10),$=L+I+D+O+F,V=Math.min(v.offsetHeight*5,$),z=window.getComputedStyle(p),B=parseInt(z.paddingTop,10),Q=parseInt(z.paddingBottom,10),oe=N.top+N.height/2-Rn,ge=A-oe,me=v.offsetHeight/2,ne=v.offsetTop+me,be=L+I+ne,Y=$-be;if(be<=oe){const le=T.length>0&&v===T[T.length-1].ref.current;l.style.bottom="0px";const q=u.clientHeight-p.offsetTop-p.offsetHeight,Oe=Math.max(ge,me+(le?Q:0)+q+F),ye=be+Oe;l.style.height=ye+"px"}else{const le=T.length>0&&v===T[0].ref.current;l.style.top="0px";const Oe=Math.max(oe,L+p.offsetTop+(le?B:0)+me)+Y;l.style.height=Oe+"px",p.scrollTop=be-oe+p.offsetTop}l.style.margin=`${Rn}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,p,v,b,s.dir,n]);It(()=>w(),[w]);const[j,_]=y.useState();It(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=y.useCallback(N=>{N&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return i.jsx(wQ,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(ue.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});oD.displayName=xQ;var bQ="SelectPopperPosition",Vb=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Rn,...s}=e,o=Mv(r);return i.jsx(Hj,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vb.displayName=bQ;var[wQ,N_]=Jc(wo,{}),Hb="SelectViewport",lD=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=_i(Hb,r),o=N_(Hb,r),l=we(t,s.onViewportChange),c=y.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Tv.Slot,{scope:r,children:i.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:J(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Rn*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(p,v);if(b<g){const x=b+m,w=Math.min(g,x),j=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});lD.displayName=Hb;var cD="SelectGroup",[jQ,_Q]=Jc(cD),SQ=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=rn();return i.jsx(jQ,{scope:r,id:a,children:i.jsx(ue.div,{role:"group","aria-labelledby":a,...n,ref:t})})});SQ.displayName=cD;var uD="SelectLabel",dD=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=_Q(uD,r);return i.jsx(ue.div,{id:a.id,...n,ref:t})});dD.displayName=uD;var Cp="SelectItem",[NQ,fD]=Jc(Cp),hD=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=ji(Cp,r),c=_i(Cp,r),u=l.value===n,[d,f]=y.useState(s??""),[h,m]=y.useState(!1),g=we(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,a)}),p=rn(),v=y.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(NQ,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:y.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:i.jsx(Tv.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(ue.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:J(o.onFocus,()=>m(!0)),onBlur:J(o.onBlur,()=>m(!1)),onClick:J(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:J(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:J(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:J(o.onPointerMove,x=>{var w;v.current=x.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:J(o.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(dQ.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});hD.displayName=Cp;var ed="SelectItemText",mD=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=ji(ed,r),l=_i(ed,r),c=fD(ed,r),u=pQ(ed,r),[d,f]=y.useState(null),h=we(t,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=y.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return It(()=>(p(g),()=>v(g)),[p,v,g]),i.jsxs(i.Fragment,{children:[i.jsx(ue.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ao.createPortal(s.children,o.valueNode):null]})});mD.displayName=ed;var pD="SelectItemIndicator",gD=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return fD(pD,r).isSelected?i.jsx(ue.span,{"aria-hidden":!0,...n,ref:t}):null});gD.displayName=pD;var Kb="SelectScrollUpButton",vD=y.forwardRef((e,t)=>{const r=_i(Kb,e.__scopeSelect),n=N_(Kb,e.__scopeSelect),[a,s]=y.useState(!1),o=we(t,n.onScrollButtonChange);return It(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(xD,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});vD.displayName=Kb;var Gb="SelectScrollDownButton",yD=y.forwardRef((e,t)=>{const r=_i(Gb,e.__scopeSelect),n=N_(Gb,e.__scopeSelect),[a,s]=y.useState(!1),o=we(t,n.onScrollButtonChange);return It(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(xD,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});yD.displayName=Gb;var xD=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=_i("SelectScrollButton",r),o=y.useRef(null),l=Rv(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),It(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(ue.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:J(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:J(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:J(a.onPointerLeave,()=>{c()})})}),EQ="SelectSeparator",bD=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(ue.div,{"aria-hidden":!0,...n,ref:t})});bD.displayName=EQ;var Yb="SelectArrow",PQ=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Mv(r),s=ji(Yb,r),o=_i(Yb,r);return s.open&&o.position==="popper"?i.jsx(Kj,{...a,...n,ref:t}):null});PQ.displayName=Yb;function wD(e){return e===""||e===void 0}var jD=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=y.useRef(null),s=we(t,a),o=rh(r);return y.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),i.jsx(qf,{asChild:!0,children:i.jsx("select",{...n,ref:s,defaultValue:r})})});jD.displayName="BubbleSelect";function _D(e){const t=Xt(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function SD(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=kQ(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function kQ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var CQ=XI,ND=ZI,OQ=tD,AQ=rD,TQ=nD,ED=aD,RQ=lD,PD=dD,kD=hD,MQ=mD,$Q=gD,CD=vD,OD=yD,AD=bD;const lc=CQ,cc=OQ,jo=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(ND,{ref:n,className:U("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(AQ,{asChild:!0,children:i.jsx(Lc,{className:"h-4 w-4 opacity-50"})})]}));jo.displayName=ND.displayName;const TD=y.forwardRef(({className:e,...t},r)=>i.jsx(CD,{ref:r,className:U("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(iv,{className:"h-4 w-4"})}));TD.displayName=CD.displayName;const RD=y.forwardRef(({className:e,...t},r)=>i.jsx(OD,{ref:r,className:U("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Lc,{className:"h-4 w-4"})}));RD.displayName=OD.displayName;const _o=y.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(TQ,{children:i.jsxs(ED,{ref:a,className:U("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(TD,{}),i.jsx(RQ,{className:U("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(RD,{})]})}));_o.displayName=ED.displayName;const IQ=y.forwardRef(({className:e,...t},r)=>i.jsx(PD,{ref:r,className:U("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));IQ.displayName=PD.displayName;const Or=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(kD,{ref:n,className:U("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx($Q,{children:i.jsx(Wf,{className:"h-4 w-4"})})}),i.jsx(MQ,{children:t})]}));Or.displayName=kD.displayName;const DQ=y.forwardRef(({className:e,...t},r)=>i.jsx(AD,{ref:r,className:U("-mx-1 my-1 h-px bg-muted",e),...t}));DQ.displayName=AD.displayName;const E_=({currentUserRole:e,selectedRole:t,onRoleChange:r,disabled:n=!1})=>{const a=rY(e),s=[...a];return t&&!a.includes(t)&&s.push(t),i.jsxs(lc,{value:t,onValueChange:r,disabled:n,children:[i.jsx(jo,{children:i.jsx(cc,{placeholder:"Select a role"})}),i.jsx(_o,{children:s.map(o=>{const l=Sp(o);return i.jsx(Or,{value:o,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(l.icon,{className:"w-4 h-4"}),i.jsx("span",{children:l.label})]})},o)})})]})},LQ=({isOpen:e,user:t,organizations:r,onClose:n,onSubmit:a,isSubmitting:s})=>{const[o,l]=y.useState(""),[c,u]=y.useState("member"),d=h=>{h.preventDefault(),t&&o&&a(t.user_id,t.email,o,c)},f=()=>{l(""),u("member"),n()};return t?i.jsx(Xc,{open:e,onOpenChange:f,children:i.jsxs($o,{className:"sm:max-w-md",children:[i.jsx(Io,{children:i.jsx(Do,{children:"Assign User to Organization"})}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"User Email"}),i.jsx("div",{className:"p-2 bg-gray-50 rounded border",children:t.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"organization",children:"Organization"}),i.jsxs(lc,{value:o,onValueChange:l,required:!0,children:[i.jsx(jo,{children:i.jsx(cc,{placeholder:"Select an organization"})}),i.jsx(_o,{children:r.map(h=>i.jsxs(Or,{value:h.id,children:[h.name," (/",h.slug,")"]},h.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"role",children:"Role"}),i.jsx(E_,{currentUserRole:"owner",selectedRole:c,onRoleChange:u})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(ee,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),i.jsx(ee,{type:"submit",disabled:s||!o,children:s?"Assigning...":"Assign User"})]})]})]})}):null};var MD="AlertDialog",[FQ,c2e]=dr(MD,[OI]),ls=OI(),$D=e=>{const{__scopeAlertDialog:t,...r}=e,n=ls(t);return i.jsx(__,{...n,...r,modal:!0})};$D.displayName=MD;var zQ="AlertDialogTrigger",ID=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ls(r);return i.jsx(HI,{...a,...n,ref:t})});ID.displayName=zQ;var UQ="AlertDialogPortal",DD=e=>{const{__scopeAlertDialog:t,...r}=e,n=ls(t);return i.jsx(S_,{...n,...r})};DD.displayName=UQ;var BQ="AlertDialogOverlay",LD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ls(r);return i.jsx(Xf,{...a,...n,ref:t})});LD.displayName=BQ;var Ml="AlertDialogContent",[qQ,WQ]=FQ(Ml),FD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=ls(r),o=y.useRef(null),l=we(t,o),c=y.useRef(null);return i.jsx(aQ,{contentName:Ml,titleName:zD,docsSlug:"alert-dialog",children:i.jsx(qQ,{scope:r,cancelRef:c,children:i.jsxs(Jf,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:J(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(Nj,{children:n}),i.jsx(HQ,{contentRef:o})]})})})});FD.displayName=Ml;var zD="AlertDialogTitle",UD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ls(r);return i.jsx(Zf,{...a,...n,ref:t})});UD.displayName=zD;var BD="AlertDialogDescription",qD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ls(r);return i.jsx(eh,{...a,...n,ref:t})});qD.displayName=BD;var VQ="AlertDialogAction",WD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ls(r);return i.jsx(th,{...a,...n,ref:t})});WD.displayName=VQ;var VD="AlertDialogCancel",HD=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=WQ(VD,r),s=ls(r),o=we(t,a);return i.jsx(th,{...s,...n,ref:o})});HD.displayName=VD;var HQ=({contentRef:e})=>{const t=`\`${Ml}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ml}\` by passing a \`${BD}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ml}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},KQ=$D,GQ=ID,YQ=DD,KD=LD,GD=FD,YD=WD,QD=HD,XD=UD,JD=qD;const ah=KQ,sh=GQ,QQ=YQ,ZD=y.forwardRef(({className:e,...t},r)=>i.jsx(KD,{className:U("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ZD.displayName=KD.displayName;const Zc=y.forwardRef(({className:e,...t},r)=>i.jsxs(QQ,{children:[i.jsx(ZD,{}),i.jsx(GD,{ref:r,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Zc.displayName=GD.displayName;const eu=({className:e,...t})=>i.jsx("div",{className:U("flex flex-col space-y-2 text-center sm:text-left",e),...t});eu.displayName="AlertDialogHeader";const tu=({className:e,...t})=>i.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});tu.displayName="AlertDialogFooter";const ru=y.forwardRef(({className:e,...t},r)=>i.jsx(XD,{ref:r,className:U("text-lg font-semibold",e),...t}));ru.displayName=XD.displayName;const nu=y.forwardRef(({className:e,...t},r)=>i.jsx(JD,{ref:r,className:U("text-sm text-muted-foreground",e),...t}));nu.displayName=JD.displayName;const au=y.forwardRef(({className:e,...t},r)=>i.jsx(YD,{ref:r,className:U(u_(),e),...t}));au.displayName=YD.displayName;const su=y.forwardRef(({className:e,...t},r)=>i.jsx(QD,{ref:r,className:U(u_({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));su.displayName=QD.displayName;const XQ=({organizations:e})=>{const{data:t,isLoading:r,error:n}=QG(),[a,s]=y.useState(!1),[o,l]=y.useState(null),c=XG(),u=JG(),d=g=>{l(g),s(!0)},f=()=>{l(null),s(!1)},h=(g,p,v,b)=>{c.mutate({userId:g,email:p,organizationId:v,role:b},{onSuccess:()=>{yr.success(`User ${p} assigned successfully.`),f()},onError:x=>{yr.error(`Failed to assign user: ${x.message}`)}})},m=()=>{u.mutate(void 0,{onSuccess:g=>{yr.success(`Approval process complete. ${g.approvedCount} invitations approved.`),g.failedCount>0&&yr.info(`${g.failedCount} invitations could not be approved (e.g. user not registered).`)},onError:g=>{yr.error(`Failed to approve invitations: ${g.message}`)}})};return r?i.jsx(Ep,{text:"Loading system-wide user data..."}):n?i.jsxs(ir,{variant:"destructive",children:[i.jsx(O9,{className:"h-4 w-4"}),i.jsx(vI,{children:"Error Fetching Data"}),i.jsx(or,{children:n.message})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(H,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"All Organization Users"}),i.jsx(Gn,{children:"A comprehensive list of all users across all organizations with their enhanced roles. You can assign existing users to new organizations from here."})]}),i.jsx(K,{children:i.jsx(sY,{users:(t==null?void 0:t.users)||[],onAssignUser:d})})]}),i.jsxs(H,{children:[i.jsxs(se,{className:"flex flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ie,{children:"All Pending Invitations"}),i.jsx(Gn,{children:"A comprehensive list of all pending invitations across all organizations with enhanced role information."})]}),(t==null?void 0:t.invitations)&&t.invitations.length>0&&i.jsxs(ah,{children:[i.jsx(sh,{asChild:!0,children:i.jsx(ee,{disabled:u.isPending,children:u.isPending?"Approving...":"Approve All Pending"})}),i.jsxs(Zc,{children:[i.jsxs(eu,{children:[i.jsx(ru,{children:"Are you sure?"}),i.jsx(nu,{children:"This will attempt to approve all pending invitations for which a user account already exists. Users will be added to the respective organizations with their designated enhanced roles. This action cannot be undone."})]}),i.jsxs(tu,{children:[i.jsx(su,{children:"Cancel"}),i.jsx(au,{onClick:m,disabled:u.isPending,children:"Continue"})]})]})]})]}),i.jsx(K,{children:i.jsx(iY,{invitations:(t==null?void 0:t.invitations)||[]})})]}),i.jsx(LQ,{isOpen:a,user:o,organizations:e,onClose:f,onSubmit:h,isSubmitting:c.isPending})]})},JQ=({organizations:e})=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(H,{children:i.jsxs(K,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.length)||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Organizations"})]})}),i.jsx(H,{children:i.jsxs(K,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:(e==null?void 0:e.filter(t=>t.is_active).length)||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]})})]});var Qb=["Enter"," "],ZQ=["ArrowDown","PageUp","Home"],e4=["ArrowUp","PageDown","End"],eX=[...ZQ,...e4],tX={ltr:[...Qb,"ArrowRight"],rtl:[...Qb,"ArrowLeft"]},rX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ih="Menu",[Kd,nX,aX]=Ic(ih),[Lo,t4]=dr(ih,[aX,Wc,Qc]),$v=Wc(),r4=Qc(),[sX,Fo]=Lo(ih),[iX,oh]=Lo(ih),n4=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,l=$v(t),[c,u]=y.useState(null),d=y.useRef(!1),f=Xt(s),h=Mo(a);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(Wj,{...l,children:i.jsx(sX,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(iX,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};n4.displayName=ih;var oX="MenuAnchor",P_=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=$v(r);return i.jsx(Vj,{...a,...n,ref:t})});P_.displayName=oX;var k_="MenuPortal",[lX,a4]=Lo(k_,{forceMount:void 0}),s4=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Fo(k_,t);return i.jsx(lX,{scope:t,forceMount:r,children:i.jsx(Ur,{present:r||s.open,children:i.jsx(Bf,{asChild:!0,container:a,children:n})})})};s4.displayName=k_;var bn="MenuContent",[cX,C_]=Lo(bn),i4=y.forwardRef((e,t)=>{const r=a4(bn,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Fo(bn,e.__scopeMenu),o=oh(bn,e.__scopeMenu);return i.jsx(Kd.Provider,{scope:e.__scopeMenu,children:i.jsx(Ur,{present:n||s.open,children:i.jsx(Kd.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(uX,{...a,ref:t}):i.jsx(dX,{...a,ref:t})})})})}),uX=y.forwardRef((e,t)=>{const r=Fo(bn,e.__scopeMenu),n=y.useRef(null),a=we(t,n);return y.useEffect(()=>{const s=n.current;if(s)return y_(s)},[]),i.jsx(O_,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:J(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),dX=y.forwardRef((e,t)=>{const r=Fo(bn,e.__scopeMenu);return i.jsx(O_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),O_=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=Fo(bn,r),b=oh(bn,r),x=$v(r),w=r4(r),j=nX(r),[_,S]=y.useState(null),N=y.useRef(null),E=we(t,N,v.onContentChange),C=y.useRef(0),k=y.useRef(""),T=y.useRef(0),A=y.useRef(null),D=y.useRef("right"),R=y.useRef(0),L=g?Av:y.Fragment,I=g?{as:Fr,allowPinchZoom:!0}:void 0,F=$=>{var ne,be;const V=k.current+$,z=j().filter(Y=>!Y.disabled),B=document.activeElement,Q=(ne=z.find(Y=>Y.ref.current===B))==null?void 0:ne.textValue,oe=z.map(Y=>Y.textValue),ge=_X(oe,V,Q),me=(be=z.find(Y=>Y.textValue===ge))==null?void 0:be.ref.current;(function Y(te){k.current=te,window.clearTimeout(C.current),te!==""&&(C.current=window.setTimeout(()=>Y(""),1e3))})(V),me&&setTimeout(()=>me.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),v_();const O=y.useCallback($=>{var z,B;return D.current===((z=A.current)==null?void 0:z.side)&&NX($,(B=A.current)==null?void 0:B.area)},[]);return i.jsx(cX,{scope:r,searchRef:k,onItemEnter:y.useCallback($=>{O($)&&$.preventDefault()},[O]),onItemLeave:y.useCallback($=>{var V;O($)||((V=N.current)==null||V.focus(),S(null))},[O]),onTriggerLeave:y.useCallback($=>{O($)&&$.preventDefault()},[O]),pointerGraceTimerRef:T,onPointerGraceIntentChange:y.useCallback($=>{A.current=$},[]),children:i.jsx(L,{...I,children:i.jsx(Cv,{asChild:!0,trapped:a,onMountAutoFocus:J(s,$=>{var V;$.preventDefault(),(V=N.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Dc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(d_,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:J(c,$=>{b.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Hj,{role:"menu","aria-orientation":"vertical","data-state":j4(v.open),"data-radix-menu-content":"",dir:b.dir,...x,...p,ref:E,style:{outline:"none",...p.style},onKeyDown:J(p.onKeyDown,$=>{const z=$.target.closest("[data-radix-menu-content]")===$.currentTarget,B=$.ctrlKey||$.altKey||$.metaKey,Q=$.key.length===1;z&&($.key==="Tab"&&$.preventDefault(),!B&&Q&&F($.key));const oe=N.current;if($.target!==oe||!eX.includes($.key))return;$.preventDefault();const me=j().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);e4.includes($.key)&&me.reverse(),wX(me)}),onBlur:J(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),k.current="")}),onPointerMove:J(e.onPointerMove,Gd($=>{const V=$.target,z=R.current!==$.clientX;if($.currentTarget.contains(V)&&z){const B=$.clientX>R.current?"right":"left";D.current=B,R.current=$.clientX}}))})})})})})})});i4.displayName=bn;var fX="MenuGroup",A_=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ue.div,{role:"group",...n,ref:t})});A_.displayName=fX;var hX="MenuLabel",o4=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ue.div,{...n,ref:t})});o4.displayName=hX;var Op="MenuItem",YP="menu.itemSelect",Iv=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=y.useRef(null),o=oh(Op,e.__scopeMenu),l=C_(Op,e.__scopeMenu),c=we(t,s),u=y.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(YP,{bubbles:!0,cancelable:!0});f.addEventListener(YP,m=>n==null?void 0:n(m),{once:!0}),Ej(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(l4,{...a,ref:c,disabled:r,onClick:J(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:J(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:J(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Qb.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Iv.displayName=Op;var l4=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=C_(Op,r),l=r4(r),c=y.useRef(null),u=we(t,c),[d,f]=y.useState(!1),[h,m]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[s.children]),i.jsx(Kd.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:i.jsx(f_,{asChild:!0,...l,focusable:!n,children:i.jsx(ue.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:J(e.onPointerMove,Gd(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(e.onPointerLeave,Gd(g=>o.onItemLeave(g))),onFocus:J(e.onFocus,()=>f(!0)),onBlur:J(e.onBlur,()=>f(!1))})})})}),mX="MenuCheckboxItem",c4=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return i.jsx(m4,{scope:e.__scopeMenu,checked:r,children:i.jsx(Iv,{role:"menuitemcheckbox","aria-checked":Ap(r)?"mixed":r,...a,ref:t,"data-state":R_(r),onSelect:J(a.onSelect,()=>n==null?void 0:n(Ap(r)?!0:!r),{checkForDefaultPrevented:!1})})})});c4.displayName=mX;var u4="MenuRadioGroup",[pX,gX]=Lo(u4,{value:void 0,onValueChange:()=>{}}),d4=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Xt(n);return i.jsx(pX,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(A_,{...a,ref:t})})});d4.displayName=u4;var f4="MenuRadioItem",h4=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=gX(f4,e.__scopeMenu),s=r===a.value;return i.jsx(m4,{scope:e.__scopeMenu,checked:s,children:i.jsx(Iv,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":R_(s),onSelect:J(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});h4.displayName=f4;var T_="MenuItemIndicator",[m4,vX]=Lo(T_,{checked:!1}),p4=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=vX(T_,r);return i.jsx(Ur,{present:n||Ap(s.checked)||s.checked===!0,children:i.jsx(ue.span,{...a,ref:t,"data-state":R_(s.checked)})})});p4.displayName=T_;var yX="MenuSeparator",g4=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ue.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});g4.displayName=yX;var xX="MenuArrow",v4=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=$v(r);return i.jsx(Kj,{...a,...n,ref:t})});v4.displayName=xX;var bX="MenuSub",[u2e,y4]=Lo(bX),td="MenuSubTrigger",x4=y.forwardRef((e,t)=>{const r=Fo(td,e.__scopeMenu),n=oh(td,e.__scopeMenu),a=y4(td,e.__scopeMenu),s=C_(td,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(P_,{asChild:!0,...u,children:i.jsx(l4,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":j4(r.open),...e,ref:nv(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:J(e.onPointerMove,Gd(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:J(e.onPointerLeave,Gd(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",b=v?-5:5,x=h[v?"left":"right"],w=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:J(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||tX[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});x4.displayName=td;var b4="MenuSubContent",w4=y.forwardRef((e,t)=>{const r=a4(bn,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Fo(bn,e.__scopeMenu),o=oh(bn,e.__scopeMenu),l=y4(b4,e.__scopeMenu),c=y.useRef(null),u=we(t,c);return i.jsx(Kd.Provider,{scope:e.__scopeMenu,children:i.jsx(Ur,{present:n||s.open,children:i.jsx(Kd.Slot,{scope:e.__scopeMenu,children:i.jsx(O_,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:J(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:J(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:J(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=rX[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});w4.displayName=b4;function j4(e){return e?"open":"closed"}function Ap(e){return e==="indeterminate"}function R_(e){return Ap(e)?"indeterminate":e?"checked":"unchecked"}function wX(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function jX(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function _X(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=jX(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function SX(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,c=t[s].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function NX(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return SX(r,t)}function Gd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var EX=n4,PX=P_,kX=s4,CX=i4,OX=A_,AX=o4,TX=Iv,RX=c4,MX=d4,$X=h4,IX=p4,DX=g4,LX=v4,FX=x4,zX=w4,M_="DropdownMenu",[UX,d2e]=dr(M_,[t4]),Nr=t4(),[BX,_4]=UX(M_),S4=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=Nr(t),u=y.useRef(null),[d=!1,f]=wr({prop:a,defaultProp:s,onChange:o});return i.jsx(BX,{scope:t,triggerId:rn(),triggerRef:u,contentId:rn(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(EX,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};S4.displayName=M_;var N4="DropdownMenuTrigger",E4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=_4(N4,r),o=Nr(r);return i.jsx(PX,{asChild:!0,...o,children:i.jsx(ue.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:nv(t,s.triggerRef),onPointerDown:J(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:J(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});E4.displayName=N4;var qX="DropdownMenuPortal",P4=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Nr(t);return i.jsx(kX,{...n,...r})};P4.displayName=qX;var k4="DropdownMenuContent",C4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_4(k4,r),s=Nr(r),o=y.useRef(!1);return i.jsx(CX,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:J(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:J(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});C4.displayName=k4;var WX="DropdownMenuGroup",VX=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return i.jsx(OX,{...a,...n,ref:t})});VX.displayName=WX;var HX="DropdownMenuLabel",O4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return i.jsx(AX,{...a,...n,ref:t})});O4.displayName=HX;var KX="DropdownMenuItem",A4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return i.jsx(TX,{...a,...n,ref:t})});A4.displayName=KX;var GX="DropdownMenuCheckboxItem",T4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return i.jsx(RX,{...a,...n,ref:t})});T4.displayName=GX;var YX="DropdownMenuRadioGroup",QX=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return i.jsx(MX,{...a,...n,ref:t})});QX.displayName=YX;var XX="DropdownMenuRadioItem",R4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return i.jsx($X,{...a,...n,ref:t})});R4.displayName=XX;var JX="DropdownMenuItemIndicator",M4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return i.jsx(IX,{...a,...n,ref:t})});M4.displayName=JX;var ZX="DropdownMenuSeparator",$4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return i.jsx(DX,{...a,...n,ref:t})});$4.displayName=ZX;var eJ="DropdownMenuArrow",tJ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return i.jsx(LX,{...a,...n,ref:t})});tJ.displayName=eJ;var rJ="DropdownMenuSubTrigger",I4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return i.jsx(FX,{...a,...n,ref:t})});I4.displayName=rJ;var nJ="DropdownMenuSubContent",D4=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Nr(r);return i.jsx(zX,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D4.displayName=nJ;var aJ=S4,sJ=E4,iJ=P4,L4=C4,F4=O4,z4=A4,U4=T4,B4=R4,q4=M4,W4=$4,V4=I4,H4=D4;const $_=aJ,I_=sJ,oJ=y.forwardRef(({className:e,inset:t,children:r,...n},a)=>i.jsxs(V4,{ref:a,className:U("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(ni,{className:"ml-auto h-4 w-4"})]}));oJ.displayName=V4.displayName;const lJ=y.forwardRef(({className:e,...t},r)=>i.jsx(H4,{ref:r,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));lJ.displayName=H4.displayName;const Dv=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(iJ,{children:i.jsx(L4,{ref:n,sideOffset:t,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Dv.displayName=L4.displayName;const Fa=y.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(z4,{ref:n,className:U("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Fa.displayName=z4.displayName;const cJ=y.forwardRef(({className:e,children:t,checked:r,...n},a)=>i.jsxs(U4,{ref:a,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(q4,{children:i.jsx(Wf,{className:"h-4 w-4"})})}),t]}));cJ.displayName=U4.displayName;const uJ=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(B4,{ref:n,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(q4,{children:i.jsx(ov,{className:"h-2 w-2 fill-current"})})}),t]}));uJ.displayName=B4.displayName;const K4=y.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(F4,{ref:n,className:U("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));K4.displayName=F4.displayName;const Tp=y.forwardRef(({className:e,...t},r)=>i.jsx(W4,{ref:r,className:U("-mx-1 my-1 h-px bg-muted",e),...t}));Tp.displayName=W4.displayName;var D_="Avatar",[dJ,f2e]=dr(D_),[fJ,G4]=dJ(D_),Y4=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=y.useState("idle");return i.jsx(fJ,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(ue.span,{...n,ref:t})})});Y4.displayName=D_;var Q4="AvatarImage",X4=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=G4(Q4,r),l=hJ(n,s.referrerPolicy),c=Xt(u=>{a(u),o.onImageLoadingStatusChange(u)});return It(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(ue.img,{...s,ref:t,src:n}):null});X4.displayName=Q4;var J4="AvatarFallback",Z4=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=G4(J4,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(ue.span,{...a,ref:t}):null});Z4.displayName=J4;function hJ(e,t){const[r,n]=y.useState("idle");return It(()=>{if(!e){n("error");return}let a=!0;const s=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=e,t&&(s.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var e5=Y4,t5=X4,r5=Z4;const L_=y.forwardRef(({className:e,...t},r)=>i.jsx(e5,{ref:r,className:U("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));L_.displayName=e5.displayName;const mJ=y.forwardRef(({className:e,...t},r)=>i.jsx(t5,{ref:r,className:U("aspect-square h-full w-full",e),...t}));mJ.displayName=t5.displayName;const F_=y.forwardRef(({className:e,...t},r)=>i.jsx(r5,{ref:r,className:U("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));F_.displayName=r5.displayName;const pJ=({email:e,size:t="md"})=>{const r={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-10 w-10"};return i.jsx(L_,{className:r[t],children:i.jsx(F_,{children:nY(e)})})},n5=e=>{const{user:t}=Zn(),{data:r}=St({queryKey:["user-enhanced-role",t==null?void 0:t.id,e],queryFn:async()=>{if(!(t!=null&&t.id)||!e)return null;const{data:h}=await G.from("organization_users").select("enhanced_role").eq("user_id",t.id).eq("organization_id",e).single();return(h==null?void 0:h.enhanced_role)||null},enabled:!!(t!=null&&t.id)&&!!e}),{data:n}=St({queryKey:["user-permissions",t==null?void 0:t.id,e,r],queryFn:async()=>{if(!(t!=null&&t.id)||!e||!r)return{};const{data:h}=await G.from("role_permissions").select("permission_key, permission_value").eq("role",r),m={};return h==null||h.forEach(({permission_key:g,permission_value:p})=>{try{const v=p;v&&typeof v=="object"&&"allowed"in v&&(m[g]=v)}catch(v){console.warn(`Failed to parse permission for ${g}:`,v)}}),m},enabled:!!(t!=null&&t.id)&&!!e&&!!r}),a=h=>{if(!r)return!1;const m=n==null?void 0:n[h];return m?m.allowed:g_(r,h)};return{userRole:r,permissions:n,checkPermission:a,canManageUsers:()=>a("manage_users"),canManageOrganization:()=>a("manage_organization"),canViewAnalytics:()=>a("view_analytics"),canExportData:()=>a("export_data"),canManageQuestions:()=>a("manage_questions"),canManageIntegrations:()=>a("manage_integrations"),canManageBilling:()=>a("manage_billing")}},gJ=({members:e,loading:t,organizationId:r,onUpdateRole:n,onRemoveMember:a})=>{const{userRole:s,canManageUsers:o}=n5(r),l=(u,d)=>{n(u.user_id,d)},c=u=>{if(!o()||!s)return!1;const d=u.enhanced_role||u.role||"member";return p_(s,d)};return t?i.jsx(H,{children:i.jsx(K,{className:"p-6",children:i.jsx("div",{className:"text-center",children:"Loading members..."})})}):!e||e.length===0?i.jsx(H,{children:i.jsx(K,{className:"p-6",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(Mj,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{children:"No members found"}),i.jsx("p",{className:"text-sm",children:"Invite users to get started"})]})})}):i.jsx(H,{children:i.jsx(K,{className:"p-0",children:i.jsxs(ui,{children:[i.jsx(di,{children:i.jsxs(Ut,{children:[i.jsx(je,{children:"Member"}),i.jsx(je,{children:"Role"}),i.jsx(je,{children:"Status"}),i.jsx(je,{children:"Joined"}),i.jsx(je,{children:"Invited By"}),i.jsx(je,{className:"w-[100px]",children:"Actions"})]})}),i.jsx(fi,{children:e.map(u=>{var h;const d=u.enhanced_role||u.role||"member",f=c(u);return i.jsxs(Ut,{children:[i.jsx(xe,{children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(pJ,{email:u.email}),i.jsx("div",{children:i.jsx("div",{className:"font-medium",children:u.email})})]})}),i.jsx(xe,{children:f?i.jsx(E_,{currentUserRole:s||"member",selectedRole:d,onRoleChange:m=>l(u,m)}):i.jsx(kv,{role:d})}),i.jsx(xe,{children:i.jsx(ke,{variant:aY(u.status),children:u.status})}),i.jsx(xe,{children:u.accepted_at?Np(u.accepted_at):Np(u.created_at)}),i.jsx(xe,{children:((h=u.invited_by)==null?void 0:h.email)||"-"}),i.jsx(xe,{children:f&&i.jsxs($_,{children:[i.jsx(I_,{asChild:!0,children:i.jsx(ee,{variant:"ghost",size:"sm",children:i.jsx(d9,{className:"h-4 w-4"})})}),i.jsx(Dv,{align:"end",children:i.jsxs(ah,{children:[i.jsx(sh,{asChild:!0,children:i.jsxs(Fa,{className:"text-red-600",onSelect:m=>m.preventDefault(),children:[i.jsx(dv,{className:"h-4 w-4 mr-2"}),"Remove Member"]})}),i.jsxs(Zc,{children:[i.jsxs(eu,{children:[i.jsx(ru,{children:"Remove Member"}),i.jsxs(nu,{children:["Are you sure you want to remove ",u.email," from this organization? This action cannot be undone."]})]}),i.jsxs(tu,{children:[i.jsx(su,{children:"Cancel"}),i.jsx(au,{onClick:()=>a(u.user_id),className:"bg-red-600 hover:bg-red-700",children:"Remove"})]})]})]})})]})})]},u.id)})})]})})})},vJ=e=>St({queryKey:["organization-members",e],queryFn:async()=>{console.log("Fetching organization members for:",e);const{data:t,error:r}=await G.from("organization_users").select(`
          id,
          user_id,
          email,
          role,
          enhanced_role,
          status,
          created_at,
          accepted_at,
          invited_by_user_id
        `).eq("organization_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching organization members:",r),r;const n=await Promise.all((t||[]).map(async a=>{let s=null;if(a.invited_by_user_id){const{data:o}=await G.from("organization_users").select("email").eq("user_id",a.invited_by_user_id).eq("organization_id",e).single();o?s={email:o.email}:s={email:"Unknown"}}return{...a,invited_by:s}}));return console.log("Organization members fetched:",n),n},enabled:!!e,retry:3,retryDelay:1e3}),yJ=e=>{const{data:t,...r}=vJ(e);return{activeMembers:(t==null?void 0:t.filter(a=>a.status==="active"))||[],...r}},xJ=e=>{const t=Sr();return bt({mutationFn:async({userId:r,newRole:n})=>{console.log("Updating user role:",{userId:r,newRole:n,organizationId:e});const{data:a,error:s}=await G.from("organization_users").update({enhanced_role:n,role:n==="owner"||n==="admin"?"admin":"member"}).eq("user_id",r).eq("organization_id",e).select().single();if(s)throw console.error("Error updating user role:",s),s;return a},onSuccess:()=>{Ce({title:"User role updated successfully"}),t.invalidateQueries({queryKey:["organization-members",e]})},onError:r=>{console.error("Role update error:",r),Ce({title:"Error updating user role",description:r.message||"An unexpected error occurred",variant:"destructive"})}})},bJ=e=>{const{activeMembers:t,isLoading:r,error:n}=yJ(e),a=xJ(e);return{activeMembers:t,membersLoading:r,membersError:n,handleUpdateRole:(o,l)=>{a.mutate({userId:o,newRole:l})},updateRoleMutation:a}},wJ=e=>St({queryKey:["organization-invitations",e],queryFn:async()=>{console.log("Fetching organization invitations for:",e);const{data:t,error:r}=await G.from("user_invitations").select(`
          id,
          email,
          role,
          enhanced_role,
          status,
          created_at,
          expires_at,
          invited_by_user_id
        `).eq("organization_id",e).eq("status","pending").order("created_at",{ascending:!1});if(r)throw console.error("Error fetching organization invitations:",r),r;const n=await Promise.all((t||[]).map(async a=>{if(a.invited_by_user_id){const{data:s}=await G.from("organization_users").select("email").eq("user_id",a.invited_by_user_id).eq("organization_id",e).single();return{...a,invited_by:s?{email:s.email}:null}}return{...a,invited_by:null}}));return console.log("Organization invitations fetched:",n),n},enabled:!!e,retry:3,retryDelay:1e3}),a5=({rpcName:e,queryKeysToInvalidate:t,successMessage:r,errorMessage:n,onSuccessCustom:a,paramsMapper:s})=>{const o=Sr();return bt({mutationFn:async l=>{const{data:c,error:u}=await G.rpc(e,s(l));if(u)throw u;const d=c;if(d&&typeof d=="object"&&"success"in d){const f=d;if(!f.success)throw new Error(f.error)}return d},onSuccess:l=>{t.forEach(c=>{o.invalidateQueries({queryKey:c})}),a?a(l):yr.success(r)},onError:l=>{yr.error(l.message||n)}})},s5={ORGANIZATION_MEMBERS:["organization-members"],ORGANIZATION_INVITATIONS:["organization-invitations"]},jJ=()=>a5({rpcName:"cancel_invitation",queryKeysToInvalidate:[s5.ORGANIZATION_INVITATIONS],successMessage:"Invitation cancelled successfully",errorMessage:"Failed to cancel invitation",paramsMapper:({invitationId:e})=>({p_invitation_id:e})}),_J=()=>a5({rpcName:"remove_user_from_organization",queryKeysToInvalidate:[s5.ORGANIZATION_MEMBERS],successMessage:"User removed from organization successfully",errorMessage:"Failed to remove user",paramsMapper:({userId:e,organizationId:t})=>({p_user_id:e,p_organization_id:t})}),SJ=e=>{const t=bJ(e),{data:r=[],isLoading:n,error:a}=wJ(e),s=jJ(),o=l=>{s.mutate({invitationId:l})};return{...t,pendingInvitations:r,invitationsLoading:n,invitationsError:a,pendingInvitationsCount:r.length,handleCancelInvitation:o,cancelInvitationLoading:s.isPending}},NJ=({organizationName:e})=>i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),i.jsxs("p",{className:"text-gray-600",children:["Manage members and invitations for ",e]})]})}),EJ=({activeMembersCount:e,adminsCount:t,pendingInvitationsCount:r})=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(H,{children:i.jsx(K,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ot,{className:"h-5 w-5 text-sunset-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:e}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]})]})})}),i.jsx(H,{children:i.jsx(K,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zc,{className:"h-5 w-5 text-coral-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:"Admins"})]})]})})}),i.jsx(H,{children:i.jsx(K,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fp,{className:"h-5 w-5 text-golden-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:r}),i.jsx("p",{className:"text-sm text-gray-600",children:"Pending Invitations"})]})]})})})]});class PJ{formatLog(t,r,n){const a=new Date().toISOString(),s=n?` ${JSON.stringify(n)}`:"";return`[${a}] ${t.toUpperCase()}: ${r}${s}`}info(t,r){console.log(this.formatLog("info",t,r))}warn(t,r){console.warn(this.formatLog("warn",t,r))}error(t,r){console.error(this.formatLog("error",t,r))}debug(t,r){}}const yt=new PJ,Bi=class Bi{constructor(){pt(this,"config",{enableLogging:!0,enableReporting:!0,maxRetries:3})}static getInstance(){return Bi.instance||(Bi.instance=new Bi),Bi.instance}handleError(t,r){const n=this.normalizeError(t,r);return this.config.enableLogging&&this.logError(n),this.config.enableReporting&&n.severity==="critical"&&this.reportError(n),n}async handleAsync(t,r){try{return await t()}catch(n){throw this.handleError(n,r)}}createError(t,r,n="medium",a){return{code:t,message:r,context:a,timestamp:Date.now(),severity:n,details:a}}normalizeError(t,r){return"code"in t&&"severity"in t?{...t,context:{...t.context,...r},details:{...t.details,...r}}:{code:"UNKNOWN_ERROR",message:t.message||"An unexpected error occurred",context:r,timestamp:Date.now(),severity:"medium",details:r}}logError(t){const r=t.severity==="critical"?"error":"warn";console[r]("Application Error:",{code:t.code,message:t.message,severity:t.severity,timestamp:new Date(t.timestamp).toISOString(),context:t.context})}reportError(t){typeof window<"u"&&window.console&&console.error("Critical Error Reported:",t)}};pt(Bi,"instance");let Xb=Bi;const Jb=Xb.getInstance(),Bn=(e,t,r="medium",n)=>Jb.createError(e,t,r,n),On=e=>({success:!1,error:e,code:e.code}),Ox=e=>({success:!0,data:e}),$a=(e,t)=>e instanceof Error?Jb.handleError(e):Jb.createError("UNKNOWN_ERROR",t||"An unknown error occurred"),ia=(e,t,r)=>{const n=Bn("LOG_ERROR",e,"low",t);console.error(e,n)},kJ={NETWORK_ERROR:"NETWORK_ERROR",SYSTEM_NETWORK_ERROR:"SYSTEM_NETWORK_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",VALIDATION_REQUIRED_FIELD:"VALIDATION_REQUIRED_FIELD",VALIDATION_INVALID_EMAIL:"VALIDATION_INVALID_EMAIL",VALIDATION_INVALID_FORMAT:"VALIDATION_INVALID_FORMAT",VALIDATION_INVALID_INPUT:"VALIDATION_INVALID_INPUT",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",SYSTEM_ERROR:"SYSTEM_ERROR",SYSTEM_DATABASE_ERROR:"SYSTEM_DATABASE_ERROR",SYSTEM_UNKNOWN_ERROR:"SYSTEM_UNKNOWN_ERROR",BUSINESS_USER_ALREADY_EXISTS:"BUSINESS_USER_ALREADY_EXISTS",BUSINESS_ORGANIZATION_NOT_FOUND:"BUSINESS_ORGANIZATION_NOT_FOUND",NOT_FOUND:"NOT_FOUND",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR"},Ar=kJ,CJ=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),OJ=e=>e==null?!1:typeof e=="string"?e.trim().length>0:Array.isArray(e)?e.length>0:!0,AJ=(e,t=0,r=1/0)=>{const n=e.trim().length;return n>=t&&n<=r},i5=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),vr={required:e=>({validate:OJ,message:`${e} is required`,code:Ar.VALIDATION_REQUIRED_FIELD}),email:()=>({validate:CJ,message:"Please provide a valid email address",code:Ar.VALIDATION_INVALID_EMAIL}),length:(e,t,r)=>({validate:n=>AJ(n,e,t),message:`${r} must be between ${e} and ${t} characters`,code:Ar.VALIDATION_INVALID_FORMAT}),uuid:e=>({validate:i5,message:`${e} must be a valid UUID`,code:Ar.VALIDATION_INVALID_FORMAT})},o5=(e,t)=>{const r=[];for(const n of t)n.validate(e)||r.push(Bn(n.code,n.message,"medium"));return{isValid:r.length===0,errors:r}},Rp=(e,t)=>{const r=[];for(const[n,a]of Object.entries(t)){const s=e[n],o=o5(s,a);r.push(...o.errors)}return{isValid:r.length===0,errors:r}},TJ=e=>e.trim().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),RJ=e=>{const t=TJ(e).toLowerCase(),r=o5(t,[vr.email()]);return{...r,sanitizedEmail:r.isValid?t:void 0}};class z_{constructor(t){pt(this,"_value");this._value=t}static create(t){const r=RJ(t);if(!r.isValid){const n=r.errors[0]||Bn(Ar.VALIDATION_INVALID_EMAIL,"Invalid email format","medium");throw new Error(n.message)}return new z_(r.sanitizedEmail)}get value(){return this._value}equals(t){return this._value===t._value}toString(){return this._value}}class U_{constructor(t){pt(this,"_value");this._value=t}static create(t){if(!i5(t)){const r=Bn(Ar.VALIDATION_INVALID_FORMAT,"Invalid organization ID format","medium");throw new Error(r.message)}return new U_(t)}get value(){return this._value}equals(t){return this._value===t._value}toString(){return this._value}}class MJ{validateInvitationRequest(t){const r={organizationId:t.organizationId,role:t.role,email:t.email,enhancedRole:t.enhancedRole};return Rp(r,{organizationId:[vr.required("Organization ID"),vr.uuid("Organization ID")],role:[vr.required("Role"),vr.length(1,50,"Role")]})}processSupabaseResponse(t,r){var n;if(r){const a=r instanceof Error?r.message:String(r);if(a.includes("NetworkError")||a.includes("Failed to fetch")){const o=Bn(Ar.SYSTEM_NETWORK_ERROR,"Network connection failed. Please check your internet connection.","high");return ia("Network error in invitation service",{originalError:a}),On(o)}if(a.includes("FunctionsError")){const o=typeof t=="object"&&t!==null&&"error"in t?String(t.error):"Service temporarily unavailable. Please try again.",l=Bn(Ar.SYSTEM_DATABASE_ERROR,o,"high");return ia("Database error in invitation service",{originalError:a}),On(l)}const s=$a(r,"Failed to process invitation");return ia("Unknown error in invitation process"),On(s)}if(!t){const a=Bn(Ar.SYSTEM_UNKNOWN_ERROR,"No response received from invitation service","high");return ia("No data received from invitation service"),On(a)}if(typeof t=="object"&&t!==null&&"success"in t){const a=t;if(a.success===!1){const s=(n=a.message)!=null&&n.includes("already exists")?Ar.BUSINESS_USER_ALREADY_EXISTS:Ar.BUSINESS_ORGANIZATION_NOT_FOUND,o=Bn(s,a.message||"Invitation failed","medium");return ia("Business logic error in invitation",{response:a}),On(o)}return Ox(a)}return Ox({success:!0,message:"Invitation processed successfully",type:"invitation_sent"})}async inviteUser(t){yt.info("UserInvitationService: Processing invitation request",{email:t.email,organizationId:t.organizationId,role:t.role});const r=this.validateInvitationRequest(t);if(!r.isValid){const n=r.errors[0];return ia("Validation failed for invitation request",{...t}),On(n)}try{const n={email:t.email,organizationId:t.organizationId,role:t.role,enhancedRole:t.enhancedRole||t.role},{data:a,error:s}=await G.functions.invoke("enhanced-invite-user",{body:n});return yt.debug("UserInvitationService: Received response from edge function",{hasData:!!a,hasError:!!s}),this.processSupabaseResponse(a,s)}catch(n){const a=$a(n,"Failed to send invitation. Please try again.");return ia("Exception in invitation service",{...t}),On(a)}}async cancelInvitation(t){yt.info("UserInvitationService: Cancelling invitation",{invitationId:t.invitationId});const r={invitationId:t.invitationId},n=Rp(r,{invitationId:[vr.required("Invitation ID"),vr.uuid("Invitation ID")]});if(!n.isValid){const a=n.errors[0];return ia("Validation failed for cancel invitation",{...t}),On(a)}try{const{error:a}=await G.from("user_invitations").update({status:"cancelled"}).eq("id",t.invitationId);if(a){const s=Bn(Ar.SYSTEM_DATABASE_ERROR,"Failed to cancel invitation","medium",{supabaseError:a});return ia("Database error cancelling invitation",{...t}),On(s)}return yt.info("UserInvitationService: Invitation cancelled successfully",{invitationId:t.invitationId}),Ox(void 0)}catch(a){const s=$a(a,"Failed to cancel invitation");return ia("Exception cancelling invitation",{...t}),On(s)}}async resendInvitation(t){yt.info("UserInvitationService: Resending invitation",{invitationId:t.invitationId});const r=Bn(Ar.SYSTEM_UNKNOWN_ERROR,"Resend invitation feature not yet implemented","low");return On(r)}}class $J{constructor(t=new MJ){this.invitationService=t}async inviteUser(t){yt.info("UserInvitationApplicationService: Processing invitation request",{email:t.email,organizationId:t.organizationId,role:t.role});try{const r=z_.create(t.email),n=U_.create(t.organizationId),a={email:r.value,organizationId:n.value,role:t.role,enhancedRole:t.enhancedRole},s=await this.invitationService.inviteUser(a);return yt.info("UserInvitationApplicationService: Invitation processed successfully",{success:s.success}),s}catch(r){throw yt.error("UserInvitationApplicationService: Invitation failed",{error:r instanceof Error?r.message:String(r),request:t}),r}}async cancelInvitation(t){return yt.info("UserInvitationApplicationService: Cancelling invitation",{invitationId:t}),this.invitationService.cancelInvitation({invitationId:t})}async resendInvitation(t){return yt.info("UserInvitationApplicationService: Resending invitation",{invitationId:t}),this.invitationService.resendInvitation({invitationId:t})}}const IJ=new $J,DJ=()=>{const e=Sr();return bt({mutationFn:async t=>{var r;yt.info("useEnhancedInviteUser: Starting invitation process",{email:t.email,organizationId:t.organizationId,role:t.role,enhancedRole:t.enhancedRole});try{const n=await IJ.inviteUser(t);if(!n.success){const a=n;throw new Error(((r=a.error)==null?void 0:r.message)||"Invitation failed")}return n.data}catch(n){yt.error("useEnhancedInviteUser: Invitation failed",{error:n instanceof Error?n.message:String(n),params:t});const a=n instanceof Error?n.message:"Failed to invite user. Please try again.";throw new Error(a)}},onSuccess:t=>{[{queryKey:["organization-members"]},{queryKey:["organization-invitations"]}].forEach(({queryKey:a})=>{e.invalidateQueries({queryKey:a})});const n=t.type==="direct_add"?"User added to organization successfully!":"Invitation sent successfully! The user will receive an email with instructions to join.";yr.success(n),yt.info("useEnhancedInviteUser: Invitation completed successfully",{type:t.type,message:t.message})},onError:t=>{yt.error("useEnhancedInviteUser: Invitation mutation failed",{error:t.message}),yr.error(t.message||"Failed to invite user")}})},QP={email:"",role:"member"},LJ=({organizationId:e,trigger:t})=>{const[r,n]=y.useState(!1),[a,s]=y.useState(QP),[o,l]=y.useState(""),{userRole:c}=n5(e),u=DJ(),d=()=>{s(QP),l("")},f=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.trim()),h=v=>{v.preventDefault(),l("");const b=a.email.trim();if(!b){l("Email address is required");return}if(!f(b)){l("Please enter a valid email address");return}console.log("Submitting invitation:",{email:b,organizationId:e,role:a.role}),u.mutate({email:b,organizationId:e,role:a.role,enhancedRole:a.role},{onSuccess:()=>{d(),n(!1)},onError:x=>{console.error("Invitation failed:",x),l(x.message||"Failed to send invitation")}})},m=(v,b)=>{s(x=>({...x,[v]:b})),o&&l("")},g=a.email.trim().length>0&&f(a.email.trim()),p=i.jsxs(ee,{children:[i.jsx(Rj,{className:"w-4 h-4 mr-2"}),"Invite User"]});return i.jsxs(Xc,{open:r,onOpenChange:v=>{n(v),v||d()},children:[i.jsx(KI,{asChild:!0,children:t||p}),i.jsxs($o,{className:"sm:max-w-md",children:[i.jsx(Io,{children:i.jsx(Do,{children:"Invite User to Organization"})}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o&&i.jsxs(ir,{variant:"destructive",children:[i.jsx(Fc,{className:"h-4 w-4"}),i.jsx(or,{children:o})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"email",children:"Email Address"}),i.jsx(he,{id:"email",type:"email",placeholder:"user@example.com",value:a.email,onChange:v=>m("email",v.target.value),required:!0,className:o&&o.includes("email")?"border-red-500":""}),i.jsx("p",{className:"text-sm text-gray-500",children:"The user will receive an email invitation to join your organization and set up their account."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"role",children:"Role"}),i.jsx(E_,{currentUserRole:c||"member",selectedRole:a.role,onRoleChange:v=>m("role",v)})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(ee,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:u.isPending,children:"Cancel"}),i.jsx(ee,{type:"submit",disabled:u.isPending||!g,children:u.isPending?"Sending Invitation...":"Send Invitation"})]})]})]})]})},FJ=({expiresAt:e})=>{const t=xI(e);return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:t?"text-red-600":"",children:Np(e)}),t&&i.jsxs(ke,{variant:"destructive",className:"flex items-center gap-1",children:[i.jsx(ai,{className:"w-3 h-3"}),"Expiring Soon"]})]})},zJ=({invitation:e,onCancel:t})=>i.jsxs(ah,{children:[i.jsx(sh,{asChild:!0,children:i.jsx(ee,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:i.jsx(Vf,{className:"h-4 w-4"})})}),i.jsxs(Zc,{children:[i.jsxs(eu,{children:[i.jsx(ru,{children:"Cancel Invitation"}),i.jsxs(nu,{children:["Are you sure you want to cancel the invitation for ",e.email,"? They will no longer be able to join using this invitation."]})]}),i.jsxs(tu,{children:[i.jsx(su,{children:"Keep Invitation"}),i.jsx(au,{onClick:()=>t(e.id),className:"bg-red-600 hover:bg-red-700",children:"Cancel Invitation"})]})]})]}),UJ=({invitations:e,loading:t,onCancelInvitation:r})=>t?i.jsx(H,{children:i.jsx(K,{className:"p-6",children:i.jsx("div",{className:"text-center",children:"Loading invitations..."})})}):e.length===0?i.jsx(H,{children:i.jsx(K,{className:"p-6",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(fp,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{children:"No pending invitations"}),i.jsx("p",{className:"text-sm",children:"All invitations have been processed"})]})})}):i.jsx(H,{children:i.jsx(K,{className:"p-0",children:i.jsxs(ui,{children:[i.jsx(di,{children:i.jsxs(Ut,{children:[i.jsx(je,{children:"Email"}),i.jsx(je,{children:"Role"}),i.jsx(je,{children:"Invited"}),i.jsx(je,{children:"Expires"}),i.jsx(je,{children:"Invited By"}),i.jsx(je,{className:"w-[100px]",children:"Actions"})]})}),i.jsx(fi,{children:e.map(n=>{var s;const a=n.enhanced_role||n.role;return i.jsxs(Ut,{children:[i.jsx(xe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fp,{className:"h-4 w-4 text-gray-500"}),i.jsx("span",{className:"font-medium",children:n.email})]})}),i.jsx(xe,{children:i.jsx(kv,{role:a})}),i.jsx(xe,{children:Np(n.created_at)}),i.jsx(xe,{children:i.jsx(FJ,{expiresAt:n.expires_at})}),i.jsx(xe,{children:((s=n.invited_by)==null?void 0:s.email)||"-"}),i.jsx(xe,{children:i.jsx(zJ,{invitation:n,onCancel:r})})]},n.id)})})]})})});function BJ(e,t=[]){let r=[];function n(s,o){const l=y.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,v=y.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,qJ(a,...t)]}function qJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var B_="Progress",q_=100,[WJ,h2e]=BJ(B_),[VJ,HJ]=WJ(B_),l5=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=KJ,...o}=e;(a||a===0)&&!XP(a)&&console.error(GJ(`${a}`,"Progress"));const l=XP(a)?a:q_;n!==null&&!JP(n,l)&&console.error(YJ(`${n}`,"Progress"));const c=JP(n,l)?n:null,u=Mp(c)?s(c,l):void 0;return i.jsx(VJ,{scope:r,value:c,max:l,children:i.jsx(ue.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Mp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":d5(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});l5.displayName=B_;var c5="ProgressIndicator",u5=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=HJ(c5,r);return i.jsx(ue.div,{"data-state":d5(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});u5.displayName=c5;function KJ(e,t){return`${Math.round(e/t*100)}%`}function d5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Mp(e){return typeof e=="number"}function XP(e){return Mp(e)&&!isNaN(e)&&e>0}function JP(e,t){return Mp(e)&&!isNaN(e)&&e<=t&&e>=0}function GJ(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${q_}\`.`}function YJ(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${q_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var f5=l5,QJ=u5;const wn=y.forwardRef(({className:e,value:t,...r},n)=>i.jsx(f5,{ref:n,className:U("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(QJ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));wn.displayName=f5.displayName;class XJ{constructor(){pt(this,"metrics",[]);pt(this,"components",[])}recordMetric(t){this.metrics.push(t)}addComponentMetric(t){this.components.push(t)}getPerformanceSummary(){const t={};return this.metrics.forEach(r=>{t[r.name]=(t[r.name]||0)+r.value}),{summary:t,totalMetrics:this.metrics.length,components:[...this.components]}}generateReport(){const t={averages:{},totals:{},counts:{},percentiles:{}};this.metrics.forEach(a=>{t.totals[a.name]=(t.totals[a.name]||0)+a.value,t.counts[a.name]=(t.counts[a.name]||0)+1}),Object.keys(t.totals).forEach(a=>{const s=t.totals[a],o=t.counts[a];t.averages[a]=o>0?s/o:0});const r=this.generateAlerts(t),n=this.generateRecommendations(r);return{timestamp:Date.now(),summary:t,components:[...this.components],alerts:r,recommendations:n}}generateAlerts(t){const r=[],n=this.components.filter(s=>s.renderTime>16);n.length>0&&r.push({severity:"medium",message:`${n.length} components are rendering slowly`,metric:"component-render-time",value:n.length,threshold:1});const a=t.totals["long-task"]||0;return a>50&&r.push({severity:"high",message:"Detected blocking long tasks that may cause UI freezing",metric:"long-task",value:a,threshold:50}),r}generateRecommendations(t){const r=[];return t.some(n=>n.metric==="component-render-time")&&r.push("Consider using React.memo, useMemo, or useCallback for expensive computations"),t.some(n=>n.metric==="long-task")&&r.push("Consider breaking down long-running operations using time slicing or web workers"),r}clearMetrics(){this.metrics=[],this.components=[]}}const Ru=new XJ;class JJ{constructor(){pt(this,"thresholds",{componentRenderTime:16,memoryUsage:50*1024*1024,loadTime:3e3,firstPaint:1e3})}generateReport(t,r){const n=this.generateAlerts(t,r),a=this.generateRecommendations(n);return{timestamp:Date.now(),summary:t,components:r,alerts:n,recommendations:a}}generateAlerts(t,r){const n=[];t.averages.memoryUsage&&t.averages.memoryUsage>this.thresholds.memoryUsage&&n.push({severity:t.averages.memoryUsage>this.thresholds.memoryUsage*2?"critical":"high",message:"High memory usage detected",metric:"memory",value:t.averages.memoryUsage,threshold:this.thresholds.memoryUsage}),t.averages.loadTime&&t.averages.loadTime>this.thresholds.loadTime&&n.push({severity:t.averages.loadTime>this.thresholds.loadTime*2?"critical":"medium",message:"Slow page load time",metric:"load-time",value:t.averages.loadTime,threshold:this.thresholds.loadTime});const a=r.filter(s=>s.renderTime>this.thresholds.componentRenderTime);return a.length>0&&n.push({severity:a.length>5?"high":"medium",message:`${a.length} components are rendering slowly`,metric:"component-render-time",value:a.length,threshold:1}),n}generateRecommendations(t){const r=[];return t.some(n=>n.metric==="memory")&&(r.push("Consider implementing component cleanup and memory optimization"),r.push("Review large object allocations and implement proper garbage collection")),t.some(n=>n.metric==="load-time")&&(r.push("Implement code splitting to reduce initial bundle size"),r.push("Optimize asset loading with lazy loading and compression")),t.some(n=>n.metric==="component-render-time")&&(r.push("Consider using React.memo, useMemo, or useCallback for expensive computations"),r.push("Review component dependencies and optimize render cycles")),r}exportReport(t){return JSON.stringify(t,null,2)}calculateScore(t){let r=100;return t.alerts.forEach(n=>{switch(n.severity){case"critical":r-=25;break;case"high":r-=15;break;case"medium":r-=10;break;case"low":r-=5;break}}),Math.max(0,r)}}const ZP=new JJ,em=(e,t)=>`${e.toFixed(1)}ms`,Mu={FIRST_PAINT:1e3,TOTAL_LOAD:3e3,LONG_TASK:50,RENDER_TIME:16,MEMORY_LIMIT:50*1024*1024};class ZJ{constructor(){pt(this,"cache",new Map);pt(this,"stats",{hits:0,misses:0,totalRequests:0})}getStats(){return{cacheSize:this.cache.size,cacheHitRate:this.stats.totalRequests>0?this.stats.hits/this.stats.totalRequests*100:0,totalInvitations:this.stats.totalRequests}}clear(){this.cache.clear(),this.stats={hits:0,misses:0,totalRequests:0}}}const eZ=new ZJ,tZ=()=>St({queryKey:["invitation-performance-stats"],queryFn:()=>eZ.getStats(),refetchInterval:5e3}),rZ=()=>{var h;const[e,t]=y.useState(Ru.getPerformanceSummary()),[r,n]=y.useState(null),[a,s]=y.useState(!1),{data:o,refetch:l}=tZ();y.useEffect(()=>{const m=setInterval(()=>{t(Ru.getPerformanceSummary())},2e3);return()=>clearInterval(m)},[]);const c=async()=>{s(!0);try{const m=Ru.generateReport();n(m)}catch(m){console.error("Failed to generate performance report:",m)}finally{s(!1)}},u=()=>{if(!r)return;const m=ZP.exportReport(r),g=new Blob([m],{type:"application/json"}),p=URL.createObjectURL(g),v=document.createElement("a");v.href=p,v.download=`performance-report-${new Date().toISOString()}.json`,v.click(),URL.revokeObjectURL(p)},d=(m,g)=>m<g*.5?i.jsx(ke,{className:"bg-green-100 text-green-800",children:"Excellent"}):m<g?i.jsx(ke,{className:"bg-yellow-100 text-yellow-800",children:"Good"}):i.jsx(ke,{className:"bg-red-100 text-red-800",children:"Needs Attention"}),f=r?ZP.calculateScore(r):0;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"System Performance Console"}),i.jsx("p",{className:"text-muted-foreground",children:"Comprehensive performance monitoring and optimization tools"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{t(Ru.getPerformanceSummary()),l()},children:[i.jsx(lb,{className:"h-4 w-4 mr-2"}),"Refresh"]}),i.jsxs(ee,{variant:"outline",size:"sm",onClick:c,disabled:a,children:[i.jsx(sr,{className:"h-4 w-4 mr-2"}),a?"Generating...":"Generate Report"]}),r&&i.jsxs(ee,{variant:"outline",size:"sm",onClick:u,children:[i.jsx(c9,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),r&&i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center",children:[i.jsx(Ct,{className:"h-5 w-5 mr-2"}),"Performance Score"]})}),i.jsxs(K,{children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"text-4xl font-bold",children:[f,i.jsx("span",{className:"text-xl text-muted-foreground",children:"/100"})]}),i.jsx(wn,{value:f,className:"flex-1"}),i.jsxs("div",{children:[f>=90&&i.jsx(ke,{className:"bg-green-100 text-green-800",children:"Excellent"}),f>=70&&f<90&&i.jsx(ke,{className:"bg-yellow-100 text-yellow-800",children:"Good"}),f<70&&i.jsx(ke,{className:"bg-red-100 text-red-800",children:"Needs Improvement"})]})]}),r.alerts.length>0&&i.jsx("div",{className:"mt-4 space-y-2",children:r.alerts.slice(0,3).map((m,g)=>i.jsxs(ir,{variant:m.severity==="critical"?"destructive":"default",children:[i.jsx(xa,{className:"h-4 w-4"}),i.jsx(or,{children:m.message})]},g))})]})]}),i.jsxs(Sa,{defaultValue:"overview",className:"space-y-4",children:[i.jsxs(ea,{className:"grid w-full grid-cols-5",children:[i.jsx(Ue,{value:"overview",children:"Overview"}),i.jsx(Ue,{value:"components",children:"Components"}),i.jsx(Ue,{value:"invitations",children:"Invitations"}),i.jsx(Ue,{value:"system",children:"System"}),i.jsx(Ue,{value:"reports",children:"Reports"})]}),i.jsx(Be,{value:"overview",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(H,{children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-sm font-medium",children:"First Paint"}),i.jsx(hp,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(K,{children:[i.jsx("div",{className:"text-2xl font-bold",children:em(e.summary["first-paint"]||0)}),d(e.summary["first-paint"]||0,Mu.FIRST_PAINT)]})]}),i.jsxs(H,{children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-sm font-medium",children:"Total Load Time"}),i.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(K,{children:[i.jsx("div",{className:"text-2xl font-bold",children:em(e.summary["total-load"]||0)}),d(e.summary["total-load"]||0,Mu.TOTAL_LOAD)]})]}),i.jsxs(H,{children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-sm font-medium",children:"Long Tasks"}),i.jsx(xa,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(K,{children:[i.jsx("div",{className:"text-2xl font-bold",children:em(e.summary["long-task"]||0)}),d(e.summary["long-task"]||0,Mu.LONG_TASK)]})]}),i.jsxs(H,{children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-sm font-medium",children:"Components"}),i.jsx(VE,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(K,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.components.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracked components"})]})]})]})}),i.jsx(Be,{value:"components",className:"space-y-4",children:i.jsxs(H,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Component Performance"}),i.jsx(Gn,{children:"Render times and optimization opportunities for React components"})]}),i.jsx(K,{children:i.jsxs("div",{className:"space-y-4",children:[e.components.map(m=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:m.componentName}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ke,{variant:m.renderTime>Mu.RENDER_TIME?"destructive":"secondary",children:em(m.renderTime)}),i.jsxs(ke,{variant:"outline",children:[m.rerenderCount," renders"]})]})]}),i.jsx(wn,{value:Math.min(m.renderTime/32*100,100),className:"h-2"}),m.renderTime>Mu.RENDER_TIME&&i.jsx("p",{className:"text-xs text-orange-600",children:"Consider optimization - render time exceeds 16ms threshold"})]},m.componentName)),e.components.length===0&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(VE,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No component performance data available yet."}),i.jsx("p",{className:"text-sm",children:"Component tracking will appear as the application is used."})]})]})})]})}),i.jsx(Be,{value:"invitations",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(H,{children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-sm font-medium",children:"Cache Size"}),i.jsx(l9,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(K,{children:[i.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.cacheSize)||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Cached entries"})]})]}),i.jsxs(H,{children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-sm font-medium",children:"Cache Hit Rate"}),i.jsx(Ct,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(K,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[((h=o==null?void 0:o.cacheHitRate)==null?void 0:h.toFixed(1))||0,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Cache efficiency"})]})]}),i.jsxs(H,{children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-sm font-medium",children:"Total Processed"}),i.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(K,{children:[i.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.totalInvitations)||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Invitations processed"})]})]})]})}),i.jsx(Be,{value:"system",className:"space-y-4",children:i.jsxs(H,{children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center",children:[i.jsx(po,{className:"h-5 w-5 mr-2"}),"System Performance Settings"]}),i.jsx(Gn,{children:"Configure performance monitoring and optimization settings"})]}),i.jsxs(K,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(ee,{onClick:()=>Ru.clearMetrics(),variant:"outline",children:"Clear Performance Data"}),i.jsx(ee,{onClick:()=>{window.gc&&window.gc()},variant:"outline",children:"Force Memory Cleanup"})]}),i.jsxs(ir,{children:[i.jsx(WE,{className:"h-4 w-4"}),i.jsx(or,{children:"Performance monitoring is active and collecting data in real-time. Data is automatically cleaned up to prevent memory issues."})]})]})]})}),i.jsx(Be,{value:"reports",className:"space-y-4",children:r?i.jsx("div",{className:"space-y-4",children:i.jsxs(H,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Performance Report Summary"}),i.jsxs(Gn,{children:["Generated on ",new Date(r.timestamp).toLocaleString()]})]}),i.jsx(K,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-2",children:["Alerts (",r.alerts.length,")"]}),i.jsx("div",{className:"space-y-1",children:r.alerts.slice(0,5).map((m,g)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ke,{variant:m.severity==="critical"||m.severity==="high"?"destructive":m.severity==="medium"?"secondary":"outline",children:m.severity}),i.jsx("span",{className:"text-sm",children:m.message})]},g))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),i.jsx("ul",{className:"text-sm space-y-1",children:r.recommendations.slice(0,5).map((m,g)=>i.jsxs("li",{className:"flex items-start space-x-2",children:[i.jsx(WE,{className:"h-3 w-3 mt-0.5 text-green-600"}),i.jsx("span",{children:m})]},g))})]})]})})]})}):i.jsx(H,{children:i.jsxs(K,{className:"text-center py-8",children:[i.jsx(sr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"No performance report generated yet."}),i.jsxs(ee,{onClick:c,disabled:a,children:[i.jsx(sr,{className:"h-4 w-4 mr-2"}),"Generate Performance Report"]})]})})})]})]})},nZ=()=>i.jsx(rZ,{});class bl{static async getUserRole(t,r){const n=`${t}-${r}`,a=this.roleCache.get(n);if(a&&Date.now()-a.timestamp<this.CACHE_TTL)return a.role;try{const{data:s,error:o}=await G.from("organization_users").select("enhanced_role").eq("user_id",t).eq("organization_id",r).single();if(o||!s)return null;const l=s.enhanced_role;return this.roleCache.set(n,{role:l,timestamp:Date.now()}),l}catch(s){return console.error("Error fetching user role:",s),null}}static async checkPermission(t,r,n){if(t.isAdmin)return{allowed:!0,reason:"System admin access"};let a=t.userRole;if(!a&&(a=await this.getUserRole(t.userId,t.organizationId),!a))return{allowed:!1,reason:"User role not found"};if(!g_(a,r))return{allowed:!1,reason:`Role '${a}' lacks permission '${r}'`,requiredRole:this.getMinimumRoleForPermission(r)};if(r==="manage_users"&&n){const o=await this.getUserRole(n,t.organizationId);if(o&&!p_(a,o))return{allowed:!1,reason:`Cannot manage user with role '${o}'`,requiredRole:o}}return{allowed:!0}}static async requirePermission(t,r,n){const a=await this.checkPermission(t,r,n);if(!a.allowed)throw new aZ(a.reason||"Access denied",a.requiredRole)}static getMinimumRoleForPermission(t){return{view_analytics:"viewer",export_data:"analyst",manage_questions:"analyst",manage_users:"manager",manage_integrations:"admin",manage_organization:"admin",manage_billing:"owner"}[t]||"admin"}static clearCache(t,r){t&&r?this.roleCache.delete(`${t}-${r}`):this.roleCache.clear()}}pt(bl,"roleCache",new Map),pt(bl,"CACHE_TTL",5*60*1e3);class aZ extends Error{constructor(t,r){super(t),this.requiredRole=r,this.name="RBACError"}}const W_=e=>{const{user:t,isAdmin:r}=Zn(),n=y.useMemo(()=>!(t!=null&&t.id)||!e?null:{userId:t.id,organizationId:e,isAdmin:r},[t==null?void 0:t.id,e,r]),{data:a,isLoading:s,error:o}=St({queryKey:["user-role-rbac",t==null?void 0:t.id,e],queryFn:async()=>{if(!n)return null;try{const f=await bl.getUserRole(n.userId,n.organizationId);return console.log("User role fetched:",f,"for user:",n.userId),f}catch(f){return console.error("Error fetching user role:",f),null}},enabled:!!n,staleTime:5*60*1e3,retry:3}),l=y.useCallback(async(f,h)=>n?bl.checkPermission({...n,userRole:a||void 0},f,h):{allowed:!1,reason:"No valid context"},[n,a]),c=y.useCallback(async(f,h)=>{if(!n)throw new Error("No valid RBAC context");return bl.requirePermission({...n,userRole:a||void 0},f,h)},[n,a]),u=y.useCallback(f=>{if(!n||!a)return console.log("Permission check failed: no context or role",{context:!!n,userRole:a}),!1;if(r)return console.log("Permission granted: system admin"),!0;const h=g_(a,f);return console.log("Permission check:",{permission:f,userRole:a,allowed:h}),h},[n,a,r]),d=y.useCallback(async f=>{if(!n||!a)return!1;if(r)return!0;try{const h=await bl.getUserRole(f,n.organizationId);return h?p_(a,h):!1}catch(h){return console.error("Error checking user management permission:",h),!1}},[n,a,r]);return{userRole:a,isLoading:s,error:o,checkPermission:l,requirePermission:c,hasPermission:u,canManageUser:d,isAdmin:r||!1}},h5=({organizationId:e,organizationName:t})=>{const{membersLoading:r,handleUpdateRole:n,activeMembers:a,pendingInvitations:s,invitationsLoading:o,pendingInvitationsCount:l,handleCancelInvitation:c}=SJ(e),u=_J(),{hasPermission:d,userRole:f,isLoading:h}=W_(e),m=v=>{if(!d("manage_users")){console.warn("User attempted to remove member without permission");return}u.mutate({userId:v,organizationId:e})},g=(v,b)=>{if(!d("manage_users")){console.warn("User attempted to update role without permission");return}n(v,b)};if(h||r)return i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading user management..."})]})});if(!d("manage_users"))return i.jsxs(ir,{variant:"destructive",children:[i.jsx(xa,{className:"h-4 w-4"}),i.jsx(or,{children:"You don't have permission to manage users. Contact your organization administrator for access."})]});const p=a.filter(v=>{const b=v.enhanced_role||v.role;return["admin","owner"].includes(b||"")}).length;return console.log("UserManagement rendered with:",{userRole:f,hasManageUsersPermission:d("manage_users"),activeMembersCount:a.length,pendingInvitationsCount:l}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(NJ,{organizationName:t}),i.jsx(LJ,{organizationId:e})]}),i.jsx(EJ,{activeMembersCount:a.length,adminsCount:p,pendingInvitationsCount:l}),i.jsxs(Sa,{defaultValue:"members",className:"w-full",children:[i.jsxs(ea,{children:[i.jsxs(Ue,{value:"members",children:["Active Members (",a.length,")"]}),i.jsxs(Ue,{value:"invitations",children:["Pending Invitations (",l,")"]}),i.jsx(Ue,{value:"performance",children:"Performance"})]}),i.jsx(Be,{value:"members",children:i.jsx(gJ,{members:a,loading:r,organizationId:e,onUpdateRole:g,onRemoveMember:m})}),i.jsx(Be,{value:"invitations",children:i.jsx(UJ,{invitations:s,loading:o,onCancelInvitation:c})}),i.jsx(Be,{value:"performance",children:i.jsx(nZ,{})})]})]})},sZ=async e=>{try{const{data:t,error:r}=await G.from("organization_assets").select("*").eq("organization_id",e).eq("is_active",!0).order("display_order").order("created_at");return r?(console.error("Error fetching organization assets:",r),[]):t||[]}catch(t){return console.error("Error fetching organization assets:",t),[]}},iZ=async e=>{try{const{data:t,error:r}=await G.from("organization_themes").select("*").eq("organization_id",e).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();return r?(console.error("Error fetching organization theme:",r),null):t}catch(t){return console.error("Error fetching organization theme:",t),null}},oZ=({open:e,onClose:t,organization:r,onSave:n})=>{const[a,s]=y.useState("basic"),[o,l]=y.useState({name:r.name||"",slug:r.slug||"",domain:r.domain||"",logo_url:r.logo_url||"",primary_color:r.primary_color||"#007ACE",secondary_color:r.secondary_color||"#073763",billing_email:r.billing_email||"",max_responses:r.max_responses||100,plan_type:r.plan_type||"starter",trial_ends_at:r.trial_ends_at?r.trial_ends_at.substring(0,16):"",features_config:r.features_config?JSON.stringify(r.features_config,null,2):""}),[c,u]=y.useState(!1),{toast:d}=cn();function f(m,g){l(p=>({...p,[m]:g}))}async function h(m){m.preventDefault(),u(!0);let g;try{o.features_config.trim()&&(g=JSON.parse(o.features_config))}catch{d({title:"Invalid JSON in Features Config",variant:"destructive"}),u(!1);return}const p={name:o.name,slug:o.slug,domain:o.domain,logo_url:o.logo_url,primary_color:o.primary_color,secondary_color:o.secondary_color,billing_email:o.billing_email,max_responses:Number(o.max_responses),plan_type:o.plan_type,trial_ends_at:o.trial_ends_at?new Date(o.trial_ends_at).toISOString():void 0,features_config:g},v=await yI(r.id,p);u(!1),v?(d({title:"Organization updated!"}),n(v),t()):d({title:"Failed to update organization",variant:"destructive"})}return i.jsx(Xc,{open:e,onOpenChange:m=>!m&&t(),children:i.jsxs($o,{className:"max-w-xl",children:[i.jsx(Io,{children:i.jsx(Do,{children:"Edit Organization"})}),i.jsxs(Sa,{value:a,onValueChange:s,className:"mt-2",children:[i.jsxs(ea,{className:"w-full grid grid-cols-3 mb-4",children:[i.jsx(Ue,{value:"basic",children:"Basic Info"}),i.jsx(Ue,{value:"plan",children:"Plan & Limits"}),i.jsx(Ue,{value:"features",children:"Features"})]}),i.jsxs("form",{onSubmit:h,children:[i.jsxs(Be,{value:"basic",className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(ae,{children:"Name"}),i.jsx(he,{value:o.name,onChange:m=>f("name",m.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Slug"}),i.jsx(he,{value:o.slug,onChange:m=>f("slug",m.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Domain"}),i.jsx(he,{value:o.domain,onChange:m=>f("domain",m.target.value)})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Logo URL"}),i.jsx(he,{value:o.logo_url,onChange:m=>f("logo_url",m.target.value)})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{children:[i.jsx(ae,{children:"Primary Color"}),i.jsx(he,{type:"color",value:o.primary_color,onChange:m=>f("primary_color",m.target.value)})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Secondary Color"}),i.jsx(he,{type:"color",value:o.secondary_color,onChange:m=>f("secondary_color",m.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Billing Email"}),i.jsx(he,{value:o.billing_email,onChange:m=>f("billing_email",m.target.value),type:"email"})]})]}),i.jsxs(Be,{value:"plan",className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(ae,{children:"Plan Type"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2",value:o.plan_type,onChange:m=>f("plan_type",m.target.value),children:[i.jsx("option",{value:"starter",children:"Starter"}),i.jsx("option",{value:"pro",children:"Pro"}),i.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Trial Ends At"}),i.jsx(he,{type:"datetime-local",value:o.trial_ends_at,onChange:m=>f("trial_ends_at",m.target.value)})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Max Responses"}),i.jsx(he,{type:"number",value:o.max_responses,min:1,onChange:m=>f("max_responses",m.target.value)})]})]}),i.jsx(Be,{value:"features",className:"space-y-3",children:i.jsxs("div",{children:[i.jsx(ae,{children:"Features Config Override (JSON)"}),i.jsx("textarea",{className:"w-full font-mono border rounded min-h-[120px] p-2 text-xs",value:o.features_config,onChange:m=>f("features_config",m.target.value),placeholder:'{ "analytics": true, "modules": {"settings": false} }'}),i.jsx("p",{className:"text-xs text-gray-500",children:"Advanced: Override default plan features."})]})}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(ee,{type:"button",variant:"outline",onClick:t,disabled:c,children:"Cancel"}),i.jsx(ee,{type:"submit",disabled:c,children:c?"Saving...":"Save Changes"})]})]})]})]})})},lZ=({org:e,onToggleActive:t,onUpdatePlan:r})=>{const[n,a]=y.useState(!1),[s,o]=y.useState(!1),[l,c]=y.useState(e);return i.jsxs(i.Fragment,{children:[i.jsx(H,{className:`transition-all ${l.is_active?"border-green-200":"border-red-200 opacity-75"}`,children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold",children:l.name}),i.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold ${l.is_active?"bg-green-100 text-green-800":"bg-gray-200 text-gray-600"}`,children:l.is_active?"Active":"Inactive"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(up,{className:"w-4 h-4"}),i.jsxs("span",{children:["Slug: ",l.slug]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(eM,{className:"w-4 h-4"}),i.jsxs("span",{children:["Created: ",new Date(l.created_at).toLocaleDateString()]})]}),l.domain&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(up,{className:"w-4 h-4"}),i.jsxs("span",{children:["Domain: ",l.domain]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsxs("span",{children:["Max Responses: ",l.max_responses||100]})]})]})]})]}),i.jsx("div",{className:"flex flex-col space-y-2",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ee,{variant:l.is_active?"destructive":"default",size:"sm",onClick:()=>t(l.id,l.is_active),children:l.is_active?"Deactivate":"Activate"}),i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>o(!0),children:"Edit"}),i.jsxs(Xc,{open:n,onOpenChange:a,children:[i.jsx(KI,{asChild:!0,children:i.jsxs(ee,{variant:"outline",size:"sm",children:[i.jsx(Rj,{className:"w-4 h-4 mr-1"}),"Users"]})}),i.jsxs($o,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Io,{children:i.jsxs(Do,{children:["User Management - ",l.name]})}),i.jsx(h5,{organizationId:l.id,organizationName:l.name})]})]})]})})]}),!1]})}),s&&i.jsx(oZ,{open:s,onClose:()=>o(!1),organization:l,onSave:d=>c(d)})]})},cZ=({organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Organizations"}),i.jsx("p",{className:"text-gray-600",children:"Manage all organizations in the system"})]}),i.jsxs(ee,{onClick:t,children:[i.jsx(si,{className:"w-4 h-4 mr-2"}),"Add Organization"]})]}),i.jsx(JQ,{organizations:e}),i.jsx("div",{className:"grid gap-4",children:e==null?void 0:e.map(a=>i.jsx(lZ,{org:a,onToggleActive:r,onUpdatePlan:n},a.id))})]}),uZ=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(!1),[a,s]=y.useState(!1),[o,l]=y.useState(!0);y.useEffect(()=>{c()},[]);const c=async()=>{try{console.log("Loading Flask wrapper URL...");const{data:f,error:h}=await G.from("system_settings").select("setting_value").eq("setting_key","flask_sms_wrapper_base_url").single();if(h&&h.code!=="PGRST116"){console.error("Error loading Flask URL:",h),Ce({title:"Error",description:"Failed to load Flask wrapper URL",variant:"destructive"});return}console.log("Flask URL loaded:",f==null?void 0:f.setting_value),t((f==null?void 0:f.setting_value)||"")}catch(f){console.error("Error loading Flask URL:",f)}finally{l(!1)}},u=async()=>{n(!0);try{console.log("Saving Flask wrapper URL:",e);const{error:f}=await G.from("system_settings").upsert({setting_key:"flask_sms_wrapper_base_url",setting_value:e.trim(),description:"Base URL for the Flask SMS wrapper API"},{onConflict:"setting_key"});if(f)throw console.error("Error saving Flask URL:",f),f;console.log("Flask URL saved successfully"),Ce({title:"Success",description:"Flask wrapper URL saved successfully"})}catch(f){console.error("Error saving Flask URL:",f),Ce({title:"Error",description:`Failed to save Flask wrapper URL: ${f.message}`,variant:"destructive"})}finally{n(!1)}},d=async()=>{if(!e.trim()){Ce({title:"Error",description:"Please enter a Flask wrapper URL first",variant:"destructive"});return}s(!0);try{const f=e.trim().replace(/\/$/,"")+"/health";console.log("Testing Flask connection to:",f);const h=await fetch(f,{method:"GET",headers:{"Content-Type":"application/json"}});console.log("Flask test response:",h.status,h.statusText),h.ok?Ce({title:"Success",description:"Flask wrapper API is reachable"}):Ce({title:"Warning",description:`Flask wrapper returned status: ${h.status}`,variant:"destructive"})}catch(f){console.error("Error testing Flask connection:",f),Ce({title:"Error",description:"Failed to connect to Flask wrapper API. Check the URL and try again.",variant:"destructive"})}finally{s(!1)}};return o?i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(po,{className:"w-5 h-5"}),"Flask SMS Wrapper Settings"]})}),i.jsx(K,{children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),i.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"})]})})]}):i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(po,{className:"w-5 h-5"}),"Flask SMS Wrapper Settings"]})}),i.jsxs(K,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"flask-url",children:"Flask Wrapper Base URL"}),i.jsx(he,{id:"flask-url",type:"url",placeholder:"http://localhost:5000 or https://your-flask-api.com",value:e,onChange:f=>t(f.target.value)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"The base URL for your Flask SMS wrapper API (without trailing slash)"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ee,{onClick:u,disabled:r,className:"flex-1",children:[i.jsx(cv,{className:"w-4 h-4 mr-2"}),r?"Saving...":"Save URL"]}),i.jsxs(ee,{onClick:d,disabled:a||!e.trim(),variant:"outline",children:[i.jsx(A9,{className:"w-4 h-4 mr-2"}),a?"Testing...":"Test Connection"]})]}),e&&i.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-lg",children:[i.jsx("p",{className:"font-medium",children:"Expected endpoints:"}),i.jsxs("ul",{className:"mt-1 space-y-1",children:[i.jsxs("li",{children:[" POST ",e,"/send-sms - Send SMS messages"]}),i.jsxs("li",{children:[" GET ",e,"/health - Health check (optional)"]})]}),i.jsx("p",{className:"mt-2 font-medium",children:"Required headers:"}),i.jsxs("ul",{className:"mt-1 space-y-1",children:[i.jsx("li",{children:" Content-Type: application/json"}),i.jsx("li",{children:" X-Signature: HMAC-SHA256 signature for verification"})]})]})]})]})},dZ=({organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})=>i.jsxs(Sa,{defaultValue:"organizations",className:"w-full",children:[i.jsxs(ea,{className:"grid w-full grid-cols-4",children:[i.jsxs(Ue,{value:"organizations",className:"flex items-center gap-2",children:[i.jsx(up,{className:"w-4 h-4"}),"Organizations"]}),i.jsxs(Ue,{value:"users",className:"flex items-center gap-2",children:[i.jsx(Ot,{className:"w-4 h-4"}),"Users"]}),i.jsxs(Ue,{value:"system",className:"flex items-center gap-2",children:[i.jsx(po,{className:"w-4 h-4"}),"System Settings"]}),i.jsxs(Ue,{value:"integrations",className:"flex items-center gap-2",children:[i.jsx(rM,{className:"w-4 h-4"}),"API Settings"]})]}),i.jsx(Be,{value:"organizations",className:"mt-6",children:i.jsx(cZ,{organizations:e,onCreateClick:t,onToggleActive:r,onUpdatePlan:n})}),i.jsx(Be,{value:"users",className:"mt-6",children:i.jsx(XQ,{organizations:e})}),i.jsx(Be,{value:"system",className:"mt-6",children:i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"System Settings"}),i.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and integrations."})]})})}),i.jsx(Be,{value:"integrations",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"API Settings"}),i.jsx("p",{className:"text-muted-foreground",children:"Configure external API integrations and wrapper services."})]}),i.jsx(uZ,{})]})})]}),fZ=()=>{const[e,t]=y.useState(!1),r=Sr(),{data:n=[],isLoading:a}=St({queryKey:["organizations"],queryFn:HG}),s=bt({mutationFn:({id:u,updates:d})=>yI(u,d),onSuccess:()=>{r.invalidateQueries({queryKey:["organizations"]}),yr.success("Organization updated successfully")},onError:()=>{yr.error("Failed to update organization")}}),o=bt({mutationFn:u=>GG(u),onSuccess:()=>{r.invalidateQueries({queryKey:["organizations"]}),t(!1),yr.success("Organization created successfully")},onError:()=>{yr.error("Failed to create organization")}}),l=(u,d)=>{s.mutate({id:u,updates:{is_active:!d}})},c=(u,d)=>{s.mutate({id:u,updates:{plan_type:d}})};return a?i.jsx("div",{className:"p-8",children:"Loading admin dashboard..."}):i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Admin Dashboard"}),i.jsx("p",{className:"text-gray-600",children:"Manage organizations, view statistics, and configure system settings"})]}),i.jsx(dZ,{organizations:n,onCreateClick:()=>t(!0),onToggleActive:l,onUpdatePlan:c}),e&&i.jsx(YG,{onClose:()=>t(!1),onSubmit:u=>o.mutate(u)})]})})},hZ=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(!1),[a,s]=y.useState(""),[o,l]=y.useState(!1),c=Jn(),{toast:u}=cn(),{user:d,refreshUserRoles:f}=Zn();return y.useEffect(()=>{(async()=>{if(!d){s("You must be logged in to create an organization");return}n(!0),s("");try{console.log("Creating organization for user:",d.email);const m=d.email?`${d.email.split("@")[0][0].toUpperCase()}${d.email.split("@")[0].slice(1)}'s Organization`:"My Organization";t(m);let g=m.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim().substring(0,50),p=g,v=1,{data:b}=await G.from("organizations").select("slug").eq("slug",p).single();for(;b;)if(p=`${g}-${v}`,{data:b}=await G.from("organizations").select("slug").eq("slug",p).single(),v++,v>100)throw new Error("Unable to generate unique slug");console.log("Creating organization with slug:",p);const{data:x,error:w}=await G.from("organizations").insert({name:m,slug:p,created_by_user_id:d.id,is_active:!0,billing_email:d.email,plan_type:"starter"}).select().single();if(w)throw w;console.log("Organization created:",x.id);const{error:j}=await G.from("organization_users").insert({user_id:d.id,organization_id:x.id,email:d.email,role:"admin",status:"active",accepted_at:new Date().toISOString()});if(j)throw j;console.log("User added to organization as admin"),l(!0),u({title:"Organization Created!",description:`Welcome to ${m}. Redirecting to your dashboard...`}),await f(),setTimeout(()=>{console.log("Redirecting to organization dashboard:",p),c(`/admin/${p}`)},2e3)}catch(m){console.error("Error creating organization:",m),s(m.message||"Failed to create organization")}finally{n(!1)}})()},[d]),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs(H,{className:"shadow-lg",children:[i.jsxs(se,{className:"text-center",children:[i.jsx("div",{className:"mx-auto bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center text-blue-600 mb-4",children:i.jsx(sr,{className:"h-8 w-8"})}),i.jsx(ie,{className:"text-2xl font-bold",children:o?"You're all set!":"Creating Your Organization"}),i.jsx("p",{className:"text-gray-600",children:o?"Welcome to your dashboard.":"Please wait while we set up your organization..."})]}),i.jsxs(K,{children:[a&&i.jsx(ir,{children:i.jsx(or,{children:a})}),!o&&i.jsx("div",{className:"flex justify-center mt-6",children:i.jsx(ee,{variant:"ghost",disabled:!0,className:"pointer-events-none select-none",children:r?"Creating organization...":"Preparing..."})})]})]})})})},qi=class qi{constructor(){pt(this,"services",new Map);pt(this,"singletonInstances",new Map)}static getInstance(){return qi.instance||(qi.instance=new qi),qi.instance}register(t,r,n=!1){this.services.set(t,{factory:r,singleton:n})}registerInstance(t,r){this.services.set(t,{instance:r})}resolve(t){const r=this.services.get(t);if(!r)throw new Error(`Service not registered: ${String(t)}`);if(r.instance)return r.instance;if(r.singleton){const n=this.singletonInstances.get(t);if(n)return n;if(r.factory){const a=r.factory();return this.singletonInstances.set(t,a),a}}if(r.factory)return r.factory();throw new Error(`Unable to resolve service: ${String(t)}`)}isRegistered(t){return this.services.has(t)}clear(){this.services.clear(),this.singletonInstances.clear()}};pt(qi,"instance");let Zb=qi;const tm=Zb.getInstance(),rm={ANALYTICS_SERVICE:Symbol("AnalyticsService"),PERFORMANCE_SERVICE:Symbol("PerformanceService"),NOTIFICATION_SERVICE:Symbol("NotificationService"),USER_SERVICE:Symbol("UserService"),ORGANIZATION_SERVICE:Symbol("OrganizationService"),FEEDBACK_SERVICE:Symbol("FeedbackService"),CACHE_SERVICE:Symbol("CacheService"),LOGGER_SERVICE:Symbol("LoggerService"),VALIDATION_SERVICE:Symbol("ValidationService")};class mZ{constructor(){pt(this,"cache",new Map);pt(this,"CACHE_TTL",5*60*1e3)}async getAnalytics(t){const r=this.cache.get(t);if(r&&Date.now()-r.timestamp<this.CACHE_TTL)return r.data;try{const{data:n}=await G.rpc("get_organization_stats_enhanced",{org_id:t});if(!n)throw new Error("No analytics data available");const a=n,s={organizationId:t,metrics:{totalSessions:a.total_sessions||0,completedSessions:a.completed_sessions||0,averageScore:a.avg_session_score||0,completionRate:a.completed_sessions&&a.total_sessions?a.completed_sessions/a.total_sessions*100:0,responseTime:await this.calculateAverageResponseTime(t)},trends:await this.getTrendData(t),insights:await this.generateInsights(t)};return this.cache.set(t,{data:s,timestamp:Date.now()}),s}catch(n){throw console.error("Error fetching analytics:",n),new Error("Failed to fetch analytics data")}}async getRealTimeMetrics(t){const{data:r}=await G.rpc("get_organization_stats",{org_id:t});if(!r)throw new Error("No metrics data available");const n=r;return{totalSessions:n.total_sessions||0,completedSessions:n.completed_sessions||0,averageScore:n.avg_session_score||0,completionRate:n.completed_sessions&&n.total_sessions?n.completed_sessions/n.total_sessions*100:0,responseTime:await this.calculateAverageResponseTime(t)}}async trackInteraction(t,r){console.log("Tracking interaction:",t,r)}async generateInsights(t){const r=[];try{const n=await this.getRealTimeMetrics(t);n.completionRate>80?r.push("Excellent completion rate - users are highly engaged"):n.completionRate<50&&r.push("Low completion rate - consider reviewing form length or question clarity"),n.averageScore>80?r.push("High satisfaction scores indicate strong performance"):n.averageScore<60&&r.push("Lower satisfaction scores suggest areas for improvement"),n.responseTime>300&&r.push("Response times are high - consider optimizing form performance")}catch(n){console.error("Error generating insights:",n)}return r}async calculateAverageResponseTime(t){const{data:r}=await G.from("feedback_responses").select("response_time_ms").eq("organization_id",t).not("response_time_ms","is",null).limit(100).order("created_at",{ascending:!1});if(!r||r.length===0)return 0;const n=r.map(a=>a.response_time_ms).filter(a=>a!==null);return n.length>0?Math.round(n.reduce((a,s)=>a+s,0)/n.length/1e3):0}async getTrendData(t){const{data:r}=await G.from("feedback_sessions").select("created_at, total_score").eq("organization_id",t).gte("created_at",new Date(Date.now()-2592e6).toISOString()).order("created_at",{ascending:!0});if(!r)return[];const n=r.reduce((a,s)=>{const o=new Date(s.created_at).toISOString().split("T")[0];return a[o]||(a[o]={sessions:0,totalScore:0,count:0}),a[o].sessions++,s.total_score&&(a[o].totalScore+=s.total_score,a[o].count++),a},{});return Object.entries(n).map(([a,s])=>({date:a,sessions:s.sessions,score:s.count>0?Math.round(s.totalScore/s.count):0}))}}class pZ{constructor(){pt(this,"metrics",[]);pt(this,"componentMetrics",new Map);pt(this,"measurements",new Map);pt(this,"MAX_METRICS",1e3)}trackComponentRender(t,r){const n=this.componentMetrics.get(t);n?(n.renderCount++,n.renderTime=(n.renderTime+r)/2,n.lastRender=Date.now()):this.componentMetrics.set(t,{componentName:t,renderTime:r,renderCount:1,lastRender:Date.now()}),this.addMetric({name:`component.${t}.render`,value:r,unit:"ms",timestamp:Date.now()})}getMetrics(){return[...this.metrics].sort((t,r)=>r.timestamp-t.timestamp)}getComponentMetrics(){return Array.from(this.componentMetrics.values()).sort((t,r)=>r.lastRender-t.lastRender)}clearMetrics(){this.metrics=[],this.componentMetrics.clear(),this.measurements.clear()}startMeasurement(t){this.measurements.set(t,performance.now())}endMeasurement(t){const r=this.measurements.get(t);if(!r)return console.warn(`No measurement started for: ${t}`),0;const n=performance.now()-r;return this.measurements.delete(t),this.addMetric({name:t,value:n,unit:"ms",timestamp:Date.now()}),n}addMetric(t){this.metrics.push(t),this.metrics.length>this.MAX_METRICS&&(this.metrics=this.metrics.slice(-Math.floor(this.MAX_METRICS*.8)))}}class gZ{async sendNotification(t){var n,a;const{error:r}=await G.from("notifications").insert({type:t.type,title:t.title,message:t.message,metadata:t.metadata?JSON.parse(JSON.stringify(t.metadata)):null,organization_id:(n=t.metadata)==null?void 0:n.organizationId,user_id:((a=t.metadata)==null?void 0:a.userId)||null});if(r)throw console.error("Error sending notification:",r),new Error("Failed to send notification")}async getNotifications(t){const{data:r,error:n}=await G.from("notifications").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(50);if(n)throw console.error("Error fetching notifications:",n),new Error("Failed to fetch notifications");return(r||[]).map(a=>({id:a.id,type:a.type,title:a.title,message:a.message,timestamp:new Date(a.created_at).getTime(),read:a.is_read,metadata:a.metadata||{}}))}async markAsRead(t){const{error:r}=await G.from("notifications").update({is_read:!0}).eq("id",t);if(r)throw console.error("Error marking notification as read:",r),new Error("Failed to mark notification as read")}async getPreferences(t){return{emailNotifications:!0,browserNotifications:!0,feedbackAlerts:!0,systemUpdates:!0}}async updatePreferences(t,r){console.log("Updating preferences for user:",t,r)}}class vZ{async getUsers(t,r,n){try{let a=G.from("organization_users").select("*",{count:"exact"});t.organizationId&&(a=a.eq("organization_id",t.organizationId)),t.role&&(a=a.eq("role",t.role)),t.isActive!==void 0&&(a=a.eq("status",t.isActive?"active":"inactive")),t.search&&(a=a.ilike("email",`%${t.search}%`));const s=r*n,o=s+n-1;a=a.range(s,o);const{data:l,error:c,count:u}=await a;if(c)throw new Error(c.message);return{users:(l||[]).map(f=>({id:f.user_id,email:f.email,role:f.role,organizationId:f.organization_id,isActive:f.status==="active",createdAt:f.created_at,updatedAt:f.updated_at})),total:u||0,page:r,limit:n,hasMore:(u||0)>(r+1)*n}}catch(a){throw yt.error("Failed to get users",{filters:t,page:r,limit:n,error:a}),$a(a,"Failed to retrieve users")}}async getUserById(t){try{const{data:r,error:n}=await G.from("organization_users").select("*").eq("user_id",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return{id:r.user_id,email:r.email,role:r.role,organizationId:r.organization_id,isActive:r.status==="active",createdAt:r.created_at,updatedAt:r.updated_at}}catch(r){throw yt.error("Failed to get user by ID",{userId:t,error:r}),$a(r,"Failed to retrieve user")}}async getUser(t){return this.getUserById(t)}async updateUser(t,r){try{const{data:n,error:a}=await G.from("organization_users").update({email:r.email,role:r.role,status:r.isActive?"active":"inactive"}).eq("user_id",t).select().single();if(a)throw new Error(a.message);return{id:n.user_id,email:n.email,role:n.role,organizationId:n.organization_id,isActive:n.status==="active",createdAt:n.created_at,updatedAt:n.updated_at}}catch(n){throw yt.error("Failed to update user",{userId:t,updates:r,error:n}),$a(n,"Failed to update user")}}async inviteUser(t){var r;try{const n={email:t.email,organizationId:t.organizationId,role:t.role,invitedBy:t.invitedBy},a=Rp(n,{email:[vr.required("Email"),vr.email()],organizationId:[vr.required("Organization ID")],role:[vr.required("Role")],invitedBy:[vr.required("Invited By")]});if(!a.isValid)return{success:!1,error:((r=a.errors[0])==null?void 0:r.message)||"Validation failed"};const{data:s,error:o}=await G.rpc("invite_user_to_organization",{p_email:t.email,p_organization_id:t.organizationId,p_role:t.role});if(o)return{success:!1,error:o.message};const l=s;return l!=null&&l.success?{success:!0,invitationId:l.invitation_id}:{success:!1,error:(l==null?void 0:l.error)||"Invitation failed"}}catch(n){return yt.error("Failed to invite user",{params:t,error:n}),{success:!1,error:"Failed to invite user. Please try again."}}}async updateUserRole(t){var r;try{const n={userId:t.userId,role:t.role,updatedBy:t.updatedBy},a=Rp(n,{userId:[vr.required("User ID")],role:[vr.required("Role")],updatedBy:[vr.required("Updated By")]});if(!a.isValid)throw Bn(Ar.VALIDATION_ERROR,((r=a.errors[0])==null?void 0:r.message)||"Validation failed");const{error:s}=await G.from("organization_users").update({role:t.role}).eq("user_id",t.userId);if(s)throw new Error(s.message)}catch(n){throw yt.error("Failed to update user role",{params:t,error:n}),$a(n,"Failed to update user role")}}async deactivateUser(t,r){try{const{error:n}=await G.from("organization_users").update({status:"inactive"}).eq("user_id",t);if(n)throw new Error(n.message)}catch(n){throw yt.error("Failed to deactivate user",{userId:t,deactivatedBy:r,error:n}),$a(n,"Failed to deactivate user")}}async reactivateUser(t,r){try{const{error:n}=await G.from("organization_users").update({status:"active"}).eq("user_id",t);if(n)throw new Error(n.message)}catch(n){throw yt.error("Failed to reactivate user",{userId:t,reactivatedBy:r,error:n}),$a(n,"Failed to reactivate user")}}async getUsersByOrganization(t){return(await this.getUsers({organizationId:t},0,1e3)).users}async hasPermission(t,r){try{const n=await this.getUserById(t);if(!n)return!1;switch(r){case"manage_users":return["super_admin","org_admin"].includes(n.role);case"view_users":return["super_admin","org_admin","member"].includes(n.role);default:return!1}}catch(n){return yt.error("Failed to check user permission",{userId:t,permission:r,error:n}),!1}}}function yZ(){tm.register(rm.ANALYTICS_SERVICE,()=>new mZ,!0),tm.register(rm.PERFORMANCE_SERVICE,()=>new pZ,!0),tm.register(rm.NOTIFICATION_SERVICE,()=>new gZ,!0),tm.register(rm.USER_SERVICE,()=>new vZ,!0)}const V_=()=>{Jn();const[e,t]=y.useState(!0),[r,n]=y.useState(0),a=()=>{typeof window<"u"&&(window.scrollY>r&&window.scrollY>100?t(!1):t(!0),n(window.scrollY))};return y.useEffect(()=>{if(typeof window<"u")return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[r]),i.jsx("header",{className:`fixed top-0 w-full bg-transparent backdrop-blur-lg border-b border-warm-gray-100/20 dark:border-dark-warm-200/20 z-50 transition-transform duration-300 ${e?"translate-y-0":"-translate-y-full"}`,children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"flex justify-between items-center py-4",children:i.jsxs(ic,{to:"/",className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(sr,{className:"w-8 h-8 text-sunset-500","aria-label":"Pulsify pulse icon"}),i.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-sunset-500 rounded-full opacity-20 animate-ping"})]}),i.jsx("span",{className:"text-2xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:"Pulsify"})]})})})})},uc=({variant:e="light"})=>{const t=e==="dark";return i.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:`absolute -top-40 -right-40 w-96 h-96 ${t?"bg-gradient-to-br from-sunset-500/20 via-coral-500/15 to-golden-400/10":"bg-gradient-to-br from-sunset-200/40 via-coral-200/30 to-golden-200/20"} rounded-full blur-3xl animate-blob`,style:{borderRadius:"60% 40% 30% 70% / 60% 30% 70% 40%",animationDelay:"0s"}}),i.jsx("div",{className:`absolute top-1/3 -left-32 w-80 h-80 ${t?"bg-gradient-to-tr from-golden-400/15 via-sunset-500/20 to-coral-500/10":"bg-gradient-to-tr from-golden-300/30 via-sunset-300/40 to-coral-300/20"} rounded-full blur-2xl animate-flow`,style:{borderRadius:"30% 60% 70% 40% / 50% 60% 30% 60%",animationDelay:"2s"}}),i.jsx("div",{className:`absolute bottom-20 right-1/4 w-64 h-64 ${t?"bg-gradient-to-bl from-coral-500/20 via-golden-400/15 to-sunset-500/10":"bg-gradient-to-bl from-coral-200/35 via-golden-200/25 to-sunset-200/15"} rounded-full blur-2xl animate-float`,style:{borderRadius:"70% 30% 60% 40% / 40% 50% 60% 50%",animationDelay:"4s"}}),i.jsx("div",{className:`absolute top-1/2 left-1/3 w-32 h-32 ${t?"bg-gradient-to-r from-sunset-400/25 to-golden-400/20":"bg-gradient-to-r from-sunset-200/50 to-golden-200/40"} rounded-full blur-xl animate-morph`,style:{animationDelay:"1s"}}),i.jsx("div",{className:`absolute bottom-1/3 left-2/3 w-24 h-24 ${t?"bg-gradient-to-l from-coral-400/20 to-sunset-400/15":"bg-gradient-to-l from-coral-200/45 to-sunset-200/35"} rounded-full blur-lg animate-fluid-move`,style:{animationDelay:"3s"}}),i.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-br from-transparent via-dark-warm-50/10 to-dark-warm-100/20":"bg-gradient-to-br from-transparent via-white/10 to-warm-gray-50/20"}`})]})},xZ=()=>{const e=[{icon:i.jsx(Ct,{className:"w-4 h-4"}),value:"94%",label:"Satisfaction Rate",position:"top-20 right-20",delay:"0s"},{icon:i.jsx(Ot,{className:"w-4 h-4"}),value:"2,000+",label:"Happy Customers",position:"top-1/3 left-16",delay:"1s"},{icon:i.jsx(aM,{className:"w-4 h-4"}),value:"15M+",label:"Feedback Collected",position:"bottom-1/3 right-16",delay:"2s"},{icon:i.jsx(cr,{className:"w-4 h-4"}),value:"40%",label:"Growth Increase",position:"bottom-32 left-1/4",delay:"3s"}];return i.jsx("div",{className:"absolute inset-0 pointer-events-none hidden lg:block",children:e.map((t,r)=>i.jsx("div",{className:`absolute ${t.position} bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm border border-warm-gray-200/50 dark:border-dark-warm-300/50 rounded-2xl p-4 shadow-lg shadow-warm-gray-900/5 dark:shadow-dark-warm-50/20 animate-float`,style:{animationDelay:t.delay},children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-lg text-white",children:t.icon}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:t.value}),i.jsx("div",{className:"text-xs text-warm-gray-600 dark:text-dark-warm-600",children:t.label})]})]})},r))})},bZ=()=>{const e=Jn();return i.jsxs("section",{className:"relative min-h-screen bg-white dark:bg-dark-warm-50 overflow-hidden flex flex-col",children:[i.jsx(uc,{}),i.jsx(uc,{variant:"dark"}),i.jsx(xZ,{}),i.jsx("div",{className:"relative w-full flex-grow flex items-center max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 sm:pt-32",children:i.jsxs("div",{className:"text-center space-y-12 animate-fade-in w-full",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600",children:[i.jsxs("div",{className:"flex -space-x-1",children:[i.jsx("div",{className:"w-6 h-6 bg-sunset-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle"}),i.jsx("div",{className:"w-6 h-6 bg-golden-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"w-6 h-6 bg-coral-400 rounded-full border-2 border-white dark:border-dark-warm-100 animate-pulse-gentle",style:{animationDelay:"1s"}})]}),i.jsx("span",{className:"text-sm font-medium",children:"Trusted by 2,000+ businesses worldwide"})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(sr,{className:"w-12 h-12 text-sunset-500 animate-pulse-gentle"}),i.jsx("div",{className:"absolute inset-0 w-12 h-12 bg-sunset-500 rounded-full opacity-20 animate-ping"})]}),i.jsx("h1",{className:"text-6xl lg:text-8xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 tracking-tight",children:"Pulsify"})]}),i.jsx("div",{className:"relative",children:i.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-bold text-warm-gray-800 dark:text-dark-warm-800 leading-tight max-w-5xl mx-auto",children:["Turn feedback into"," ",i.jsxs("span",{className:"relative",children:[i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"revenue"}),i.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full animate-scale-in"})]}),".",i.jsx("span",{className:"block text-2xl lg:text-4xl mt-4 font-medium text-warm-gray-600 dark:text-dark-warm-600",children:"Get insights 10x faster. Reduce churn by 30%."})]})})]}),i.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed max-w-4xl mx-auto font-medium",children:"Our AI-powered platform unifies and analyzes customer feedback, delivering actionable insights to help you build better products and prevent customer churn."}),i.jsx("div",{className:"flex justify-center pt-8",children:i.jsx(ee,{onClick:()=>e("/auth"),className:"bg-gradient-to-r from-sunset-500 to-coral-500 hover:from-sunset-600 hover:to-coral-600 text-white font-semibold shadow-lg shadow-sunset-500/25 px-10 py-4 rounded-full text-xl h-auto transition-all duration-300 hover:scale-105",children:i.jsxs("span",{className:"flex items-center justify-center space-x-3",children:[i.jsx("span",{children:"Start Free Trial"}),i.jsx(Oj,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})})})]})}),i.jsx("div",{className:"relative w-full flex justify-center pb-8 px-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-8 text-sm text-warm-gray-500 dark:text-dark-warm-500",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"font-medium",children:"No credit card required"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),i.jsx("span",{className:"font-medium",children:"14-day free trial"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",style:{animationDelay:"1s"}}),i.jsx("span",{className:"font-medium",children:"Setup in under 5 minutes"})]})]})})]})},wZ=()=>{const e=[{icon:i.jsx(up,{className:"h-6 w-6"}),title:"Small Businesses",description:"Restaurant owners, retail stores, and service providers looking to understand customer satisfaction"},{icon:i.jsx(Ot,{className:"h-6 w-6"}),title:"Growing Companies",description:"Mid-size businesses scaling operations and needing structured feedback management"},{icon:i.jsx(Ct,{className:"h-6 w-6"}),title:"Enterprise Teams",description:"Large organizations requiring advanced analytics and team collaboration features"}],t=[{step:"01",title:"Collect",description:"Deploy feedback forms across touchpoints or send SMS surveys to gather customer insights",icon:i.jsx(qt,{className:"h-8 w-8"})},{step:"02",title:"Analyze",description:"AI automatically categorizes and analyzes sentiment in real-time with machine learning",icon:i.jsx(cr,{className:"h-8 w-8"})},{step:"03",title:"Act",description:"Get actionable insights and track improvements with intelligent recommendations",icon:i.jsx(uv,{className:"h-8 w-8"})}];return i.jsxs("section",{className:"relative py-24 bg-warm-gray-50 dark:bg-dark-warm-50 overflow-hidden",children:[i.jsx(uc,{}),i.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-20",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[i.jsx(Ot,{className:"w-5 h-5 text-sunset-500"}),i.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Who It's For"})]}),i.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Built for"," ",i.jsxs("span",{className:"relative",children:[i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"every business"}),i.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})]}),i.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-3xl mx-auto leading-relaxed font-medium mb-12",children:"Whether you're starting out or scaling up, Pulsify helps you understand and improve customer satisfaction"}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((r,n)=>i.jsxs("div",{className:"group relative bg-white/95 dark:bg-dark-warm-100/95 rounded-2xl p-8 border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sunset-500/5 via-coral-500/5 to-golden-400/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-xl flex items-center justify-center text-white mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:r.icon}),i.jsx("h3",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-3",children:r.title}),i.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed text-sm",children:r.description})]})]},n))})]}),i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[i.jsx("div",{className:"w-2 h-2 bg-sunset-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"How It Works"}),i.jsx("div",{className:"w-2 h-2 bg-coral-500 rounded-full animate-pulse",style:{animationDelay:"1s"}})]}),i.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Simple."," ",i.jsx("span",{className:"relative",children:i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"Powerful."})})," ","Effective."]}),i.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-3xl mx-auto leading-relaxed font-medium",children:"Three simple steps to transform feedback into growth"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-12",children:t.map((r,n)=>i.jsxs("div",{className:"text-center group relative",children:[n<2&&i.jsx("div",{className:"hidden md:block absolute top-16 left-3/4 w-1/2 h-0.5 bg-gradient-to-r from-sunset-300 to-coral-300 dark:from-sunset-600 dark:to-coral-600 opacity-30"}),i.jsxs("div",{className:"relative mb-8 group-hover:scale-110 transition-transform duration-300",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-400 rounded-2xl flex items-center justify-center text-white mx-auto shadow-xl group-hover:shadow-2xl transition-shadow duration-300",children:r.icon}),i.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-400 rounded-2xl mx-auto opacity-20 animate-pulse"})]}),i.jsx("div",{className:"absolute -top-3 -right-3 w-12 h-12 bg-white dark:bg-dark-warm-100 rounded-full border-4 border-sunset-500 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:i.jsx("span",{className:"text-lg font-space font-black text-sunset-600",children:r.step})})]}),i.jsx("h3",{className:"text-xl lg:text-2xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-4",children:r.title}),i.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium",children:r.description})]},n))})]})]})},jZ=()=>i.jsxs("section",{className:"relative py-24 bg-white dark:bg-background overflow-hidden",children:[i.jsx(uc,{variant:"dark"}),i.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"grid lg:grid-cols-12 gap-16 items-center",children:[i.jsxs("div",{className:"lg:col-span-5 text-center lg:text-left",children:[i.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[i.jsx(cr,{className:"w-5 h-5 text-sunset-500"}),i.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Platform Overview"})]}),i.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Your"," ",i.jsxs("span",{className:"relative",children:[i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"complete"}),i.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})," ","customer feedback platform"]}),i.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium mb-8",children:"Pulsify is an AI-powered feedback management system that helps businesses collect, analyze, and act on customer insights to drive growth and improve satisfaction"}),i.jsx("div",{className:"space-y-4",children:["Real-time sentiment analysis","Multi-channel feedback collection","Automated insights & recommendations"].map((e,t)=>i.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-3",children:[i.jsx("div",{className:"w-2 h-2 bg-sunset-500 rounded-full"}),i.jsx("span",{className:"text-warm-gray-700 dark:text-dark-warm-700 font-medium",children:e})]},t))})]}),i.jsx("div",{className:"lg:col-span-7",children:i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"bg-white/95 dark:bg-dark-warm-100/95 rounded-3xl shadow-xl border border-warm-gray-200 dark:border-dark-warm-200 p-8 transition-all duration-500 hover:shadow-2xl hover:-translate-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:"Analytics Dashboard"}),i.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 mt-1",children:"Real-time insights"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),i.jsx("div",{className:"w-3 h-3 bg-sunset-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"w-3 h-3 bg-coral-500 rounded-full animate-pulse",style:{animationDelay:"1s"}})]})]}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{icon:i.jsx(Ot,{className:"w-5 h-5"}),value:"2.8k+",label:"Responses",color:"from-sunset-500 to-coral-500"},{icon:i.jsx(aM,{className:"w-5 h-5"}),value:"94%",label:"Satisfaction",color:"from-coral-500 to-golden-400"},{icon:i.jsx(Ct,{className:"w-5 h-5"}),value:"+23%",label:"Growth",color:"from-golden-400 to-sunset-500"},{icon:i.jsx(cr,{className:"w-5 h-5"}),value:"4.8",label:"Avg Rating",color:"from-sunset-500 to-coral-500"}].map((e,t)=>i.jsxs("div",{className:"bg-white/90 dark:bg-dark-warm-200/90 rounded-xl p-4 border border-warm-gray-200/50 dark:border-dark-warm-300/50 hover:-translate-y-1 transition-transform duration-300",children:[i.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${e.color} rounded-lg flex items-center justify-center text-white mb-2`,children:e.icon}),i.jsx("div",{className:"text-lg font-space font-bold text-warm-gray-900 dark:text-dark-warm-900",children:e.value}),i.jsx("div",{className:"text-xs text-warm-gray-600 dark:text-dark-warm-600",children:e.label})]},t))}),i.jsx("div",{className:"bg-warm-gray-50 dark:bg-dark-warm-200 rounded-xl p-6 min-h-32 flex items-center justify-center border border-warm-gray-200 dark:border-dark-warm-300",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-xl flex items-center justify-center text-white mx-auto mb-3",children:i.jsx(cr,{className:"w-6 h-6"})}),i.jsx("p",{className:"text-lg font-space font-bold text-warm-gray-700 dark:text-dark-warm-700",children:"Interactive Analytics"})]})})]}),i.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 bg-gradient-to-br from-sunset-400 to-coral-400 rounded-xl opacity-20 animate-float"}),i.jsx("div",{className:"absolute -bottom-4 -right-4 w-16 h-16 bg-gradient-to-br from-golden-400 to-sunset-400 rounded-2xl opacity-20 animate-float",style:{animationDelay:"2s"}})]})})]})})]}),_Z=()=>{const e=[{problem:"Lost customers due to poor experiences",solution:"Get real-time alerts when issues arise",icon:i.jsx(Ot,{className:"h-6 w-6"}),gradient:"from-sunset-500 to-coral-500"},{problem:"Making decisions without customer insights",solution:"AI-powered analytics reveal hidden patterns",icon:i.jsx(cr,{className:"h-6 w-6"}),gradient:"from-coral-500 to-golden-400"},{problem:"Scattered feedback across multiple channels",solution:"Unified platform for all customer touchpoints",icon:i.jsx(qt,{className:"h-6 w-6"}),gradient:"from-golden-400 to-sunset-500"}],t=[{icon:i.jsx(qt,{className:"h-6 w-6"}),title:"Multi-Channel Collection",description:"Forms, SMS, QR codes - collect feedback everywhere customers are",gradient:"from-sunset-500 to-coral-500",benefits:["Email & SMS surveys","Web forms & QR codes","Social media integration"]},{icon:i.jsx(cr,{className:"h-6 w-6"}),title:"AI-Powered Analysis",description:"Automatic sentiment analysis and categorization for instant insights",gradient:"from-coral-500 to-golden-400",benefits:["Real-time sentiment analysis","Automated categorization","Trend identification"]},{icon:i.jsx(hp,{className:"h-6 w-6"}),title:"Real-Time Alerts",description:"Get notified immediately when feedback requires urgent attention",gradient:"from-golden-400 to-sunset-500",benefits:["Instant notifications","Priority flagging","Custom alert rules"]},{icon:i.jsx(zc,{className:"h-6 w-6"}),title:"Enterprise Security",description:"Bank-grade security with SOC 2 compliance and data protection",gradient:"from-sunset-500 to-coral-500",benefits:["SOC 2 compliance","End-to-end encryption","GDPR compliant"]}];return i.jsxs("section",{className:"relative py-24 bg-white dark:bg-background overflow-hidden",children:[i.jsx(uc,{}),i.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-20",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-6",children:[i.jsx(Ct,{className:"w-5 h-5 text-sunset-500"}),i.jsx("span",{className:"text-sm font-medium uppercase tracking-wide",children:"Why It Matters"})]}),i.jsxs("h2",{className:"text-3xl lg:text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-6 leading-tight",children:["Stop losing"," ",i.jsxs("span",{className:"relative",children:[i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"customers"}),i.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full"})]})," ","to poor experiences"]}),i.jsx("p",{className:"text-lg lg:text-xl text-warm-gray-600 dark:text-dark-warm-600 max-w-4xl mx-auto leading-relaxed font-medium mb-12",children:"Without proper feedback management, businesses miss critical insights that could prevent customer churn and drive growth"}),i.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:e.map((r,n)=>i.jsxs("div",{className:"group relative bg-white/95 dark:bg-dark-warm-100/95 rounded-2xl p-6 border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 via-orange-500/5 to-yellow-500/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-xl flex items-center justify-center text-white mx-auto mb-4 group-hover:scale-110 transition-transform duration-300`,children:r.icon}),i.jsxs("div",{className:"text-sm font-semibold text-red-600 dark:text-red-400 mb-2",children:["Problem: ",r.problem]}),i.jsxs("div",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["Solution: ",r.solution]})]})]},n))})]}),i.jsx("div",{className:"text-center mb-16",children:i.jsx("h3",{className:"text-2xl lg:text-4xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-12",children:"Powerful features that make the difference"})}),i.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:t.map((r,n)=>i.jsxs(H,{className:"group relative border border-warm-gray-200 dark:border-dark-warm-200 shadow-lg bg-white/95 dark:bg-dark-warm-100/95 hover:shadow-xl transition-all duration-300 rounded-2xl overflow-hidden hover:-translate-y-1",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sunset-500/5 via-coral-500/5 to-golden-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsx(se,{className:"pb-4 relative",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-xl flex items-center justify-center text-white flex-shrink-0 group-hover:scale-110 transition-transform duration-300`,children:r.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ie,{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 leading-tight mb-2",children:r.title}),i.jsx(Gn,{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium",children:r.description})]})]})}),i.jsx(K,{className:"pt-0 relative",children:i.jsx("div",{className:"space-y-2",children:r.benefits.map((a,s)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zr,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-warm-gray-600 dark:text-dark-warm-600 font-medium",children:a})]},s))})})]},n))})]})]})},SZ=()=>{const e=Jn(),[t,r]=y.useState(!1),n=[{icon:i.jsx(ai,{className:"w-8 h-8"}),title:"Customer complaints increasing?",description:"Don't wait until it's too late - start monitoring satisfaction now"},{icon:i.jsx(Za,{className:"w-8 h-8"}),title:"Competing on customer experience?",description:"Get ahead of competitors with better customer insights"},{icon:i.jsx(hp,{className:"w-8 h-8"}),title:"Growing fast and losing touch?",description:"Scale your business without losing the personal connection"}],a=[{name:"Starter",monthlyPrice:7,yearlyPrice:70,period:t?"/year":"/month",description:"Perfect for small teams getting started with feedback.",features:["Up to 5 team members","1,000 responses/month","Standard Analytics","Email Support"],popular:!1,cta:"Start Free Trial",gradient:"from-warm-gray-100 to-warm-gray-50"},{name:"Growth",monthlyPrice:27,yearlyPrice:270,period:t?"/year":"/month",description:"For growing businesses who need to scale their feedback operations.",features:["Up to 15 team members","5,000 responses/month","AI-Powered Insights","Priority Support","Custom Branding"],popular:!0,cta:"Start Free Trial",gradient:"from-sunset-50 to-coral-50"},{name:"Pro",monthlyPrice:97,yearlyPrice:970,period:t?"/year":"/month",description:"For established businesses that require advanced control and integrations.",features:["Up to 30 team members","20,000 responses/month","API Access","Advanced Integrations","Team Collaboration Tools"],popular:!1,cta:"Start Free Trial",gradient:"from-golden-50 to-sunset-50"},{name:"Enterprise",monthlyPrice:247,yearlyPrice:2470,period:t?"/year":"/month",description:"Tailored solutions for large organizations with complex needs.",features:["Unlimited team members","Custom response limits","Dedicated Success Manager","SLA & Advanced Security","On-premise deployment"],popular:!1,cta:"Start Free Trial",gradient:"from-warm-gray-100 to-warm-gray-50"}],s=o=>t?o.yearlyPrice:o.monthlyPrice;return i.jsxs("section",{id:"pricing",className:"relative py-32 bg-gradient-to-br from-warm-gray-50 via-white to-sunset-50/30 dark:from-dark-warm-50 dark:via-dark-warm-100 dark:to-dark-warm-50 overflow-hidden",children:[i.jsx(uc,{}),i.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-24 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-8",children:[i.jsx(ai,{className:"w-6 h-6 text-sunset-500"}),i.jsx("span",{className:"text-lg font-space font-medium",children:"When You Need It"})]}),i.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-8 leading-tight",children:["The"," ",i.jsxs("span",{className:"relative",children:[i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"right time"}),i.jsx("div",{className:"absolute -bottom-3 left-0 right-0 h-2 bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 rounded-full animate-scale-in"})]})," ","is now"]}),i.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium max-w-4xl mx-auto mb-16",children:"Don't wait until customer satisfaction becomes a crisis. Start building better relationships today."}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:n.map((o,l)=>i.jsxs("div",{className:"bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm rounded-3xl p-8 border border-warm-gray-200/50 dark:border-dark-warm-300/50 group hover:scale-105 transition-all duration-300",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl flex items-center justify-center text-white mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:o.icon}),i.jsx("h3",{className:"text-xl font-space font-bold text-warm-gray-900 dark:text-dark-warm-900 mb-4",children:o.title}),i.jsx("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed",children:o.description})]},l))})]}),i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-warm-gray-600 dark:text-dark-warm-600 mb-8",children:[i.jsx(hp,{className:"w-6 h-6 text-sunset-500"}),i.jsx("span",{className:"text-lg font-space font-medium",children:"Where To Get Started"})]}),i.jsxs("h2",{className:"text-4xl lg:text-6xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900 mb-8 leading-tight",children:["Choose your"," ",i.jsx("span",{className:"relative",children:i.jsx("span",{className:"bg-gradient-to-r from-sunset-500 via-coral-500 to-golden-400 bg-clip-text text-transparent",children:"growth path"})})]}),i.jsx("p",{className:"text-xl lg:text-2xl text-warm-gray-600 dark:text-dark-warm-600 leading-relaxed font-medium max-w-4xl mx-auto mb-12",children:"Start free, scale as you grow. Upgrade or downgrade anytime."}),i.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-16",children:[i.jsx("span",{className:`text-lg font-medium ${t?"text-warm-gray-600 dark:text-dark-warm-600":"text-sunset-600 dark:text-sunset-400"}`,children:"Monthly"}),i.jsx("button",{onClick:()=>r(!t),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-sunset-500 focus:ring-offset-2 ${t?"bg-sunset-500":"bg-warm-gray-300 dark:bg-dark-warm-400"}`,children:i.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${t?"translate-x-7":"translate-x-1"}`})}),i.jsxs("span",{className:`text-lg font-medium ${t?"text-sunset-600 dark:text-sunset-400":"text-warm-gray-600 dark:text-dark-warm-600"}`,children:["Yearly",i.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 text-sm rounded-full",children:"Save 20%"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8 max-w-7xl mx-auto mb-16 items-stretch",children:a.map((o,l)=>i.jsxs(H,{className:`flex flex-col border-0 shadow-lg relative transition-all duration-300 rounded-3xl group ${o.popular?"bg-white dark:bg-dark-warm-100 shadow-2xl shadow-sunset-500/20 ring-2 ring-sunset-500 z-10":"bg-white/60 dark:bg-dark-warm-100/60 backdrop-blur-md border border-warm-gray-200/50 dark:border-dark-warm-300/50 hover:bg-white dark:hover:bg-dark-warm-100 hover:shadow-xl hover:scale-[1.02]"}`,children:[o.popular&&i.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-20",children:i.jsx(ke,{className:"bg-gradient-to-r from-sunset-500 to-coral-500 text-white px-6 py-2 text-base font-space font-bold shadow-lg rounded-full",children:"Most Popular"})}),i.jsxs(se,{className:"text-center pb-8 pt-12",children:[i.jsx(ie,{className:"text-3xl font-space font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-2",children:o.name}),i.jsxs("div",{className:"mt-6 mb-4",children:[i.jsxs("span",{className:"text-5xl font-space font-black text-warm-gray-900 dark:text-dark-warm-900",children:["$",s(o)]}),o.period&&i.jsx("span",{className:"text-warm-gray-500 dark:text-dark-warm-500 text-lg font-medium",children:o.period})]}),i.jsx(Gn,{className:"text-warm-gray-600 dark:text-dark-warm-600 text-base leading-relaxed px-4",children:o.description})]}),i.jsxs(K,{className:"flex flex-col flex-grow px-8 pb-8",children:[i.jsx("ul",{className:"space-y-4 flex-grow",children:o.features.map((c,u)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx(zr,{className:"h-6 w-6 text-green-500 mr-3 mt-1 flex-shrink-0"}),i.jsx("span",{className:"text-warm-gray-700 dark:text-dark-warm-600 font-medium text-base",children:c})]},u))}),i.jsx(ee,{className:"w-full mt-10",variant:o.popular?"default":"outline",size:"lg",onClick:()=>e("/auth"),children:i.jsxs("span",{className:"flex items-center justify-center",children:[o.cta,i.jsx(Oj,{className:"ml-3 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]})]},l))}),i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"bg-white/80 dark:bg-dark-warm-100/80 backdrop-blur-sm rounded-2xl p-8 max-w-2xl mx-auto border border-warm-gray-200/50 dark:border-dark-warm-300/50 shadow-lg",children:i.jsxs("p",{className:"text-warm-gray-600 dark:text-dark-warm-600 font-medium text-lg",children:["All plans include a ",i.jsx("span",{className:"text-sunset-600 dark:text-sunset-400 font-semibold",children:"14-day free trial"}),i.jsx("br",{}),"No setup fees  Cancel anytime  Full feature access"]})})})]})]})},NZ=()=>i.jsxs("section",{className:"relative py-32 bg-gradient-to-br from-sunset-500 via-coral-500 to-golden-500 overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute top-20 left-20 w-40 h-40 bg-white/10 rounded-full animate-float blur-xl"}),i.jsx("div",{className:"absolute bottom-20 right-20 w-32 h-32 bg-white/10 rounded-full animate-pulse-gentle blur-lg"}),i.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-white/5 rounded-full animate-morph blur-lg"}),i.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-36 h-36 bg-white/5 rounded-full animate-blob blur-xl"}),i.jsx("div",{className:"absolute top-40 right-40 w-64 h-64 bg-white/5 rounded-full blur-3xl animate-flow",style:{borderRadius:"60% 40% 30% 70% / 60% 30% 70% 40%"}}),i.jsx("div",{className:"absolute bottom-40 left-40 w-48 h-48 bg-white/5 rounded-full blur-2xl animate-float",style:{borderRadius:"30% 60% 70% 40% / 50% 60% 30% 60%"}})]}),i.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-12",children:[i.jsxs("div",{className:"relative",children:[i.jsx(sr,{className:"w-8 h-8 text-white animate-pulse-gentle","aria-label":"Pulsify pulse icon"}),i.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-white rounded-full opacity-20 animate-ping"})]}),i.jsx("span",{className:"text-white/90 text-lg font-space font-medium",children:"Join 2,000+ happy customers"})]}),i.jsxs("h2",{className:"text-5xl lg:text-7xl font-space font-black text-white mb-10 leading-tight","aria-label":"Ready to transform your customer feedback?",children:["Ready to"," ",i.jsxs("span",{className:"relative",children:["transform",i.jsx("div",{className:"absolute -bottom-4 left-0 right-0 h-2 bg-white rounded-full animate-scale-in"})]}),i.jsx("br",{}),"your customer feedback?"]}),i.jsxs("p",{className:"text-2xl lg:text-3xl text-white/95 leading-relaxed max-w-4xl mx-auto font-medium",children:["Join thousands of businesses using Pulsify to make"," ",i.jsx("span",{className:"font-bold",children:"better decisions"})]})]})]}),EZ=()=>{const[e,t]=y.useState(!1);y.useEffect(()=>{const n=localStorage.getItem("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(n==="dark"||!n&&a)&&(t(!0),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=!e;t(n),n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return i.jsx(ee,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full",children:e?i.jsx(C9,{className:"h-5 w-5 text-golden-400"}):i.jsx(x9,{className:"h-5 w-5 text-warm-gray-600"})})},ek=({href:e,children:t,isRouterLink:r=!1})=>r?i.jsx(ic,{to:e,className:"text-warm-gray-400 hover:text-white transition-colors duration-300 text-base",children:t}):i.jsx("a",{href:e,className:"text-warm-gray-400 hover:text-white transition-colors duration-300 text-base",children:t}),H_=()=>i.jsx("footer",{className:"bg-warm-gray-900 dark:bg-dark-warm-100",children:i.jsxs("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(sr,{className:"w-8 h-8 text-sunset-500","aria-label":"Pulsify pulse icon"}),i.jsx("span",{className:"text-2xl font-space font-bold text-white",children:"Pulsify"})]}),i.jsx("p",{className:"text-base text-warm-gray-400 max-w-xs",children:"Real Insights. Real Impact."}),i.jsxs("div",{className:"text-base text-warm-gray-400 mt-4 space-y-1",children:[i.jsx("p",{children:"info@pulsify.bunisystems.com"}),i.jsx("p",{children:"+254207862379"}),i.jsx("p",{children:"Nairobi, Kenya"})]})]})}),i.jsxs("div",{className:"mt-12 border-t border-warm-gray-700 pt-8 flex flex-col-reverse sm:flex-row sm:justify-between items-center gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-x-6 gap-y-4",children:[i.jsxs("p",{className:"text-base text-warm-gray-500",children:[" ",new Date().getFullYear()," Pulsify. All rights reserved."]}),i.jsxs("div",{className:"flex items-center gap-x-6",children:[i.jsx(ek,{href:"/privacy-policy",isRouterLink:!0,children:"Privacy Policy"}),i.jsx(ek,{href:"/terms-of-service",isRouterLink:!0,children:"Terms of Service"})]})]}),i.jsx(EZ,{})]})]})}),PZ=[{icon:i.jsx(E9,{className:"h-10 w-10 text-sunset-500"}),name:"SOC 2 Compliant",description:"Enterprise-grade security standards."},{icon:i.jsx(Aj,{className:"h-10 w-10 text-coral-500"}),name:"GDPR & CCPA Ready",description:"Your data privacy is our priority."},{icon:i.jsx(o9,{className:"h-10 w-10 text-golden-500"}),name:"99.9% Uptime SLA",description:"Reliable service you can count on."}],kZ=()=>i.jsx("section",{className:"py-24 bg-warm-gray-50 dark:bg-dark-warm-100",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-base font-semibold text-sunset-600 dark:text-sunset-400 tracking-wider uppercase",children:"Trusted & Secure"}),i.jsx("p",{className:"mt-2 text-3xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 tracking-tight sm:text-4xl",children:"Your peace of mind is our top priority"}),i.jsx("p",{className:"mt-5 max-w-prose mx-auto text-xl text-warm-gray-500 dark:text-dark-warm-500",children:"We employ best-in-class security practices to keep your data safe, secure, and private."})]}),i.jsx("div",{className:"mt-12",children:i.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:PZ.map(e=>i.jsx("div",{className:"pt-6",children:i.jsx("div",{className:"flow-root bg-white dark:bg-dark-warm-200 rounded-lg px-6 pb-8 shadow-lg",children:i.jsxs("div",{className:"-mt-6",children:[i.jsx("div",{children:i.jsx("span",{className:"inline-flex items-center justify-center p-3 bg-gradient-to-br from-sunset-500 to-coral-500 rounded-md shadow-lg",children:P.cloneElement(e.icon,{className:"h-8 w-8 text-white"})})}),i.jsx("h3",{className:"mt-8 text-lg font-medium text-warm-gray-900 dark:text-dark-warm-900 tracking-tight",children:e.name}),i.jsx("p",{className:"mt-5 text-base text-warm-gray-500 dark:text-dark-warm-500",children:e.description})]})})},e.name))})})]})});var K_="Collapsible",[CZ,m5]=dr(K_),[OZ,G_]=CZ(K_),p5=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:o,...l}=e,[c=!1,u]=wr({prop:n,defaultProp:a,onChange:o});return i.jsx(OZ,{scope:r,disabled:s,contentId:rn(),open:c,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),children:i.jsx(ue.div,{"data-state":Q_(c),"data-disabled":s?"":void 0,...l,ref:t})})});p5.displayName=K_;var g5="CollapsibleTrigger",v5=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=G_(g5,r);return i.jsx(ue.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Q_(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:J(e.onClick,a.onOpenToggle)})});v5.displayName=g5;var Y_="CollapsibleContent",y5=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=G_(Y_,e.__scopeCollapsible);return i.jsx(Ur,{present:r||a.open,children:({present:s})=>i.jsx(AZ,{...n,ref:t,present:s})})});y5.displayName=Y_;var AZ=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,o=G_(Y_,r),[l,c]=y.useState(n),u=y.useRef(null),d=we(t,u),f=y.useRef(0),h=f.current,m=y.useRef(0),g=m.current,p=o.open||l,v=y.useRef(p),b=y.useRef();return y.useEffect(()=>{const x=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(x)},[]),It(()=>{const x=u.current;if(x){b.current=b.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();f.current=w.height,m.current=w.width,v.current||(x.style.transitionDuration=b.current.transitionDuration,x.style.animationName=b.current.animationName),c(n)}},[o.open,n]),i.jsx(ue.div,{"data-state":Q_(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&a})});function Q_(e){return e?"open":"closed"}var TZ=p5,RZ=v5,MZ=y5,cs="Accordion",$Z=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[X_,IZ,DZ]=Ic(cs),[Lv,m2e]=dr(cs,[DZ,m5]),J_=m5(),x5=P.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,s=n;return i.jsx(X_.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(UZ,{...s,ref:t}):i.jsx(zZ,{...a,ref:t})})});x5.displayName=cs;var[b5,LZ]=Lv(cs),[w5,FZ]=Lv(cs,{collapsible:!1}),zZ=P.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:s=!1,...o}=e,[l,c]=wr({prop:r,defaultProp:n,onChange:a});return i.jsx(b5,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:P.useCallback(()=>s&&c(""),[s,c]),children:i.jsx(w5,{scope:e.__scopeAccordion,collapsible:s,children:i.jsx(j5,{...o,ref:t})})})}),UZ=P.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...s}=e,[o=[],l]=wr({prop:r,defaultProp:n,onChange:a}),c=P.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=P.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(b5,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx(w5,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(j5,{...s,ref:t})})})}),[BZ,Fv]=Lv(cs),j5=P.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:s="vertical",...o}=e,l=P.useRef(null),c=we(l,t),u=IZ(r),f=Mo(a)==="ltr",h=J(e.onKeyDown,m=>{var E;if(!$Z.includes(m.key))return;const g=m.target,p=u().filter(C=>{var k;return!((k=C.ref.current)!=null&&k.disabled)}),v=p.findIndex(C=>C.ref.current===g),b=p.length;if(v===-1)return;m.preventDefault();let x=v;const w=0,j=b-1,_=()=>{x=v+1,x>j&&(x=w)},S=()=>{x=v-1,x<w&&(x=j)};switch(m.key){case"Home":x=w;break;case"End":x=j;break;case"ArrowRight":s==="horizontal"&&(f?_():S());break;case"ArrowDown":s==="vertical"&&_();break;case"ArrowLeft":s==="horizontal"&&(f?S():_());break;case"ArrowUp":s==="vertical"&&S();break}const N=x%b;(E=p[N].ref.current)==null||E.focus()});return i.jsx(BZ,{scope:r,disabled:n,direction:a,orientation:s,children:i.jsx(X_.Slot,{scope:r,children:i.jsx(ue.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:h})})})}),$p="AccordionItem",[qZ,Z_]=Lv($p),_5=P.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,s=Fv($p,r),o=LZ($p,r),l=J_(r),c=rn(),u=n&&o.value.includes(n)||!1,d=s.disabled||e.disabled;return i.jsx(qZ,{scope:r,open:u,disabled:d,triggerId:c,children:i.jsx(TZ,{"data-orientation":s.orientation,"data-state":C5(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});_5.displayName=$p;var S5="AccordionHeader",N5=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Fv(cs,r),s=Z_(S5,r);return i.jsx(ue.h3,{"data-orientation":a.orientation,"data-state":C5(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});N5.displayName=S5;var ew="AccordionTrigger",E5=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Fv(cs,r),s=Z_(ew,r),o=FZ(ew,r),l=J_(r);return i.jsx(X_.ItemSlot,{scope:r,children:i.jsx(RZ,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:s.triggerId,...l,...n,ref:t})})});E5.displayName=ew;var P5="AccordionContent",k5=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Fv(cs,r),s=Z_(P5,r),o=J_(r);return i.jsx(MZ,{role:"region","aria-labelledby":s.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});k5.displayName=P5;function C5(e){return e?"open":"closed"}var WZ=x5,VZ=_5,HZ=N5,O5=E5,A5=k5;const KZ=WZ,T5=y.forwardRef(({className:e,...t},r)=>i.jsx(VZ,{ref:r,className:U("border-b",e),...t}));T5.displayName="AccordionItem";const R5=y.forwardRef(({className:e,children:t,...r},n)=>i.jsx(HZ,{className:"flex",children:i.jsxs(O5,{ref:n,className:U("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(Lc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));R5.displayName=O5.displayName;const M5=y.forwardRef(({className:e,children:t,...r},n)=>i.jsx(A5,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:U("pb-4 pt-0",e),children:t})}));M5.displayName=A5.displayName;const GZ=[{question:"What is Pulsify?",answer:"Pulsify is an AI-powered customer feedback platform that helps businesses collect, analyze, and act on customer insights to drive growth. We unify feedback from various channels and provide actionable analytics."},{question:"Is there a free trial?",answer:"Yes, we offer a 14-day free trial on our Professional plan. No credit card is required to get started. You can explore all the features and see how Pulsify can benefit your business."},{question:"What kind of support do you offer?",answer:"We offer email support on the Starter plan and priority email and chat support on the Professional plan. Enterprise customers receive a dedicated success manager and custom support SLAs."},{question:"Can I integrate Pulsify with other tools?",answer:"Our Professional and Enterprise plans also include API access for custom integrations."},{question:"How is my data secured?",answer:"We take data security very seriously. Our platform is SOC 2 compliant, and all data is encrypted end-to-end. We follow industry best practices to ensure your data is safe and private."},{question:"Can I customize the feedback forms?",answer:"Yes! You can customize the look and feel of your feedback forms to match your brand, including colors, logos, and custom domains (on supported plans)."}],YZ=()=>i.jsx("section",{id:"faq",className:"py-24 bg-white dark:bg-background",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-3xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 sm:text-4xl",children:"Frequently Asked Questions"}),i.jsx("p",{className:"mt-4 text-lg text-warm-gray-600 dark:text-dark-warm-600",children:"Have questions? We have answers. If you can't find what you're looking for, feel free to contact us."})]}),i.jsx("div",{className:"mt-12",children:i.jsx(KZ,{type:"single",collapsible:!0,className:"w-full",children:GZ.map((e,t)=>i.jsxs(T5,{value:`item-${t}`,className:"border-b border-warm-gray-200 dark:border-dark-warm-200",children:[i.jsx(R5,{className:"text-left text-lg font-medium text-warm-gray-900 dark:text-dark-warm-900 hover:no-underline py-6",children:e.question}),i.jsx(M5,{className:"text-base text-warm-gray-600 dark:text-dark-warm-600 pb-6",children:e.answer})]},t))})})]})}),QZ=()=>i.jsxs("div",{className:"min-h-screen bg-white dark:bg-background transition-colors duration-300",children:[i.jsx(V_,{}),i.jsx(bZ,{}),i.jsx(jZ,{}),i.jsx(kZ,{}),i.jsx(wZ,{}),i.jsx(_Z,{}),i.jsx(SZ,{}),i.jsx(YZ,{}),i.jsx(NZ,{}),i.jsx(H_,{})]}),XZ=()=>i.jsx(QZ,{}),iu=()=>{var s;const{organization:e}=c_(),[t,r]=y.useState({assets:[],theme:null,logoAsset:null}),[n,a]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(!e){a(!1);return}try{a(!0);const[l,c]=await Promise.all([sZ(e.id),iZ(e.id)]),u=l.find(d=>d.asset_type==="logo")||null;r({assets:l,theme:c,logoAsset:u})}catch(l){console.error("Error loading organization config:",l)}finally{a(!1)}})()},[e]),{...t,isLoading:n,organization:e,colors:((s=t.theme)==null?void 0:s.colors)||{primary:(e==null?void 0:e.primary_color)||"#073763",secondary:(e==null?void 0:e.secondary_color)||"#007ACE",accent:"#f97316"},flowConfig:(e==null?void 0:e.flow_configuration)||{},headerTitle:(e==null?void 0:e.feedback_header_title)||"Share Your Experience",headerSubtitle:(e==null?void 0:e.feedback_header_subtitle)||"Help us serve you better with your valuable feedback",welcomeTitle:(e==null?void 0:e.welcome_screen_title)||"Share Your Experience",welcomeDescription:(e==null?void 0:e.welcome_screen_description)||"Help us serve you better with your valuable feedback. Your input helps us improve our services and better serve our community.",thankYouTitle:(e==null?void 0:e.thank_you_title)||"Thank You for Your Feedback!",thankYouMessage:(e==null?void 0:e.thank_you_message)||"Your valuable feedback has been received and will help us improve our services."}},$5=({title:e,subtitle:t,showSecureIndicator:r=!1})=>{const{colors:n,logoAsset:a,organization:s}=iu(),o={background:`linear-gradient(to right, ${n.primary}, ${n.accent})`},l=(s==null?void 0:s.name)||"Pulsify";return i.jsxs("div",{className:"p-8 text-white text-center",style:o,children:[(a==null?void 0:a.asset_url)&&i.jsx("img",{src:a.asset_url,alt:a.asset_name||`${l} Logo`,className:"h-20 mx-auto mb-6 drop-shadow-lg object-contain",onError:c=>{c.target.src="/lovable-uploads/pulse-favicon-64.png",c.target.alt="Pulsify Logo"}}),i.jsx("h1",{className:"text-4xl font-bold mb-3",children:e==="Pulselify"?"Pulsify":e}),i.jsx("p",{className:"text-xl text-blue-100",children:t==="Turn Customer Feedback Into Growth"?"Real Insights. Real Impact.":t}),r&&i.jsx("div",{className:"flex items-center justify-center mt-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-green-300",children:[i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),i.jsx("span",{className:"text-sm",children:"Secure & Confidential"})]})})]})},zv=()=>{const{organization:e,logoAsset:t,colors:r,isLoading:n}=iu(),[a,s]=y.useState(!1),o={primary:"#073763",secondary:"#007ACE",accent:"#f97316",background:"#f8fafc",surface:"#ffffff",textPrimary:"#1f2937",textSecondary:"#6b7280"},l={primary:r.primary||o.primary,secondary:r.secondary||o.secondary,accent:r.accent||o.accent,background:r.background||o.background,surface:r.surface||o.surface,textPrimary:r.text_primary||o.textPrimary,textSecondary:r.text_secondary||o.textSecondary},u={logoUrl:(t==null?void 0:t.asset_url)||(e==null?void 0:e.logo_url)||"/lovable-uploads/367347fe-02da-4338-b8ba-91138293d303.png",logoAlt:`${(e==null?void 0:e.name)||"Organization"} Logo`},d=()=>{if(typeof document>"u"||a)return;const f=document.documentElement;f.style.setProperty("--brand-primary",l.primary),f.style.setProperty("--brand-secondary",l.secondary),f.style.setProperty("--brand-accent",l.accent),f.style.setProperty("--brand-background",l.background),f.style.setProperty("--brand-surface",l.surface),f.style.setProperty("--brand-text-primary",l.textPrimary),f.style.setProperty("--brand-text-secondary",l.textSecondary);const h=`linear-gradient(to right, ${l.primary}, ${l.accent})`,m=`linear-gradient(to right, ${l.primary}, ${l.secondary})`;f.style.setProperty("--brand-gradient-primary-accent",h),f.style.setProperty("--brand-gradient-primary-secondary",m),s(!0)};return y.useEffect(()=>{!n&&e&&d()},[l.primary,l.secondary,l.accent,n,e]),{colors:l,assets:u,isLoading:n,organizationName:(e==null?void 0:e.name)||"Organization",applyBrandingStyles:d}},Ip=({children:e,onClick:t,size:r="lg",variant:n="primary",className:a,disabled:s=!1})=>{const{colors:o}=zv(),c=(()=>{switch(n){case"primary":return{background:`linear-gradient(to right, ${o.primary}, ${o.accent})`,"&:hover":{background:`linear-gradient(to right, ${o.primary}dd, ${o.accent}dd)`}};case"secondary":return{backgroundColor:o.secondary,"&:hover":{backgroundColor:`${o.secondary}dd`}};case"outline":return{borderColor:o.primary,color:o.primary,"&:hover":{backgroundColor:o.primary,color:"white"}};default:return{}}})();return i.jsx(ee,{onClick:t,size:r,disabled:s,className:U("text-white font-semibold transform transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl",n==="primary"&&"text-white",n==="outline"&&"bg-transparent border-2",a),style:c,children:e})},JZ=({onStart:e})=>{const{colors:t,welcomeTitle:r,welcomeDescription:n}=iu(),a={background:`linear-gradient(135deg, ${t.primary}22 0%, ${t.secondary}22 50%, ${t.accent}22 100%)`};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:a,children:i.jsxs(H,{className:"max-w-2xl w-full shadow-2xl border-0 overflow-hidden",children:[i.jsx($5,{title:r,subtitle:n}),i.jsxs(K,{className:"p-8",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.secondary}20`},children:i.jsx(ai,{className:"h-6 w-6",style:{color:t.secondary}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Quick & Easy"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Takes only 3-5 minutes"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.accent}20`},children:i.jsx(zc,{className:"h-6 w-6",style:{color:t.accent}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Confidential"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Your privacy is protected"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.primary}20`},children:i.jsx(Ot,{className:"h-6 w-6",style:{color:t.primary}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Your Voice Matters"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Every response helps improve our services"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${t.accent}20`},children:i.jsx(Za,{className:"h-6 w-6",style:{color:t.accent}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",style:{color:t.primary},children:"Make a Difference"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Shape the future of our services"})]})]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx(Ip,{onClick:e,size:"lg",className:"px-12 py-4 text-lg",children:"Start Feedback Survey"}),i.jsx("p",{className:"text-sm mt-4 text-gray-600",children:"Your responses are anonymous and help us improve our services"})]})]})]})})},tk=()=>{const{colors:e}=iu(),t={background:`linear-gradient(135deg, ${e.primary}1A 0%, ${e.secondary}1A 50%, ${e.accent}1A 100%)`};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:t,children:i.jsxs("div",{className:"text-center animate-fade-in",children:[i.jsx("div",{className:"relative mb-6",children:i.jsx(lv,{className:"h-16 w-16 animate-spin mx-auto",style:{color:e.accent}})}),i.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:e.primary},children:"Loading Your Feedback Form"}),i.jsx("p",{className:"text-gray-600 animate-pulse",children:"Preparing your personalized experience..."}),i.jsx("div",{className:"mt-4 flex justify-center space-x-1",children:[0,1,2].map(r=>i.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:e.accent,animationDelay:`${r*.1}s`}},r))})]})})},Na=()=>{const[e,t]=y.useState(!1),[r,n]=y.useState(!1);y.useEffect(()=>{const s=()=>{const o=window.innerWidth;t(o<768),n(o>=768&&o<1024)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const a="ontouchstart"in window||navigator.maxTouchPoints>0;return{isMobile:e,isTablet:r,isDesktop:!e&&!r,isTouchDevice:a,screenSize:e?"mobile":r?"tablet":"desktop"}},ZZ=({children:e})=>{const{isMobile:t}=Na();return i.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 ${t?"pb-24":""}`,children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-orange-400/10 rounded-full blur-3xl"})]}),e]})},eS=y.forwardRef(({...e},t)=>i.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));eS.displayName="Breadcrumb";const tS=y.forwardRef(({className:e,...t},r)=>i.jsx("ol",{ref:r,className:U("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));tS.displayName="BreadcrumbList";const vd=y.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,className:U("inline-flex items-center gap-1.5",e),...t}));vd.displayName="BreadcrumbItem";const tw=y.forwardRef(({asChild:e,className:t,...r},n)=>{const a=e?Fr:"a";return i.jsx(a,{ref:n,className:U("transition-colors hover:text-foreground",t),...r})});tw.displayName="BreadcrumbLink";const rS=y.forwardRef(({className:e,...t},r)=>i.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:U("font-normal text-foreground",e),...t}));rS.displayName="BreadcrumbPage";const rw=({children:e,className:t,...r})=>i.jsx("li",{role:"presentation","aria-hidden":"true",className:U("[&>svg]:size-3.5",t),...r,children:e??i.jsx(ni,{})});rw.displayName="BreadcrumbSeparator";const eee=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=[{name:"Service Quality",range:[0,2]},{name:"Customer Experience",range:[3,5]},{name:"Overall Satisfaction",range:[6,t-1]}],s=n.find(o=>e>=o.range[0]&&e<=o.range[1]);return i.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:i.jsx(eS,{children:i.jsx(tS,{className:"flex-wrap",children:n.map((o,l)=>{const c=o===s,u=o.range.every(d=>r.includes(d));return i.jsx(vd,{className:"flex items-center",children:i.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full transition-all ${c?"bg-blue-100 text-blue-700":u?"bg-green-100 text-green-700":"text-gray-500"}`,children:[u?i.jsx(zr,{className:"h-4 w-4"}):i.jsx(ov,{className:"h-4 w-4"}),i.jsx(rS,{className:"font-medium",children:o.name})]})},o.name)})})})})},tee=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=(e+1)/t*100,a=()=>n<25?"Great start! Your feedback matters.":n<50?"You're doing amazing! Keep going.":n<75?"Almost there! Your input is valuable.":"Final stretch! Thank you for your time.",s=()=>n<33?i.jsx(uv,{className:"h-4 w-4 text-blue-600"}):n<66?i.jsx(Ct,{className:"h-4 w-4 text-orange-600"}):i.jsx(Za,{className:"h-4 w-4 text-green-600"});return i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-orange-50 rounded-xl p-4 border border-blue-200/50",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[s(),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:a()})]}),i.jsxs("div",{className:"text-sm font-bold text-orange-600",children:[Math.round(n),"%"]})]})})},ree=({currentIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:a})=>{const s=a<30?"fast":a<60?"steady":"thoughtful",o=()=>{switch(s){case"fast":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"steady":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}},l=()=>{switch(s){case"fast":return i.jsx(Ct,{className:"h-3 w-3"});case"steady":return i.jsx(uv,{className:"h-3 w-3"});default:return i.jsx(Za,{className:"h-3 w-3"})}};return i.jsxs("div",{className:"flex items-center justify-between mb-6 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"font-medium",children:[e+1," of ",t]}),r.includes(e)&&i.jsx(zr,{className:"h-4 w-4 text-green-500"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(ai,{className:"h-4 w-4 text-blue-500"}),i.jsxs("span",{children:["~",n,"s left"]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Za,{className:"h-4 w-4 text-orange-500"}),i.jsxs("span",{children:[a,"s avg"]})]}),i.jsx(ke,{className:`${o()} shadow-sm border`,children:i.jsxs("div",{className:"flex items-center space-x-1",children:[l(),i.jsx("span",{className:"font-medium",children:s})]})})]})]})},nee=({currentIndex:e,totalQuestions:t,completedQuestions:r})=>{const n=(e+1)/t*100;return i.jsxs("div",{className:"mb-4 bg-white/80 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[r.includes(e)?i.jsx(zr,{className:"h-5 w-5 text-green-500"}):i.jsx(ov,{className:"h-5 w-5 text-gray-400"}),i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e+1," of ",t]})]}),i.jsxs("span",{className:"text-sm font-bold text-orange-600",children:[Math.round(n),"%"]})]}),i.jsx("div",{className:"relative w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-orange-500 rounded-full transition-all duration-500",style:{width:`${n}%`}})}),i.jsx("div",{className:"flex justify-center mt-2",children:i.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(t,8)},(a,s)=>i.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${s<=e?"bg-blue-500":"bg-gray-300"}`},s))})})]})},aee=({currentQuestionIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:a})=>{const{isMobile:s}=Na(),{colors:o}=zv();return s?i.jsx(nee,{currentIndex:e,totalQuestions:t,completedQuestions:r}):i.jsxs("div",{className:"mb-8 p-4 rounded-lg border",style:{backgroundColor:`${o.primary}08`,borderColor:`${o.primary}30`},role:"progressbar","aria-valuenow":e+1,"aria-valuemin":1,"aria-valuemax":t,children:[i.jsx(eee,{currentIndex:e,totalQuestions:t,completedQuestions:r}),i.jsx(ree,{currentIndex:e,totalQuestions:t,completedQuestions:r,estimatedTimeRemaining:n,averageResponseTime:a}),i.jsx(tee,{currentIndex:e,totalQuestions:t,completedQuestions:r})]})},see=({value:e,onChange:t,max:r=5})=>i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"flex space-x-2",children:Array.from({length:r},(n,a)=>{const s=a+1;return i.jsx("button",{type:"button",onClick:()=>t(s),className:"transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[#007ACE] rounded","aria-label":`Rate ${s} out of ${r} stars`,children:i.jsx(Za,{className:`h-10 w-10 ${s<=e?"text-yellow-400 fill-yellow-400":"text-gray-300 hover:text-yellow-400"}`})},a)})}),e>0&&i.jsx("div",{className:"text-center",children:i.jsxs("span",{className:"text-lg font-medium text-[#073763]",children:[e," out of ",r," stars"]})})]}),iee=({value:e,onChange:t})=>{const r=a=>a<=6?"Detractor":a<=8?"Passive":"Promoter",n=a=>a<=6?"text-red-600":a<=8?"text-yellow-600":"text-green-600";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[i.jsx("span",{children:"Not likely at all"}),i.jsx("span",{children:"Extremely likely"})]}),i.jsx("div",{className:"grid grid-cols-11 gap-2",children:Array.from({length:11},(a,s)=>i.jsx("button",{type:"button",onClick:()=>t(s),className:`
              h-12 w-full rounded-lg border-2 transition-all duration-200 
              font-medium text-sm hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#007ACE]
              ${e===s?"bg-gradient-to-r from-[#073763] to-[#007ACE] text-white border-[#073763]":"bg-white border-gray-300 text-gray-700 hover:border-[#007ACE]"}
            `,"aria-label":`Rate ${s} out of 10`,children:s},s))}),e!==void 0&&i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"text-lg font-medium text-[#073763]",children:["Score: ",e,"/10"]}),i.jsx("div",{className:`text-sm font-medium ${n(e)}`,children:r(e)})]})]})},oee=({value:e,onChange:t,scale:r={min:1,max:5,minLabel:"Strongly Disagree",maxLabel:"Strongly Agree"}})=>{const{min:n,max:a,minLabel:s,maxLabel:o}=r,l=Array.from({length:a-n+1},(u,d)=>n+d),c=u=>u===n?s:u===a?o:a-n===4?["","Disagree","Neutral","Agree",""][u-n]:`${u}`;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-4",children:[i.jsx("span",{children:s}),i.jsx("span",{children:o})]}),i.jsx("div",{className:"space-y-3",children:l.map(u=>i.jsxs("label",{className:`
              flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
              hover:bg-blue-50 hover:border-[#007ACE]
              ${e===u?"bg-gradient-to-r from-[#073763] to-[#007ACE] text-white border-[#073763]":"bg-white border-gray-300"}
            `,children:[i.jsx("input",{type:"radio",name:"likert",value:u,checked:e===u,onChange:()=>t(u),className:"sr-only"}),i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("span",{className:"font-medium",children:c(u)}),i.jsxs("span",{className:"text-sm opacity-75",children:["(",u,")"]})]})]},u))})]})};var nS="Checkbox",[lee,p2e]=dr(nS),[cee,uee]=lee(nS),I5=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=y.useState(null),g=we(t,j=>m(j)),p=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[b=!1,x]=wr({prop:a,defaultProp:s,onChange:u}),w=y.useRef(b);return y.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const _=()=>x(w.current);return j.addEventListener("reset",_),()=>j.removeEventListener("reset",_)}},[h,x]),i.jsxs(cee,{scope:r,state:b,disabled:l,children:[i.jsx(ue.button,{type:"button",role:"checkbox","aria-checked":Js(b)?"mixed":b,"aria-required":o,"data-state":F5(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onKeyDown:J(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:J(e.onClick,j=>{x(_=>Js(_)?!0:!_),v&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),v&&i.jsx(dee,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Js(s)?!1:s})]})});I5.displayName=nS;var D5="CheckboxIndicator",L5=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=uee(D5,r);return i.jsx(Ur,{present:n||Js(s.state)||s.state===!0,children:i.jsx(ue.span,{"data-state":F5(s.state),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});L5.displayName=D5;var dee=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...s}=e,o=y.useRef(null),l=rh(r),c=Kf(t);y.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const g=new Event("click",{bubbles:n});d.indeterminate=Js(r),m.call(d,Js(r)?!1:r),d.dispatchEvent(g)}},[l,r,n]);const u=y.useRef(Js(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...s,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Js(e){return e==="indeterminate"}function F5(e){return Js(e)?"indeterminate":e?"checked":"unchecked"}var z5=I5,fee=L5;const U5=y.forwardRef(({className:e,...t},r)=>i.jsx(z5,{ref:r,className:U("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(fee,{className:U("flex items-center justify-center text-current"),children:i.jsx(Wf,{className:"h-4 w-4"})})}));U5.displayName=z5.displayName;var aS="Radio",[hee,B5]=dr(aS),[mee,pee]=hee(aS),q5=y.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:s,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=y.useState(null),m=we(t,v=>h(v)),g=y.useRef(!1),p=f?u||!!f.closest("form"):!0;return i.jsxs(mee,{scope:r,checked:a,disabled:o,children:[i.jsx(ue.button,{type:"button",role:"radio","aria-checked":a,"data-state":H5(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:J(e.onClick,v=>{a||c==null||c(),p&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),p&&i.jsx(gee,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});q5.displayName=aS;var W5="RadioIndicator",V5=y.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,s=pee(W5,r);return i.jsx(Ur,{present:n||s.checked,children:i.jsx(ue.span,{"data-state":H5(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})})});V5.displayName=W5;var gee=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,s=y.useRef(null),o=rh(r),l=Kf(t);return y.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function H5(e){return e?"checked":"unchecked"}var vee=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sS="RadioGroup",[yee,g2e]=dr(sS,[Qc,B5]),K5=Qc(),G5=B5(),[xee,bee]=yee(sS),Y5=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:s,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=K5(r),g=Mo(u),[p,v]=wr({prop:s,defaultProp:a,onChange:f});return i.jsx(xee,{scope:r,name:n,required:o,disabled:l,value:p,onValueChange:v,children:i.jsx(d_,{asChild:!0,...m,orientation:c,dir:g,loop:d,children:i.jsx(ue.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});Y5.displayName=sS;var Q5="RadioGroupItem",X5=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,s=bee(Q5,r),o=s.disabled||n,l=K5(r),c=G5(r),u=y.useRef(null),d=we(t,u),f=s.value===a.value,h=y.useRef(!1);return y.useEffect(()=>{const m=p=>{vee.includes(p.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),i.jsx(f_,{asChild:!0,...l,focusable:!o,active:f,children:i.jsx(q5,{disabled:o,required:s.required,checked:f,...c,...a,name:s.name,ref:d,onCheck:()=>s.onValueChange(a.value),onKeyDown:J(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:J(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});X5.displayName=Q5;var wee="RadioGroupIndicator",J5=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=G5(r);return i.jsx(V5,{...a,...n,ref:t})});J5.displayName=wee;var Z5=Y5,eL=X5,jee=J5;const iS=y.forwardRef(({className:e,...t},r)=>i.jsx(Z5,{className:U("grid gap-2",e),...t,ref:r}));iS.displayName=Z5.displayName;const oS=y.forwardRef(({className:e,...t},r)=>i.jsx(eL,{ref:r,className:U("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(jee,{className:"flex items-center justify-center",children:i.jsx(ov,{className:"h-2.5 w-2.5 fill-current text-current"})})}));oS.displayName=eL.displayName;const _ee=({options:e,value:t,onChange:r,multiple:n})=>{const a=o=>{r(o)},s=(o,l)=>{const c=Array.isArray(t)?t:[];r(l?[...c,o]:c.filter(u=>u!==o))};return n?i.jsx("div",{className:"space-y-3",children:e.map((o,l)=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-blue-50 transition-colors",children:[i.jsx(U5,{id:`option-${l}`,checked:Array.isArray(t)&&t.includes(o),onCheckedChange:c=>s(o,c),className:"data-[state=checked]:bg-[#073763] data-[state=checked]:border-[#073763]"}),i.jsx("label",{htmlFor:`option-${l}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:o})]},l))}):i.jsx(iS,{value:t,onValueChange:a,children:i.jsx("div",{className:"space-y-3",children:e.map((o,l)=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-blue-50 transition-colors",children:[i.jsx(oS,{value:o,id:`option-${l}`,className:"border-[#073763] text-[#073763]"}),i.jsx("label",{htmlFor:`option-${l}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:o})]},l))})})},So=y.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:U("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));So.displayName="Textarea";const See=({value:e,onChange:t,placeholder:r="Please share your thoughts...",maxLength:n=500})=>i.jsxs("div",{className:"space-y-3",children:[i.jsx(So,{value:e,onChange:a=>t(a.target.value),placeholder:r,maxLength:n,className:"min-h-[120px] resize-none border-gray-300 focus:border-[#007ACE] focus:ring-[#007ACE]"}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[i.jsx("span",{children:"Share any additional thoughts or suggestions"}),i.jsxs("span",{children:[e.length,"/",n]})]})]}),Nee=({value:e,onChange:t,options:r})=>{const n=r.filter(s=>s&&s.trim()),a=n.length>0?n:["","",""];return i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"flex space-x-4",children:a.map((s,o)=>i.jsx("button",{type:"button",onClick:()=>t(s),className:`text-6xl p-4 rounded-full transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[#f97316] ${e===s?"bg-orange-100 scale-110":"hover:bg-gray-100"}`,"aria-label":`Select ${s} rating`,children:s},o))}),e&&i.jsx("div",{className:"text-center",children:i.jsxs("span",{className:"text-lg font-medium text-[#073763]",children:["You selected: ",e]})})]})},Eee=({value:e,onChange:t,options:r})=>{const[n,a]=y.useState(e||[...r]);y.useEffect(()=>{e&&e.length>0?a(e):a([...r])},[e,r]);const s=(c,u)=>{c.dataTransfer.setData("text/plain",u.toString())},o=c=>{c.preventDefault()},l=(c,u)=>{c.preventDefault();const d=parseInt(c.dataTransfer.getData("text/plain")),f=[...n],h=f[d];f.splice(d,1),f.splice(u,0,h),a(f),t(f)};return i.jsxs("div",{className:"space-y-2",children:[n.map((c,u)=>i.jsxs("div",{draggable:!0,onDragStart:d=>s(d,u),onDragOver:o,onDrop:d=>l(d,u),className:"flex items-center p-3 bg-white border border-gray-200 rounded-lg cursor-move hover:shadow-md transition-shadow",children:[i.jsx("span",{className:"flex items-center justify-center w-8 h-8 bg-[#f97316] text-white rounded-full text-sm font-medium mr-3",children:u+1}),i.jsx(h9,{className:"h-5 w-5 text-gray-400 mr-3"}),i.jsx("span",{className:"flex-1 text-gray-800",children:c})]},c)),i.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Drag and drop to reorder items by importance (1 = most important)"})]})},Pee=({value:e={},onChange:t,options:r,scale:n={min:1,max:5}})=>{const a=(s,o)=>{t({...e,[s]:o})};return i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-3 border-b border-gray-200",children:"Aspect"}),Array.from({length:n.max-n.min+1},(s,o)=>i.jsx("th",{className:"text-center p-3 border-b border-gray-200 min-w-[60px]",children:n.min+o},o))]})}),i.jsx("tbody",{children:r.map(s=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"p-3 border-b border-gray-100 font-medium",children:s}),Array.from({length:n.max-n.min+1},(o,l)=>{var u;const c=n.min+l;return i.jsx("td",{className:"p-3 border-b border-gray-100 text-center",children:i.jsx(iS,{value:((u=e[s])==null?void 0:u.toString())||"",onValueChange:d=>a(s,parseInt(d)),children:i.jsx(oS,{value:c.toString()})})},c)})]},s))})]}),i.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[i.jsx("span",{children:n.minLabel||`${n.min} - Poor`}),i.jsx("span",{children:n.maxLabel||`${n.max} - Excellent`})]})]})};var tL=["PageUp","PageDown"],rL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nL={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ou="Slider",[nw,kee,Cee]=Ic(ou),[aL,v2e]=dr(ou,[Cee]),[Oee,Uv]=aL(ou),sL=y.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:g,...p}=e,v=y.useRef(new Set),b=y.useRef(0),w=o==="horizontal"?Aee:Tee,[j=[],_]=wr({prop:d,defaultProp:u,onChange:T=>{var D;(D=[...v.current][b.current])==null||D.focus(),f(T)}}),S=y.useRef(j);function N(T){const A=Dee(j,T);k(T,A)}function E(T){k(T,b.current)}function C(){const T=S.current[b.current];j[b.current]!==T&&h(j)}function k(T,A,{commit:D}={commit:!1}){const R=Uee(s),L=Bee(Math.round((T-n)/s)*s+n,R),I=kp(L,[n,a]);_((F=[])=>{const O=$ee(F,I,A);if(zee(O,c*s)){b.current=O.indexOf(I);const $=String(O)!==String(F);return $&&D&&h(O),$?O:F}else return F})}return i.jsx(Oee,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:b,thumbs:v.current,values:j,orientation:o,form:g,children:i.jsx(nw.Provider,{scope:e.__scopeSlider,children:i.jsx(nw.Slot,{scope:e.__scopeSlider,children:i.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:J(p.onPointerDown,()=>{l||(S.current=j)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:N,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&k(n,0,{commit:!0}),onEndKeyDown:()=>!l&&k(a,j.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:A})=>{if(!l){const L=tL.includes(T.key)||T.shiftKey&&rL.includes(T.key)?10:1,I=b.current,F=j[I],O=s*L*A;k(F+O,I,{commit:!0})}}})})})})});sL.displayName=ou;var[iL,oL]=aL(ou,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Aee=y.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=y.useState(null),m=we(t,w=>h(w)),g=y.useRef(),p=Mo(a),v=p==="ltr",b=v&&!s||!v&&s;function x(w){const j=g.current||f.getBoundingClientRect(),_=[0,j.width],N=lS(_,b?[r,n]:[n,r]);return g.current=j,N(w-j.left)}return i.jsx(iL,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:i.jsx(lL,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=x(w.clientX);o==null||o(j)},onSlideMove:w=>{const j=x(w.clientX);l==null||l(j)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:w=>{const _=nL[b?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:_?-1:1})}})})}),Tee=y.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=y.useRef(null),f=we(t,d),h=y.useRef(),m=!a;function g(p){const v=h.current||d.current.getBoundingClientRect(),b=[0,v.height],w=lS(b,m?[n,r]:[r,n]);return h.current=v,w(p-v.top)}return i.jsx(iL,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:i.jsx(lL,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const v=g(p.clientY);s==null||s(v)},onSlideMove:p=>{const v=g(p.clientY);o==null||o(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const b=nL[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:b?-1:1})}})})}),lL=y.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Uv(ou,r);return i.jsx(ue.span,{...u,ref:t,onKeyDown:J(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):tL.concat(rL).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:J(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:J(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:J(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),cL="SliderTrack",uL=y.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Uv(cL,r);return i.jsx(ue.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});uL.displayName=cL;var aw="SliderRange",dL=y.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Uv(aw,r),s=oL(aw,r),o=y.useRef(null),l=we(t,o),c=a.values.length,u=a.values.map(h=>hL(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(ue.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});dL.displayName=aw;var sw="SliderThumb",fL=y.forwardRef((e,t)=>{const r=kee(e.__scopeSlider),[n,a]=y.useState(null),s=we(t,l=>a(l)),o=y.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(Ree,{...e,ref:s,index:o})}),Ree=y.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...s}=e,o=Uv(sw,r),l=oL(sw,r),[c,u]=y.useState(null),d=we(t,x=>u(x)),f=c?o.form||!!c.closest("form"):!0,h=Kf(c),m=o.values[n],g=m===void 0?0:hL(m,o.min,o.max),p=Iee(n,o.values.length),v=h==null?void 0:h[l.size],b=v?Lee(v,g,l.direction):0;return y.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${b}px)`},children:[i.jsx(nw.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(ue.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:J(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&i.jsx(Mee,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});fL.displayName=sw;var Mee=e=>{const{value:t,...r}=e,n=y.useRef(null),a=rh(t);return y.useEffect(()=>{const s=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&c){const u=new Event("input",{bubbles:!0});c.call(s,t),s.dispatchEvent(u)}},[a,t]),i.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function $ee(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,s)=>a-s)}function hL(e,t,r){const s=100/(r-t)*(e-t);return kp(s,[0,100])}function Iee(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Dee(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function Lee(e,t,r){const n=e/2,s=lS([0,50],[0,n]);return(n-s(t)*r)*r}function Fee(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function zee(e,t){if(t>0){const r=Fee(e);return Math.min(...r)>=t}return!0}function lS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Uee(e){return(String(e).split(".")[1]||"").length}function Bee(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var mL=sL,qee=uL,Wee=dL,Vee=fL;const pL=y.forwardRef(({className:e,...t},r)=>i.jsxs(mL,{ref:r,className:U("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(qee,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(Wee,{className:"absolute h-full bg-primary"})}),i.jsx(Vee,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));pL.displayName=mL.displayName;const Hee=({value:e,onChange:t,scale:r={min:1,max:10}})=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"px-3",children:i.jsx(pL,{value:[e||r.min],onValueChange:n=>t(n[0]),min:r.min,max:r.max,step:1,className:"w-full"})}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsx("span",{children:r.minLabel||`${r.min}`}),i.jsx("span",{className:"text-lg font-medium text-[#f97316]",children:e||r.min}),i.jsx("span",{children:r.maxLabel||`${r.max}`})]}),i.jsx("div",{className:"flex justify-between text-xs text-gray-500",children:Array.from({length:r.max-r.min+1},(n,a)=>i.jsx("span",{className:"text-center",children:r.min+a},a))})]}),Kee=({children:e,title:t,required:r,isAnswered:n,className:a=""})=>i.jsxs(H,{className:`
      mb-6 shadow-lg border-0 
      animate-fade-in
      transition-all duration-300 ease-out
      hover:shadow-xl hover:scale-[1.02]
      ${n?"ring-2 ring-green-400 ring-opacity-50":""}
      ${a}
    `,children:[i.jsxs(se,{className:`
        bg-gradient-to-r from-[#f97316] to-[#fb923c] text-white rounded-t-lg 
        relative overflow-hidden
        ${n?"bg-gradient-to-r from-green-500 to-green-600":""}
      `,children:[i.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ie,{className:"text-xl pr-4 animate-fade-in",children:t}),r&&i.jsxs("span",{className:"text-orange-200 text-sm flex items-center mt-1 animate-fade-in",children:[i.jsx("span",{className:"text-red-300 mr-1",children:"*"}),"Required"]})]}),n&&i.jsx(zr,{className:"h-6 w-6 text-green-300 flex-shrink-0 animate-scale-in"})]}),n&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 to-green-600/20 animate-fade-in"})]}),i.jsx(K,{className:"p-6 transition-all duration-200",children:e})]}),Gee=({children:e,title:t,required:r,isAnswered:n})=>i.jsxs(H,{className:`
      mb-20 shadow-lg border-0 mx-2
      animate-fade-in
      transition-all duration-300 ease-out
      ${n?"ring-2 ring-green-400 ring-opacity-50":""}
    `,children:[i.jsx(se,{className:`
        bg-gradient-to-r from-[#f97316] to-[#fb923c] text-white rounded-t-lg 
        relative overflow-hidden p-4
        ${n?"bg-gradient-to-r from-green-500 to-green-600":""}
      `,children:i.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[i.jsxs("div",{className:"flex-1 pr-2",children:[i.jsx(ie,{className:"text-lg leading-tight animate-fade-in",children:t}),r&&i.jsxs("span",{className:"text-orange-200 text-xs flex items-center mt-1",children:[i.jsx("span",{className:"text-red-300 mr-1",children:"*"}),"Required"]})]}),n&&i.jsx(zr,{className:"h-6 w-6 text-green-300 flex-shrink-0 animate-scale-in"})]})}),i.jsx(K,{className:"p-4",children:e})]}),Yee=({children:e,className:t=""})=>{const{isMobile:r,isTouchDevice:n}=Na(),a=`
    ${r&&n?"touch-manipulation":""}
    ${r?"min-h-[44px]":"min-h-[40px]"}
    ${t}
  `;return i.jsx("div",{className:a,style:{WebkitTapHighlightColor:"transparent"},children:e})},Qee=({question:e,value:t,onChange:r,validation:n})=>{const{isMobile:a}=Na(),s=t!=null&&t!=="",o=(n==null?void 0:n.isValid)!==!1,l=()=>{const u={value:t,onChange:r};switch(e.type){case"star":return i.jsx(see,{...u});case"nps":return i.jsx(iee,{...u});case"likert":return i.jsx(oee,{...u,scale:e.scale});case"emoji":return i.jsx(Nee,{...u,options:e.options||[]});case"ranking":return i.jsx(Eee,{...u,options:e.options||[]});case"matrix":return i.jsx(Pee,{...u,options:e.options||[],scale:e.scale});case"slider":return i.jsx(Hee,{...u,scale:e.scale});case"single-choice":case"multi-choice":return i.jsx(_ee,{options:e.options||[],...u,multiple:e.type==="multi-choice"});case"text":return i.jsx(See,{value:t||"",onChange:r,placeholder:"Please share your thoughts..."});default:return null}},c=a?Gee:Kee;return i.jsxs(c,{title:e.question,required:e.required,isAnswered:s&&o,children:[(n==null?void 0:n.errors)&&n.errors.length>0&&i.jsxs(ir,{className:"mb-4 border-red-200 bg-red-50 animate-fade-in",children:[i.jsx(Fc,{className:"h-4 w-4 text-red-600"}),i.jsx(or,{className:"text-red-700",children:n.errors[0]})]}),(n==null?void 0:n.warnings)&&n.warnings.length>0&&i.jsxs(ir,{className:"mb-4 border-yellow-200 bg-yellow-50 animate-fade-in",children:[i.jsx(iM,{className:"h-4 w-4 text-yellow-600"}),i.jsx(or,{className:"text-yellow-700",children:n.warnings[0]})]}),i.jsx(Yee,{children:i.jsx("div",{role:"group","aria-labelledby":`question-${e.id}`,className:"animate-fade-in",children:l()})})]})},Xee=({currentQuestionIndex:e,totalQuestions:t,canGoNext:r,onPrevious:n,onNext:a})=>{const s=e===t-1;return i.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:i.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-3",children:i.jsxs("div",{className:"flex justify-between items-center gap-3",children:[i.jsxs(ee,{variant:"outline",size:"lg",onClick:n,disabled:e===0,className:"flex-1 border-[#073763] text-[#073763] hover:bg-[#073763] hover:text-white disabled:opacity-30",children:[i.jsx(tM,{className:"h-5 w-5 mr-1"}),"Previous"]}),i.jsx(ee,{size:"lg",onClick:a,disabled:!r,className:"flex-1 bg-gradient-to-r from-[#073763] to-[#007ACE] hover:from-[#062c52] hover:to-[#0066a6] text-white disabled:opacity-30",children:s?i.jsxs(i.Fragment,{children:[i.jsx(N9,{className:"h-5 w-5 mr-1"}),"Submit"]}):i.jsxs(i.Fragment,{children:["Next",i.jsx(ni,{className:"h-5 w-5 ml-1"})]})})]})})})},Jee=e=>{const{isMobile:t}=Na();if(t)return i.jsx(Xee,{...e});const{currentQuestionIndex:r,totalQuestions:n,canGoNext:a,onPrevious:s,onNext:o}=e,l=r===n-1;return i.jsxs("div",{className:"flex justify-between items-center animate-fade-in",children:[i.jsxs(Ip,{variant:"outline",onClick:s,disabled:r===0,className:"flex items-center gap-2",children:[i.jsx(tM,{size:16}),"Previous"]}),i.jsxs(Ip,{onClick:o,disabled:!a,className:"flex items-center gap-2",children:[l?"Submit":"Next",!l&&i.jsx(ni,{size:16})]})]})},Zee=({onNext:e,onPrevious:t,canGoNext:r,isFirstQuestion:n})=>(y.useEffect(()=>{const a=s=>{if(!(s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement))switch(s.key){case"ArrowRight":case"Enter":r&&(s.preventDefault(),e());break;case"ArrowLeft":n||(s.preventDefault(),t());break}};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e,t,r,n]),i.jsx("div",{className:"fixed bottom-4 right-4 bg-white/80 backdrop-blur-sm rounded-lg p-2 shadow-lg border text-xs text-gray-500",children:i.jsx("div",{children:"  Navigate  Enter Submit"})})),ete=({currentQuestion:e,responses:t,onSuggestionClick:r})=>{const a=(()=>{var l;const s=Object.values(t),o=s.filter(c=>typeof c=="number"&&c>=4||typeof c=="string"&&c.includes("good")).length/s.length;switch(e.type){case"star":return o>.6?[5,4]:[3,4];case"text":return o>.6?["Great service overall!","Very satisfied with the experience"]:["Could be improved","Good but has room for enhancement"];case"single-choice":return((l=e.options)==null?void 0:l.slice(0,2))||[];default:return[]}})();return a.length===0?null:i.jsxs(H,{className:"mt-4 bg-blue-50 border-blue-200 animate-fade-in",children:[i.jsx(se,{className:"pb-3",children:i.jsxs(ie,{className:"text-sm flex items-center gap-2 text-blue-700",children:[i.jsx(g9,{className:"h-4 w-4"}),"Smart Suggestions"]})}),i.jsx(K,{className:"pt-0",children:i.jsx("div",{className:"space-y-2",children:a.slice(0,2).map((s,o)=>i.jsxs(ee,{variant:"outline",size:"sm",className:"w-full justify-between text-left h-auto p-3 hover:bg-blue-100",onClick:()=>r(s),children:[i.jsx("span",{className:"truncate",children:String(s)}),i.jsx(Oj,{className:"h-3 w-3 ml-2 flex-shrink-0"})]},o))})})]})},tte=()=>{const[e,t]=y.useState(!1);return i.jsxs("div",{className:"mb-4 text-center",children:[i.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"text-gray-500 hover:text-gray-700",children:[i.jsx(iM,{className:"h-3 w-3 mr-1"}),"Data Usage",e?i.jsx(iv,{className:"h-3 w-3 ml-1"}):i.jsx(Lc,{className:"h-3 w-3 ml-1"})]}),e&&i.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg text-xs text-gray-600 animate-fade-in",children:[i.jsx("p",{children:"Your responses are stored locally and used only for feedback analysis."}),i.jsx("p",{className:"mt-1",children:"No personal information is collected or shared."})]})]})},rte=({onSave:e,onPause:t,hasUnsavedChanges:r})=>{const{toast:n}=cn(),a=()=>{e(),n({title:"Progress saved",description:"You can continue later from where you left off"})};return i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsxs(ee,{variant:"outline",size:"sm",onClick:a,disabled:!r,className:"text-xs",children:[i.jsx(cv,{className:"h-3 w-3 mr-1"}),"Save Progress"]}),i.jsxs(ee,{variant:"outline",size:"sm",onClick:t,className:"text-xs",children:[i.jsx(lM,{className:"h-3 w-3 mr-1"}),"Pause & Exit"]})]})},nte=({children:e,className:t=""})=>{const{isMobile:r,isTablet:n}=Na(),{colors:a}=zv(),s=`
    ${r?"px-4 py-2":n?"px-6 py-4":"px-8 py-6"}
    ${r?"max-w-full":n?"max-w-3xl":"max-w-4xl"}
    mx-auto min-h-screen
    ${t}
  `,o={background:`linear-gradient(135deg, ${a.primary}08 0%, ${a.secondary}08 50%, ${a.accent}08 100%)`};return i.jsx("div",{className:s,style:o,children:e})},ate=()=>{const{organization:e,colors:t,headerTitle:r,headerSubtitle:n}=iu();return e?i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50 to-orange-50 rounded-2xl opacity-50"}),i.jsx("div",{className:"relative text-center py-4 px-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${t.primary}, ${t.secondary})`},children:r}),i.jsx("p",{className:"text-sm md:text-base text-gray-600 max-w-2xl mx-auto leading-relaxed",children:n}),i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500 pt-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{children:"Secure & Confidential"})]})]})})]}):null},ste=()=>null,ite=({questions:e,currentQuestionIndex:t,responses:r,completedQuestions:n,hasConsented:a,canGoNext:s,estimatedTimeRemaining:o,averageResponseTime:l,hasUnsavedChanges:c,onQuestionResponse:u,onNext:d,onPrevious:f,onSaveProgress:h,onPauseAndExit:m,getValidationResult:g})=>{const{isMobile:p}=Na(),v=e[t];return a?i.jsxs(nte,{children:[i.jsx(ste,{}),i.jsx(ate,{}),i.jsxs("div",{className:`bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 ${p?"p-4":"p-8"}`,children:[i.jsx(aee,{currentQuestionIndex:t,totalQuestions:e.length,completedQuestions:n,estimatedTimeRemaining:o,averageResponseTime:l}),i.jsx(Qee,{question:v,value:r[v==null?void 0:v.id],onChange:b=>u(v.id,b),validation:g(v==null?void 0:v.id)}),!p&&i.jsx(ete,{currentQuestion:v,responses:r,onSuggestionClick:b=>u(v.id,b)}),!p&&i.jsx("div",{className:"my-6",children:i.jsx(rte,{onSave:h,onPause:m,hasUnsavedChanges:c})}),i.jsx(Jee,{currentQuestionIndex:t,totalQuestions:e.length,canGoNext:s,onPrevious:f,onNext:d}),!p&&i.jsx(tte,{})]}),!p&&i.jsx(Zee,{onNext:d,onPrevious:f,canGoNext:s,isFirstQuestion:t===0})]}):null},ote=({isVisible:e,onAccept:t})=>{const{colors:r,organizationName:n}=zv();if(!e)return null;const a={background:`linear-gradient(135deg, ${r.primary}dd 0%, ${r.secondary}dd 50%, ${r.accent}dd 100%)`};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:a,children:i.jsxs(H,{className:"max-w-2xl w-full shadow-2xl border-0 overflow-hidden",children:[i.jsx($5,{title:`${n} Feedback`,subtitle:"Your feedback drives our commitment to excellence. Share your experience to help us serve you better.",showSecureIndicator:!0}),i.jsx(K,{className:"p-8",children:i.jsxs("div",{className:"border rounded-lg p-6",style:{backgroundColor:`${r.primary}08`,borderColor:`${r.primary}30`},children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(zc,{className:"h-5 w-5",style:{color:r.primary}}),i.jsx("h3",{className:"text-lg font-semibold",style:{color:r.primary},children:"Your Privacy Matters"})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 text-sm",style:{color:r.textSecondary},children:[i.jsx(Aj,{className:"h-4 w-4",style:{color:r.secondary}}),i.jsx("span",{children:"Encrypted & Secure"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm",style:{color:r.textSecondary},children:[i.jsx(zs,{className:"h-4 w-4",style:{color:r.secondary}}),i.jsx("span",{children:"Anonymous & Confidential"})]})]}),i.jsx("div",{className:"text-center",children:i.jsx(Ip,{onClick:t,size:"lg",className:"px-12 py-3 text-lg",children:"I understand"})})]})})]})})},lte=({isOpen:e,responses:t,questions:r,onClose:n})=>{const{organization:a,logoAsset:s,colors:o,thankYouTitle:l,thankYouMessage:c}=iu();if(!a)return null;const u=t.reduce((m,g)=>m+(g.score||0),0),d=t.length>0?Math.round(u/t.length):0,f=Math.round(t.length/r.length*100),h=t.reduce((m,g)=>{const p=r.find(v=>v.id===g.questionId);return p&&p.category&&(m[p.category]||(m[p.category]={total:0,count:0}),m[p.category].total+=g.score||0,m[p.category].count+=1),m},{});return i.jsx(Xc,{open:e,onOpenChange:n,children:i.jsxs($o,{className:"sm:max-w-lg bg-gradient-to-br from-white to-gray-50 border-0 shadow-2xl",children:[i.jsxs(Io,{className:"text-center space-y-6 pb-6",children:[i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center shadow-lg",style:{backgroundColor:`${o.primary}10`},children:i.jsx(zr,{className:"w-12 h-12",style:{color:o.primary}})}),i.jsx("div",{className:"absolute -inset-2 rounded-full blur-lg opacity-30",style:{backgroundColor:o.primary}})]}),(s==null?void 0:s.asset_url)&&i.jsx("img",{src:s.asset_url,alt:s.asset_name||`${a.name} Logo`,className:"h-12 w-auto opacity-80"})]}),i.jsx(Do,{className:"text-3xl font-bold bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${o.primary}, ${o.secondary})`},children:l})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("p",{className:"text-center text-gray-700 text-lg leading-relaxed px-4",children:c}),i.jsxs("div",{className:"p-6 bg-white/60 rounded-xl border border-gray-100",children:[i.jsx("h3",{className:"text-lg font-semibold text-center mb-4",style:{color:o.primary},children:"Your Feedback Summary"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx(Za,{className:"w-6 h-6 mr-1",style:{color:o.primary}})}),i.jsxs("div",{className:"text-2xl font-bold",style:{color:o.primary},children:[d,"/5"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx(zr,{className:"w-6 h-6 mr-1",style:{color:o.primary}})}),i.jsxs("div",{className:"text-2xl font-bold",style:{color:o.primary},children:[f,"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),Object.keys(h).length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 text-center",children:"Ratings by Category:"}),Object.entries(h).map(([m,g])=>i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:m}),i.jsxs("span",{className:"font-medium",style:{color:o.primary},children:[Math.round(g.total/g.count),"/5"]})]},m))]})]}),i.jsx("div",{className:"flex justify-center pt-4",children:i.jsx(ee,{onClick:n,size:"lg",className:"text-white font-semibold px-8 py-3 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",style:{backgroundColor:o.primary,background:`linear-gradient(135deg, ${o.primary}, ${o.secondary})`},children:"Complete"})})]})]})})},cte=({showPrivacyNotice:e,isComplete:t,finalResponses:r,questions:n,onAcceptPrivacy:a,onReset:s})=>i.jsxs(i.Fragment,{children:[i.jsx(ote,{isVisible:e,onAccept:a}),i.jsx(lte,{isOpen:t,responses:r,questions:n,onClose:s})]}),Ax=({orgLoading:e,orgError:t,organization:r})=>e?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}):t||!r?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-orange-50 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center max-w-md",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Organization Not Found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:t||"The requested organization could not be found or is not active."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):null,Tx="https://rigurrwjiaucodxuuzeh.supabase.co/functions/v1/questions-crud",Rx=async()=>{const{data:{session:e},error:t}=await G.auth.getSession();if(t||!(e!=null&&e.access_token))throw new Error("Authentication required");return{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"}},Mx=async e=>{if(!e.ok){let t;try{t=await e.json()}catch{t={error:`HTTP ${e.status}: ${e.statusText}`}}console.error("API Error Response:",{status:e.status,statusText:e.statusText,error:t});const r=t.error||t.message||`HTTP ${e.status}: ${e.statusText}`;throw new Error(r)}try{return await e.json()}catch(t){throw console.error("Error parsing response JSON:",t),new Error("Invalid response format from server")}},ute=e=>{var t,r;return{id:e.id,type:e.question_type,question:e.question_text,required:e.is_required||!1,category:e.category,options:((t=e.question_options)==null?void 0:t.map(n=>n.option_text))||[],scale:(r=e.question_scale_config)!=null&&r[0]?{min:e.question_scale_config[0].min_value,max:e.question_scale_config[0].max_value,minLabel:e.question_scale_config[0].min_label,maxLabel:e.question_scale_config[0].max_label}:void 0}},dte=async e=>{if(!e)return console.warn("fetchQuestions called without organizationSlug"),[];try{const{data:t,error:r}=await G.functions.invoke("public-questions",{body:{organizationSlug:e}});if(r)throw console.error("Error fetching questions for form:",r),r;return t.map(ute)}catch(t){throw console.error("Error fetching questions for form:",t),t}},el={async getQuestions(){try{const e=await Rx(),t=await fetch(Tx,{method:"GET",headers:e}),r=await Mx(t);return console.log("Successfully fetched questions:",(r==null?void 0:r.length)||0),r}catch(e){throw console.error("Error fetching questions:",e),e}},async createQuestion(e){try{console.log("Creating question:",e);const t=await Rx(),r=await fetch(Tx,{method:"POST",headers:t,body:JSON.stringify(e)}),n=await Mx(r);return console.log("Successfully created question:",n==null?void 0:n.id),n}catch(t){throw console.error("Error creating question:",t),t}},async updateQuestion(e,t){try{console.log("Updating question:",e,t);const r=await Rx(),n=await fetch(Tx,{method:"PUT",headers:r,body:JSON.stringify({id:e,...t})}),a=await Mx(n);return console.log("Successfully updated question:",a==null?void 0:a.id),a}catch(r){throw console.error("Error updating question:",r),r}},async deleteQuestion(e){try{console.log("Deleting question:",e);const{data:t,error:r}=await G.rpc("safe_delete_question",{question_uuid:e});if(r)throw console.error("Error deleting question:",r),r;const n={deleted:t,archived:!t};return console.log("Question deletion result:",n),n}catch(t){throw console.error("Error deleting question:",t),t}},async getQuestionTypes(){try{const{data:e,error:t}=await G.from("question_types").select("*").order("name");if(t)throw console.error("Error fetching question types:",t),t;return console.log("Successfully fetched question types:",(e==null?void 0:e.length)||0),e||[]}catch(e){return console.error("Error fetching question types:",e),[]}},async getQuestionCategories(){try{const{data:e,error:t}=await G.from("question_categories").select("*").order("name");if(t)throw console.error("Error fetching question categories:",t),t;return console.log("Successfully fetched question categories:",(e==null?void 0:e.length)||0),e||[]}catch(e){return console.error("Error fetching question categories:",e),[]}}},fte=e=>{const[t,r]=y.useState(0);return{currentQuestionIndex:t,goToNext:()=>{t<e-1&&r(o=>o+1)},goToPrevious:()=>{t>0&&r(o=>o-1)},resetNavigation:()=>{r(0)},isLastQuestion:t===e-1,isFirstQuestion:t===0}},hte=()=>{const[e,t]=y.useState({}),[r,n]=y.useState(!1),{organization:a}=c_(),{toast:s}=cn();return{responses:e,isSubmitting:r,handleResponse:(f,h)=>{t(m=>({...m,[f]:h}))},loadResponses:f=>{t(f)},generateFinalResponses:()=>Object.entries(e).map(([f,h])=>({questionId:f,value:h,score:Math.floor(Math.random()*5)+1,category:"QualityService"})),submitResponses:async(f,h)=>{if(!(a!=null&&a.id))throw new Error("Organization not found");n(!0);try{console.log("Submitting feedback via Edge Function...");const{data:m,error:g}=await G.functions.invoke("submit-feedback",{body:{responses:e,organizationId:a.id,questions:f,timingData:h}});if(g)throw g;if(!m.success)throw new Error(m.error||"Failed to submit feedback");return s({title:"Feedback submitted successfully!",description:`${m.responseCount} responses recorded`}),console.log("Feedback submitted successfully:",m),{id:m.sessionId,total_score:m.totalScore}}catch(m){throw console.error("Error submitting feedback:",m),s({title:"Error submitting feedback",description:"Please try again later",variant:"destructive"}),m}finally{n(!1)}},resetResponses:()=>{t({})},organizationId:a==null?void 0:a.id}},mte=(e,t,r=2e3)=>{cn();const n=y.useRef();return y.useEffect(()=>(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{try{localStorage.setItem(t,JSON.stringify(e)),console.log("Auto-saved form data")}catch(o){console.error("Failed to auto-save:",o)}},r),()=>{n.current&&clearTimeout(n.current)}),[e,t,r]),{loadSavedData:()=>{try{const o=localStorage.getItem(t);return o?JSON.parse(o):null}catch(o){return console.error("Failed to load saved data:",o),null}},clearSavedData:()=>{try{localStorage.removeItem(t),console.log("Cleared saved form data")}catch(o){console.error("Failed to clear saved data:",o)}}}},pte=()=>{const[e,t]=y.useState({}),r=y.useCallback((s,o)=>{const l=[],c=[];switch(s.required&&((o==null||o==="")&&l.push("This field is required"),(s.type==="multi-choice"||s.type==="ranking")&&Array.isArray(o)&&o.length===0&&l.push("Please select at least one option"),s.type==="matrix"&&(!o||Object.keys(o).length===0)&&l.push("Please rate all aspects")),s.type){case"text":o&&typeof o=="string"&&(o.length<3&&s.required&&c.push("Consider providing more detailed feedback"),o.length>500&&l.push("Response is too long (maximum 500 characters)"));break;case"star":o!==void 0&&(o<1||o>5)&&l.push("Rating must be between 1 and 5 stars");break;case"nps":o!==void 0&&(o<0||o>10)&&l.push("NPS score must be between 0 and 10");break;case"slider":const u=s.scale||{min:1,max:10};o!==void 0&&(o<u.min||o>u.max)&&l.push(`Value must be between ${u.min} and ${u.max}`);break;case"matrix":if(o&&s.options){const d=s.options.filter(f=>!o[f]);d.length>0&&s.required&&l.push(`Please rate: ${d.join(", ")}`)}break}return{isValid:l.length===0,errors:l,warnings:c}},[]),n=y.useCallback((s,o)=>{const l={};return s.forEach(c=>{l[c.id]=r(c,o[c.id])}),t(l),l},[r]),a=y.useCallback(s=>e[s]||{isValid:!0,errors:[],warnings:[]},[e]);return{validateQuestion:r,validateAllQuestions:n,getValidationResult:a,validationResults:e}},Si=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(!0),[a,s]=y.useState(null),o=v$(),l=_a();return y.useEffect(()=>{(async()=>{const u=l.pathname;console.log("useOrganization - Starting detection for path:",u),n(!0),s(null),t(null);let d=null;const f=o.orgSlug||o.slug,h=["admin","auth","login","create-organization","terms-of-service","privacy-policy"];if(f&&h.includes(f)){console.log(`useOrganization - Path matched special route "${f}", skipping org detection.`),n(!1);return}const g=new URL(window.location.href).hostname;if(g!=="localhost"&&!g.includes("lovable.app")&&!g.includes("lovableproject.com")){console.log("useOrganization - Checking domain:",g);try{d=await KG(g),console.log("useOrganization - Domain result:",d)}catch(v){console.warn("useOrganization - Domain check failed:",v)}}if(!d&&g.includes(".")){const v=g.split(".")[0];if(v!=="www"&&v!=="feedback"&&!v.includes("preview--")){console.log("useOrganization - Checking subdomain:",v);try{d=await jx(v),console.log("useOrganization - Subdomain result:",d)}catch(b){console.warn("useOrganization - Subdomain check failed:",b)}}}if(!d&&f){console.log("useOrganization - Checking slug from params:",f);try{d=await jx(f),console.log("useOrganization - Slug result:",d)}catch(v){console.error("useOrganization - Slug check failed:",v)}}if(!d&&u==="/"){console.log("useOrganization - No org found, defaulting to police-sacco for root path");try{d=await jx("police-sacco"),console.log("useOrganization - Default police-sacco result:",d)}catch(v){console.error("useOrganization - Default police-sacco failed:",v)}}t(d);const p=f&&!h.includes(f);!d&&p&&(console.log("useOrganization - No organization found for slug:",f),s("Organization not found")),n(!1),console.log("useOrganization - Detection finished. Final org:",(d==null?void 0:d.name)||"none")})()},[o.slug,o.orgSlug,l.pathname]),{organization:e,isLoading:r,error:a}};let nm;const gte=new Uint8Array(16);function vte(){if(!nm&&(nm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nm(gte)}const Vt=[];for(let e=0;e<256;++e)Vt.push((e+256).toString(16).slice(1));function yte(e,t=0){return Vt[e[t+0]]+Vt[e[t+1]]+Vt[e[t+2]]+Vt[e[t+3]]+"-"+Vt[e[t+4]]+Vt[e[t+5]]+"-"+Vt[e[t+6]]+Vt[e[t+7]]+"-"+Vt[e[t+8]]+Vt[e[t+9]]+"-"+Vt[e[t+10]]+Vt[e[t+11]]+Vt[e[t+12]]+Vt[e[t+13]]+Vt[e[t+14]]+Vt[e[t+15]]}const xte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rk={randomUUID:xte};function nk(e,t,r){if(rk.randomUUID&&!t&&!e)return rk.randomUUID();e=e||{};const n=e.random||(e.rng||vte)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,yte(n)}class bte{constructor(){pt(this,"sessionTimes",new Map)}startSession(t){this.sessionTimes.set(t,{sessionId:t,startTime:Date.now(),questionTimes:[]})}startQuestion(t,r){const n=this.sessionTimes.get(t);if(!n)return;const a=n.questionTimes[n.questionTimes.length-1];a&&!a.endTime&&(a.endTime=Date.now(),a.responseTime=a.endTime-a.startTime),n.questionTimes.push({questionId:r,startTime:Date.now(),endTime:0,responseTime:0})}endQuestion(t,r){const n=this.sessionTimes.get(t);if(!n)return 0;const a=n.questionTimes.find(s=>s.questionId===r);return!a||a.endTime?(a==null?void 0:a.responseTime)||0:(a.endTime=Date.now(),a.responseTime=a.endTime-a.startTime,a.responseTime)}endSession(t){const r=this.sessionTimes.get(t);if(!r)return 0;const n=r.questionTimes[r.questionTimes.length-1];return n&&!n.endTime&&(n.endTime=Date.now(),n.responseTime=n.endTime-n.startTime),r.endTime=Date.now(),r.totalResponseTime=r.endTime-r.startTime,r.totalResponseTime}getSessionTime(t){return this.sessionTimes.get(t)}calculateCategoryAverages(t){const r=new Map;return t.forEach(n=>{const a=this.sessionTimes.get(n.sessionId);if(!a)return;const s=a.questionTimes.find(o=>o.questionId===n.questionId);!s||!s.responseTime||(r.has(n.category)||r.set(n.category,[]),r.get(n.category).push(s.responseTime))}),Array.from(r.entries()).map(([n,a])=>({category:n,averageTime:a.reduce((s,o)=>s+o,0)/a.length,totalResponses:a.length,minTime:Math.min(...a),maxTime:Math.max(...a)}))}clearSession(t){this.sessionTimes.delete(t)}}const tl=new bte,wte=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!1),[a,s]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState([]),[d,f]=y.useState(null),{organization:h,isLoading:m}=Si(),{toast:g}=cn(),{responses:p,isSubmitting:v,handleResponse:b,generateFinalResponses:x,submitResponses:w,resetResponses:j,loadResponses:_}=hte(),{currentQuestionIndex:S,goToNext:N,goToPrevious:E,resetNavigation:C}=fte(e.length),{validateQuestion:k,getValidationResult:T}=pte(),A=y.useRef(!1),D=y.useRef(null),R=y.useRef(nk()),{loadSavedData:L,clearSavedData:I}=mte({responses:p,currentQuestionIndex:S,completedQuestions:c},h?`feedback-${h.slug}`:"feedback-default");y.useEffect(()=>{(async()=>{if(console.log("useFeedbackForm - Loading questions, org loading:",m,"organization:",h),m)return;const Q=(h==null?void 0:h.id)||"fallback";if(A.current&&D.current===Q){console.log("useFeedbackForm - Questions already loaded for this organization");return}try{l(!0),f(null);const oe=await dte(h==null?void 0:h.slug);console.log("useFeedbackForm - Questions loaded:",oe),t(oe),A.current=!0,D.current=(h==null?void 0:h.id)||"fallback",tl.startSession(R.current);const ge=L();ge&&Object.keys(ge.responses||{}).length>0&&(g({title:"Previous session restored",description:"We've restored your previous answers"}),_(ge.responses),u(ge.completedQuestions||[]))}catch(oe){console.error("useFeedbackForm - Error loading questions:",oe),f("We couldn't load the survey questions. Please check your connection and try again.")}finally{l(!1)}})()},[h==null?void 0:h.id,h==null?void 0:h.slug,m]),y.useEffect(()=>{if(e.length>0){const B=e[S].id;tl.startQuestion(R.current,B)}},[S,e]);const F=()=>{const B=e[S];if(!B)return!1;const Q=p[B.id];return k(B,Q).isValid},O=(B,Q)=>{b(B,Q);const oe=e.findIndex(ge=>ge.id===B);oe!==-1&&!c.includes(oe)&&u(ge=>[...ge,oe])},$=async()=>{try{console.log("Submitting feedback to database..."),tl.endSession(R.current);const B=tl.getSessionTime(R.current);await w(e,B);const Q=x();s(Q),n(!0),I(),tl.clearSession(R.current)}catch(B){console.error("Error submitting feedback:",B)}};return{questions:e,currentQuestionIndex:S,responses:p,isComplete:r,finalResponses:a,isLoading:o||v,questionsError:d,completedQuestions:c,handleResponse:O,isCurrentQuestionAnswered:F,goToNext:()=>{S<e.length-1?N():$()},goToPrevious:E,resetForm:()=>{R.current&&tl.clearSession(R.current),R.current=nk(),C(),j(),n(!1),s([]),u([]),I(),f(null),A.current=!1,D.current=null},getValidationResult:T}},jte=(e,t)=>{const r=Object.keys(e).length,n=r/t*100,a=Object.values(e).reduce((s,o)=>typeof o=="string"&&o.length>10?s+20:Array.isArray(o)&&o.length>1?s+15:s+10,0)/r||0;return Math.min(100,(n+a)/2)},_te=e=>{const t=e.reduce((n,a)=>n+a.score,0)/e.length||0,r=t>=80?"positive":t>=60?"neutral":"needs_improvement";return{responseTime:Math.floor(Math.random()*300)+60,completionRate:e.length/10*100,engagementScore:t,satisfactionTrend:r,commonPatterns:["High satisfaction with services","Mobile app needs improvement"]}},Ste=(e,t,r)=>{const[n,a]=y.useState(null),[s,o]=y.useState(Date.now()),[l,c]=y.useState([]),u=()=>{o(Date.now())},d=()=>{const m=Math.floor((Date.now()-s)/1e3);c(g=>[...g,m])},f=()=>l.length>0?Math.round(l.reduce((m,g)=>m+g,0)/l.length):30,h=m=>{const g=f();return(t-m)*g};return y.useEffect(()=>{if(r.length>0){const m=_te(r);a(m)}},[r]),{analytics:n,trackQuestionStart:u,trackQuestionResponse:d,getAverageResponseTime:f,getEstimatedTimeRemaining:h,engagementScore:jte(e,t)}},Nte=()=>{const[e,t]=y.useState(!1),[r,n]=y.useState(!0);return y.useEffect(()=>{localStorage.getItem("feedback-privacy-consent")==="true"&&(t(!0),n(!1))},[]),{hasConsented:e,showPrivacyNotice:r,acceptPrivacy:()=>{localStorage.setItem("feedback-privacy-consent","true"),t(!0),n(!1)}}},Ete=(e,t,r)=>{const{toast:n}=cn(),a=()=>{const l={responses:e,currentQuestionIndex:t,completedQuestions:r,timestamp:new Date().toISOString()};localStorage.setItem("feedback-save-continue",JSON.stringify(l))},s=()=>{a(),n({title:"Session paused",description:"Your progress has been saved. Return anytime to continue."}),window.location.reload()},o=Object.keys(e).length>0;return{saveProgress:a,pauseAndExit:s,hasUnsavedChanges:o}},Pte=()=>{const[e,t]=y.useState(!0),{organization:r,isLoading:n,error:a}=Si();console.log("FeedbackForm - Organization state:",{organization:r,orgLoading:n,orgError:a});const{questions:s,currentQuestionIndex:o,responses:l,isComplete:c,finalResponses:u,isLoading:d,questionsError:f,completedQuestions:h,handleResponse:m,isCurrentQuestionAnswered:g,goToNext:p,goToPrevious:v,resetForm:b,getValidationResult:x}=wte(),{trackQuestionStart:w,trackQuestionResponse:j,getAverageResponseTime:_,getEstimatedTimeRemaining:S}=Ste(l,s.length,u),{hasConsented:N,showPrivacyNotice:E,acceptPrivacy:C}=Nte(),{saveProgress:k,pauseAndExit:T,hasUnsavedChanges:A}=Ete(l,o,h);y.useEffect(()=>{!e&&s.length>0&&w()},[o,w,e,s.length]);const D=(I,F)=>{m(I,F),j()},R=()=>{t(!1)},L=()=>{b(),t(!0)};return n?(console.log("FeedbackForm - Showing loading state"),i.jsx(tk,{})):a||!r?(console.log("FeedbackForm - Showing error boundary for org"),i.jsx(Ax,{orgLoading:n,orgError:a,organization:r})):f?(console.log("FeedbackForm - Showing error boundary for questions"),i.jsx(Ax,{orgLoading:!1,orgError:f,organization:r})):d?(console.log("FeedbackForm - Questions loading"),i.jsx(tk,{})):e?(console.log("FeedbackForm - Showing welcome screen"),i.jsx(JZ,{onStart:R})):s.length===0?(console.log("FeedbackForm - No questions available"),i.jsx(Ax,{orgLoading:!1,orgError:"No questions configured for this organization",organization:r})):(console.log("FeedbackForm - Rendering main content"),i.jsxs(ZZ,{children:[i.jsx(ite,{questions:s,currentQuestionIndex:o,responses:l,completedQuestions:h,hasConsented:N,canGoNext:g(),estimatedTimeRemaining:S(o),averageResponseTime:_(),hasUnsavedChanges:A,onQuestionResponse:D,onNext:p,onPrevious:v,onSaveProgress:k,onPauseAndExit:T,getValidationResult:x}),i.jsx(cte,{showPrivacyNotice:E,isComplete:c,finalResponses:u,questions:s,onAcceptPrivacy:C,onReset:L})]}))},ak=()=>i.jsx(Pte,{}),$x=768;function kte(){const[e,t]=y.useState(void 0);return y.useEffect(()=>{const r=window.matchMedia(`(max-width: ${$x-1}px)`),n=()=>{t(window.innerWidth<$x)};return r.addEventListener("change",n),t(window.innerWidth<$x),()=>r.removeEventListener("change",n)},[]),!!e}var Cte="Separator",sk="horizontal",Ote=["horizontal","vertical"],gL=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=sk,...a}=e,s=Ate(n)?n:sk,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(ue.div,{"data-orientation":s,...l,...a,ref:t})});gL.displayName=Cte;function Ate(e){return Ote.includes(e)}var vL=gL;const yL=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>i.jsx(vL,{ref:a,decorative:r,orientation:t,className:U("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));yL.displayName=vL.displayName;const Tte=__,Rte=S_,xL=y.forwardRef(({className:e,...t},r)=>i.jsx(Xf,{className:U("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));xL.displayName=Xf.displayName;const Mte=To("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bL=y.forwardRef(({side:e="right",className:t,children:r,...n},a)=>i.jsxs(Rte,{children:[i.jsx(xL,{}),i.jsxs(Jf,{ref:a,className:U(Mte({side:e}),t),...n,children:[r,i.jsxs(th,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Vf,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bL.displayName=Jf.displayName;const $te=y.forwardRef(({className:e,...t},r)=>i.jsx(Zf,{ref:r,className:U("text-lg font-semibold text-foreground",e),...t}));$te.displayName=Zf.displayName;const Ite=y.forwardRef(({className:e,...t},r)=>i.jsx(eh,{ref:r,className:U("text-sm text-muted-foreground",e),...t}));Ite.displayName=eh.displayName;function et({className:e,...t}){return i.jsx("div",{className:U("animate-pulse rounded-md bg-muted",e),...t})}const Dte="sidebar:state",Lte=60*60*24*7,Fte="16rem",zte="18rem",Ute="3rem",Bte="b",wL=y.createContext(null);function Bv(){const e=y.useContext(wL);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const jL=y.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:s,...o},l)=>{const c=kte(),[u,d]=y.useState(!1),[f,h]=y.useState(e),m=t??f,g=y.useCallback(x=>{const w=typeof x=="function"?x(m):x;r?r(w):h(w),document.cookie=`${Dte}=${w}; path=/; max-age=${Lte}`},[r,m]),p=y.useCallback(()=>c?d(x=>!x):g(x=>!x),[c,g,d]);y.useEffect(()=>{const x=w=>{w.key===Bte&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[p]);const v=m?"expanded":"collapsed",b=y.useMemo(()=>({state:v,open:m,setOpen:g,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:p}),[v,m,g,c,u,d,p]);return i.jsx(wL.Provider,{value:b,children:i.jsx(YM,{delayDuration:0,children:i.jsx("div",{style:{"--sidebar-width":Fte,"--sidebar-width-icon":Ute,...a},className:U("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:s})})})});jL.displayName="SidebarProvider";const _L=y.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...s},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=Bv();return r==="none"?i.jsx("div",{className:U("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...s,children:a}):l?i.jsx(Tte,{open:u,onOpenChange:d,...s,children:i.jsx(bL,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":zte},side:e,children:i.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):i.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[i.jsx("div",{className:U("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),i.jsx("div",{className:U("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:i.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});_L.displayName="Sidebar";const SL=y.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=Bv();return i.jsxs(ee,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:U("h-7 w-7",e),onClick:s=>{t==null||t(s),a()},...r,children:[i.jsx(w9,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});SL.displayName="SidebarTrigger";const qte=y.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Bv();return i.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:U("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});qte.displayName="SidebarRail";const Wte=y.forwardRef(({className:e,...t},r)=>i.jsx("main",{ref:r,className:U("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Wte.displayName="SidebarInset";const Vte=y.forwardRef(({className:e,...t},r)=>i.jsx(he,{ref:r,"data-sidebar":"input",className:U("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Vte.displayName="SidebarInput";const NL=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"header",className:U("flex flex-col gap-2 p-2",e),...t}));NL.displayName="SidebarHeader";const Hte=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"footer",className:U("flex flex-col gap-2 p-2",e),...t}));Hte.displayName="SidebarFooter";const Kte=y.forwardRef(({className:e,...t},r)=>i.jsx(yL,{ref:r,"data-sidebar":"separator",className:U("mx-2 w-auto bg-sidebar-border",e),...t}));Kte.displayName="SidebarSeparator";const EL=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"content",className:U("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));EL.displayName="SidebarContent";const cS=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"group",className:U("relative flex w-full min-w-0 flex-col p-2",e),...t}));cS.displayName="SidebarGroup";const uS=y.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Fr:"div";return i.jsx(a,{ref:n,"data-sidebar":"group-label",className:U("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});uS.displayName="SidebarGroupLabel";const Gte=y.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Fr:"button";return i.jsx(a,{ref:n,"data-sidebar":"group-action",className:U("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});Gte.displayName="SidebarGroupAction";const dS=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"group-content",className:U("w-full text-sm",e),...t}));dS.displayName="SidebarGroupContent";const PL=y.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,"data-sidebar":"menu",className:U("flex w-full min-w-0 flex-col gap-1",e),...t}));PL.displayName="SidebarMenu";const kL=y.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,"data-sidebar":"menu-item",className:U("group/menu-item relative",e),...t}));kL.displayName="SidebarMenuItem";const Yte=To("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),CL=y.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:s,...o},l)=>{const c=e?Fr:"button",{isMobile:u,state:d}=Bv(),f=i.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:U(Yte({variant:r,size:n}),s),...o});return a?(typeof a=="string"&&(a={children:a}),i.jsxs(vW,{children:[i.jsx(yW,{asChild:!0,children:f}),i.jsx(QM,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):f});CL.displayName="SidebarMenuButton";const Qte=y.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const s=t?Fr:"button";return i.jsx(s,{ref:a,"data-sidebar":"menu-action",className:U("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});Qte.displayName="SidebarMenuAction";const Xte=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:U("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));Xte.displayName="SidebarMenuBadge";const Jte=y.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=y.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return i.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:U("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&i.jsx(et,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),i.jsx(et,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});Jte.displayName="SidebarMenuSkeleton";const Zte=y.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:U("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));Zte.displayName="SidebarMenuSub";const ere=y.forwardRef(({...e},t)=>i.jsx("li",{ref:t,...e}));ere.displayName="SidebarMenuSubItem";const tre=y.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},s)=>{const o=e?Fr:"a";return i.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:U("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});tre.displayName="SidebarMenuSubButton";const rre=({groupedMenuItems:e,isMobile:t,expandedGroups:r,toggleGroup:n,activeTab:a,onTabChange:s,isLoading:o})=>i.jsx(i.Fragment,{children:e.map((l,c)=>{const u=t?r[l.label]!==!1:!0;return i.jsxs(cS,{className:U("px-4",c!==0&&"mt-8 pt-6 border-t border-gray-100"),children:[i.jsxs("div",{className:"flex items-center justify-between cursor-pointer select-none py-2 px-2 rounded-lg hover:bg-gray-50 transition-colors",onClick:t?()=>n(l.label):void 0,tabIndex:t?0:-1,"aria-label":l.label+" Menu","aria-expanded":u,children:[i.jsx(uS,{className:"uppercase font-bold tracking-wider text-gray-600 text-xs",children:l.label}),t&&(u?i.jsx(Lc,{className:"w-4 h-4 text-gray-400"}):i.jsx(ni,{className:"w-4 h-4 text-gray-400"}))]}),i.jsx(dS,{className:U("transition-all duration-200",u?"block opacity-100":"hidden opacity-0"),children:i.jsx("div",{className:"mt-2 space-y-1",children:i.jsx(PL,{children:l.items.map(d=>i.jsx(kL,{children:i.jsxs(CL,{onClick:()=>s(d.id),isActive:a===d.id,className:U("flex items-center justify-between w-full px-4 py-3 gap-3 rounded-xl group","transition-all duration-200 ease-in-out",t&&"py-4 px-3 text-base","hover:bg-gradient-to-r hover:from-orange-50 hover:to-orange-100/50 hover:shadow-sm","focus-visible:bg-gradient-to-r focus-visible:from-orange-100 focus-visible:to-orange-200/50",a===d.id&&["bg-gradient-to-r from-orange-100 to-orange-200/50","text-orange-900 font-semibold shadow-sm border border-orange-200/50","relative before:absolute before:left-0 before:top-1/2 before:-translate-y-1/2","before:w-1 before:h-8 before:bg-orange-500 before:rounded-r-full"]),style:t?{minHeight:56}:void 0,children:[i.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[i.jsx(d.icon,{className:U("flex-shrink-0 mr-3 transition-colors",t?"w-5 h-5":"h-4 w-4",a===d.id?"text-orange-600":"text-gray-500 group-hover:text-orange-500")}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("span",{className:U("block truncate",a===d.id?"text-orange-900":"text-gray-700"),children:d.label}),d.description&&!t&&i.jsx("span",{className:"block text-xs text-gray-500 mt-0.5 truncate",children:d.description})]})]}),i.jsx("div",{className:"flex items-center flex-shrink-0",children:o?i.jsx(Ep,{size:"sm",text:"",className:"w-4 h-4"}):d.badge&&i.jsx(ke,{variant:a===d.id?"default":"secondary",className:U("text-xs font-medium",a===d.id?"bg-orange-500 text-white shadow-sm":"bg-gray-100 text-gray-600 group-hover:bg-orange-100 group-hover:text-orange-700"),children:d.badge})})]})},d.id))})})})]},l.label)})}),nre=({stats:e})=>{var r,n,a,s;const t=[{label:"Active Users",value:(e==null?void 0:e.active_members)||0,icon:Ot,trend:"positive",change:"+12%"},{label:"Response Rate",value:e!=null&&e.completion_rate?`${Math.round(e.completion_rate)}%`:"0%",icon:sr,trend:(e==null?void 0:e.completion_rate)>75?"positive":"neutral",change:"+5%"},{label:"Growth",value:(r=e==null?void 0:e.growth_metrics)!=null&&r.growth_rate?`${e.growth_metrics.growth_rate}%`:"0%",icon:((n=e==null?void 0:e.growth_metrics)==null?void 0:n.growth_rate)>0?Ct:Tj,trend:((a=e==null?void 0:e.growth_metrics)==null?void 0:a.growth_rate)>0?"positive":"negative",change:(s=e==null?void 0:e.growth_metrics)!=null&&s.growth_rate?`${e.growth_metrics.growth_rate}%`:"0%"}];return i.jsxs(cS,{className:"px-4 mt-8 pt-6 border-t border-gray-100",children:[i.jsx(uS,{className:"uppercase font-bold tracking-wider text-gray-600 text-xs px-2 py-2",children:"Quick Stats"}),i.jsx(dS,{children:i.jsx("div",{className:"space-y-3 mt-2",children:t.map((o,l)=>i.jsx(H,{className:"shadow-sm border-gray-100 hover:shadow-md transition-shadow duration-200",children:i.jsx(K,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:U("p-1.5 rounded-lg",o.trend==="positive"?"bg-green-100 text-green-600":o.trend==="negative"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"),children:i.jsx(o.icon,{className:"w-3 h-3"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600 font-medium",children:o.label}),i.jsx("p",{className:"text-sm font-bold text-gray-900",children:o.value})]})]}),i.jsx("div",{className:U("text-xs font-medium",o.trend==="positive"?"text-green-600":o.trend==="negative"?"text-red-600":"text-gray-500"),children:o.change})]})})},l))})})]})},are=({organizationName:e,activeTab:t,onTabChange:r,stats:n,isLoading:a=!1})=>{var m;const{isMobile:s}=Na(),{signOut:o}=Zn(),l=Jn(),c=async()=>{await o(),l("/auth")},[u,d]=P.useState({}),f=[{label:"Analytics & Insights",items:[{id:"overview",label:"Overview",icon:cr,badge:(m=n==null?void 0:n.growth_metrics)!=null&&m.growth_rate&&n.growth_metrics.growth_rate>0?`+${n.growth_metrics.growth_rate}%`:void 0,description:"Key metrics and performance"},{id:"customer-insights",label:"Customer Insights",icon:Ct,description:"Customer behavior analysis"},{id:"sentiment",label:"Sentiment Analysis",icon:ZR,description:"Feedback sentiment trends"},{id:"performance",label:"Performance",icon:cr,description:"System performance metrics"}]},{label:"Content & Feedback",items:[{id:"feedback",label:"Feedback",icon:qt,badge:(n==null?void 0:n.total_responses)||0,description:"Customer feedback responses"},{id:"questions",label:"Questions",icon:qt,badge:(n==null?void 0:n.total_questions)||0,description:"Survey question management"}]},{label:"Administration",items:[{id:"members",label:"Team Members",icon:Ot,badge:(n==null?void 0:n.active_members)||0,description:"User management and roles"},{id:"integrations",label:"Integrations",icon:fM,description:"Third-party connections"},{id:"settings",label:"Settings",icon:po,description:"Organization configuration"}]}],h=g=>{d(p=>({...p,[g]:!p[g]}))};return i.jsxs(_L,{className:"border-r-0 bg-white shadow-lg",children:[i.jsx(NL,{className:"border-b border-gray-100 p-6 bg-gradient-to-r from-orange-50 to-orange-100/50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-500 rounded-lg flex items-center justify-center text-white font-bold text-lg shadow-sm",children:e.substring(0,2).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-bold text-lg text-gray-900 truncate",title:e,children:e}),i.jsx("p",{className:"text-xs text-gray-600",children:"Organization Dashboard"})]})]}),i.jsx(SL,{className:"h-8 w-8 hover:bg-orange-100 transition-colors"})]})}),i.jsxs(EL,{className:"flex-1 py-6",children:[i.jsx(rre,{groupedMenuItems:f,isMobile:s,expandedGroups:u,toggleGroup:h,activeTab:t,onTabChange:r,isLoading:a}),n&&!a&&i.jsx(nre,{stats:n})]}),i.jsx("div",{className:"p-4 border-t border-gray-100",children:i.jsxs(ee,{variant:"ghost",className:"w-full justify-start hover:bg-red-50 hover:text-red-600 transition-colors group",onClick:c,children:[i.jsx(v9,{className:"w-4 h-4 mr-3 group-hover:text-red-600 transition-colors"}),i.jsx("span",{children:"Sign Out"})]})})]})},sre=({organizationName:e,organizationId:t,activeTab:r})=>{const{isMobile:n}=Na(),a=s=>({overview:"Analytics Overview",members:"Team Members",feedback:"Customer Feedback",questions:"Question Management",settings:"Organization Settings",integrations:"Integrations",sentiment:"Sentiment Analysis",performance:"Performance Metrics","customer-insights":"Customer Insights"})[s]||s.charAt(0).toUpperCase()+s.slice(1);return i.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:a(r)}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e})]})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[!n&&i.jsxs("div",{className:"relative",children:[i.jsx(cM,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(he,{placeholder:"Search...",className:"pl-10 w-64 bg-gray-50 border-gray-200 focus:bg-white transition-colors"})]}),i.jsxs(ee,{variant:"ghost",size:"icon",className:"relative hover:bg-gray-100",children:[i.jsx(n9,{className:"h-5 w-5"}),i.jsx(ke,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-orange-500 text-white text-xs",children:"3"})]}),i.jsxs($_,{children:[i.jsx(I_,{asChild:!0,children:i.jsx(ee,{variant:"ghost",className:"relative h-10 w-10 rounded-full hover:bg-gray-100",children:i.jsx(L_,{className:"h-10 w-10",children:i.jsx(F_,{className:"bg-gradient-to-br from-orange-400 to-orange-500 text-white font-semibold",children:e.substring(0,2).toUpperCase()})})})}),i.jsxs(Dv,{className:"w-56",align:"end",forceMount:!0,children:[i.jsx(K4,{className:"font-normal",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("p",{className:"text-sm font-medium leading-none",children:e}),i.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:"Organization Admin"})]})}),i.jsx(Tp,{}),i.jsxs(Fa,{children:[i.jsx(Mj,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Profile"})]}),i.jsxs(Fa,{children:[i.jsx(po,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Settings"})]}),i.jsx(Tp,{}),i.jsx(Fa,{children:i.jsx("span",{children:"Log out"})})]})]})]})]})},ire=({organizationName:e,organizationSlug:t,activeTab:r})=>{const n=a=>({overview:"Analytics",members:"Members",feedback:"Feedback",questions:"Questions",settings:"Settings",integrations:"Integrations",sentiment:"Sentiment",performance:"Performance","customer-insights":"Customer Insights"})[a]||a.charAt(0).toUpperCase()+a.slice(1);return i.jsx(eS,{children:i.jsxs(tS,{className:"text-sm",children:[i.jsx(vd,{children:i.jsxs(tw,{href:"/",className:"flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[i.jsx(m9,{className:"h-4 w-4 mr-1"}),"Dashboard"]})}),i.jsx(rw,{children:i.jsx(ni,{className:"h-4 w-4"})}),i.jsx(vd,{children:i.jsx(tw,{href:`/admin/${t}`,className:"text-gray-500 hover:text-gray-700 transition-colors",children:e})}),i.jsx(rw,{children:i.jsx(ni,{className:"h-4 w-4"})}),i.jsx(vd,{children:i.jsx(rS,{className:"text-gray-900 font-medium",children:n(r)})})]})})},ore=({organizationName:e,organizationId:t,organizationSlug:r,activeTab:n,onTabChange:a,stats:s,isLoading:o=!1,children:l})=>{const{isMobile:c}=Na();return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100/50",children:i.jsx(jL,{defaultOpen:!c,children:i.jsxs("div",{className:"flex min-h-screen w-full",children:[i.jsx(are,{organizationName:e,activeTab:n,onTabChange:a,stats:s,isLoading:o}),i.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:[i.jsx(sre,{organizationName:e,organizationId:t,activeTab:n}),i.jsx("div",{className:"px-6 pb-4",children:i.jsx(ire,{organizationName:e,organizationSlug:r,activeTab:n})})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:i.jsx("div",{className:"container mx-auto px-6 py-6 max-w-7xl",children:i.jsx("div",{className:U("space-y-6","animate-fade-in"),children:l})})})]})]})})})},OL=({onClick:e,icon:t=i.jsx(si,{className:"w-6 h-6"}),className:r,size:n="md",position:a="bottom-right",extended:s=!1,children:o})=>{const l={sm:"w-12 h-12",md:"w-14 h-14",lg:"w-16 h-16"},c={"bottom-right":"bottom-6 right-6","bottom-center":"bottom-6 left-1/2 -translate-x-1/2","bottom-left":"bottom-6 left-6"};return i.jsxs(ee,{onClick:e,className:U("fixed z-50 rounded-full shadow-lg","bg-primary hover:bg-primary/90 text-primary-foreground","transition-all duration-200 active:scale-95","border-2 border-white/20",s?"px-6 h-14 gap-3":l[n],c[a],r),size:"icon",children:[t,s&&o]})},lre=({threshold:e=400})=>{const[t,r]=P.useState(!1);P.useEffect(()=>{const a=()=>{r(window.pageYOffset>e)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[e]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?i.jsx(OL,{onClick:n,icon:i.jsx(iv,{className:"w-6 h-6"}),position:"bottom-right",className:"bg-gray-800 hover:bg-gray-700"}):null},fS=()=>{const[e,t]=y.useState(()=>({breakpoint:"desktop",orientation:"landscape",isMobile:!1,isTablet:!1,isDesktop:!0,screenWidth:1024,screenHeight:768,hasHover:!0,isTouchDevice:!1}));return y.useEffect(()=>{const r=()=>{const s=window.innerWidth,o=window.innerHeight;let l="desktop";s<768?l="mobile":s<1024&&(l="tablet");const c=s>o?"landscape":"portrait",u=window.matchMedia("(hover: hover)").matches,d="ontouchstart"in window||navigator.maxTouchPoints>0;t({breakpoint:l,orientation:c,isMobile:l==="mobile",isTablet:l==="tablet",isDesktop:l==="desktop",screenWidth:s,screenHeight:o,hasHover:u,isTouchDevice:d})};r();const n=window.matchMedia("(orientation: portrait)"),a=()=>r();return window.addEventListener("resize",a),n.addEventListener("change",r),()=>{window.removeEventListener("resize",a),n.removeEventListener("change",r)}},[]),e},cre=e=>{const{dateRange:t}=K$();return St({queryKey:["analytics-data",e,t],queryFn:async()=>{const{data:r}=await G.from("questions").select("*").eq("organization_id",e).eq("is_active",!0).order("category",{ascending:!0}).order("order_index",{ascending:!0});let n=G.from("feedback_responses").select(`
          id,
          question_id,
          response_value,
          question_category,
          session_id,
          created_at,
          score,
          response_time_ms
        `).eq("organization_id",e);if(t!=null&&t.from&&(n=n.gte("created_at",t.from.toISOString())),t!=null&&t.to){const d=new Date(t.to);d.setDate(d.getDate()+1),n=n.lt("created_at",d.toISOString())}const{data:a}=await n;let s=G.from("feedback_sessions").select("id, status, created_at, total_score").eq("organization_id",e);if(t!=null&&t.from&&(s=s.gte("created_at",t.from.toISOString())),t!=null&&t.to){const d=new Date(t.to);d.setDate(d.getDate()+1),s=s.lt("created_at",d.toISOString())}const{data:o}=await s,l=(r||[]).map(d=>{const f=(a||[]).filter(b=>b.question_id===d.id),h=f.length,m=o&&o.length>0?Math.round(h/o.length*100):0,g={};f.forEach(b=>{const x=JSON.stringify(b.response_value);g[x]=(g[x]||0)+1});const p=[];if(m>80?p.push("High completion rate indicates good user engagement"):m<50&&p.push("Low completion rate may indicate question complexity"),h>0){const b=f.reduce((x,w)=>x+(w.score||0),0)/h;b>8?p.push("High satisfaction scores"):b<5&&p.push("Low satisfaction scores need attention")}let v="neutral";return m>70&&p.some(b=>b.includes("High"))?v="positive":m<50||p.some(b=>b.includes("Low"))?v="negative":p.length>1&&(v="mixed"),{id:d.id,question_text:d.question_text,question_type:d.question_type||"text",category:d.category||"General",total_responses:h,completion_rate:m,avg_score:f.reduce((b,x)=>b+(x.score||0),0)/(h||1),response_distribution:g,insights:p,trend:v}}),c=new Map;l.forEach(d=>{const f=d.category;c.has(f)||c.set(f,{category:f,total_questions:0,total_responses:0,completion_rate:0,questions:[],avg_score:0});const h=c.get(f);h.total_questions+=1,h.total_responses+=d.total_responses,h.questions.push(d)});const u=Array.from(c.values()).map(d=>({...d,completion_rate:d.questions.length>0?Math.round(d.questions.reduce((f,h)=>f+h.completion_rate,0)/d.questions.length):0,avg_score:d.questions.length>0?d.questions.reduce((f,h)=>f+h.avg_score,0)/d.questions.length:0}));return{questions:l,categories:u,summary:{total_questions:l.length,total_responses:l.reduce((d,f)=>d+f.total_responses,0),overall_completion_rate:u.length>0?Math.round(u.reduce((d,f)=>d+f.completion_rate,0)/u.length):0,overall_avg_score:l.length>0?l.reduce((d,f)=>d+f.avg_score,0)/l.length:0}}},enabled:!!e,staleTime:5*60*1e3})},AL=y.createContext(null),qv=()=>{const e=y.useContext(AL);if(!e)throw new Error("useDashboardData must be used within DashboardDataProvider");return e},ure=({children:e})=>{const{organization:t,loading:r}=c_(),{data:n,isLoading:a,error:s}=St({queryKey:["organization-stats",t==null?void 0:t.id],queryFn:()=>VG(t.id),enabled:!!(t!=null&&t.id)}),{data:o,isLoading:l}=cre((t==null?void 0:t.id)||""),d={organization:t,stats:n||null,analyticsData:o,isLoading:r||a||l,error:s};return i.jsx(AL.Provider,{value:d,children:e})},dre=({children:e,className:t,as:r="h1"})=>i.jsx(r,{className:U("scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl","leading-tight text-gray-900 dark:text-gray-100",t),children:e}),Lm=({children:e,className:t,as:r="h2"})=>i.jsx(r,{className:U("scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight","text-gray-900 dark:text-gray-100 border-gray-200 dark:border-gray-700",t),children:e}),fre=({children:e,className:t,as:r="h3"})=>i.jsx(r,{className:U("scroll-m-20 text-2xl font-semibold tracking-tight","text-gray-900 dark:text-gray-100",t),children:e}),TL=({children:e,className:t,as:r="p"})=>i.jsx(r,{className:U("leading-7 text-gray-600 dark:text-gray-300",t),children:e}),ik=({children:e,className:t,as:r="span"})=>i.jsx(r,{className:U("text-sm text-gray-500 dark:text-gray-400",t),children:e}),hre=({children:e,className:t,title:r,description:n,footer:a,interactive:s=!1,elevated:o=!1,collapsible:l=!1,defaultCollapsed:c=!1})=>{const{isMobile:u,hasHover:d}=fS(),[f,h]=P.useState(c);return i.jsxs(H,{className:U("transition-all duration-200",s&&["cursor-pointer",d&&"hover:shadow-md hover:-translate-y-0.5","active:scale-[0.98]"],o&&"shadow-lg",u&&"rounded-xl",t),onClick:s?()=>h(!f):void 0,children:[(r||n)&&i.jsxs(se,{className:U(u&&"pb-3"),children:[r&&i.jsxs(ie,{className:U("flex items-center justify-between",u&&"text-lg"),children:[r,l&&i.jsx("button",{onClick:m=>{m.stopPropagation(),h(!f)},className:"p-1 rounded-md hover:bg-gray-100 transition-colors",children:i.jsx("div",{className:U("w-4 h-4 transition-transform duration-200",f?"rotate-180":"rotate-0"),children:""})})]}),n&&i.jsx(Gn,{className:U(u&&"text-sm"),children:n})]}),!f&&i.jsx(K,{className:U(u&&"px-4"),children:e}),a&&!f&&i.jsx(Q$,{className:U(u&&"px-4 pt-0"),children:a})]})},mre=({type:e,count:t=1,className:r})=>{const n=()=>{switch(e){case"card":return i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg",children:[i.jsx(et,{className:"h-4 w-3/4"}),i.jsx(et,{className:"h-3 w-1/2"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(et,{className:"h-3 w-full"}),i.jsx(et,{className:"h-3 w-5/6"})]})]});case"table":return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex space-x-4",children:[i.jsx(et,{className:"h-4 w-1/4"}),i.jsx(et,{className:"h-4 w-1/4"}),i.jsx(et,{className:"h-4 w-1/4"}),i.jsx(et,{className:"h-4 w-1/4"})]}),Array.from({length:5}).map((a,s)=>i.jsxs("div",{className:"flex space-x-4",children:[i.jsx(et,{className:"h-3 w-1/4"}),i.jsx(et,{className:"h-3 w-1/4"}),i.jsx(et,{className:"h-3 w-1/4"}),i.jsx(et,{className:"h-3 w-1/4"})]},s))]});case"list":return i.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((a,s)=>i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(et,{className:"h-10 w-10 rounded-full"}),i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx(et,{className:"h-3 w-3/4"}),i.jsx(et,{className:"h-2 w-1/2"})]})]},s))});case"stats":return i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((a,s)=>i.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[i.jsx(et,{className:"h-8 w-12"}),i.jsx(et,{className:"h-3 w-16"})]},s))});case"chart":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx(et,{className:"h-4 w-32"}),i.jsx(et,{className:"h-4 w-20"})]}),i.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-end justify-center space-x-2 p-4",children:Array.from({length:12}).map((a,s)=>i.jsx(et,{className:"w-6",style:{height:`${Math.random()*80+20}%`}},s))})]});case"form":return i.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((a,s)=>i.jsxs("div",{className:"space-y-2",children:[i.jsx(et,{className:"h-3 w-24"}),i.jsx(et,{className:"h-10 w-full"})]},s))});default:return i.jsx(et,{className:"h-20 w-full"})}};return i.jsx("div",{className:U("animate-pulse",r),children:Array.from({length:t}).map((a,s)=>i.jsx("div",{className:t>1?"mb-4":"",children:n()},s))})},pre=({stats:e,isLoading:t=!1,columns:r=4,className:n})=>{const{isMobile:a,isTablet:s}=fS(),o=()=>a?"grid-cols-2":s?"grid-cols-3":`grid-cols-${r}`,l=(u,d)=>{if(typeof u=="string")return u;switch(d){case"percentage":return`${u}%`;case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u);case"rating":return`${u}/5`;default:return new Intl.NumberFormat().format(u)}},c=u=>({blue:"text-blue-600 bg-blue-50 border-blue-200",green:"text-green-600 bg-green-50 border-green-200",purple:"text-purple-600 bg-purple-50 border-purple-200",orange:"text-orange-600 bg-orange-50 border-orange-200",red:"text-red-600 bg-red-50 border-red-200"})[u]||"text-gray-600 bg-gray-50 border-gray-200";return t?i.jsx("div",{className:U("grid gap-4",o(),n),children:i.jsx(mre,{type:"stats",count:1})}):i.jsx("div",{className:U("grid gap-4",o(),n),children:e.map(u=>{const d=u.icon,f=u.trend==="up"?Ct:u.trend==="down"?Tj:null;return i.jsx(hre,{className:"p-4 hover:shadow-md transition-all duration-200",interactive:!0,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ik,{className:"font-medium text-gray-600 mb-1",children:u.title}),i.jsx(fre,{className:"text-2xl font-bold mb-2",children:l(u.value,u.format)}),u.trendValue&&f&&i.jsxs("div",{className:U("flex items-center gap-1 text-sm",u.trend==="up"?"text-green-600":"text-red-600"),children:[i.jsx(f,{className:"w-3 h-3"}),i.jsxs("span",{children:[Math.abs(u.trendValue),"%"]}),i.jsx(ik,{children:"vs last period"})]})]}),i.jsx("div",{className:U("p-2 rounded-lg",c(u.color)),children:i.jsx(d,{className:"w-5 h-5"})})]})},u.id)})})},gre=()=>{const{stats:e,isLoading:t}=qv(),r=[{id:"members",title:"Active Members",value:(e==null?void 0:e.active_members)??0,icon:Ot,trend:"up",trendValue:12,color:"blue"},{id:"responses",title:"Total Responses",value:(e==null?void 0:e.total_responses)??0,icon:qt,trend:"up",trendValue:8,color:"green"},{id:"sessions",title:"Active Sessions",value:(e==null?void 0:e.total_sessions)??0,icon:sr,color:"purple"},{id:"rating",title:"Avg Rating",value:(e==null?void 0:e.avg_session_score)??0,format:"rating",icon:Za,color:"orange"}];return i.jsx(pre,{stats:r,isLoading:t,columns:4})};var vre=Array.isArray,Br=vre,yre=typeof lr=="object"&&lr&&lr.Object===Object&&lr,RL=yre,xre=RL,bre=typeof self=="object"&&self&&self.Object===Object&&self,wre=xre||bre||Function("return this")(),Ea=wre,jre=Ea,_re=jre.Symbol,lh=_re,ok=lh,ML=Object.prototype,Sre=ML.hasOwnProperty,Nre=ML.toString,$u=ok?ok.toStringTag:void 0;function Ere(e){var t=Sre.call(e,$u),r=e[$u];try{e[$u]=void 0;var n=!0}catch{}var a=Nre.call(e);return n&&(t?e[$u]=r:delete e[$u]),a}var Pre=Ere,kre=Object.prototype,Cre=kre.toString;function Ore(e){return Cre.call(e)}var Are=Ore,lk=lh,Tre=Pre,Rre=Are,Mre="[object Null]",$re="[object Undefined]",ck=lk?lk.toStringTag:void 0;function Ire(e){return e==null?e===void 0?$re:Mre:ck&&ck in Object(e)?Tre(e):Rre(e)}var us=Ire;function Dre(e){return e!=null&&typeof e=="object"}var ds=Dre,Lre=us,Fre=ds,zre="[object Symbol]";function Ure(e){return typeof e=="symbol"||Fre(e)&&Lre(e)==zre}var lu=Ure,Bre=Br,qre=lu,Wre=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vre=/^\w*$/;function Hre(e,t){if(Bre(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||qre(e)?!0:Vre.test(e)||!Wre.test(e)||t!=null&&e in Object(t)}var hS=Hre;function Kre(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ni=Kre;const cu=Ye(Ni);var Gre=us,Yre=Ni,Qre="[object AsyncFunction]",Xre="[object Function]",Jre="[object GeneratorFunction]",Zre="[object Proxy]";function ene(e){if(!Yre(e))return!1;var t=Gre(e);return t==Xre||t==Jre||t==Qre||t==Zre}var mS=ene;const Te=Ye(mS);var tne=Ea,rne=tne["__core-js_shared__"],nne=rne,Ix=nne,uk=function(){var e=/[^.]+$/.exec(Ix&&Ix.keys&&Ix.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ane(e){return!!uk&&uk in e}var sne=ane,ine=Function.prototype,one=ine.toString;function lne(e){if(e!=null){try{return one.call(e)}catch{}try{return e+""}catch{}}return""}var $L=lne,cne=mS,une=sne,dne=Ni,fne=$L,hne=/[\\^$.*+?()[\]{}|]/g,mne=/^\[object .+?Constructor\]$/,pne=Function.prototype,gne=Object.prototype,vne=pne.toString,yne=gne.hasOwnProperty,xne=RegExp("^"+vne.call(yne).replace(hne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bne(e){if(!dne(e)||une(e))return!1;var t=cne(e)?xne:mne;return t.test(fne(e))}var wne=bne;function jne(e,t){return e==null?void 0:e[t]}var _ne=jne,Sne=wne,Nne=_ne;function Ene(e,t){var r=Nne(e,t);return Sne(r)?r:void 0}var zo=Ene,Pne=zo,kne=Pne(Object,"create"),Wv=kne,dk=Wv;function Cne(){this.__data__=dk?dk(null):{},this.size=0}var One=Cne;function Ane(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Tne=Ane,Rne=Wv,Mne="__lodash_hash_undefined__",$ne=Object.prototype,Ine=$ne.hasOwnProperty;function Dne(e){var t=this.__data__;if(Rne){var r=t[e];return r===Mne?void 0:r}return Ine.call(t,e)?t[e]:void 0}var Lne=Dne,Fne=Wv,zne=Object.prototype,Une=zne.hasOwnProperty;function Bne(e){var t=this.__data__;return Fne?t[e]!==void 0:Une.call(t,e)}var qne=Bne,Wne=Wv,Vne="__lodash_hash_undefined__";function Hne(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Wne&&t===void 0?Vne:t,this}var Kne=Hne,Gne=One,Yne=Tne,Qne=Lne,Xne=qne,Jne=Kne;function uu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}uu.prototype.clear=Gne;uu.prototype.delete=Yne;uu.prototype.get=Qne;uu.prototype.has=Xne;uu.prototype.set=Jne;var Zne=uu;function eae(){this.__data__=[],this.size=0}var tae=eae;function rae(e,t){return e===t||e!==e&&t!==t}var pS=rae,nae=pS;function aae(e,t){for(var r=e.length;r--;)if(nae(e[r][0],t))return r;return-1}var Vv=aae,sae=Vv,iae=Array.prototype,oae=iae.splice;function lae(e){var t=this.__data__,r=sae(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():oae.call(t,r,1),--this.size,!0}var cae=lae,uae=Vv;function dae(e){var t=this.__data__,r=uae(t,e);return r<0?void 0:t[r][1]}var fae=dae,hae=Vv;function mae(e){return hae(this.__data__,e)>-1}var pae=mae,gae=Vv;function vae(e,t){var r=this.__data__,n=gae(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var yae=vae,xae=tae,bae=cae,wae=fae,jae=pae,_ae=yae;function du(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}du.prototype.clear=xae;du.prototype.delete=bae;du.prototype.get=wae;du.prototype.has=jae;du.prototype.set=_ae;var Hv=du,Sae=zo,Nae=Ea,Eae=Sae(Nae,"Map"),gS=Eae,fk=Zne,Pae=Hv,kae=gS;function Cae(){this.size=0,this.__data__={hash:new fk,map:new(kae||Pae),string:new fk}}var Oae=Cae;function Aae(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Tae=Aae,Rae=Tae;function Mae(e,t){var r=e.__data__;return Rae(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Kv=Mae,$ae=Kv;function Iae(e){var t=$ae(this,e).delete(e);return this.size-=t?1:0,t}var Dae=Iae,Lae=Kv;function Fae(e){return Lae(this,e).get(e)}var zae=Fae,Uae=Kv;function Bae(e){return Uae(this,e).has(e)}var qae=Bae,Wae=Kv;function Vae(e,t){var r=Wae(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Hae=Vae,Kae=Oae,Gae=Dae,Yae=zae,Qae=qae,Xae=Hae;function fu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fu.prototype.clear=Kae;fu.prototype.delete=Gae;fu.prototype.get=Yae;fu.prototype.has=Qae;fu.prototype.set=Xae;var vS=fu,IL=vS,Jae="Expected a function";function yS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Jae);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(yS.Cache||IL),r}yS.Cache=IL;var DL=yS;const Zae=Ye(DL);var ese=DL,tse=500;function rse(e){var t=ese(e,function(n){return r.size===tse&&r.clear(),n}),r=t.cache;return t}var nse=rse,ase=nse,sse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ise=/\\(\\)?/g,ose=ase(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(sse,function(r,n,a,s){t.push(a?s.replace(ise,"$1"):n||r)}),t}),lse=ose;function cse(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var xS=cse,hk=lh,use=xS,dse=Br,fse=lu,hse=1/0,mk=hk?hk.prototype:void 0,pk=mk?mk.toString:void 0;function LL(e){if(typeof e=="string")return e;if(dse(e))return use(e,LL)+"";if(fse(e))return pk?pk.call(e):"";var t=e+"";return t=="0"&&1/e==-hse?"-0":t}var mse=LL,pse=mse;function gse(e){return e==null?"":pse(e)}var FL=gse,vse=Br,yse=hS,xse=lse,bse=FL;function wse(e,t){return vse(e)?e:yse(e,t)?[e]:xse(bse(e))}var zL=wse,jse=lu,_se=1/0;function Sse(e){if(typeof e=="string"||jse(e))return e;var t=e+"";return t=="0"&&1/e==-_se?"-0":t}var Gv=Sse,Nse=zL,Ese=Gv;function Pse(e,t){t=Nse(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ese(t[r++])];return r&&r==n?e:void 0}var bS=Pse,kse=bS;function Cse(e,t,r){var n=e==null?void 0:kse(e,t);return n===void 0?r:n}var UL=Cse;const jn=Ye(UL);function Ose(e){return e==null}var Ase=Ose;const Me=Ye(Ase);var Tse=us,Rse=Br,Mse=ds,$se="[object String]";function Ise(e){return typeof e=="string"||!Rse(e)&&Mse(e)&&Tse(e)==$se}var Dse=Ise;const ch=Ye(Dse);var BL={exports:{}},He={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS=Symbol.for("react.element"),jS=Symbol.for("react.portal"),Yv=Symbol.for("react.fragment"),Qv=Symbol.for("react.strict_mode"),Xv=Symbol.for("react.profiler"),Jv=Symbol.for("react.provider"),Zv=Symbol.for("react.context"),Lse=Symbol.for("react.server_context"),ey=Symbol.for("react.forward_ref"),ty=Symbol.for("react.suspense"),ry=Symbol.for("react.suspense_list"),ny=Symbol.for("react.memo"),ay=Symbol.for("react.lazy"),Fse=Symbol.for("react.offscreen"),qL;qL=Symbol.for("react.module.reference");function Pn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wS:switch(e=e.type,e){case Yv:case Xv:case Qv:case ty:case ry:return e;default:switch(e=e&&e.$$typeof,e){case Lse:case Zv:case ey:case ay:case ny:case Jv:return e;default:return t}}case jS:return t}}}He.ContextConsumer=Zv;He.ContextProvider=Jv;He.Element=wS;He.ForwardRef=ey;He.Fragment=Yv;He.Lazy=ay;He.Memo=ny;He.Portal=jS;He.Profiler=Xv;He.StrictMode=Qv;He.Suspense=ty;He.SuspenseList=ry;He.isAsyncMode=function(){return!1};He.isConcurrentMode=function(){return!1};He.isContextConsumer=function(e){return Pn(e)===Zv};He.isContextProvider=function(e){return Pn(e)===Jv};He.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wS};He.isForwardRef=function(e){return Pn(e)===ey};He.isFragment=function(e){return Pn(e)===Yv};He.isLazy=function(e){return Pn(e)===ay};He.isMemo=function(e){return Pn(e)===ny};He.isPortal=function(e){return Pn(e)===jS};He.isProfiler=function(e){return Pn(e)===Xv};He.isStrictMode=function(e){return Pn(e)===Qv};He.isSuspense=function(e){return Pn(e)===ty};He.isSuspenseList=function(e){return Pn(e)===ry};He.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yv||e===Xv||e===Qv||e===ty||e===ry||e===Fse||typeof e=="object"&&e!==null&&(e.$$typeof===ay||e.$$typeof===ny||e.$$typeof===Jv||e.$$typeof===Zv||e.$$typeof===ey||e.$$typeof===qL||e.getModuleId!==void 0)};He.typeOf=Pn;BL.exports=He;var WL=BL.exports,zse=us,Use=ds,Bse="[object Number]";function qse(e){return typeof e=="number"||Use(e)&&zse(e)==Bse}var VL=qse;const Wse=Ye(VL);var Vse=VL;function Hse(e){return Vse(e)&&e!=+e}var Kse=Hse;const uh=Ye(Kse);var Vn=function(t){return t===0?0:t>0?1:-1},Ki=function(t){return ch(t)&&t.indexOf("%")===t.length-1},re=function(t){return Wse(t)&&!uh(t)},$t=function(t){return re(t)||ch(t)},Gse=0,dh=function(t){var r=++Gse;return"".concat(t||"").concat(r)},No=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&!ch(t))return n;var s;if(Ki(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return uh(s)&&(s=n),a&&s>r&&(s=r),s},ks=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Yse=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},qn=function(t,r){return re(t)&&re(r)?function(n){return t+n*(r-t)}:function(){return r}};function Dp(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):jn(n,t))===r})}function $l(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function iw(e){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iw(e)}var Qse=["viewBox","children"],Xse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gk=["points","pathLength"],Dx={svg:Qse,polygon:gk,polyline:gk},_S=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!cu(n))return null;var a={};return Object.keys(n).forEach(function(s){_S.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},Jse=function(t,r,n){return function(a){return t(r,n,a),null}},Fp=function(t,r,n){if(!cu(t)||iw(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];_S.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=Jse(o,r,n))}),a},Zse=["children"],eie=["children"];function vk(e,t){if(e==null)return{};var r=tie(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ow(e){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ow(e)}var yk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Wa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},xk=null,Lx=null,SS=function e(t){if(t===xk&&Array.isArray(Lx))return Lx;var r=[];return y.Children.forEach(t,function(n){Me(n)||(WL.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Lx=r,xk=t,r};function _n(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Wa(a)}):n=[Wa(t)],SS(e).forEach(function(a){var s=jn(a,"type.displayName")||jn(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Qr(e,t){var r=_n(e,t);return r&&r[0]}var bk=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!re(n)||n<=0||!re(a)||a<=0)},rie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nie=function(t){return t&&t.type&&ch(t.type)&&rie.indexOf(t.type)>=0},aie=function(t){return t&&ow(t)==="object"&&"clipDot"in t},sie=function(t,r,n,a){var s,o=(s=Dx==null?void 0:Dx[a])!==null&&s!==void 0?s:[];return!Te(t)&&(a&&o.includes(r)||Xse.includes(r))||n&&_S.includes(r)},Ie=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!cu(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;sie((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},lw=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wk(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!wk(s,o))return!1}return!0},wk=function(t,r){if(Me(t)&&Me(r))return!0;if(!Me(t)&&!Me(r)){var n=t.props||{},a=n.children,s=vk(n,Zse),o=r.props||{},l=o.children,c=vk(o,eie);return a&&l?$l(s,c)&&lw(a,l):!a&&!l?$l(s,c):!1}return!1},jk=function(t,r){var n=[],a={};return SS(t).forEach(function(s,o){if(nie(s))n.push(s);else if(s){var l=Wa(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},iie=function(t){var r=t&&t.type;return r&&yk[r]?yk[r]:null},oie=function(t,r){return SS(r).indexOf(t)},lie=["children","width","height","viewBox","className","style","title","desc"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(this,arguments)}function cie(e,t){if(e==null)return{};var r=uie(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uw(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=cie(e,lie),d=a||{width:r,height:n,x:0,y:0},f=De("recharts-surface",s);return P.createElement("svg",cw({},Ie(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),P.createElement("title",null,l),P.createElement("desc",null,c),t)}var die=["children","className"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function fie(e,t){if(e==null)return{};var r=hie(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _t=P.forwardRef(function(e,t){var r=e.children,n=e.className,a=fie(e,die),s=De("recharts-layer",n);return P.createElement("g",dw({className:s},Ie(a,!0),{ref:t}),r)}),Va=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function mie(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var pie=mie,gie=pie;function vie(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:gie(e,t,r)}var yie=vie,xie="\\ud800-\\udfff",bie="\\u0300-\\u036f",wie="\\ufe20-\\ufe2f",jie="\\u20d0-\\u20ff",_ie=bie+wie+jie,Sie="\\ufe0e\\ufe0f",Nie="\\u200d",Eie=RegExp("["+Nie+xie+_ie+Sie+"]");function Pie(e){return Eie.test(e)}var HL=Pie;function kie(e){return e.split("")}var Cie=kie,KL="\\ud800-\\udfff",Oie="\\u0300-\\u036f",Aie="\\ufe20-\\ufe2f",Tie="\\u20d0-\\u20ff",Rie=Oie+Aie+Tie,Mie="\\ufe0e\\ufe0f",$ie="["+KL+"]",fw="["+Rie+"]",hw="\\ud83c[\\udffb-\\udfff]",Iie="(?:"+fw+"|"+hw+")",GL="[^"+KL+"]",YL="(?:\\ud83c[\\udde6-\\uddff]){2}",QL="[\\ud800-\\udbff][\\udc00-\\udfff]",Die="\\u200d",XL=Iie+"?",JL="["+Mie+"]?",Lie="(?:"+Die+"(?:"+[GL,YL,QL].join("|")+")"+JL+XL+")*",Fie=JL+XL+Lie,zie="(?:"+[GL+fw+"?",fw,YL,QL,$ie].join("|")+")",Uie=RegExp(hw+"(?="+hw+")|"+zie+Fie,"g");function Bie(e){return e.match(Uie)||[]}var qie=Bie,Wie=Cie,Vie=HL,Hie=qie;function Kie(e){return Vie(e)?Hie(e):Wie(e)}var Gie=Kie,Yie=yie,Qie=HL,Xie=Gie,Jie=FL;function Zie(e){return function(t){t=Jie(t);var r=Qie(t)?Xie(t):void 0,n=r?r[0]:t.charAt(0),a=r?Yie(r,1).join(""):t.slice(1);return n[e]()+a}}var eoe=Zie,toe=eoe,roe=toe("toUpperCase"),noe=roe;const sy=Ye(noe);function tt(e){return function(){return e}}const ZL=Math.cos,zp=Math.sin,ra=Math.sqrt,Up=Math.PI,iy=2*Up,mw=Math.PI,pw=2*mw,Di=1e-6,aoe=pw-Di;function e3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function soe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return e3;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class ioe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?e3:soe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Di)if(!(Math.abs(f*c-u*d)>Di)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,v=m*m+g*g,b=Math.sqrt(p),x=Math.sqrt(h),w=s*Math.tan((mw-Math.acos((p+h-v)/(2*b*x)))/2),j=w/x,_=w/b;Math.abs(j-1)>Di&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Di||Math.abs(this._y1-d)>Di)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%pw+pw),h>aoe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Di&&this._append`A${n},${n},0,${+(h>=mw)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function NS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ioe(t)}function ES(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function t3(e){this._context=e}t3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oy(e){return new t3(e)}function r3(e){return e[0]}function n3(e){return e[1]}function a3(e,t){var r=tt(!0),n=null,a=oy,s=null,o=NS(l);e=typeof e=="function"?e:e===void 0?r3:tt(e),t=typeof t=="function"?t:t===void 0?n3:tt(t);function l(c){var u,d=(c=ES(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:tt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:tt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:tt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function am(e,t,r){var n=null,a=tt(!0),s=null,o=oy,l=null,c=NS(u);e=typeof e=="function"?e:e===void 0?r3:tt(+e),t=typeof t=="function"?t:tt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?n3:tt(+r);function u(f){var h,m,g,p=(f=ES(f)).length,v,b=!1,x,w=new Array(p),j=new Array(p);for(s==null&&(l=o(x=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],j[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(x)return l=null,x+""||null}function d(){return a3().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:tt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:tt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:tt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:tt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:tt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:tt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:tt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class s3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ooe(e){return new s3(e,!0)}function loe(e){return new s3(e,!1)}const PS={draw(e,t){const r=ra(t/Up);e.moveTo(r,0),e.arc(0,0,r,0,iy)}},coe={draw(e,t){const r=ra(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},i3=ra(1/3),uoe=i3*2,doe={draw(e,t){const r=ra(t/uoe),n=r*i3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},foe={draw(e,t){const r=ra(t),n=-r/2;e.rect(n,n,r,r)}},hoe=.8908130915292852,o3=zp(Up/10)/zp(7*Up/10),moe=zp(iy/10)*o3,poe=-ZL(iy/10)*o3,goe={draw(e,t){const r=ra(t*hoe),n=moe*r,a=poe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=iy*s/5,l=ZL(o),c=zp(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Fx=ra(3),voe={draw(e,t){const r=-ra(t/(Fx*3));e.moveTo(0,r*2),e.lineTo(-Fx*r,-r),e.lineTo(Fx*r,-r),e.closePath()}},un=-.5,dn=ra(3)/2,gw=1/ra(12),yoe=(gw/2+1)*3,xoe={draw(e,t){const r=ra(t/yoe),n=r/2,a=r*gw,s=n,o=r*gw+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(un*n-dn*a,dn*n+un*a),e.lineTo(un*s-dn*o,dn*s+un*o),e.lineTo(un*l-dn*c,dn*l+un*c),e.lineTo(un*n+dn*a,un*a-dn*n),e.lineTo(un*s+dn*o,un*o-dn*s),e.lineTo(un*l+dn*c,un*c-dn*l),e.closePath()}};function boe(e,t){let r=null,n=NS(a);e=typeof e=="function"?e:tt(e||PS),t=typeof t=="function"?t:tt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:tt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:tt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Bp(){}function qp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function l3(e){this._context=e}l3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function woe(e){return new l3(e)}function c3(e){this._context=e}c3.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function joe(e){return new c3(e)}function u3(e){this._context=e}u3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _oe(e){return new u3(e)}function d3(e){this._context=e}d3.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Soe(e){return new d3(e)}function _k(e){return e<0?-1:1}function Sk(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(_k(s)+_k(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Nk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function zx(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Wp(e){this._context=e}Wp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zx(this,this._t0,Nk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zx(this,Nk(this,r=Sk(this,e,t)),r);break;default:zx(this,this._t0,r=Sk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function f3(e){this._context=new h3(e)}(f3.prototype=Object.create(Wp.prototype)).point=function(e,t){Wp.prototype.point.call(this,t,e)};function h3(e){this._context=e}h3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function Noe(e){return new Wp(e)}function Eoe(e){return new f3(e)}function m3(e){this._context=e}m3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ek(e),a=Ek(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ek(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Poe(e){return new m3(e)}function ly(e,t){this._context=e,this._t=t}ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function koe(e){return new ly(e,.5)}function Coe(e){return new ly(e,0)}function Ooe(e){return new ly(e,1)}function dc(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function vw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Aoe(e,t){return e[t]}function Toe(e){const t=[];return t.key=e,t}function Roe(){var e=tt([]),t=vw,r=dc,n=Aoe;function a(s){var o=Array.from(e.apply(this,arguments),Toe),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=ES(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:tt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:tt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?vw:typeof s=="function"?s:tt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??dc,a):r},a}function Moe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}dc(e,t)}}function $oe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}dc(e,t)}}function Ioe(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,b=p[n-1][1]||0;m+=v-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,dc(e,t)}}function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}var Doe=["type","size","sizeType"];function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yw.apply(this,arguments)}function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(n){Loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Loe(e,t,r){return t=Foe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Foe(e){var t=zoe(e,"string");return Yd(t)=="symbol"?t:t+""}function zoe(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uoe(e,t){if(e==null)return{};var r=Boe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Boe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var p3={symbolCircle:PS,symbolCross:coe,symbolDiamond:doe,symbolSquare:foe,symbolStar:goe,symbolTriangle:voe,symbolWye:xoe},qoe=Math.PI/180,Woe=function(t){var r="symbol".concat(sy(t));return p3[r]||PS},Voe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*qoe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Hoe=function(t,r){p3["symbol".concat(sy(t))]=r},kS=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Uoe(t,Doe),u=kk(kk({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=Woe(n),b=boe().type(v).size(Voe(s,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=Ie(u,!0);return h===+h&&m===+m&&s===+s?P.createElement("path",yw({},g,{className:De("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};kS.registerSymbol=Hoe;function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(this,arguments)}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Koe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){Qd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Goe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yoe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v3(n.key),n)}}function Qoe(e,t,r){return t&&Yoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xoe(e,t,r){return t=Vp(t),Joe(e,g3()?Reflect.construct(t,r||[],Vp(e).constructor):t.apply(e,r))}function Joe(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zoe(e)}function Zoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g3=function(){return!!e})()}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(e)}function ele(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bw(e,t)}function bw(e,t){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bw(e,t)}function Qd(e,t,r){return t=v3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v3(e){var t=tle(e,"string");return fc(t)=="symbol"?t:t+""}function tle(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fn=32,CS=function(e){function t(){return Goe(this,t),Xoe(this,t,arguments)}return ele(t,e),Qoe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=fn/2,o=fn/6,l=fn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:fn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(fn,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return P.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(fn/8,"h").concat(fn,"v").concat(fn*3/4,"h").concat(-fn,"z"),className:"recharts-legend-icon"});if(P.isValidElement(n.legendIcon)){var u=Koe({},n);return delete u.legendIcon,P.cloneElement(n.legendIcon,u)}return P.createElement(kS,{fill:c,cx:s,cy:s,size:fn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:fn,height:fn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var p=m.formatter||c,v=De(Qd(Qd({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Te(m.value)?null:m.value;Va(!Te(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return P.createElement("li",xw({className:v,style:f,key:"legend-item-".concat(g)},Fp(n.props,m,g)),P.createElement(uw,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);Qd(CS,"displayName","Legend");Qd(CS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rle=Hv;function nle(){this.__data__=new rle,this.size=0}var ale=nle;function sle(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ile=sle;function ole(e){return this.__data__.get(e)}var lle=ole;function cle(e){return this.__data__.has(e)}var ule=cle,dle=Hv,fle=gS,hle=vS,mle=200;function ple(e,t){var r=this.__data__;if(r instanceof dle){var n=r.__data__;if(!fle||n.length<mle-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new hle(n)}return r.set(e,t),this.size=r.size,this}var gle=ple,vle=Hv,yle=ale,xle=ile,ble=lle,wle=ule,jle=gle;function hu(e){var t=this.__data__=new vle(e);this.size=t.size}hu.prototype.clear=yle;hu.prototype.delete=xle;hu.prototype.get=ble;hu.prototype.has=wle;hu.prototype.set=jle;var y3=hu,_le="__lodash_hash_undefined__";function Sle(e){return this.__data__.set(e,_le),this}var Nle=Sle;function Ele(e){return this.__data__.has(e)}var Ple=Ele,kle=vS,Cle=Nle,Ole=Ple;function Hp(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new kle;++t<r;)this.add(e[t])}Hp.prototype.add=Hp.prototype.push=Cle;Hp.prototype.has=Ole;var x3=Hp;function Ale(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var b3=Ale;function Tle(e,t){return e.has(t)}var w3=Tle,Rle=x3,Mle=b3,$le=w3,Ile=1,Dle=2;function Lle(e,t,r,n,a,s){var o=r&Ile,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Dle?new Rle:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=o?n(p,g,f,t,e,s):n(g,p,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Mle(t,function(b,x){if(!$le(m,x)&&(g===b||a(g,b,r,n,s)))return m.push(x)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var j3=Lle,Fle=Ea,zle=Fle.Uint8Array,Ule=zle;function Ble(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var qle=Ble;function Wle(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var OS=Wle,Ok=lh,Ak=Ule,Vle=pS,Hle=j3,Kle=qle,Gle=OS,Yle=1,Qle=2,Xle="[object Boolean]",Jle="[object Date]",Zle="[object Error]",ece="[object Map]",tce="[object Number]",rce="[object RegExp]",nce="[object Set]",ace="[object String]",sce="[object Symbol]",ice="[object ArrayBuffer]",oce="[object DataView]",Tk=Ok?Ok.prototype:void 0,Ux=Tk?Tk.valueOf:void 0;function lce(e,t,r,n,a,s,o){switch(r){case oce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ice:return!(e.byteLength!=t.byteLength||!s(new Ak(e),new Ak(t)));case Xle:case Jle:case tce:return Vle(+e,+t);case Zle:return e.name==t.name&&e.message==t.message;case rce:case ace:return e==t+"";case ece:var l=Kle;case nce:var c=n&Yle;if(l||(l=Gle),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Qle,o.set(e,t);var d=Hle(l(e),l(t),n,a,s,o);return o.delete(e),d;case sce:if(Ux)return Ux.call(e)==Ux.call(t)}return!1}var cce=lce;function uce(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var _3=uce,dce=_3,fce=Br;function hce(e,t,r){var n=t(e);return fce(e)?n:dce(n,r(e))}var mce=hce;function pce(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var gce=pce;function vce(){return[]}var yce=vce,xce=gce,bce=yce,wce=Object.prototype,jce=wce.propertyIsEnumerable,Rk=Object.getOwnPropertySymbols,_ce=Rk?function(e){return e==null?[]:(e=Object(e),xce(Rk(e),function(t){return jce.call(e,t)}))}:bce,Sce=_ce;function Nce(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Ece=Nce,Pce=us,kce=ds,Cce="[object Arguments]";function Oce(e){return kce(e)&&Pce(e)==Cce}var Ace=Oce,Mk=Ace,Tce=ds,S3=Object.prototype,Rce=S3.hasOwnProperty,Mce=S3.propertyIsEnumerable,$ce=Mk(function(){return arguments}())?Mk:function(e){return Tce(e)&&Rce.call(e,"callee")&&!Mce.call(e,"callee")},AS=$ce,Kp={exports:{}};function Ice(){return!1}var Dce=Ice;Kp.exports;(function(e,t){var r=Ea,n=Dce,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Kp,Kp.exports);var N3=Kp.exports,Lce=9007199254740991,Fce=/^(?:0|[1-9]\d*)$/;function zce(e,t){var r=typeof e;return t=t??Lce,!!t&&(r=="number"||r!="symbol"&&Fce.test(e))&&e>-1&&e%1==0&&e<t}var TS=zce,Uce=9007199254740991;function Bce(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Uce}var RS=Bce,qce=us,Wce=RS,Vce=ds,Hce="[object Arguments]",Kce="[object Array]",Gce="[object Boolean]",Yce="[object Date]",Qce="[object Error]",Xce="[object Function]",Jce="[object Map]",Zce="[object Number]",eue="[object Object]",tue="[object RegExp]",rue="[object Set]",nue="[object String]",aue="[object WeakMap]",sue="[object ArrayBuffer]",iue="[object DataView]",oue="[object Float32Array]",lue="[object Float64Array]",cue="[object Int8Array]",uue="[object Int16Array]",due="[object Int32Array]",fue="[object Uint8Array]",hue="[object Uint8ClampedArray]",mue="[object Uint16Array]",pue="[object Uint32Array]",it={};it[oue]=it[lue]=it[cue]=it[uue]=it[due]=it[fue]=it[hue]=it[mue]=it[pue]=!0;it[Hce]=it[Kce]=it[sue]=it[Gce]=it[iue]=it[Yce]=it[Qce]=it[Xce]=it[Jce]=it[Zce]=it[eue]=it[tue]=it[rue]=it[nue]=it[aue]=!1;function gue(e){return Vce(e)&&Wce(e.length)&&!!it[qce(e)]}var vue=gue;function yue(e){return function(t){return e(t)}}var E3=yue,Gp={exports:{}};Gp.exports;(function(e,t){var r=RL,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Gp,Gp.exports);var xue=Gp.exports,bue=vue,wue=E3,$k=xue,Ik=$k&&$k.isTypedArray,jue=Ik?wue(Ik):bue,P3=jue,_ue=Ece,Sue=AS,Nue=Br,Eue=N3,Pue=TS,kue=P3,Cue=Object.prototype,Oue=Cue.hasOwnProperty;function Aue(e,t){var r=Nue(e),n=!r&&Sue(e),a=!r&&!n&&Eue(e),s=!r&&!n&&!a&&kue(e),o=r||n||a||s,l=o?_ue(e.length,String):[],c=l.length;for(var u in e)(t||Oue.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Pue(u,c)))&&l.push(u);return l}var Tue=Aue,Rue=Object.prototype;function Mue(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Rue;return e===r}var $ue=Mue;function Iue(e,t){return function(r){return e(t(r))}}var k3=Iue,Due=k3,Lue=Due(Object.keys,Object),Fue=Lue,zue=$ue,Uue=Fue,Bue=Object.prototype,que=Bue.hasOwnProperty;function Wue(e){if(!zue(e))return Uue(e);var t=[];for(var r in Object(e))que.call(e,r)&&r!="constructor"&&t.push(r);return t}var Vue=Wue,Hue=mS,Kue=RS;function Gue(e){return e!=null&&Kue(e.length)&&!Hue(e)}var fh=Gue,Yue=Tue,Que=Vue,Xue=fh;function Jue(e){return Xue(e)?Yue(e):Que(e)}var cy=Jue,Zue=mce,ede=Sce,tde=cy;function rde(e){return Zue(e,tde,ede)}var nde=rde,Dk=nde,ade=1,sde=Object.prototype,ide=sde.hasOwnProperty;function ode(e,t,r,n,a,s){var o=r&ade,l=Dk(e),c=l.length,u=Dk(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:ide.call(t,h)))return!1}var m=s.get(e),g=s.get(t);if(m&&g)return m==t&&g==e;var p=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var b=e[h],x=t[h];if(n)var w=o?n(x,b,h,t,e,s):n(b,x,h,e,t,s);if(!(w===void 0?b===x||a(b,x,r,n,s):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return s.delete(e),s.delete(t),p}var lde=ode,cde=zo,ude=Ea,dde=cde(ude,"DataView"),fde=dde,hde=zo,mde=Ea,pde=hde(mde,"Promise"),gde=pde,vde=zo,yde=Ea,xde=vde(yde,"Set"),C3=xde,bde=zo,wde=Ea,jde=bde(wde,"WeakMap"),_de=jde,ww=fde,jw=gS,_w=gde,Sw=C3,Nw=_de,O3=us,mu=$L,Lk="[object Map]",Sde="[object Object]",Fk="[object Promise]",zk="[object Set]",Uk="[object WeakMap]",Bk="[object DataView]",Nde=mu(ww),Ede=mu(jw),Pde=mu(_w),kde=mu(Sw),Cde=mu(Nw),Li=O3;(ww&&Li(new ww(new ArrayBuffer(1)))!=Bk||jw&&Li(new jw)!=Lk||_w&&Li(_w.resolve())!=Fk||Sw&&Li(new Sw)!=zk||Nw&&Li(new Nw)!=Uk)&&(Li=function(e){var t=O3(e),r=t==Sde?e.constructor:void 0,n=r?mu(r):"";if(n)switch(n){case Nde:return Bk;case Ede:return Lk;case Pde:return Fk;case kde:return zk;case Cde:return Uk}return t});var Ode=Li,Bx=y3,Ade=j3,Tde=cce,Rde=lde,qk=Ode,Wk=Br,Vk=N3,Mde=P3,$de=1,Hk="[object Arguments]",Kk="[object Array]",sm="[object Object]",Ide=Object.prototype,Gk=Ide.hasOwnProperty;function Dde(e,t,r,n,a,s){var o=Wk(e),l=Wk(t),c=o?Kk:qk(e),u=l?Kk:qk(t);c=c==Hk?sm:c,u=u==Hk?sm:u;var d=c==sm,f=u==sm,h=c==u;if(h&&Vk(e)){if(!Vk(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new Bx),o||Mde(e)?Ade(e,t,r,n,a,s):Tde(e,t,c,r,n,a,s);if(!(r&$de)){var m=d&&Gk.call(e,"__wrapped__"),g=f&&Gk.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return s||(s=new Bx),a(p,v,r,n,s)}}return h?(s||(s=new Bx),Rde(e,t,r,n,a,s)):!1}var Lde=Dde,Fde=Lde,Yk=ds;function A3(e,t,r,n,a){return e===t?!0:e==null||t==null||!Yk(e)&&!Yk(t)?e!==e&&t!==t:Fde(e,t,r,n,A3,a)}var MS=A3,zde=y3,Ude=MS,Bde=1,qde=2;function Wde(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new zde;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Ude(d,u,Bde|qde,n,f):h))return!1}}return!0}var Vde=Wde,Hde=Ni;function Kde(e){return e===e&&!Hde(e)}var T3=Kde,Gde=T3,Yde=cy;function Qde(e){for(var t=Yde(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Gde(a)]}return t}var Xde=Qde;function Jde(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var R3=Jde,Zde=Vde,efe=Xde,tfe=R3;function rfe(e){var t=efe(e);return t.length==1&&t[0][2]?tfe(t[0][0],t[0][1]):function(r){return r===e||Zde(r,e,t)}}var nfe=rfe;function afe(e,t){return e!=null&&t in Object(e)}var sfe=afe,ife=zL,ofe=AS,lfe=Br,cfe=TS,ufe=RS,dfe=Gv;function ffe(e,t,r){t=ife(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=dfe(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&ufe(a)&&cfe(o,a)&&(lfe(e)||ofe(e)))}var hfe=ffe,mfe=sfe,pfe=hfe;function gfe(e,t){return e!=null&&pfe(e,t,mfe)}var vfe=gfe,yfe=MS,xfe=UL,bfe=vfe,wfe=hS,jfe=T3,_fe=R3,Sfe=Gv,Nfe=1,Efe=2;function Pfe(e,t){return wfe(e)&&jfe(t)?_fe(Sfe(e),t):function(r){var n=xfe(r,e);return n===void 0&&n===t?bfe(r,e):yfe(t,n,Nfe|Efe)}}var kfe=Pfe;function Cfe(e){return e}var pu=Cfe;function Ofe(e){return function(t){return t==null?void 0:t[e]}}var Afe=Ofe,Tfe=bS;function Rfe(e){return function(t){return Tfe(t,e)}}var Mfe=Rfe,$fe=Afe,Ife=Mfe,Dfe=hS,Lfe=Gv;function Ffe(e){return Dfe(e)?$fe(Lfe(e)):Ife(e)}var zfe=Ffe,Ufe=nfe,Bfe=kfe,qfe=pu,Wfe=Br,Vfe=zfe;function Hfe(e){return typeof e=="function"?e:e==null?qfe:typeof e=="object"?Wfe(e)?Bfe(e[0],e[1]):Ufe(e):Vfe(e)}var Ei=Hfe;function Kfe(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var M3=Kfe;function Gfe(e){return e!==e}var Yfe=Gfe;function Qfe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Xfe=Qfe,Jfe=M3,Zfe=Yfe,ehe=Xfe;function the(e,t,r){return t===t?ehe(e,t,r):Jfe(e,Zfe,r)}var rhe=the,nhe=rhe;function ahe(e,t){var r=e==null?0:e.length;return!!r&&nhe(e,t,0)>-1}var she=ahe;function ihe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var ohe=ihe;function lhe(){}var che=lhe,qx=C3,uhe=che,dhe=OS,fhe=1/0,hhe=qx&&1/dhe(new qx([,-0]))[1]==fhe?function(e){return new qx(e)}:uhe,mhe=hhe,phe=x3,ghe=she,vhe=ohe,yhe=w3,xhe=mhe,bhe=OS,whe=200;function jhe(e,t,r){var n=-1,a=ghe,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=vhe;else if(s>=whe){var u=t?null:xhe(e);if(u)return bhe(u);o=!1,a=yhe,c=new phe}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var _he=jhe,She=Ei,Nhe=_he;function Ehe(e,t){return e&&e.length?Nhe(e,She(t)):[]}var Phe=Ehe;const Qk=Ye(Phe);function $3(e,t,r){return t===!0?Qk(e,r):Te(t)?Qk(e,t):e}function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}var khe=["ref"];function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){uy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Che(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D3(n.key),n)}}function Ohe(e,t,r){return t&&Jk(e.prototype,t),r&&Jk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ahe(e,t,r){return t=Yp(t),The(e,I3()?Reflect.construct(t,r||[],Yp(e).constructor):t.apply(e,r))}function The(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rhe(e)}function Rhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(e)}function Mhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ew(e,t)}function Ew(e,t){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ew(e,t)}function uy(e,t,r){return t=D3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D3(e){var t=$he(e,"string");return hc(t)=="symbol"?t:t+""}function $he(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ihe(e,t){if(e==null)return{};var r=Dhe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lhe(e){return e.value}function Fhe(e,t){if(P.isValidElement(e))return P.cloneElement(e,t);if(typeof e=="function")return P.createElement(e,t);t.ref;var r=Ihe(t,khe);return P.createElement(CS,r)}var Zk=1,io=function(e){function t(){var r;Che(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Ahe(this,t,[].concat(a)),uy(r,"lastBoundingBox",{width:-1,height:-1}),r}return Mhe(t,e),Ohe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Zk||Math.abs(a.height-this.lastBoundingBox.height)>Zk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ca({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ca(Ca({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ca(Ca({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return P.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Fhe(s,Ca(Ca({},this.props),{},{payload:$3(d,u,Lhe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Ca(Ca({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&re(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(y.PureComponent);uy(io,"displayName","Legend");uy(io,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var eC=lh,zhe=AS,Uhe=Br,tC=eC?eC.isConcatSpreadable:void 0;function Bhe(e){return Uhe(e)||zhe(e)||!!(tC&&e&&e[tC])}var qhe=Bhe,Whe=_3,Vhe=qhe;function L3(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=Vhe),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?L3(l,t-1,r,n,a):Whe(a,l):n||(a[a.length]=l)}return a}var F3=L3;function Hhe(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var Khe=Hhe,Ghe=Khe,Yhe=Ghe(),Qhe=Yhe,Xhe=Qhe,Jhe=cy;function Zhe(e,t){return e&&Xhe(e,t,Jhe)}var z3=Zhe,eme=fh;function tme(e,t){return function(r,n){if(r==null)return r;if(!eme(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var rme=tme,nme=z3,ame=rme,sme=ame(nme),$S=sme,ime=$S,ome=fh;function lme(e,t){var r=-1,n=ome(e)?Array(e.length):[];return ime(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var U3=lme;function cme(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var ume=cme,rC=lu;function dme(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=rC(e),o=t!==void 0,l=t===null,c=t===t,u=rC(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var fme=dme,hme=fme;function mme(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=hme(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var pme=mme,Wx=xS,gme=bS,vme=Ei,yme=U3,xme=ume,bme=E3,wme=pme,jme=pu,_me=Br;function Sme(e,t,r){t.length?t=Wx(t,function(s){return _me(s)?function(o){return gme(o,s.length===1?s[0]:s)}:s}):t=[jme];var n=-1;t=Wx(t,bme(vme));var a=yme(e,function(s,o,l){var c=Wx(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return xme(a,function(s,o){return wme(s,o,r)})}var Nme=Sme;function Eme(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Pme=Eme,kme=Pme,nC=Math.max;function Cme(e,t,r){return t=nC(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=nC(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),kme(e,this,l)}}var Ome=Cme;function Ame(e){return function(){return e}}var Tme=Ame,Rme=zo,Mme=function(){try{var e=Rme(Object,"defineProperty");return e({},"",{}),e}catch{}}(),B3=Mme,$me=Tme,aC=B3,Ime=pu,Dme=aC?function(e,t){return aC(e,"toString",{configurable:!0,enumerable:!1,value:$me(t),writable:!0})}:Ime,Lme=Dme,Fme=800,zme=16,Ume=Date.now;function Bme(e){var t=0,r=0;return function(){var n=Ume(),a=zme-(n-r);if(r=n,a>0){if(++t>=Fme)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qme=Bme,Wme=Lme,Vme=qme,Hme=Vme(Wme),Kme=Hme,Gme=pu,Yme=Ome,Qme=Kme;function Xme(e,t){return Qme(Yme(e,t,Gme),e+"")}var Jme=Xme,Zme=pS,epe=fh,tpe=TS,rpe=Ni;function npe(e,t,r){if(!rpe(r))return!1;var n=typeof t;return(n=="number"?epe(r)&&tpe(t,r.length):n=="string"&&t in r)?Zme(r[t],e):!1}var dy=npe,ape=F3,spe=Nme,ipe=Jme,sC=dy,ope=ipe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&sC(e,t[0],t[1])?t=[]:r>2&&sC(t[0],t[1],t[2])&&(t=[t[0]]),spe(e,ape(t,1),[])}),lpe=ope;const IS=Ye(lpe);function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pw.apply(this,arguments)}function cpe(e,t){return hpe(e)||fpe(e,t)||dpe(e,t)||upe()}function upe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dpe(e,t){if(e){if(typeof e=="string")return iC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iC(e,t)}}function iC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function hpe(e){if(Array.isArray(e))return e}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){mpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mpe(e,t,r){return t=ppe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ppe(e){var t=gpe(e,"string");return Xd(t)=="symbol"?t:t+""}function gpe(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vpe(e){return Array.isArray(e)&&$t(e[0])&&$t(e[1])?e.join(" ~ "):e}var ype=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(d&&d.length){var A={padding:0,margin:0},D=(h?IS(d,h):d).map(function(R,L){if(R.type==="none")return null;var I=Vx({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),F=R.formatter||f||vpe,O=R.value,$=R.name,V=O,z=$;if(F&&V!=null&&z!=null){var B=F(O,$,R,L,d);if(Array.isArray(B)){var Q=cpe(B,2);V=Q[0],z=Q[1]}else V=B}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:I},$t(z)?P.createElement("span",{className:"recharts-tooltip-item-name"},z):null,$t(z)?P.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,P.createElement("span",{className:"recharts-tooltip-item-value"},V),P.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:A},D)}return null},j=Vx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=Vx({margin:0},u),S=!Me(p),N=S?p:"",E=De("recharts-default-tooltip",m),C=De("recharts-tooltip-label",g);S&&v&&d!==void 0&&d!==null&&(N=v(p,d));var k=x?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",Pw({className:E,style:j},k),P.createElement("p",{className:C,style:_},P.isValidElement(N)?N:"".concat(N)),w())};function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function im(e,t,r){return t=xpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xpe(e){var t=bpe(e,"string");return Jd(t)=="symbol"?t:t+""}function bpe(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iu="recharts-tooltip-wrapper",wpe={visibility:"hidden"};function jpe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return De(Iu,im(im(im(im({},"".concat(Iu,"-right"),re(r)&&t&&re(t.x)&&r>=t.x),"".concat(Iu,"-left"),re(r)&&t&&re(t.x)&&r<t.x),"".concat(Iu,"-bottom"),re(n)&&t&&re(t.y)&&n>=t.y),"".concat(Iu,"-top"),re(n)&&t&&re(t.y)&&n<t.y))}function lC(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&re(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function _pe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Spe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=lC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=lC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=_pe({translateX:d,translateY:f,useTranslate3d:l})):u=wpe,{cssProperties:u,cssClasses:jpe({translateX:d,translateY:f,coordinate:r})}}function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){Cw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Npe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Epe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W3(n.key),n)}}function Ppe(e,t,r){return t&&Epe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kpe(e,t,r){return t=Qp(t),Cpe(e,q3()?Reflect.construct(t,r||[],Qp(e).constructor):t.apply(e,r))}function Cpe(e,t){if(t&&(mc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ope(e)}function Ope(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q3=function(){return!!e})()}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qp(e)}function Ape(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kw(e,t)}function kw(e,t){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kw(e,t)}function Cw(e,t,r){return t=W3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W3(e){var t=Tpe(e,"string");return mc(t)=="symbol"?t:t+""}function Tpe(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dC=1,Rpe=function(e){function t(){var r;Npe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=kpe(this,t,[].concat(a)),Cw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Cw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Ape(t,e),Ppe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>dC||Math.abs(n.height-this.state.lastBoundingBox.height)>dC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,w=Spe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),j=w.cssClasses,_=w.cssProperties,S=uC(uC({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return P.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(E){n.wrapperNode=E}},u)}}])}(y.PureComponent),Mpe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ha={isSsr:Mpe(),get:function(t){return Ha[t]},set:function(t,r){if(typeof t=="string")Ha[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Ha[a]=t[a]})}}};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){DS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ipe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H3(n.key),n)}}function Dpe(e,t,r){return t&&Ipe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lpe(e,t,r){return t=Xp(t),Fpe(e,V3()?Reflect.construct(t,r||[],Xp(e).constructor):t.apply(e,r))}function Fpe(e,t){if(t&&(pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zpe(e)}function zpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V3=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(e)}function Upe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ow(e,t)}function Ow(e,t){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ow(e,t)}function DS(e,t,r){return t=H3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H3(e){var t=Bpe(e,"string");return pc(t)=="symbol"?t:t+""}function Bpe(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qpe(e){return e.dataKey}function Wpe(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(ype,t)}var Xr=function(e){function t(){return $pe(this,t),Lpe(this,t,arguments)}return Upe(t,e),Dpe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,b=a.reverseDirection,x=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,_=g??[];f&&_.length&&(_=$3(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,qpe));var S=_.length>0;return P.createElement(Rpe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:S,offset:m,position:v,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:j},Wpe(u,hC(hC({},this.props),{},{payload:_})))}}])}(y.PureComponent);DS(Xr,"displayName","Tooltip");DS(Xr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ha.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Vpe=Ea,Hpe=function(){return Vpe.Date.now()},Kpe=Hpe,Gpe=/\s/;function Ype(e){for(var t=e.length;t--&&Gpe.test(e.charAt(t)););return t}var Qpe=Ype,Xpe=Qpe,Jpe=/^\s+/;function Zpe(e){return e&&e.slice(0,Xpe(e)+1).replace(Jpe,"")}var ege=Zpe,tge=ege,mC=Ni,rge=lu,pC=NaN,nge=/^[-+]0x[0-9a-f]+$/i,age=/^0b[01]+$/i,sge=/^0o[0-7]+$/i,ige=parseInt;function oge(e){if(typeof e=="number")return e;if(rge(e))return pC;if(mC(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=mC(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tge(e);var r=age.test(e);return r||sge.test(e)?ige(e.slice(2),r?2:8):nge.test(e)?pC:+e}var K3=oge,lge=Ni,Hx=Kpe,gC=K3,cge="Expected a function",uge=Math.max,dge=Math.min;function fge(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(cge);t=gC(t)||0,lge(r)&&(d=!!r.leading,f="maxWait"in r,s=f?uge(gC(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(S){var N=n,E=a;return n=a=void 0,u=S,o=e.apply(E,N),o}function g(S){return u=S,l=setTimeout(b,t),d?m(S):o}function p(S){var N=S-c,E=S-u,C=t-N;return f?dge(C,s-E):C}function v(S){var N=S-c,E=S-u;return c===void 0||N>=t||N<0||f&&E>=s}function b(){var S=Hx();if(v(S))return x(S);l=setTimeout(b,p(S))}function x(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:x(Hx())}function _(){var S=Hx(),N=v(S);if(n=arguments,a=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return _.cancel=w,_.flush=j,_}var hge=fge,mge=hge,pge=Ni,gge="Expected a function";function vge(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(gge);return pge(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),mge(e,t,{leading:n,maxWait:t,trailing:a})}var yge=vge;const G3=Ye(yge);function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(n){xge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xge(e,t,r){return t=bge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bge(e){var t=wge(e,"string");return Zd(t)=="symbol"?t:t+""}function wge(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jge(e,t){return Ege(e)||Nge(e,t)||Sge(e,t)||_ge()}function _ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sge(e,t){if(e){if(typeof e=="string")return yC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yC(e,t)}}function yC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ege(e){if(Array.isArray(e))return e}var Jp=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,b=e.className,x=e.onResize,w=e.style,j=w===void 0?{}:w,_=y.useRef(null),S=y.useRef();S.current=x,y.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var N=y.useState({containerWidth:a.width,containerHeight:a.height}),E=jge(N,2),C=E[0],k=E[1],T=y.useCallback(function(D,R){k(function(L){var I=Math.round(D),F=Math.round(R);return L.containerWidth===I&&L.containerHeight===F?L:{containerWidth:I,containerHeight:F}})},[]);y.useEffect(function(){var D=function($){var V,z=$[0].contentRect,B=z.width,Q=z.height;T(B,Q),(V=S.current)===null||V===void 0||V.call(S,B,Q)};p>0&&(D=G3(D,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(D),L=_.current.getBoundingClientRect(),I=L.width,F=L.height;return T(I,F),R.observe(_.current),function(){R.disconnect()}},[T,p]);var A=y.useMemo(function(){var D=C.containerWidth,R=C.containerHeight;if(D<0||R<0)return null;Va(Ki(o)||Ki(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Va(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Ki(o)?D:o,I=Ki(c)?R:c;r&&r>0&&(L?I=L/r:I&&(L=I*r),h&&I>h&&(I=h)),Va(L>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,I,o,c,d,f,r);var F=!Array.isArray(m)&&Wa(m.type).endsWith("Chart");return P.Children.map(m,function(O){return WL.isElement(O)?y.cloneElement(O,om({width:L,height:I},F?{style:om({height:"100%",width:"100%",maxHeight:I,maxWidth:L},O.props.style)}:{})):O})},[r,m,c,h,f,d,C,o]);return P.createElement("div",{id:v?"".concat(v):void 0,className:De("recharts-responsive-container",b),style:om(om({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},A)}),Y3=function(t){return null};Y3.displayName="Cell";function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(r),!0).forEach(function(n){Pge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pge(e,t,r){return t=kge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kge(e){var t=Cge(e,"string");return ef(t)=="symbol"?t:t+""}function Cge(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rl={widthCache:{},cacheCount:0},Oge=2e3,Age={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bC="recharts_measurement_span";function Tge(e){var t=Aw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var yd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ha.isSsr)return{width:0,height:0};var n=Tge(r),a=JSON.stringify({text:t,copyStyle:n});if(rl.widthCache[a])return rl.widthCache[a];try{var s=document.getElementById(bC);s||(s=document.createElement("span"),s.setAttribute("id",bC),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Aw(Aw({},Age),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return rl.widthCache[a]=c,++rl.cacheCount>Oge&&(rl.cacheCount=0,rl.widthCache={}),c}catch{return{width:0,height:0}}},Rge=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function Zp(e,t){return Dge(e)||Ige(e,t)||$ge(e,t)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ge(e,t){if(e){if(typeof e=="string")return wC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wC(e,t)}}function wC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ige(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Dge(e){if(Array.isArray(e))return e}function Lge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zge(n.key),n)}}function Fge(e,t,r){return t&&jC(e.prototype,t),r&&jC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zge(e){var t=Uge(e,"string");return tf(t)=="symbol"?t:t+""}function Uge(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _C=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Q3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Wge=Object.keys(Q3),wl="NaN";function Vge(e,t){return e*Q3[t]}var lm=function(){function e(t,r){Lge(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Bge.test(r)&&(this.num=NaN,this.unit=""),Wge.includes(r)&&(this.num=Vge(t,r),this.unit="px")}return Fge(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=qge.exec(r))!==null&&n!==void 0?n:[],s=Zp(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function X3(e){if(e.includes(wl))return wl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=_C.exec(t))!==null&&r!==void 0?r:[],a=Zp(n,4),s=a[1],o=a[2],l=a[3],c=lm.parse(s??""),u=lm.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return wl;t=t.replace(_C,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=SC.exec(t))!==null&&f!==void 0?f:[],m=Zp(h,4),g=m[1],p=m[2],v=m[3],b=lm.parse(g??""),x=lm.parse(v??""),w=p==="+"?b.add(x):b.subtract(x);if(w.isNaN())return wl;t=t.replace(SC,w.toString())}return t}var NC=/\(([^()]*)\)/;function Hge(e){for(var t=e;t.includes("(");){var r=NC.exec(t),n=Zp(r,2),a=n[1];t=t.replace(NC,X3(a))}return t}function Kge(e){var t=e.replace(/\s+/g,"");return t=Hge(t),t=X3(t),t}function Gge(e){try{return Kge(e)}catch{return wl}}function Kx(e){var t=Gge(e.slice(5,-1));return t===wl?"":t}var Yge=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Qge=["dx","dy","angle","className","breakAll"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(this,arguments)}function EC(e,t){if(e==null)return{};var r=Xge(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PC(e,t){return tve(e)||eve(e,t)||Zge(e,t)||Jge()}function Jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zge(e,t){if(e){if(typeof e=="string")return kC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kC(e,t)}}function kC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tve(e){if(Array.isArray(e))return e}var J3=/[ \f\n\r\t\v\u2028\u2029]+/,Z3=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Me(r)||(n?s=r.toString().split(""):s=r.toString().split(J3));var o=s.map(function(c){return{word:c,width:yd(c,a).width}}),l=n?0:yd("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},rve=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=re(o),f=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(I,F){var O=F.word,$=F.width,V=I[I.length-1];if(V&&(a==null||s||V.width+$+n<Number(a)))V.words.push(O),V.width+=$+n;else{var z={words:[O],width:$};I.push(z)}return I},[])},m=h(r),g=function(L){return L.reduce(function(I,F){return I.width>F.width?I:F})};if(!d)return m;for(var p="",v=function(L){var I=f.slice(0,L),F=Z3({breakAll:u,style:c,children:I+p}).wordsWithComputedWidth,O=h(F),$=O.length>o||g(O).width>Number(a);return[$,O]},b=0,x=f.length-1,w=0,j;b<=x&&w<=f.length-1;){var _=Math.floor((b+x)/2),S=_-1,N=v(S),E=PC(N,2),C=E[0],k=E[1],T=v(_),A=PC(T,1),D=A[0];if(!C&&!D&&(b=_+1),C&&D&&(x=_-1),!C&&D){j=k;break}w++}return j||m},CC=function(t){var r=Me(t)?[]:t.toString().split(J3);return[{words:r}]},nve=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Ha.isSsr){var c,u,d=Z3({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return CC(a);return rve({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return CC(a)},OC="#808080",eg=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,b=v===void 0?OC:v,x=EC(t,Yge),w=y.useMemo(function(){return nve({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),j=x.dx,_=x.dy,S=x.angle,N=x.className,E=x.breakAll,C=EC(x,Qge);if(!$t(n)||!$t(s))return null;var k=n+(re(j)?j:0),T=s+(re(_)?_:0),A;switch(p){case"start":A=Kx("calc(".concat(u,")"));break;case"middle":A=Kx("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=Kx("calc(".concat(w.length-1," * -").concat(l,")"));break}var D=[];if(f){var R=w[0].width,L=x.width;D.push("scale(".concat((re(L)?L/R:1)/R,")"))}return S&&D.push("rotate(".concat(S,", ").concat(k,", ").concat(T,")")),D.length&&(C.transform=D.join(" ")),P.createElement("text",Tw({},Ie(C,!0),{x:k,y:T,className:De("recharts-text",N),textAnchor:m,fill:b.includes("url")?OC:b}),w.map(function(I,F){var O=I.words.join(E?"":" ");return P.createElement("tspan",{x:k,dy:F===0?A:l,key:"".concat(O,"-").concat(F)},O)}))};function Zs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ave(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LS(e){let t,r,n;e.length!==2?(t=Zs,r=(l,c)=>Zs(e(l),c),n=(l,c)=>e(l)-c):(t=e===Zs||e===ave?e:sve,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function sve(){return 0}function e6(e){return e===null?NaN:+e}function*ive(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ove=LS(Zs),hh=ove.right;LS(e6).center;class AC extends Map{constructor(t,r=uve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(TC(this,t))}has(t){return super.has(TC(this,t))}set(t,r){return super.set(lve(this,t),r)}delete(t){return super.delete(cve(this,t))}}function TC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function lve({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cve({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function uve(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dve(e=Zs){if(e===Zs)return t6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function t6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fve=Math.sqrt(50),hve=Math.sqrt(10),mve=Math.sqrt(2);function tg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=fve?10:s>=hve?5:s>=mve?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?tg(e,t,r*2):[l,c,u]}function Rw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?tg(t,e,r):tg(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Mw(e,t,r){return t=+t,e=+e,r=+r,tg(e,t,r)[2]}function $w(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Mw(t,e,r):Mw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function RC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function r6(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?t6:dve(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));r6(e,t,m,g,a)}const s=e[t];let o=r,l=n;for(Du(e,r,t),a(e[n],s)>0&&Du(e,r,n);o<l;){for(Du(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Du(e,r,l):(++l,Du(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Du(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function pve(e,t,r){if(e=Float64Array.from(ive(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return MC(e);if(t>=1)return RC(e);var n,a=(n-1)*t,s=Math.floor(a),o=RC(r6(e,s).subarray(0,s+1)),l=MC(e.subarray(s+1));return o+(l-o)*(a-s)}}function gve(e,t,r=e6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function vve(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function kn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Iw=Symbol("implicit");function FS(){var e=new AC,t=[],r=[],n=Iw;function a(s){let o=e.get(s);if(o===void 0){if(n!==Iw)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new AC;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return FS(t,r).unknown(n)},kn.apply(a,arguments),a}function rf(){var e=FS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;s=(p-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(p-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=vve(h).map(function(b){return g+s*b});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return rf(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},kn.apply(f(),arguments)}function n6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return n6(t())},e}function xd(){return n6(rf.apply(null,arguments).paddingInner(1))}function zS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function a6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mh(){}var nf=.7,rg=1/nf,Il="\\s*([+-]?\\d+)\\s*",af="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yve=/^#([0-9a-f]{3,8})$/,xve=new RegExp(`^rgb\\(${Il},${Il},${Il}\\)$`),bve=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),wve=new RegExp(`^rgba\\(${Il},${Il},${Il},${af}\\)$`),jve=new RegExp(`^rgba\\(${va},${va},${va},${af}\\)$`),_ve=new RegExp(`^hsl\\(${af},${va},${va}\\)$`),Sve=new RegExp(`^hsla\\(${af},${va},${va},${af}\\)$`),$C={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zS(mh,sf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IC,formatHex:IC,formatHex8:Nve,formatHsl:Eve,formatRgb:DC,toString:DC});function IC(){return this.rgb().formatHex()}function Nve(){return this.rgb().formatHex8()}function Eve(){return s6(this).formatHsl()}function DC(){return this.rgb().formatRgb()}function sf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=yve.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?LC(t):r===3?new $r(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?cm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?cm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xve.exec(e))?new $r(t[1],t[2],t[3],1):(t=bve.exec(e))?new $r(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wve.exec(e))?cm(t[1],t[2],t[3],t[4]):(t=jve.exec(e))?cm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_ve.exec(e))?UC(t[1],t[2]/100,t[3]/100,1):(t=Sve.exec(e))?UC(t[1],t[2]/100,t[3]/100,t[4]):$C.hasOwnProperty(e)?LC($C[e]):e==="transparent"?new $r(NaN,NaN,NaN,0):null}function LC(e){return new $r(e>>16&255,e>>8&255,e&255,1)}function cm(e,t,r,n){return n<=0&&(e=t=r=NaN),new $r(e,t,r,n)}function Pve(e){return e instanceof mh||(e=sf(e)),e?(e=e.rgb(),new $r(e.r,e.g,e.b,e.opacity)):new $r}function Dw(e,t,r,n){return arguments.length===1?Pve(e):new $r(e,t,r,n??1)}function $r(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}zS($r,Dw,a6(mh,{brighter(e){return e=e==null?rg:Math.pow(rg,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nf:Math.pow(nf,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $r(oo(this.r),oo(this.g),oo(this.b),ng(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FC,formatHex:FC,formatHex8:kve,formatRgb:zC,toString:zC}));function FC(){return`#${Gi(this.r)}${Gi(this.g)}${Gi(this.b)}`}function kve(){return`#${Gi(this.r)}${Gi(this.g)}${Gi(this.b)}${Gi((isNaN(this.opacity)?1:this.opacity)*255)}`}function zC(){const e=ng(this.opacity);return`${e===1?"rgb(":"rgba("}${oo(this.r)}, ${oo(this.g)}, ${oo(this.b)}${e===1?")":`, ${e})`}`}function ng(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gi(e){return e=oo(e),(e<16?"0":"")+e.toString(16)}function UC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wn(e,t,r,n)}function s6(e){if(e instanceof Wn)return new Wn(e.h,e.s,e.l,e.opacity);if(e instanceof mh||(e=sf(e)),!e)return new Wn;if(e instanceof Wn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new Wn(o,l,c,e.opacity)}function Cve(e,t,r,n){return arguments.length===1?s6(e):new Wn(e,t,r,n??1)}function Wn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}zS(Wn,Cve,a6(mh,{brighter(e){return e=e==null?rg:Math.pow(rg,e),new Wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nf:Math.pow(nf,e),new Wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new $r(Gx(e>=240?e-240:e+120,a,n),Gx(e,a,n),Gx(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Wn(BC(this.h),um(this.s),um(this.l),ng(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ng(this.opacity);return`${e===1?"hsl(":"hsla("}${BC(this.h)}, ${um(this.s)*100}%, ${um(this.l)*100}%${e===1?")":`, ${e})`}`}}));function BC(e){return e=(e||0)%360,e<0?e+360:e}function um(e){return Math.max(0,Math.min(1,e||0))}function Gx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const US=e=>()=>e;function Ove(e,t){return function(r){return e+r*t}}function Ave(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Tve(e){return(e=+e)==1?i6:function(t,r){return r-t?Ave(t,r,e):US(isNaN(t)?r:t)}}function i6(e,t){var r=t-e;return r?Ove(e,r):US(isNaN(e)?t:e)}const qC=function e(t){var r=Tve(t);function n(a,s){var o=r((a=Dw(a)).r,(s=Dw(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=i6(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Rve(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Mve(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $ve(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=gu(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function Ive(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ag(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Dve(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=gu(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Lw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yx=new RegExp(Lw.source,"g");function Lve(e){return function(){return e}}function Fve(e){return function(t){return e(t)+""}}function zve(e,t){var r=Lw.lastIndex=Yx.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Lw.exec(e))&&(a=Yx.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ag(n,a)})),r=Yx.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Fve(c[0].x):Lve(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function gu(e,t){var r=typeof t,n;return t==null||r==="boolean"?US(t):(r==="number"?ag:r==="string"?(n=sf(t))?(t=n,qC):zve:t instanceof sf?qC:t instanceof Date?Ive:Mve(t)?Rve:Array.isArray(t)?$ve:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Dve:ag)(e,t)}function BS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Uve(e,t){t===void 0&&(t=e,e=gu);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function Bve(e){return function(){return e}}function sg(e){return+e}var WC=[0,1];function xr(e){return e}function Fw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Bve(isNaN(t)?NaN:.5)}function qve(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Wve(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=Fw(a,n),s=r(o,s)):(n=Fw(n,a),s=r(s,o)),function(l){return s(n(l))}}function Vve(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Fw(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=hh(e,l,1,n)-1;return s[c](a[c](l))}}function ph(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fy(){var e=WC,t=WC,r=gu,n,a,s,o=xr,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==xr&&(o=qve(e[0],e[h-1])),l=h>2?Vve:Wve,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ag)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,sg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=BS,d()},f.clamp=function(h){return arguments.length?(o=h?!0:xr,d()):o!==xr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function qS(){return fy()(xr,xr)}function Hve(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ig(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gc(e){return e=ig(Math.abs(e)),e?e[1]:NaN}function Kve(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Gve(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Yve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function of(e){if(!(t=Yve.exec(e)))throw new Error("invalid format: "+e);var t;return new WS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}of.prototype=WS.prototype;function WS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}WS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qve(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var o6;function Xve(e,t){var r=ig(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(o6=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ig(e,Math.max(0,t+s-1))[0]}function VC(e,t){var r=ig(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const HC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Hve,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VC(e*100,t),r:VC,s:Xve,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function KC(e){return e}var GC=Array.prototype.map,YC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jve(e){var t=e.grouping===void 0||e.thousands===void 0?KC:Kve(GC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?KC:Gve(GC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=of(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,b=f.width,x=f.comma,w=f.precision,j=f.trim,_=f.type;_==="n"?(x=!0,_="g"):HC[_]||(w===void 0&&(w=12),j=!0,_="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",N=p==="$"?n:/[%p]/.test(_)?o:"",E=HC[_],C=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(T){var A=S,D=N,R,L,I;if(_==="c")D=E(T)+D,T="";else{T=+T;var F=T<0||1/T<0;if(T=isNaN(T)?c:E(Math.abs(T),w),j&&(T=Qve(T)),F&&+T==0&&g!=="+"&&(F=!1),A=(F?g==="("?g:l:g==="-"||g==="("?"":g)+A,D=(_==="s"?YC[8+o6/3]:"")+D+(F&&g==="("?")":""),C){for(R=-1,L=T.length;++R<L;)if(I=T.charCodeAt(R),48>I||I>57){D=(I===46?a+T.slice(R+1):T.slice(R))+D,T=T.slice(0,R);break}}}x&&!v&&(T=t(T,1/0));var O=A.length+T.length+D.length,$=O<b?new Array(b-O+1).join(h):"";switch(x&&v&&(T=t($+T,$.length?b-D.length:1/0),$=""),m){case"<":T=A+T+D+$;break;case"=":T=A+$+T+D;break;case"^":T=$.slice(0,O=$.length>>1)+A+T+D+$.slice(O);break;default:T=$+A+T+D;break}return s(T)}return k.toString=function(){return f+""},k}function d(f,h){var m=u((f=of(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(gc(h)/3)))*3,p=Math.pow(10,-g),v=YC[8+g/3];return function(b){return m(p*b)+v}}return{format:u,formatPrefix:d}}var dm,VS,l6;Zve({thousands:",",grouping:[3],currency:["$",""]});function Zve(e){return dm=Jve(e),VS=dm.format,l6=dm.formatPrefix,dm}function eye(e){return Math.max(0,-gc(Math.abs(e)))}function tye(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gc(t)/3)))*3-gc(Math.abs(e)))}function rye(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gc(t)-gc(e))+1}function c6(e,t,r,n){var a=$w(e,t,r),s;switch(n=of(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=tye(a,o))&&(n.precision=s),l6(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=rye(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=eye(a))&&(n.precision=s-(n.type==="%")*2);break}}return VS(n)}function Pi(e){var t=e.domain;return e.ticks=function(r){var n=t();return Rw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return c6(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Mw(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function og(){var e=qS();return e.copy=function(){return ph(e,og())},kn.apply(e,arguments),Pi(e)}function u6(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return u6(e).unknown(t)},e=arguments.length?Array.from(e,sg):[0,1],Pi(r)}function d6(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function QC(e){return Math.log(e)}function XC(e){return Math.exp(e)}function nye(e){return-Math.log(-e)}function aye(e){return-Math.exp(-e)}function sye(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iye(e){return e===10?sye:e===Math.E?Math.exp:t=>Math.pow(e,t)}function oye(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function JC(e){return(t,r)=>-e(-t,r)}function HS(e){const t=e(QC,XC),r=t.domain;let n=10,a,s;function o(){return a=oye(n),s=iye(n),r()[0]<0?(a=JC(a),s=JC(s),e(nye,aye)):e(QC,XC),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let b=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<v&&(b=Rw(u,d,v))}else b=Rw(h,m,Math.min(m-h,v)).map(s);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=of(c)).precision==null&&(c.trim=!0),c=VS(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(d6(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function f6(){const e=HS(fy()).domain([1,10]);return e.copy=()=>ph(e,f6()).base(e.base()),kn.apply(e,arguments),e}function ZC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function KS(e){var t=1,r=e(ZC(t),eO(t));return r.constant=function(n){return arguments.length?e(ZC(t=+n),eO(t)):t},Pi(r)}function h6(){var e=KS(fy());return e.copy=function(){return ph(e,h6()).constant(e.constant())},kn.apply(e,arguments)}function tO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cye(e){return e<0?-e*e:e*e}function GS(e){var t=e(xr,xr),r=1;function n(){return r===1?e(xr,xr):r===.5?e(lye,cye):e(tO(r),tO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Pi(t)}function YS(){var e=GS(fy());return e.copy=function(){return ph(e,YS()).exponent(e.exponent())},kn.apply(e,arguments),e}function uye(){return YS.apply(null,arguments).exponent(.5)}function rO(e){return Math.sign(e)*e*e}function dye(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function m6(){var e=qS(),t=[0,1],r=!1,n;function a(s){var o=dye(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(rO(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,sg)).map(rO)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return m6(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},kn.apply(a,arguments),Pi(a)}function p6(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=gve(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[hh(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Zs),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return p6().domain(e).range(t).unknown(n)},kn.apply(s,arguments)}function g6(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[hh(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return g6().domain([e,t]).range(a).unknown(s)},kn.apply(Pi(o),arguments)}function v6(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[hh(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return v6().domain(e).range(t).unknown(r)},kn.apply(a,arguments)}const Qx=new Date,Xx=new Date;function Dt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Dt(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(Qx.setTime(+s),Xx.setTime(+o),e(Qx),e(Xx),Math.floor(r(Qx,Xx))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const lg=Dt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Dt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lg);lg.range;const za=1e3,yn=za*60,Ua=yn*60,rs=Ua*24,QS=rs*7,nO=rs*30,Jx=rs*365,Yi=Dt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getUTCSeconds());Yi.range;const XS=Dt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*za)},(e,t)=>{e.setTime(+e+t*yn)},(e,t)=>(t-e)/yn,e=>e.getMinutes());XS.range;const JS=Dt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*yn)},(e,t)=>(t-e)/yn,e=>e.getUTCMinutes());JS.range;const ZS=Dt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*za-e.getMinutes()*yn)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getHours());ZS.range;const eN=Dt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCHours());eN.range;const gh=Dt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*yn)/rs,e=>e.getDate()-1);gh.range;const hy=Dt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rs,e=>e.getUTCDate()-1);hy.range;const y6=Dt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rs,e=>Math.floor(e/rs));y6.range;function Uo(e){return Dt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*yn)/QS)}const my=Uo(0),cg=Uo(1),fye=Uo(2),hye=Uo(3),vc=Uo(4),mye=Uo(5),pye=Uo(6);my.range;cg.range;fye.range;hye.range;vc.range;mye.range;pye.range;function Bo(e){return Dt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/QS)}const py=Bo(0),ug=Bo(1),gye=Bo(2),vye=Bo(3),yc=Bo(4),yye=Bo(5),xye=Bo(6);py.range;ug.range;gye.range;vye.range;yc.range;yye.range;xye.range;const tN=Dt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tN.range;const rN=Dt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rN.range;const ns=Dt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ns.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ns.range;const as=Dt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());as.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});as.range;function x6(e,t,r,n,a,s){const o=[[Yi,1,za],[Yi,5,5*za],[Yi,15,15*za],[Yi,30,30*za],[s,1,yn],[s,5,5*yn],[s,15,15*yn],[s,30,30*yn],[a,1,Ua],[a,3,3*Ua],[a,6,6*Ua],[a,12,12*Ua],[n,1,rs],[n,2,2*rs],[r,1,QS],[t,1,nO],[t,3,3*nO],[e,1,Jx]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=LS(([,,v])=>v).right(o,h);if(m===o.length)return e.every($w(u/Jx,d/Jx,f));if(m===0)return lg.every(Math.max($w(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[bye,wye]=x6(as,rN,py,y6,eN,JS),[jye,_ye]=x6(ns,tN,my,gh,ZS,XS);function Zx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function e0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Sye(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Fu(a),d=zu(a),f=Fu(s),h=zu(s),m=Fu(o),g=zu(o),p=Fu(l),v=zu(l),b=Fu(c),x=zu(c),w={a:F,A:O,b:$,B:V,c:null,d:cO,e:cO,f:Kye,g:nxe,G:sxe,H:Wye,I:Vye,j:Hye,L:b6,m:Gye,M:Yye,p:z,q:B,Q:fO,s:hO,S:Qye,u:Xye,U:Jye,V:Zye,w:exe,W:txe,x:null,X:null,y:rxe,Y:axe,Z:ixe,"%":dO},j={a:Q,A:oe,b:ge,B:me,c:null,d:uO,e:uO,f:uxe,g:bxe,G:jxe,H:oxe,I:lxe,j:cxe,L:j6,m:dxe,M:fxe,p:ne,q:be,Q:fO,s:hO,S:hxe,u:mxe,U:pxe,V:gxe,w:vxe,W:yxe,x:null,X:null,y:xxe,Y:wxe,Z:_xe,"%":dO},_={a:k,A:T,b:A,B:D,c:R,d:oO,e:oO,f:zye,g:iO,G:sO,H:lO,I:lO,j:Iye,L:Fye,m:$ye,M:Dye,p:C,q:Mye,Q:Bye,s:qye,S:Lye,u:Cye,U:Oye,V:Aye,w:kye,W:Tye,x:L,X:I,y:iO,Y:sO,Z:Rye,"%":Uye};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(Y,te){return function(le){var q=[],Oe=-1,ye=0,Ke=Y.length,Le,wt,qr;for(le instanceof Date||(le=new Date(+le));++Oe<Ke;)Y.charCodeAt(Oe)===37&&(q.push(Y.slice(ye,Oe)),(wt=aO[Le=Y.charAt(++Oe)])!=null?Le=Y.charAt(++Oe):wt=Le==="e"?" ":"0",(qr=te[Le])&&(Le=qr(le,wt)),q.push(Le),ye=Oe+1);return q.push(Y.slice(ye,Oe)),q.join("")}}function N(Y,te){return function(le){var q=Lu(1900,void 0,1),Oe=E(q,Y,le+="",0),ye,Ke;if(Oe!=le.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(te&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ye=e0(Lu(q.y,0,1)),Ke=ye.getUTCDay(),ye=Ke>4||Ke===0?ug.ceil(ye):ug(ye),ye=hy.offset(ye,(q.V-1)*7),q.y=ye.getUTCFullYear(),q.m=ye.getUTCMonth(),q.d=ye.getUTCDate()+(q.w+6)%7):(ye=Zx(Lu(q.y,0,1)),Ke=ye.getDay(),ye=Ke>4||Ke===0?cg.ceil(ye):cg(ye),ye=gh.offset(ye,(q.V-1)*7),q.y=ye.getFullYear(),q.m=ye.getMonth(),q.d=ye.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ke="Z"in q?e0(Lu(q.y,0,1)).getUTCDay():Zx(Lu(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ke+5)%7:q.w+q.U*7-(Ke+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,e0(q)):Zx(q)}}function E(Y,te,le,q){for(var Oe=0,ye=te.length,Ke=le.length,Le,wt;Oe<ye;){if(q>=Ke)return-1;if(Le=te.charCodeAt(Oe++),Le===37){if(Le=te.charAt(Oe++),wt=_[Le in aO?te.charAt(Oe++):Le],!wt||(q=wt(Y,le,q))<0)return-1}else if(Le!=le.charCodeAt(q++))return-1}return q}function C(Y,te,le){var q=u.exec(te.slice(le));return q?(Y.p=d.get(q[0].toLowerCase()),le+q[0].length):-1}function k(Y,te,le){var q=m.exec(te.slice(le));return q?(Y.w=g.get(q[0].toLowerCase()),le+q[0].length):-1}function T(Y,te,le){var q=f.exec(te.slice(le));return q?(Y.w=h.get(q[0].toLowerCase()),le+q[0].length):-1}function A(Y,te,le){var q=b.exec(te.slice(le));return q?(Y.m=x.get(q[0].toLowerCase()),le+q[0].length):-1}function D(Y,te,le){var q=p.exec(te.slice(le));return q?(Y.m=v.get(q[0].toLowerCase()),le+q[0].length):-1}function R(Y,te,le){return E(Y,t,te,le)}function L(Y,te,le){return E(Y,r,te,le)}function I(Y,te,le){return E(Y,n,te,le)}function F(Y){return o[Y.getDay()]}function O(Y){return s[Y.getDay()]}function $(Y){return c[Y.getMonth()]}function V(Y){return l[Y.getMonth()]}function z(Y){return a[+(Y.getHours()>=12)]}function B(Y){return 1+~~(Y.getMonth()/3)}function Q(Y){return o[Y.getUTCDay()]}function oe(Y){return s[Y.getUTCDay()]}function ge(Y){return c[Y.getUTCMonth()]}function me(Y){return l[Y.getUTCMonth()]}function ne(Y){return a[+(Y.getUTCHours()>=12)]}function be(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var te=S(Y+="",w);return te.toString=function(){return Y},te},parse:function(Y){var te=N(Y+="",!1);return te.toString=function(){return Y},te},utcFormat:function(Y){var te=S(Y+="",j);return te.toString=function(){return Y},te},utcParse:function(Y){var te=N(Y+="",!0);return te.toString=function(){return Y},te}}}var aO={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,Nye=/^%/,Eye=/[\\^$*+?|[\]().{}]/g;function ze(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Pye(e){return e.replace(Eye,"\\$&")}function Fu(e){return new RegExp("^(?:"+e.map(Pye).join("|")+")","i")}function zu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function kye(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Cye(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Oye(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Aye(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Tye(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function sO(e,t,r){var n=Wt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function iO(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Rye(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Mye(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $ye(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function oO(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Iye(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lO(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Dye(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Lye(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Fye(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function zye(e,t,r){var n=Wt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Uye(e,t,r){var n=Nye.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Bye(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function qye(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function cO(e,t){return ze(e.getDate(),t,2)}function Wye(e,t){return ze(e.getHours(),t,2)}function Vye(e,t){return ze(e.getHours()%12||12,t,2)}function Hye(e,t){return ze(1+gh.count(ns(e),e),t,3)}function b6(e,t){return ze(e.getMilliseconds(),t,3)}function Kye(e,t){return b6(e,t)+"000"}function Gye(e,t){return ze(e.getMonth()+1,t,2)}function Yye(e,t){return ze(e.getMinutes(),t,2)}function Qye(e,t){return ze(e.getSeconds(),t,2)}function Xye(e){var t=e.getDay();return t===0?7:t}function Jye(e,t){return ze(my.count(ns(e)-1,e),t,2)}function w6(e){var t=e.getDay();return t>=4||t===0?vc(e):vc.ceil(e)}function Zye(e,t){return e=w6(e),ze(vc.count(ns(e),e)+(ns(e).getDay()===4),t,2)}function exe(e){return e.getDay()}function txe(e,t){return ze(cg.count(ns(e)-1,e),t,2)}function rxe(e,t){return ze(e.getFullYear()%100,t,2)}function nxe(e,t){return e=w6(e),ze(e.getFullYear()%100,t,2)}function axe(e,t){return ze(e.getFullYear()%1e4,t,4)}function sxe(e,t){var r=e.getDay();return e=r>=4||r===0?vc(e):vc.ceil(e),ze(e.getFullYear()%1e4,t,4)}function ixe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ze(t/60|0,"0",2)+ze(t%60,"0",2)}function uO(e,t){return ze(e.getUTCDate(),t,2)}function oxe(e,t){return ze(e.getUTCHours(),t,2)}function lxe(e,t){return ze(e.getUTCHours()%12||12,t,2)}function cxe(e,t){return ze(1+hy.count(as(e),e),t,3)}function j6(e,t){return ze(e.getUTCMilliseconds(),t,3)}function uxe(e,t){return j6(e,t)+"000"}function dxe(e,t){return ze(e.getUTCMonth()+1,t,2)}function fxe(e,t){return ze(e.getUTCMinutes(),t,2)}function hxe(e,t){return ze(e.getUTCSeconds(),t,2)}function mxe(e){var t=e.getUTCDay();return t===0?7:t}function pxe(e,t){return ze(py.count(as(e)-1,e),t,2)}function _6(e){var t=e.getUTCDay();return t>=4||t===0?yc(e):yc.ceil(e)}function gxe(e,t){return e=_6(e),ze(yc.count(as(e),e)+(as(e).getUTCDay()===4),t,2)}function vxe(e){return e.getUTCDay()}function yxe(e,t){return ze(ug.count(as(e)-1,e),t,2)}function xxe(e,t){return ze(e.getUTCFullYear()%100,t,2)}function bxe(e,t){return e=_6(e),ze(e.getUTCFullYear()%100,t,2)}function wxe(e,t){return ze(e.getUTCFullYear()%1e4,t,4)}function jxe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yc(e):yc.ceil(e),ze(e.getUTCFullYear()%1e4,t,4)}function _xe(){return"+0000"}function dO(){return"%"}function fO(e){return+e}function hO(e){return Math.floor(+e/1e3)}var nl,S6,N6;Sxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Sxe(e){return nl=Sye(e),S6=nl.format,nl.parse,N6=nl.utcFormat,nl.utcParse,nl}function Nxe(e){return new Date(e)}function Exe(e){return e instanceof Date?+e:+new Date(+e)}function nN(e,t,r,n,a,s,o,l,c,u){var d=qS(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),j=u("%Y");function _(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:s(S)<S?v:n(S)<S?a(S)<S?b:x:r(S)<S?w:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Exe)):h().map(Nxe)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?_:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(d6(N,S)):d},d.copy=function(){return ph(d,nN(e,t,r,n,a,s,o,l,c,u))},d}function Pxe(){return kn.apply(nN(jye,_ye,ns,tN,my,gh,ZS,XS,Yi,S6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kxe(){return kn.apply(nN(bye,wye,as,rN,py,hy,eN,JS,Yi,N6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gy(){var e=0,t=1,r,n,a,s,o=xr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(gu),u.rangeRound=d(BS),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function ki(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function E6(){var e=Pi(gy()(xr));return e.copy=function(){return ki(e,E6())},fs.apply(e,arguments)}function P6(){var e=HS(gy()).domain([1,10]);return e.copy=function(){return ki(e,P6()).base(e.base())},fs.apply(e,arguments)}function k6(){var e=KS(gy());return e.copy=function(){return ki(e,k6()).constant(e.constant())},fs.apply(e,arguments)}function aN(){var e=GS(gy());return e.copy=function(){return ki(e,aN()).exponent(e.exponent())},fs.apply(e,arguments)}function Cxe(){return aN.apply(null,arguments).exponent(.5)}function C6(){var e=[],t=xr;function r(n){if(n!=null&&!isNaN(n=+n))return t((hh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Zs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>pve(e,s/n))},r.copy=function(){return C6(t).domain(e)},fs.apply(r,arguments)}function vy(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=xr,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var b,x,w;return arguments.length?([b,x,w]=v,u=Uve(p,[b,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(gu),m.rangeRound=g(BS),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),s=p(t),o=p(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function O6(){var e=Pi(vy()(xr));return e.copy=function(){return ki(e,O6())},fs.apply(e,arguments)}function A6(){var e=HS(vy()).domain([.1,1,10]);return e.copy=function(){return ki(e,A6()).base(e.base())},fs.apply(e,arguments)}function T6(){var e=KS(vy());return e.copy=function(){return ki(e,T6()).constant(e.constant())},fs.apply(e,arguments)}function sN(){var e=GS(vy());return e.copy=function(){return ki(e,sN()).exponent(e.exponent())},fs.apply(e,arguments)}function Oxe(){return sN.apply(null,arguments).exponent(.5)}const mO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rf,scaleDiverging:O6,scaleDivergingLog:A6,scaleDivergingPow:sN,scaleDivergingSqrt:Oxe,scaleDivergingSymlog:T6,scaleIdentity:u6,scaleImplicit:Iw,scaleLinear:og,scaleLog:f6,scaleOrdinal:FS,scalePoint:xd,scalePow:YS,scaleQuantile:p6,scaleQuantize:g6,scaleRadial:m6,scaleSequential:E6,scaleSequentialLog:P6,scaleSequentialPow:aN,scaleSequentialQuantile:C6,scaleSequentialSqrt:Cxe,scaleSequentialSymlog:k6,scaleSqrt:uye,scaleSymlog:h6,scaleThreshold:v6,scaleTime:Pxe,scaleUtc:kxe,tickFormat:c6},Symbol.toStringTag,{value:"Module"}));var Axe=lu;function Txe(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!Axe(o):r(o,l)))var l=o,c=s}return c}var R6=Txe;function Rxe(e,t){return e>t}var Mxe=Rxe,$xe=R6,Ixe=Mxe,Dxe=pu;function Lxe(e){return e&&e.length?$xe(e,Dxe,Ixe):void 0}var Fxe=Lxe;const yy=Ye(Fxe);function zxe(e,t){return e<t}var Uxe=zxe,Bxe=R6,qxe=Uxe,Wxe=pu;function Vxe(e){return e&&e.length?Bxe(e,Wxe,qxe):void 0}var Hxe=Vxe;const xy=Ye(Hxe);var Kxe=xS,Gxe=Ei,Yxe=U3,Qxe=Br;function Xxe(e,t){var r=Qxe(e)?Kxe:Yxe;return r(e,Gxe(t))}var Jxe=Xxe,Zxe=F3,e0e=Jxe;function t0e(e,t){return Zxe(e0e(e,t),1)}var r0e=t0e;const n0e=Ye(r0e);var a0e=MS;function s0e(e,t){return a0e(e,t)}var i0e=s0e;const by=Ye(i0e);var vu=1e9,o0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oN,ut=!0,En="[DecimalError] ",lo=En+"Invalid argument: ",iN=En+"Exponent out of range: ",yu=Math.floor,Fi=Math.pow,l0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zr,Ft=1e7,ot=7,M6=9007199254740991,dg=yu(M6/ot),fe={};fe.absoluteValue=fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};fe.comparedTo=fe.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};fe.dividedBy=fe.div=function(e){return Ka(this,new this.constructor(e))};fe.dividedToIntegerBy=fe.idiv=function(e){var t=this,r=t.constructor;return Qe(Ka(t,new r(e),0,1),r.precision)};fe.equals=fe.eq=function(e){return!this.cmp(e)};fe.exponent=function(){return kt(this)};fe.greaterThan=fe.gt=function(e){return this.cmp(e)>0};fe.greaterThanOrEqualTo=fe.gte=function(e){return this.cmp(e)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(e){return this.cmp(e)<0};fe.lessThanOrEqualTo=fe.lte=function(e){return this.cmp(e)<1};fe.logarithm=fe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zr))throw Error(En+"NaN");if(r.s<1)throw Error(En+(r.s?"NaN":"-Infinity"));return r.eq(Zr)?new n(0):(ut=!1,t=Ka(lf(r,s),lf(e,s),s),ut=!0,Qe(t,a))};fe.minus=fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D6(t,e):$6(t,(e.s=-e.s,e))};fe.modulo=fe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(En+"NaN");return r.s?(ut=!1,t=Ka(r,e,0,1).times(e),ut=!0,r.minus(t)):Qe(new n(r),a)};fe.naturalExponential=fe.exp=function(){return I6(this)};fe.naturalLogarithm=fe.ln=function(){return lf(this)};fe.negated=fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};fe.plus=fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$6(t,e):D6(t,(e.s=-e.s,e))};fe.precision=fe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lo+e);if(t=kt(a)+1,n=a.d.length-1,r=n*ot+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};fe.squareRoot=fe.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(En+"NaN")}for(e=kt(l),ut=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ma(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=yu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Ka(l,s,o+2)).times(.5),ma(s.d).slice(0,o)===(t=ma(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Qe(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return ut=!0,Qe(n,r)};fe.times=fe.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%Ft|0,t=l/Ft|0;s[a]=(s[a]+t)%Ft|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,ut?Qe(e,f.precision):e};fe.toDecimalPlaces=fe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(wa(e,0,vu),t===void 0?t=n.rounding:wa(t,0,8),Qe(r,e+kt(r)+1,t))};fe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Eo(n,!0):(wa(e,0,vu),t===void 0?t=a.rounding:wa(t,0,8),n=Qe(new a(n),e+1,t),r=Eo(n,!0,e+1)),r};fe.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Eo(a):(wa(e,0,vu),t===void 0?t=s.rounding:wa(t,0,8),n=Qe(new s(a),e+kt(a)+1,t),r=Eo(n.abs(),!1,e+kt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};fe.toInteger=fe.toint=function(){var e=this,t=e.constructor;return Qe(new t(e),kt(e)+1,t.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Zr);if(l=new c(l),!l.s){if(e.s<1)throw Error(En+"Infinity");return l}if(l.eq(Zr))return l;if(n=c.precision,e.eq(Zr))return Qe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=M6){for(a=new c(Zr),t=Math.ceil(n/ot+4),ut=!1;r%2&&(a=a.times(l),gO(a.d,t)),r=yu(r/2),r!==0;)l=l.times(l),gO(l.d,t);return ut=!0,e.s<0?new c(Zr).div(a):Qe(a,n)}}else if(s<0)throw Error(En+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ut=!1,a=e.times(lf(l,n+u)),ut=!0,a=I6(a),a.s=s,a};fe.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=kt(a),n=Eo(a,r<=s.toExpNeg||r>=s.toExpPos)):(wa(e,1,vu),t===void 0?t=s.rounding:wa(t,0,8),a=Qe(new s(a),e,t),r=kt(a),n=Eo(a,e<=r||r<=s.toExpNeg,e)),n};fe.toSignificantDigits=fe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(wa(e,1,vu),t===void 0?t=n.rounding:wa(t,0,8)),Qe(new n(r),e,t)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kt(e),r=e.constructor;return Eo(e,t<=r.toExpNeg||t>=r.toExpPos)};function $6(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ut?Qe(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/ot),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Ft|0,c[s]%=Ft;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ut?Qe(t,f):t}function wa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(lo+e)}function ma(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=ot-n.length,r&&(s+=Ss(r)),s+=n;o=e[t],n=o+"",r=ot-n.length,r&&(s+=Ss(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ka=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Ft|0,o=s/Ft|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Ft+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,g,p,v,b,x,w,j,_,S,N,E,C=n.constructor,k=n.s==a.s?1:-1,T=n.d,A=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(En+"Division by zero");for(c=n.e-a.e,N=A.length,_=T.length,m=new C(k),g=m.d=[],u=0;A[u]==(T[u]||0);)++u;if(A[u]>(T[u]||0)&&--c,s==null?x=s=C.precision:o?x=s+(kt(n)-kt(a))+1:x=s,x<0)return new C(0);if(x=x/ot+2|0,u=0,N==1)for(d=0,A=A[0],x++;(u<_||d)&&x--;u++)w=d*Ft+(T[u]||0),g[u]=w/A|0,d=w%A|0;else{for(d=Ft/(A[0]+1)|0,d>1&&(A=e(A,d),T=e(T,d),N=A.length,_=T.length),j=N,p=T.slice(0,N),v=p.length;v<N;)p[v++]=0;E=A.slice(),E.unshift(0),S=A[0],A[1]>=Ft/2&&++S;do d=0,l=t(A,p,N,v),l<0?(b=p[0],N!=v&&(b=b*Ft+(p[1]||0)),d=b/S|0,d>1?(d>=Ft&&(d=Ft-1),f=e(A,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,N<h?E:A,h))):(d==0&&(l=d=1),f=A.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(A,p,N,v),l<1&&(d++,r(p,N<v?E:A,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=T[j]||0:(p=[T[j]],v=1);while((j++<_||p[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=c,Qe(m,o?s+kt(m)+1:s)}}();function I6(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(kt(e)>16)throw Error(iN+kt(e));if(!e.s)return new d(Zr);for(t==null?(ut=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Fi(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Zr),d.precision=l;;){if(a=Qe(a.times(e),l),r=r.times(++c),o=s.plus(Ka(a,r,l)),ma(o.d).slice(0,l)===ma(s.d).slice(0,l)){for(;u--;)s=Qe(s.times(s),l);return d.precision=f,t==null?(ut=!0,Qe(s,f)):s}s=o}}function kt(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function t0(e,t,r){if(t>e.LN10.sd())throw ut=!0,r&&(e.precision=r),Error(En+"LN10 precision limit exceeded");return Qe(new e(e.LN10),t)}function Ss(e){for(var t="";e--;)t+="0";return t}function lf(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(En+(m.s?"NaN":"-Infinity"));if(m.eq(Zr))return new p(0);if(t==null?(ut=!1,u=v):u=t,m.eq(10))return t==null&&(ut=!0),t0(p,u);if(u+=h,p.precision=u,r=ma(g),n=r.charAt(0),s=kt(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ma(m.d),n=r.charAt(0),f++;s=kt(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=t0(p,u+2,v).times(s+""),m=lf(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(ut=!0,Qe(m,v)):m;for(l=o=m=Ka(m.minus(Zr),m.plus(Zr),u),d=Qe(m.times(m),u),a=3;;){if(o=Qe(o.times(d),u),c=l.plus(Ka(o,new p(a),u)),ma(c.d).slice(0,u)===ma(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(t0(p,u+2,v).times(s+""))),l=Ka(l,new p(f),u),p.precision=v,t==null?(ut=!0,Qe(l,v)):l;l=c,a+=2}}function pO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=yu(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ot;n<a;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ut&&(e.e>dg||e.e<-dg))throw Error(iN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Qe(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=ot,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/ot),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=ot,a=n-ot+o}if(r!==void 0&&(s=Fi(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Fi(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=kt(e),f.length=1,t=t-s-1,f[0]=Fi(10,(ot-t%ot)%ot),e.e=yu(-t/ot)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Fi(10,ot-n),f[d]=a>0?(u/Fi(10,o-a)%Fi(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Ft&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Ft)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(ut&&(e.e>dg||e.e<-dg))throw Error(iN+kt(e));return e}function D6(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ut?Qe(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/ot),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Ft-1;--c[s],c[a]+=Ft}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ut?Qe(t,m):t):new h(0)}function Eo(e,t,r){var n,a=kt(e),s=ma(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ss(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ss(-a-1)+s,r&&(n=r-o)>0&&(s+=Ss(n))):a>=o?(s+=Ss(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Ss(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Ss(n))),e.s<0?"-"+s:s}function gO(e,t){if(e.length>t)return e.length=t,!0}function L6(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(lo+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return pO(o,s.toString())}else if(typeof s!="string")throw Error(lo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,l0e.test(s))pO(o,s);else throw Error(lo+s)}if(a.prototype=fe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=L6,a.config=a.set=c0e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function c0e(e){if(!e||typeof e!="object")throw Error(En+"Object expected");var t,r,n,a=["precision",1,vu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(yu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(lo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(lo+r+": "+n);return this}var oN=L6(o0e);Zr=new oN(1);const Ge=oN;function u0e(e){return m0e(e)||h0e(e)||f0e(e)||d0e()}function d0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f0e(e,t){if(e){if(typeof e=="string")return zw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zw(e,t)}}function h0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function m0e(e){if(Array.isArray(e))return zw(e)}function zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p0e=function(t){return t},F6={"@@functional/placeholder":!0},z6=function(t){return t===F6},vO=function(t){return function r(){return arguments.length===0||arguments.length===1&&z6(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},g0e=function e(t,r){return t===1?r:vO(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==F6}).length;return o>=t?r.apply(void 0,a):e(t-o,vO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return z6(f)?c.shift():f});return r.apply(void 0,u0e(d).concat(c))}))})},wy=function(t){return g0e(t.length,t)},Uw=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},v0e=wy(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),y0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return p0e;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Bw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},U6=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function x0e(e){var t;return e===0?t=1:t=Math.floor(new Ge(e).abs().log(10).toNumber())+1,t}function b0e(e,t,r){for(var n=new Ge(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var w0e=wy(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),j0e=wy(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),_0e=wy(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const jy={rangeStep:b0e,getDigitCount:x0e,interpolateNumber:w0e,uninterpolateNumber:j0e,uninterpolateTruncation:_0e};function qw(e){return E0e(e)||N0e(e)||B6(e)||S0e()}function S0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function E0e(e){if(Array.isArray(e))return Ww(e)}function cf(e,t){return C0e(e)||k0e(e,t)||B6(e,t)||P0e()}function P0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B6(e,t){if(e){if(typeof e=="string")return Ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(e,t)}}function Ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k0e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function C0e(e){if(Array.isArray(e))return e}function q6(e){var t=cf(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function W6(e,t,r){if(e.lte(0))return new Ge(0);var n=jy.getDigitCount(e.toNumber()),a=new Ge(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Ge(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Ge(Math.ceil(c))}function O0e(e,t,r){var n=1,a=new Ge(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Ge(10).pow(jy.getDigitCount(e)-1),a=new Ge(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ge(Math.floor(e)))}else e===0?a=new Ge(Math.floor((t-1)/2)):r||(a=new Ge(Math.floor(e)));var o=Math.floor((t-1)/2),l=y0e(v0e(function(c){return a.add(new Ge(c-o).mul(n)).toNumber()}),Uw);return l(0,t)}function V6(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var s=W6(new Ge(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Ge(0):(o=new Ge(e).add(t).div(2),o=o.sub(new Ge(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Ge(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?V6(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Ge(l).mul(s)),tickMax:o.add(new Ge(c).mul(s))})}function A0e(e){var t=cf(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=q6([r,n]),c=cf(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(qw(Uw(0,a-1).map(function(){return 1/0}))):[].concat(qw(Uw(0,a-1).map(function(){return-1/0})),[d]);return r>n?Bw(f):f}if(u===d)return O0e(u,a,s);var h=V6(u,d,o,s),m=h.step,g=h.tickMin,p=h.tickMax,v=jy.rangeStep(g,p.add(new Ge(.1).mul(m)),m);return r>n?Bw(v):v}function T0e(e,t){var r=cf(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=q6([n,a]),l=cf(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=W6(new Ge(u).sub(c).div(d-1),s,0),h=[].concat(qw(jy.rangeStep(new Ge(c),new Ge(u).sub(new Ge(.99).mul(f)),f)),[u]);return n>a?Bw(h):h}var R0e=U6(A0e),M0e=U6(T0e),$0e="Invariant failed";function Po(e,t){throw new Error($0e)}var I0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}function D0e(e,t){return U0e(e)||z0e(e,t)||F0e(e,t)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F0e(e,t){if(e){if(typeof e=="string")return yO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yO(e,t)}}function yO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function U0e(e){if(Array.isArray(e))return e}function B0e(e,t){if(e==null)return{};var r=q0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G6(n.key),n)}}function H0e(e,t,r){return t&&V0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K0e(e,t,r){return t=hg(t),G0e(e,H6()?Reflect.construct(t,r||[],hg(e).constructor):t.apply(e,r))}function G0e(e,t){if(t&&(xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y0e(e)}function Y0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H6=function(){return!!e})()}function hg(e){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(e)}function Q0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}function Vw(e,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vw(e,t)}function K6(e,t,r){return t=G6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G6(e){var t=X0e(e,"string");return xc(t)=="symbol"?t:t+""}function X0e(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vh=function(e){function t(){return W0e(this,t),K0e(this,t,arguments)}return Q0e(t,e),H0e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=B0e(n,I0e),m=Ie(h,!1);this.props.direction==="x"&&d.type!=="number"&&Po();var g=c.map(function(p){var v=u(p,l),b=v.x,x=v.y,w=v.value,j=v.errorVal;if(!j)return null;var _=[],S,N;if(Array.isArray(j)){var E=D0e(j,2);S=E[0],N=E[1]}else S=N=j;if(s==="vertical"){var C=d.scale,k=x+a,T=k+o,A=k-o,D=C(w-S),R=C(w+N);_.push({x1:R,y1:T,x2:R,y2:A}),_.push({x1:D,y1:k,x2:R,y2:k}),_.push({x1:D,y1:T,x2:D,y2:A})}else if(s==="horizontal"){var L=f.scale,I=b+a,F=I-o,O=I+o,$=L(w-S),V=L(w+N);_.push({x1:F,y1:V,x2:O,y2:V}),_.push({x1:I,y1:$,x2:I,y2:V}),_.push({x1:F,y1:$,x2:O,y2:$})}return P.createElement(_t,fg({className:"recharts-errorBar",key:"bar-".concat(_.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},m),_.map(function(z){return P.createElement("line",fg({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return P.createElement(_t,{className:"recharts-errorBars"},g)}}])}(P.Component);K6(vh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});K6(vh,"displayName","ErrorBar");function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){J0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J0e(e,t,r){return t=Z0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z0e(e){var t=ebe(e,"string");return uf(t)=="symbol"?t:t+""}function ebe(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y6=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Qr(r,io);if(!o)return null;var l=io.defaultProps,c=l!==void 0?Ri(Ri({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Ri(Ri({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:lN(f),value:p||g,payload:m}}),Ri(Ri(Ri({},c),io.getWithHeight(o,a)),{},{payload:u,item:o})};function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function bO(e){return abe(e)||nbe(e)||rbe(e)||tbe()}function tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rbe(e,t){if(e){if(typeof e=="string")return Hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hw(e,t)}}function nbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function abe(e){if(Array.isArray(e))return Hw(e)}function Hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){Dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dl(e,t,r){return t=sbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sbe(e){var t=ibe(e,"string");return df(t)=="symbol"?t:t+""}function ibe(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sn(e,t,r){return Me(e)||Me(t)?r:$t(t)?jn(e,t,r):Te(t)?t(e):r}function bd(e,t,r,n){var a=n0e(e,function(l){return sn(l,t)});if(r==="number"){var s=a.filter(function(l){return re(l)||parseFloat(l)});return s.length?[xy(s),yy(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Me(l)}):a;return o.map(function(l){return $t(l)||l instanceof Date?l:""})}var obe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Vn(f-d)!==Vn(h-f)){var g=[];if(Vn(h-f)===Vn(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(t>(x+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},lN=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?xt(xt({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},lbe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,b=p.filter(function(N){return Wa(N.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?xt(xt({},x),b[0].props):b[0].props,j=w.barSize,_=w[v];o[_]||(o[_]=[]);var S=Me(j)?r:j;o[_].push({item:b[0],stackList:b.slice(1),barSize:Me(S)?void 0:No(S,n,0)})}}return o},cbe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=No(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(j,_){return j+_.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(j,_){var S={item:_.item,position:{offset:v.offset+v.size+u,size:h?m:_.barSize}},N=[].concat(bO(j),[S]);return v=N[N.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){N.push({item:E,position:v})}),N},f)}else{var b=No(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var x=(a-2*b-(c-1)*u)/c;x>1&&(x>>=0);var w=l===+l?Math.min(x,l):x;d=o.reduce(function(j,_,S){var N=[].concat(bO(j),[{item:_.item,position:{offset:b+(x+u)*S+(x-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){N.push({item:E,position:N[N.length-1].position})}),N},f)}return d},ube=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Y6({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&re(t[m]))return xt(xt({},t),{},Dl({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&re(t[g]))return xt(xt({},t),{},Dl({},g,t[g]+(h||0)))}return t},dbe=function(t,r,n){return Me(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Q6=function(t,r,n,a,s){var o=r.props.children,l=_n(o,vh).filter(function(u){return dbe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=sn(d,n);if(Me(f))return u;var h=Array.isArray(f)?[xy(f),yy(f)]:[f,f],m=c.reduce(function(g,p){var v=sn(d,p,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},fbe=function(t,r,n,a,s){var o=r.map(function(l){return Q6(t,l,n,s,a)}).filter(function(l){return!Me(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},X6=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Q6(t,c,u,a)||bd(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},J6=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Z6=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Ba=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Vn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!uh(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},r0=new WeakMap,fm=function(t,r){if(typeof r!="function")return t;r0.has(t)||r0.set(t,new WeakMap);var n=r0.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},hbe=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:rf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:og(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xd(),realScaleType:"point"}:s==="category"?{scale:rf(),realScaleType:"band"}:{scale:og(),realScaleType:"linear"};if(ch(a)){var c="scale".concat(sy(a));return{scale:(mO[c]||xd)(),realScaleType:mO[c]?c:"point"}}return Te(a)?{scale:a}:{scale:xd(),realScaleType:"point"}},jO=1e-4,mbe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-jO,o=Math.max(a[0],a[1])+jO,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},pbe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},gbe=function(t,r){if(!r||r.length!==2||!re(r[0])||!re(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!re(t[0])||t[0]<n)&&(s[0]=n),(!re(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},vbe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=uh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},ybe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=uh(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},xbe={sign:vbe,expand:Moe,none:dc,silhouette:$oe,wiggle:Ioe,positive:ybe},bbe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=xbe[n],o=Roe().keys(a).value(function(l,c){return+sn(l,c,0)}).order(vw).offset(s);return o(t)},wbe=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?xt(xt({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var b=g[n],x=f[b]||{hasStack:!1,stackGroups:{}};if($t(p)){var w=x.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[p]=w}else x.stackGroups[dh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return xt(xt({},f),{},Dl({},b,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var b=m.stackGroups[v];return xt(xt({},p),{},Dl({},v,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:bbe(t,b.items,s)}))},g)}return xt(xt({},f),{},Dl({},h,m))},d)},jbe=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=R0e(u,s,l);return t.domain([xy(d),yy(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=M0e(f,s,l);return{niceTicks:h}}return null};function _O(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Me(a[t.dataKey])){var l=Dp(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=sn(a,Me(o)?t.dataKey:o);return Me(c)?null:t.scale(c)}var SO=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=sn(o,r.dataKey,r.domain[l]);return Me(c)?null:r.scale(c)-s/2+a},_be=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Sbe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?xt(xt({},t.type.defaultProps),t.props):t.props,s=a.stackId;if($t(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Nbe=function(t){return t.reduce(function(r,n){return[xy(n.concat([r[0]]).filter(re)),yy(n.concat([r[1]]).filter(re))]},[1/0,-1/0])},eF=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Nbe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},NO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kw=function(t,r,n){if(Te(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(re(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(NO.test(t[0])){var s=+NO.exec(t[0])[1];a[0]=r[0]-s}else Te(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(re(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(EO.test(t[1])){var o=+EO.exec(t[1])[1];a[1]=r[1]+o}else Te(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},mg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=IS(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},PO=function(t,r,n){return!t||!t.length||by(t,jn(n,"type.defaultProps.domain"))?r:t},tF=function(t,r){var n=t.type.defaultProps?xt(xt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return xt(xt({},Ie(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:lN(t),value:sn(r,a),type:c,payload:r,chartType:u,hide:d})};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){Ebe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ebe(e,t,r){return t=Pbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pbe(e){var t=kbe(e,"string");return ff(t)=="symbol"?t:t+""}function kbe(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pg=Math.PI/180,Cbe=function(t){return t*180/Math.PI},Gt=function(t,r,n,a){return{x:t+Math.cos(-pg*a)*n,y:r+Math.sin(-pg*a)*n}},Obe=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},Abe=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=Obe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Cbe(u),angleInRadian:u}},Tbe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},Rbe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},OO=function(t,r){var n=t.x,a=t.y,s=Abe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Tbe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?CO(CO({},r),{},{radius:o,angle:Rbe(m,r)}):null};function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}var Mbe=["offset"];function $be(e){return Fbe(e)||Lbe(e)||Dbe(e)||Ibe()}function Ibe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dbe(e,t){if(e){if(typeof e=="string")return Gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gw(e,t)}}function Lbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fbe(e){if(Array.isArray(e))return Gw(e)}function Gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zbe(e,t){if(e==null)return{};var r=Ube(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ube(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){Bbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bbe(e,t,r){return t=qbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qbe(e){var t=Wbe(e,"string");return hf(t)=="symbol"?t:t+""}function Wbe(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(this,arguments)}var Vbe=function(t){var r=t.value,n=t.formatter,a=Me(t.children)?r:t.children;return Te(n)?n(a):a},Hbe=function(t,r){var n=Vn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Kbe=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,b=Hbe(m,g),x=b>=0?1:-1,w,j;a==="insideStart"?(w=m+x*o,j=p):a==="insideEnd"?(w=g-x*o,j=!p):a==="end"&&(w=g+x*o,j=p),j=b<=0?j:!j;var _=Gt(u,d,v,w),S=Gt(u,d,v,w+(j?1:-1)*359),N="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),E=Me(t.id)?dh("recharts-radial-line-"):t.id;return P.createElement("text",mf({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:E,d:N})),P.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Gbe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Gt(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Gt(o,l,v,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ybe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,b=p>0?"end":"start",x=p>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return At(At({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return At(At({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var _={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return At(At({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(s==="right"){var S={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return At(At({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return s==="insideLeft"?At({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},N):s==="insideRight"?At({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):s==="insideTop"?At({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):s==="insideBottom"?At({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):s==="insideTopLeft"?At({x:l+v,y:c+h,textAnchor:x,verticalAnchor:g},N):s==="insideTopRight"?At({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:g},N):s==="insideBottomLeft"?At({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:m},N):s==="insideBottomRight"?At({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:m},N):cu(s)&&(re(s.x)||Ki(s.x))&&(re(s.y)||Ki(s.y))?At({x:l+No(s.x,u),y:c+No(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):At({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},Qbe=function(t){return"cx"in t&&re(t.cx)};function nr(e){var t=e.offset,r=t===void 0?5:t,n=zbe(e,Mbe),a=At({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Me(l)&&Me(c)&&!y.isValidElement(u)&&!Te(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var m;if(Te(u)){if(m=y.createElement(u,a),y.isValidElement(m))return m}else m=Vbe(a);var g=Qbe(s),p=Ie(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Kbe(a,m,p);var v=g?Gbe(a):Ybe(a);return P.createElement(eg,mf({className:De("recharts-label",f)},p,v,{breakAll:h}),m)}nr.displayName="Label";var rF=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(re(p)&&re(v)){if(re(f)&&re(h))return{x:f,y:h,width:p,height:v};if(re(m)&&re(g))return{x:m,y:g,width:p,height:v}}return re(f)&&re(h)?{x:f,y:h,width:0,height:0}:re(r)&&re(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},Xbe=function(t,r){return t?t===!0?P.createElement(nr,{key:"label-implicit",viewBox:r}):$t(t)?P.createElement(nr,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===nr?y.cloneElement(t,{key:"label-implicit",viewBox:r}):P.createElement(nr,{key:"label-implicit",content:t,viewBox:r}):Te(t)?P.createElement(nr,{key:"label-implicit",content:t,viewBox:r}):cu(t)?P.createElement(nr,mf({viewBox:r},t,{key:"label-implicit"})):null:null},Jbe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=rF(t),o=_n(a,nr).map(function(c,u){return y.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=Xbe(t.label,r||s);return[l].concat($be(o))};nr.parseViewBox=rF;nr.renderCallByParent=Jbe;function Zbe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ewe=Zbe;const twe=Ye(ewe);function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}var rwe=["valueAccessor"],nwe=["data","dataKey","clockWise","id","textBreakAll"];function awe(e){return lwe(e)||owe(e)||iwe(e)||swe()}function swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iwe(e,t){if(e){if(typeof e=="string")return Yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(e,t)}}function owe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lwe(e){if(Array.isArray(e))return Yw(e)}function Yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){cwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cwe(e,t,r){return t=uwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uwe(e){var t=dwe(e,"string");return pf(t)=="symbol"?t:t+""}function dwe(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MO(e,t){if(e==null)return{};var r=fwe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hwe=function(t){return Array.isArray(t.value)?twe(t.value):t.value};function ei(e){var t=e.valueAccessor,r=t===void 0?hwe:t,n=MO(e,rwe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=MO(n,nwe);return!a||!a.length?null:P.createElement(_t,{className:"recharts-label-list"},a.map(function(d,f){var h=Me(s)?r(d,f):sn(d&&d.payload,s),m=Me(l)?{}:{id:"".concat(l,"-").concat(f)};return P.createElement(nr,gg({},Ie(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:nr.parseViewBox(Me(o)?d:RO(RO({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ei.displayName="LabelList";function mwe(e,t){return e?e===!0?P.createElement(ei,{key:"labelList-implicit",data:t}):P.isValidElement(e)||Te(e)?P.createElement(ei,{key:"labelList-implicit",data:t,content:e}):cu(e)?P.createElement(ei,gg({data:t},e,{key:"labelList-implicit"})):null:null}function pwe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=_n(n,ei).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=mwe(e.label,t);return[s].concat(awe(a))}ei.renderCallByParent=pwe;function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(this,arguments)}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){gwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gwe(e,t,r){return t=vwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vwe(e){var t=ywe(e,"string");return gf(t)=="symbol"?t:t+""}function ywe(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xwe=function(t,r){var n=Vn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},hm=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/pg,h=u?s:s+o*f,m=Gt(r,n,d,h),g=Gt(r,n,a,h),p=u?s-o*f:s,v=Gt(r,n,d*Math.cos(f*pg),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},nF=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=xwe(o,l),u=o+c,d=Gt(r,n,s,o),f=Gt(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Gt(r,n,a,o),g=Gt(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},bwe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Vn(d-u),h=hm({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=hm({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,w=v.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):nF({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var S=hm({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,E=S.lineTangency,C=S.theta,k=hm({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=k.circleTangency,A=k.lineTangency,D=k.theta,R=c?Math.abs(u-d):Math.abs(u-d)-C-D;if(R<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},wwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aF=function(t){var r=IO(IO({},wwe),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=De("recharts-sector",h),g=o-s,p=No(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=bwe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=nF({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),P.createElement("path",Qw({},Ie(r,!0),{className:m,d:v,role:"img"}))};function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xw.apply(this,arguments)}function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){jwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jwe(e,t,r){return t=_we(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _we(e){var t=Swe(e,"string");return vf(t)=="symbol"?t:t+""}function Swe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FO={curveBasisClosed:joe,curveBasisOpen:_oe,curveBasis:woe,curveBumpX:ooe,curveBumpY:loe,curveLinearClosed:Soe,curveLinear:oy,curveMonotoneX:Noe,curveMonotoneY:Eoe,curveNatural:Poe,curveStep:koe,curveStepAfter:Ooe,curveStepBefore:Coe},mm=function(t){return t.x===+t.x&&t.y===+t.y},Uu=function(t){return t.x},Bu=function(t){return t.y},Nwe=function(t,r){if(Te(t))return t;var n="curve".concat(sy(t));return(n==="curveMonotone"||n==="curveBump")&&r?FO["".concat(n).concat(r==="vertical"?"Y":"X")]:FO[n]||oy},Ewe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Nwe(n,l),f=u?s.filter(function(p){return mm(p)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return mm(p)}):o,g=f.map(function(p,v){return LO(LO({},p),{},{base:m[v]})});return l==="vertical"?h=am().y(Bu).x1(Uu).x0(function(p){return p.base.x}):h=am().x(Uu).y1(Bu).y0(function(p){return p.base.y}),h.defined(mm).curve(d),h(g)}return l==="vertical"&&re(o)?h=am().y(Bu).x1(Uu).x0(o):re(o)?h=am().x(Uu).y1(Bu).y0(o):h=a3().x(Uu).y(Bu),h.defined(mm).curve(d),h(f)},Jw=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Ewe(t):a;return P.createElement("path",Xw({},Ie(t,!1),Lp(t),{className:De("recharts-curve",r),d:o,ref:s}))},sF={exports:{}},Pwe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kwe=Pwe,Cwe=kwe;function iF(){}function oF(){}oF.resetWarningCache=iF;var Owe=function(){function e(n,a,s,o,l,c){if(c!==Cwe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oF,resetWarningCache:iF};return r.PropTypes=r,r};sF.exports=Owe();var Awe=sF.exports;const Ee=Ye(Awe);var Twe=Object.getOwnPropertyNames,Rwe=Object.getOwnPropertySymbols,Mwe=Object.prototype.hasOwnProperty;function zO(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function pm(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function UO(e){return Twe(e).concat(Rwe(e))}var lF=Object.hasOwn||function(e,t){return Mwe.call(e,t)};function xu(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var cF="_owner",BO=Object.getOwnPropertyDescriptor,qO=Object.keys;function $we(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Iwe(e,t){return xu(e.getTime(),t.getTime())}function WO(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),s=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var f=o.value,h=f[0],m=f[1],g=l.value,p=g[0],v=g[1];!u&&!n[d]&&(u=r.equals(h,p,s,d,e,t,r)&&r.equals(m,v,h,p,e,t,r))&&(n[d]=!0),d++}if(!u)return!1;s++}return!0}function Dwe(e,t,r){var n=qO(e),a=n.length;if(qO(t).length!==a)return!1;for(var s;a-- >0;)if(s=n[a],s===cF&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!lF(t,s)||!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function qu(e,t,r){var n=UO(e),a=n.length;if(UO(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],s===cF&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!lF(t,s)||!r.equals(e[s],t[s],s,s,e,t,r)||(o=BO(e,s),l=BO(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Lwe(e,t){return xu(e.valueOf(),t.valueOf())}function Fwe(e,t){return e.source===t.source&&e.flags===t.flags}function VO(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),s,o;(s=a.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(s.value,o.value,s.value,o.value,e,t,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function zwe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var Uwe="[object Arguments]",Bwe="[object Boolean]",qwe="[object Date]",Wwe="[object Map]",Vwe="[object Number]",Hwe="[object Object]",Kwe="[object RegExp]",Gwe="[object Set]",Ywe="[object String]",Qwe=Array.isArray,HO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,KO=Object.assign,Xwe=Object.prototype.toString.call.bind(Object.prototype.toString);function Jwe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,s=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var m=d.constructor;if(m!==f.constructor)return!1;if(m===Object)return a(d,f,h);if(Qwe(d))return t(d,f,h);if(HO!=null&&HO(d))return c(d,f,h);if(m===Date)return r(d,f,h);if(m===RegExp)return o(d,f,h);if(m===Map)return n(d,f,h);if(m===Set)return l(d,f,h);var g=Xwe(d);return g===qwe?r(d,f,h):g===Kwe?o(d,f,h):g===Wwe?n(d,f,h):g===Gwe?l(d,f,h):g===Hwe?typeof d.then!="function"&&typeof f.then!="function"&&a(d,f,h):g===Uwe?a(d,f,h):g===Bwe||g===Vwe||g===Ywe?s(d,f,h):!1}}function Zwe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?qu:$we,areDatesEqual:Iwe,areMapsEqual:n?zO(WO,qu):WO,areObjectsEqual:n?qu:Dwe,arePrimitiveWrappersEqual:Lwe,areRegExpsEqual:Fwe,areSetsEqual:n?zO(VO,qu):VO,areTypedArraysEqual:n?qu:zwe};if(r&&(a=KO({},a,r(a))),t){var s=pm(a.areArraysEqual),o=pm(a.areMapsEqual),l=pm(a.areObjectsEqual),c=pm(a.areSetsEqual);a=KO({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function e1e(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function t1e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var r1e=Ci();Ci({strict:!0});Ci({circular:!0});Ci({circular:!0,strict:!0});Ci({createInternalComparator:function(){return xu}});Ci({strict:!0,createInternalComparator:function(){return xu}});Ci({circular:!0,createInternalComparator:function(){return xu}});Ci({circular:!0,createInternalComparator:function(){return xu},strict:!0});function Ci(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=Zwe(e),c=Jwe(l),u=n?n(c):e1e(c);return t1e({circular:r,comparator:c,createState:a,equals:u,strict:o})}function n1e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function GO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):n1e(a)};requestAnimationFrame(n)}function Zw(e){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zw(e)}function a1e(e){return l1e(e)||o1e(e)||i1e(e)||s1e()}function s1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i1e(e,t){if(e){if(typeof e=="string")return YO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YO(e,t)}}function YO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l1e(e){if(Array.isArray(e))return e}function c1e(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=a1e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){GO(a.bind(null,u),c);return}a(c),GO(a.bind(null,u));return}Zw(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){uF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uF(e,t,r){return t=u1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u1e(e){var t=d1e(e,"string");return yf(t)==="symbol"?t:String(t)}function d1e(e,t){if(yf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f1e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},h1e=function(t){return t},m1e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},wd=function(t,r){return Object.keys(r).reduce(function(n,a){return XO(XO({},n),{},uF({},a,t(a,r[a])))},{})},JO=function(t,r,n){return t.map(function(a){return"".concat(m1e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function p1e(e,t){return y1e(e)||v1e(e,t)||dF(e,t)||g1e()}function g1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function y1e(e){if(Array.isArray(e))return e}function x1e(e){return j1e(e)||w1e(e)||dF(e)||b1e()}function b1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dF(e,t){if(e){if(typeof e=="string")return e1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(e,t)}}function w1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j1e(e){if(Array.isArray(e))return e1(e)}function e1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vg=1e-4,fF=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},hF=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},ZO=function(t,r){return function(n){var a=fF(t,r);return hF(a,n)}},_1e=function(t,r){return function(n){var a=fF(t,r),s=[].concat(x1e(a.map(function(o,l){return o*l}).slice(1)),[0]);return hF(s,n)}},e2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=p1e(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=ZO(a,o),h=ZO(s,l),m=_1e(a,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var x=b>1?1:b,w=x,j=0;j<8;++j){var _=f(w)-x,S=m(w);if(Math.abs(_-x)<vg||S<vg)return h(w);w=g(w-_/S)}return h(w)};return p.isStepper=!1,p},S1e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*s,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<vg&&Math.abs(p)<vg?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},N1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return e2(a);case"spring":return S1e();default:if(a.split("(")[0]==="cubic-bezier")return e2(a)}return typeof a=="function"?a:null};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function t2(e){return k1e(e)||P1e(e)||mF(e)||E1e()}function E1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k1e(e){if(Array.isArray(e))return r1(e)}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){t1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t1(e,t,r){return t=C1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C1e(e){var t=O1e(e,"string");return xf(t)==="symbol"?t:String(t)}function O1e(e,t){if(xf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A1e(e,t){return M1e(e)||R1e(e,t)||mF(e,t)||T1e()}function T1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mF(e,t){if(e){if(typeof e=="string")return r1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(e,t)}}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function M1e(e){if(Array.isArray(e))return e}var yg=function(t,r,n){return t+(r-t)*n},n1=function(t){var r=t.from,n=t.to;return r!==n},$1e=function e(t,r,n){var a=wd(function(s,o){if(n1(o)){var l=t(o.from,o.to,o.velocity),c=A1e(l,2),u=c[0],d=c[1];return Ht(Ht({},o),{},{from:u,velocity:d})}return o},r);return n<1?wd(function(s,o){return n1(o)?Ht(Ht({},o),{},{velocity:yg(o.velocity,a[s].velocity,n),from:yg(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const I1e=function(e,t,r,n,a){var s=f1e(e,t),o=s.reduce(function(v,b){return Ht(Ht({},v),{},t1({},b,[e[b],t[b]]))},{}),l=s.reduce(function(v,b){return Ht(Ht({},v),{},t1({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return wd(function(b,x){return x.from},l)},m=function(){return!Object.values(l).filter(n1).length},g=function(b){u||(u=b);var x=b-u,w=x/r.dt;l=$1e(r,l,w),a(Ht(Ht(Ht({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var x=(b-d)/n,w=wd(function(_,S){return yg.apply(void 0,t2(S).concat([r(x)]))},o);if(a(Ht(Ht(Ht({},e),t),w)),x<1)c=requestAnimationFrame(f);else{var j=wd(function(_,S){return yg.apply(void 0,t2(S).concat([r(1)]))},o);a(Ht(Ht(Ht({},e),t),j))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}var D1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function L1e(e,t){if(e==null)return{};var r=F1e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F1e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function n0(e){return q1e(e)||B1e(e)||U1e(e)||z1e()}function z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U1e(e,t){if(e){if(typeof e=="string")return a1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a1(e,t)}}function B1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q1e(e){if(Array.isArray(e))return a1(e)}function a1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){rd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rd(e,t,r){return t=pF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pF(n.key),n)}}function H1e(e,t,r){return t&&V1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pF(e){var t=K1e(e,"string");return bc(t)==="symbol"?t:String(t)}function K1e(e,t){if(bc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s1(e,t)}function s1(e,t){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s1(e,t)}function Y1e(e){var t=Q1e();return function(){var n=xg(e),a;if(t){var s=xg(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return i1(this,a)}}function i1(e,t){if(t&&(bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o1(e)}function o1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xg(e){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xg(e)}var ss=function(e){G1e(r,e);var t=Y1e(r);function r(n,a){var s;W1e(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(o1(s)),s.changeStyle=s.changeStyle.bind(o1(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),i1(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},i1(s);s.state={style:c?rd({},c,u):u}}else s.state={style:{}};return s}return H1e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?rd({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(r1e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?rd({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(An(An({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=I1e(o,l,N1e(u),c,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,b){if(b===0)return p;var x=v.duration,w=v.easing,j=w===void 0?"ease":w,_=v.style,S=v.properties,N=v.onAnimationEnd,E=b>0?o[b-1]:v,C=S||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(n0(p),[s.runJSAnimation.bind(s,{from:E.style,to:_,duration:x,easing:j}),x]);var k=JO(C,x,j),T=An(An(An({},E.style),_),{},{transition:k});return[].concat(n0(p),[T,x,N]).filter(h1e)};return this.manager.start([c].concat(n0(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=c1e());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?rd({},l,c):c,v=JO(Object.keys(p),o,u);g.start([d,s,An(An({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=L1e(a,D1e),u=y.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,b=g.className,x=y.cloneElement(m,An(An({},c),{},{style:An(An({},v),d),className:b}));return x};return u===1?f(y.Children.only(s)):P.createElement("div",null,y.Children.map(s,function(h){return f(h)}))}}]),r}(y.PureComponent);ss.displayName="Animate";ss.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ss.propTypes={from:Ee.oneOfType([Ee.object,Ee.string]),to:Ee.oneOfType([Ee.object,Ee.string]),attributeName:Ee.string,duration:Ee.number,begin:Ee.number,easing:Ee.oneOfType([Ee.string,Ee.func]),steps:Ee.arrayOf(Ee.shape({duration:Ee.number.isRequired,style:Ee.object.isRequired,easing:Ee.oneOfType([Ee.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ee.func]),properties:Ee.arrayOf("string"),onAnimationEnd:Ee.func})),children:Ee.oneOfType([Ee.node,Ee.func]),isActive:Ee.bool,canBegin:Ee.bool,onAnimationEnd:Ee.func,shouldReAnimate:Ee.bool,onAnimationStart:Ee.func,onAnimationReStart:Ee.func};Ee.object,Ee.object,Ee.object,Ee.element;Ee.object,Ee.object,Ee.object,Ee.oneOfType([Ee.array,Ee.element]),Ee.any;function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(this,arguments)}function X1e(e,t){return tje(e)||eje(e,t)||Z1e(e,t)||J1e()}function J1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z1e(e,t){if(e){if(typeof e=="string")return a2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(e,t)}}function a2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tje(e){if(Array.isArray(e))return e}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){rje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rje(e,t,r){return t=nje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nje(e){var t=aje(e,"string");return bf(t)=="symbol"?t:t+""}function aje(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o2=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},sje=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},ije={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cN=function(t){var r=i2(i2({},ije),t),n=y.useRef(),a=y.useState(-1),s=X1e(a,2),o=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=De("recharts-rectangle",m);return x?P.createElement(ss,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(j){var _=j.width,S=j.height,N=j.x,E=j.y;return P.createElement(ss,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:b,easing:g},P.createElement("path",bg({},Ie(r,!0),{className:w,d:o2(N,E,_,S,h),ref:n})))}):P.createElement("path",bg({},Ie(r,!0),{className:w,d:o2(c,u,d,f,h)}))};function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l1.apply(this,arguments)}var uN=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=De("recharts-dot",s);return r===+r&&n===+n&&a===+a?P.createElement("circle",l1({},Ie(t,!1),Lp(t),{className:o,cx:r,cy:n,r:a})):null};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}var oje=["x","y","top","left","width","height","className"];function c1(){return c1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c1.apply(this,arguments)}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lje(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){cje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cje(e,t,r){return t=uje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uje(e){var t=dje(e,"string");return wf(t)=="symbol"?t:t+""}function dje(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fje(e,t){if(e==null)return{};var r=hje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mje=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},pje=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=fje(t,oje),v=lje({x:n,y:s,top:l,left:u,width:f,height:m},p);return!re(n)||!re(s)||!re(f)||!re(m)||!re(l)||!re(u)?null:P.createElement("path",c1({},Ie(v,!0),{className:De("recharts-cross",g),d:mje(n,s,f,m,l,u)}))},gje=k3,vje=gje(Object.getPrototypeOf,Object),yje=vje,xje=us,bje=yje,wje=ds,jje="[object Object]",_je=Function.prototype,Sje=Object.prototype,gF=_je.toString,Nje=Sje.hasOwnProperty,Eje=gF.call(Object);function Pje(e){if(!wje(e)||xje(e)!=jje)return!1;var t=bje(e);if(t===null)return!0;var r=Nje.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&gF.call(r)==Eje}var kje=Pje;const Cje=Ye(kje);var Oje=us,Aje=ds,Tje="[object Boolean]";function Rje(e){return e===!0||e===!1||Aje(e)&&Oje(e)==Tje}var Mje=Rje;const $je=Ye(Mje);function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function Ije(e,t){return zje(e)||Fje(e,t)||Lje(e,t)||Dje()}function Dje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lje(e,t){if(e){if(typeof e=="string")return c2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c2(e,t)}}function c2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zje(e){if(Array.isArray(e))return e}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){Uje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uje(e,t,r){return t=Bje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bje(e){var t=qje(e,"string");return jf(t)=="symbol"?t:t+""}function qje(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f2=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},Wje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vje=function(t){var r=d2(d2({},Wje),t),n=y.useRef(),a=y.useState(-1),s=Ije(a,2),o=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=De("recharts-trapezoid",m);return b?P.createElement(ss,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var j=w.upperWidth,_=w.lowerWidth,S=w.height,N=w.x,E=w.y;return P.createElement(ss,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},P.createElement("path",wg({},Ie(r,!0),{className:x,d:f2(N,E,j,_,S),ref:n})))}):P.createElement("g",null,P.createElement("path",wg({},Ie(r,!0),{className:x,d:f2(c,u,d,f,h)})))},Hje=["option","shapeType","propTransformer","activeClassName","isActive"];function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function Kje(e,t){if(e==null)return{};var r=Gje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){Yje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yje(e,t,r){return t=Qje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qje(e){var t=Xje(e,"string");return _f(t)=="symbol"?t:t+""}function Xje(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jje(e,t){return jg(jg({},t),e)}function Zje(e,t){return e==="symbols"}function m2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return P.createElement(cN,r);case"trapezoid":return P.createElement(Vje,r);case"sector":return P.createElement(aF,r);case"symbols":if(Zje(t))return P.createElement(kS,r);break;default:return null}}function e_e(e){return y.isValidElement(e)?e.props:e}function t_e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Jje:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=Kje(e,Hje),u;if(y.isValidElement(t))u=y.cloneElement(t,jg(jg({},c),e_e(t)));else if(Te(t))u=t(c);else if(Cje(t)&&!$je(t)){var d=a(t,c);u=P.createElement(m2,{shapeType:r,elementProps:d})}else{var f=c;u=P.createElement(m2,{shapeType:r,elementProps:f})}return l?P.createElement(_t,{className:o},u):u}function _y(e,t){return t!=null&&"trapezoids"in e.props}function Sy(e,t){return t!=null&&"sectors"in e.props}function Sf(e,t){return t!=null&&"points"in e.props}function r_e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function n_e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function a_e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function s_e(e,t){var r;return _y(e,t)?r=r_e:Sy(e,t)?r=n_e:Sf(e,t)&&(r=a_e),r}function i_e(e,t){var r;return _y(e,t)?r="trapezoids":Sy(e,t)?r="sectors":Sf(e,t)&&(r="points"),r}function o_e(e,t){if(_y(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Sy(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Sf(e,t)?t.payload:{}}function l_e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=i_e(r,t),s=o_e(r,t),o=n.filter(function(c,u){var d=by(s,c),f=r.props[a].filter(function(g){var p=s_e(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var c_e=Math.ceil,u_e=Math.max;function d_e(e,t,r,n){for(var a=-1,s=u_e(c_e((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var f_e=d_e,h_e=K3,p2=1/0,m_e=17976931348623157e292;function p_e(e){if(!e)return e===0?e:0;if(e=h_e(e),e===p2||e===-p2){var t=e<0?-1:1;return t*m_e}return e===e?e:0}var vF=p_e,g_e=f_e,v_e=dy,a0=vF;function y_e(e){return function(t,r,n){return n&&typeof n!="number"&&v_e(t,r,n)&&(r=n=void 0),t=a0(t),r===void 0?(r=t,t=0):r=a0(r),n=n===void 0?t<r?1:-1:a0(n),g_e(t,r,n,e)}}var x_e=y_e,b_e=x_e,w_e=b_e(),j_e=w_e;const _g=Ye(j_e);function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){yF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yF(e,t,r){return t=__e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __e(e){var t=S_e(e,"string");return Nf(t)=="symbol"?t:t+""}function S_e(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N_e=["Webkit","Moz","O","ms"],E_e=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=N_e.reduce(function(s,o){return v2(v2({},s),{},yF({},o+n,r))},{});return a[t]=r,a};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){Hr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bF(n.key),n)}}function k_e(e,t,r){return t&&x2(e.prototype,t),r&&x2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C_e(e,t,r){return t=Ng(t),O_e(e,xF()?Reflect.construct(t,r||[],Ng(e).constructor):t.apply(e,r))}function O_e(e,t){if(t&&(wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A_e(e)}function A_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!e})()}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(e)}function T_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u1(e,t)}function u1(e,t){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u1(e,t)}function Hr(e,t,r){return t=bF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(e){var t=R_e(e,"string");return wc(t)=="symbol"?t:t+""}function R_e(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M_e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=xd().domain(_g(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},b2=function(t){return t.changedTouches&&!!t.changedTouches.length},jc=function(e){function t(r){var n;return P_e(this,t),n=C_e(this,t,[r]),Hr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Hr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Hr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Hr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Hr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Hr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Hr(n,"handleSlideDragStart",function(a){var s=b2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return T_e(t,e),k_e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=sn(s[n],l,n);return Te(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=b2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-s;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),b[o]=u+x;var w=this.getIndex(b),j=w.startIndex,_=w.endIndex,S=function(){var E=v.length-1;return o==="startX"&&(l>c?j%p===0:_%p===0)||l<c&&_===E||o==="endX"&&(l>c?_%p===0:j%p===0)||l>c&&_===E};this.setState(Hr(Hr({},o,u+x),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Hr({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return P.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?P.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),x=s0(s0({},Ie(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return P.createElement(_t,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return P.createElement(_t,{className:"recharts-brush-texts"},P.createElement(eg,Sg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),P.createElement(eg,Sg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!re(l)||!re(c)||!re(u)||!re(d)||u<=0||d<=0)return null;var w=De("recharts-brush",s),j=P.Children.count(o)===1,_=E_e("userSelect","none");return P.createElement(_t,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),P.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return P.isValidElement(n)?s=P.cloneElement(n,a):Te(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return s0({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?M_e({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(y.PureComponent);Hr(jc,"displayName","Brush");Hr(jc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $_e=$S;function I_e(e,t){var r;return $_e(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var D_e=I_e,L_e=b3,F_e=Ei,z_e=D_e,U_e=Br,B_e=dy;function q_e(e,t,r){var n=U_e(e)?L_e:z_e;return r&&B_e(e,t,r)&&(t=void 0),n(e,F_e(t))}var W_e=q_e;const V_e=Ye(W_e);var ya=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},w2=B3;function H_e(e,t,r){t=="__proto__"&&w2?w2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var K_e=H_e,G_e=K_e,Y_e=z3,Q_e=Ei;function X_e(e,t){var r={};return t=Q_e(t),Y_e(e,function(n,a,s){G_e(r,a,t(n,a,s))}),r}var J_e=X_e;const Z_e=Ye(J_e);function eSe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var tSe=eSe,rSe=$S;function nSe(e,t){var r=!0;return rSe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var aSe=nSe,sSe=tSe,iSe=aSe,oSe=Ei,lSe=Br,cSe=dy;function uSe(e,t,r){var n=lSe(e)?sSe:iSe;return r&&cSe(e,t,r)&&(t=void 0),n(e,oSe(t))}var dSe=uSe;const wF=Ye(dSe);var fSe=["x","y"];function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d1.apply(this,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){hSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hSe(e,t,r){return t=mSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mSe(e){var t=pSe(e,"string");return Ef(t)=="symbol"?t:t+""}function pSe(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gSe(e,t){if(e==null)return{};var r=vSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ySe(e,t){var r=e.x,n=e.y,a=gSe(e,fSe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Wu(Wu(Wu(Wu(Wu({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function _2(e){return P.createElement(t_e,d1({shapeType:"rectangle",propTransformer:ySe,activeClassName:"recharts-active-bar"},e))}var xSe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=typeof n=="number";return s?t(n,a):(s||Po(),r)}},bSe=["value","background"],jF;function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function wSe(e,t){if(e==null)return{};var r=jSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){Bs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SF(n.key),n)}}function SSe(e,t,r){return t&&N2(e.prototype,t),r&&N2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NSe(e,t,r){return t=Pg(t),ESe(e,_F()?Reflect.construct(t,r||[],Pg(e).constructor):t.apply(e,r))}function ESe(e,t){if(t&&(_c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PSe(e)}function PSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(e)}function kSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f1(e,t)}function f1(e,t){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f1(e,t)}function Bs(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=CSe(e,"string");return _c(t)=="symbol"?t:t+""}function CSe(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oi=function(e){function t(){var r;_Se(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=NSe(this,t,[].concat(a)),Bs(r,"state",{isAnimationFinished:!1}),Bs(r,"id",dh("recharts-bar-")),Bs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Bs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return kSe(t,e),SSe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Ie(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Et(Et(Et({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return P.createElement(_t,Eg({className:"recharts-bar-rectangle"},Fp(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),P.createElement(_2,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return P.createElement(ss,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=s.map(function(v,b){var x=h&&h[b];if(x){var w=qn(x.x,v.x),j=qn(x.y,v.y),_=qn(x.width,v.width),S=qn(x.height,v.height);return Et(Et({},v),{},{x:w(g),y:j(g),width:_(g),height:S(g)})}if(o==="horizontal"){var N=qn(0,v.height),E=N(g);return Et(Et({},v),{},{y:v.y+v.height-E,height:E})}var C=qn(0,v.width),k=C(g);return Et(Et({},v),{},{width:k})});return P.createElement(_t,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!by(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Ie(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=wSe(u,bSe);if(!f)return null;var m=Et(Et(Et(Et(Et({},h),{},{fill:"#eee"},f),c),Fp(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return P.createElement(_2,Eg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=_n(d,vh);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:sn(v,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return P.createElement(_t,g,f.map(function(p){return P.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=De("recharts-bar",o),x=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=x||w,_=Me(p)?this.id:p;return P.createElement(_t,{className:b},x||w?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(_)},P.createElement("rect",{x:x?u:u-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,P.createElement(_t,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!m||v)&&ei.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(y.PureComponent);jF=Oi;Bs(Oi,"displayName","Bar");Bs(Oi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ha.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bs(Oi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=pbe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?Et(Et({},p),r.props):r.props,b=v.dataKey,x=v.children,w=v.minPointSize,j=g==="horizontal"?o:s,_=u?j.scale.domain():null,S=_be({numericAxis:j}),N=_n(x,Y3),E=f.map(function(C,k){var T,A,D,R,L,I;u?T=gbe(u[d+k],_):(T=sn(C,b),Array.isArray(T)||(T=[S,T]));var F=xSe(w,jF.defaultProps.minPointSize)(T[1],k);if(g==="horizontal"){var O,$=[o.scale(T[0]),o.scale(T[1])],V=$[0],z=$[1];A=SO({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:C,index:k}),D=(O=z??V)!==null&&O!==void 0?O:void 0,R=m.size;var B=V-z;if(L=Number.isNaN(B)?0:B,I={x:A,y:o.y,width:R,height:o.height},Math.abs(F)>0&&Math.abs(L)<Math.abs(F)){var Q=Vn(L||F)*(Math.abs(F)-Math.abs(L));D-=Q,L+=Q}}else{var oe=[s.scale(T[0]),s.scale(T[1])],ge=oe[0],me=oe[1];if(A=ge,D=SO({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:C,index:k}),R=me-ge,L=m.size,I={x:s.x,y:D,width:s.width,height:L},Math.abs(F)>0&&Math.abs(R)<Math.abs(F)){var ne=Vn(R||F)*(Math.abs(F)-Math.abs(R));R+=ne}}return Et(Et(Et({},C),{},{x:A,y:D,width:R,height:L,value:u?T:T[1],payload:C,background:I},N&&N[k]&&N[k].props),{},{tooltipPayload:[tF(r,C)],tooltipPosition:{x:A+R/2,y:D+L/2}})});return Et({data:E,layout:g},h)});function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function OSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NF(n.key),n)}}function ASe(e,t,r){return t&&E2(e.prototype,t),r&&E2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){Ny(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ny(e,t,r){return t=NF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NF(e){var t=TSe(e,"string");return Pf(t)=="symbol"?t:t+""}function TSe(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EF=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Qr(u,Oi);return d.reduce(function(m,g){var p=r[g],v=p.orientation,b=p.domain,x=p.padding,w=x===void 0?{}:x,j=p.mirror,_=p.reversed,S="".concat(v).concat(j?"Mirror":""),N,E,C,k,T;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var A=b[1]-b[0],D=1/0,R=p.categoricalDomain.sort();if(R.forEach(function(oe,ge){ge>0&&(D=Math.min((oe||0)-(R[ge-1]||0),D))}),Number.isFinite(D)){var L=D/A,I=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=L*I/2),p.padding==="no-gap"){var F=No(t.barCategoryGap,L*I),O=L*I/2;N=O-F-(O-F)/I*F}}}a==="xAxis"?E=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:E=p.range,_&&(E=[E[1],E[0]]);var $=hbe(p,s,h),V=$.scale,z=$.realScaleType;V.domain(b).range(E),mbe(V);var B=jbe(V,Ln(Ln({},p),{},{realScaleType:z}));a==="xAxis"?(T=v==="top"&&!j||v==="bottom"&&j,C=n.left,k=f[S]-T*p.height):a==="yAxis"&&(T=v==="left"&&!j||v==="right"&&j,C=f[S]-T*p.width,k=n.top);var Q=Ln(Ln(Ln({},p),B),{},{realScaleType:z,x:C,y:k,scale:V,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return Q.bandSize=mg(Q,B),!p.hide&&a==="xAxis"?f[S]+=(T?-1:1)*Q.height:p.hide||(f[S]+=(T?-1:1)*Q.width),Ln(Ln({},m),{},Ny({},g,Q))},{})},PF=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},RSe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return PF({x:r,y:n},{x:a,y:s})},kF=function(){function e(t){OSe(this,e),this.scale=t}return ASe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Ny(kF,"EPS",1e-4);var dN=function(t){var r=Object.keys(t).reduce(function(n,a){return Ln(Ln({},n),{},Ny({},a,kF.create(t[a])))},{});return Ln(Ln({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Z_e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return wF(a,function(s,o){return r[o].isInRange(s)})}})};function MSe(e){return(e%180+180)%180}var $Se=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=MSe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ISe=Ei,DSe=fh,LSe=cy;function FSe(e){return function(t,r,n){var a=Object(t);if(!DSe(t)){var s=ISe(r);t=LSe(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var zSe=FSe,USe=vF;function BSe(e){var t=USe(e),r=t%1;return t===t?r?t-r:t:0}var qSe=BSe,WSe=M3,VSe=Ei,HSe=qSe,KSe=Math.max;function GSe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:HSe(r);return a<0&&(a=KSe(n+a,0)),WSe(e,VSe(t),a)}var YSe=GSe,QSe=zSe,XSe=YSe,JSe=QSe(XSe),ZSe=JSe;const eNe=Ye(ZSe);var tNe=Zae(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),fN=y.createContext(void 0),hN=y.createContext(void 0),CF=y.createContext(void 0),OF=y.createContext({}),AF=y.createContext(void 0),TF=y.createContext(0),RF=y.createContext(0),k2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=tNe(s);return P.createElement(fN.Provider,{value:n},P.createElement(hN.Provider,{value:a},P.createElement(OF.Provider,{value:s},P.createElement(CF.Provider,{value:d},P.createElement(AF.Provider,{value:o},P.createElement(TF.Provider,{value:u},P.createElement(RF.Provider,{value:c},l)))))))},rNe=function(){return y.useContext(AF)},MF=function(t){var r=y.useContext(fN);r==null&&Po();var n=r[t];return n==null&&Po(),n},nNe=function(){var t=y.useContext(fN);return ks(t)},aNe=function(){var t=y.useContext(hN),r=eNe(t,function(n){return wF(n.domain,Number.isFinite)});return r||ks(t)},$F=function(t){var r=y.useContext(hN);r==null&&Po();var n=r[t];return n==null&&Po(),n},sNe=function(){var t=y.useContext(CF);return t},iNe=function(){return y.useContext(OF)},mN=function(){return y.useContext(RF)},pN=function(){return y.useContext(TF)};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function oNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DF(n.key),n)}}function cNe(e,t,r){return t&&lNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uNe(e,t,r){return t=kg(t),dNe(e,IF()?Reflect.construct(t,r||[],kg(e).constructor):t.apply(e,r))}function dNe(e,t){if(t&&(Sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fNe(e)}function fNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!e})()}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(e)}function hNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h1(e,t)}function h1(e,t){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h1(e,t)}function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(n){gN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gN(e,t,r){return t=DF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DF(e){var t=mNe(e,"string");return Sc(t)=="symbol"?t:t+""}function mNe(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pNe(e,t){return xNe(e)||yNe(e,t)||vNe(e,t)||gNe()}function gNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vNe(e,t){if(e){if(typeof e=="string")return A2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A2(e,t)}}function A2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xNe(e){if(Array.isArray(e))return e}function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m1.apply(this,arguments)}var bNe=function(t,r){var n;return P.isValidElement(t)?n=P.cloneElement(t,r):Te(t)?n=t(r):n=P.createElement("line",m1({},r,{className:"recharts-reference-line-line"})),n},wNe=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(ya(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var b=u.x,x=t.x.apply(b,{position:o});if(ya(u,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:f+m},{x,y:f}];return l==="top"?w.reverse():w}if(a){var j=u.segment,_=j.map(function(S){return t.apply(S,{position:o})});return ya(u,"discard")&&V_e(_,function(S){return!t.isInRange(S)})?null:_}return null};function jNe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=rNe(),d=MF(a),f=$F(s),h=sNe();if(!u||!h)return null;Va(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=dN({x:d.scale,y:f.scale}),g=$t(t),p=$t(r),v=n&&n.length===2,b=wNe(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var x=pNe(b,2),w=x[0],j=w.x,_=w.y,S=x[1],N=S.x,E=S.y,C=ya(e,"hidden")?"url(#".concat(u,")"):void 0,k=O2(O2({clipPath:C},Ie(e,!0)),{},{x1:j,y1:_,x2:N,y2:E});return P.createElement(_t,{className:De("recharts-reference-line",l)},bNe(o,k),nr.renderCallByParent(e,RSe({x1:j,y1:_,x2:N,y2:E})))}var vN=function(e){function t(){return oNe(this,t),uNe(this,t,arguments)}return hNe(t,e),cNe(t,[{key:"render",value:function(){return P.createElement(jNe,this.props)}}])}(P.Component);gN(vN,"displayName","ReferenceLine");gN(vN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p1.apply(this,arguments)}function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){Ey(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FF(n.key),n)}}function NNe(e,t,r){return t&&SNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ENe(e,t,r){return t=Cg(t),PNe(e,LF()?Reflect.construct(t,r||[],Cg(e).constructor):t.apply(e,r))}function PNe(e,t){if(t&&(Nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kNe(e)}function kNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LF=function(){return!!e})()}function Cg(e){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(e)}function CNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g1(e,t)}function g1(e,t){return g1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g1(e,t)}function Ey(e,t,r){return t=FF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=ONe(e,"string");return Nc(t)=="symbol"?t:t+""}function ONe(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ANe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=dN({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ya(t,"discard")&&!o.isInRange(l)?null:l},Py=function(e){function t(){return _Ne(this,t),ENe(this,t,arguments)}return CNe(t,e),NNe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=$t(a),d=$t(s);if(Va(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=ANe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,b=ya(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=R2(R2({clipPath:b},Ie(this.props,!0)),{},{cx:h,cy:m});return P.createElement(_t,{className:De("recharts-reference-dot",v)},t.renderDot(p,x),nr.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(P.Component);Ey(Py,"displayName","ReferenceDot");Ey(Py,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ey(Py,"renderDot",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):Te(e)?r=e(t):r=P.createElement(uN,p1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v1.apply(this,arguments)}function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function M2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(r),!0).forEach(function(n){ky(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UF(n.key),n)}}function MNe(e,t,r){return t&&RNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ne(e,t,r){return t=Og(t),INe(e,zF()?Reflect.construct(t,r||[],Og(e).constructor):t.apply(e,r))}function INe(e,t){if(t&&(Ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DNe(e)}function DNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zF=function(){return!!e})()}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(e)}function LNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y1(e,t)}function y1(e,t){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},y1(e,t)}function ky(e,t,r){return t=UF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UF(e){var t=FNe(e,"string");return Ec(t)=="symbol"?t:t+""}function FNe(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zNe=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=dN({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ya(s,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:PF(m,g)},Cy=function(e){function t(){return TNe(this,t),$Ne(this,t,arguments)}return LNe(t,e),MNe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Va(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=$t(a),h=$t(s),m=$t(o),g=$t(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=zNe(f,h,m,g,this.props);if(!v&&!p)return null;var b=ya(this.props,"hidden")?"url(#".concat(d,")"):void 0;return P.createElement(_t,{className:De("recharts-reference-area",c)},t.renderRect(p,$2($2({clipPath:b},Ie(this.props,!0)),v)),nr.renderCallByParent(this.props,v))}}])}(P.Component);ky(Cy,"displayName","ReferenceArea");ky(Cy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ky(Cy,"renderRect",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):Te(e)?r=e(t):r=P.createElement(cN,v1({},t,{className:"recharts-reference-area-rect"})),r});function BF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function UNe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return $Se(n,r)}function BNe(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Ag(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function qNe(e,t){return BF(e,t+1)}function WNe(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:BF(n,u)};var p=c,v,b=function(){return v===void 0&&(v=r(g,p)),v},x=g.coordinate,w=c===0||Ag(e,x,b,d,l);w||(c=0,d=o,u+=1),w&&(d=x+e*(b()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){VNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VNe(e,t,r){return t=HNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HNe(e){var t=KNe(e,"string");return kf(t)=="symbol"?t:t+""}function KNe(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GNe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);s[h]=m=tr(tr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=tr(tr({},m),{},{tickCoord:m.coordinate});var b=Ag(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+a),s[h]=tr(tr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function YNe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=tr(tr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Ag(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=tr(tr({},d),{},{isShow:!0}))}for(var g=s?l-1:l,p=function(x){var w=o[x],j,_=function(){return j===void 0&&(j=r(w,x)),j};if(x===0){var S=e*(w.coordinate-e*_()/2-c);o[x]=w=tr(tr({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[x]=w=tr(tr({},w),{},{tickCoord:w.coordinate});var N=Ag(e,w.tickCoord,_,c,u);N&&(c=w.tickCoord+e*(_()/2+a),o[x]=tr(tr({},w),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function yN(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(re(c)||Ha.isSsr)return qNe(a,typeof c=="number"&&re(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?yd(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,j){var _=Te(u)?u(w.value,j):w.value;return m==="width"?UNe(yd(_,{fontSize:t,letterSpacing:r}),g,f):yd(_,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Vn(a[1].coordinate-a[0].coordinate):1,b=BNe(s,v,m);return c==="equidistantPreserveStart"?WNe(v,b,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=YNe(v,b,p,a,o,c==="preserveStartEnd"):h=GNe(v,b,p,a,o),h.filter(function(x){return x.isShow}))}var QNe=["viewBox"],XNe=["viewBox"],JNe=["ticks"];function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){xN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i0(e,t){if(e==null)return{};var r=ZNe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WF(n.key),n)}}function tEe(e,t,r){return t&&L2(e.prototype,t),r&&L2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rEe(e,t,r){return t=Tg(t),nEe(e,qF()?Reflect.construct(t,r||[],Tg(e).constructor):t.apply(e,r))}function nEe(e,t){if(t&&(Pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aEe(e)}function aEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qF=function(){return!!e})()}function Tg(e){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tg(e)}function sEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x1(e,t)}function x1(e,t){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x1(e,t)}function xN(e,t,r){return t=WF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=iEe(e,"string");return Pc(t)=="symbol"?t:t+""}function iEe(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bu=function(e){function t(r){var n;return eEe(this,t),n=rEe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return sEe(t,e),tEe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=i0(n,QNe),l=this.props,c=l.viewBox,u=i0(l,XNe);return!$l(s,c)||!$l(o,u)||!$l(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,b,x,w=f?-1:1,j=n.tickSize||d,_=re(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,p=v-w*j,x=p-w*h,b=_;break;case"left":p=v=n.coordinate,g=s+ +!f*l,m=g-w*j,b=m-w*h,x=_;break;case"right":p=v=n.coordinate,g=s+ +f*l,m=g+w*j,b=m+w*h,x=_;break;default:m=g=n.coordinate,v=o+ +f*c,p=v+w*j,x=p+w*h,b=_;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=fr(fr(fr({},Ie(this.props,!1)),Ie(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=fr(fr({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=fr(fr({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return P.createElement("line",jl({},f,{className:De("recharts-cartesian-axis-line",jn(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=yN(fr(fr({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Ie(this.props,!1),b=Ie(d,!1),x=fr(fr({},v),{},{fill:"none"},Ie(c,!1)),w=m.map(function(j,_){var S=o.getTickLineCoord(j),N=S.line,E=S.tick,C=fr(fr(fr(fr({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},b),E),{},{index:_,payload:j,visibleTicksCount:m.length,tickFormatter:f});return P.createElement(_t,jl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Fp(o.props,j,_)),c&&P.createElement("line",jl({},x,N,{className:De("recharts-cartesian-axis-tick-line",jn(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Te(f)?f(j.value,_):j.value).concat(h||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=i0(f,JNe),g=h;return Te(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:P.createElement(_t,{className:De("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),nr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return P.isValidElement(n)?o=P.cloneElement(n,a):Te(n)?o=n(a):o=P.createElement(eg,jl({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(y.Component);xN(bu,"displayName","CartesianAxis");xN(bu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var oEe=["x1","y1","x2","y2","key"],lEe=["offset"];function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){cEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cEe(e,t,r){return t=uEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uEe(e){var t=dEe(e,"string");return ko(t)=="symbol"?t:t+""}function dEe(e,t){if(ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qi.apply(this,arguments)}function z2(e,t){if(e==null)return{};var r=fEe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hEe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return P.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function VF(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(Te(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=z2(t,oEe),u=Ie(c,!1);u.offset;var d=z2(u,lEe);r=P.createElement("line",Qi({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function mEe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=ar(ar({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return VF(a,u)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function pEe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=ar(ar({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return VF(a,u)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function gEe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return P.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function vEe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return P.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var yEe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return Z6(yN(ar(ar(ar({},bu.defaultProps),n),{},{ticks:Ba(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},xEe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return Z6(yN(ar(ar(ar({},bu.defaultProps),n),{},{ticks:Ba(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},al={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Cf(e){var t,r,n,a,s,o,l=mN(),c=pN(),u=iNe(),d=ar(ar({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:al.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:al.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:al.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:al.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:al.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:al.verticalFill,x:re(e.x)?e.x:u.left,y:re(e.y)?e.y:u.top,width:re(e.width)?e.width:u.width,height:re(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,x=nNe(),w=aNe();if(!re(m)||m<=0||!re(g)||g<=0||!re(f)||f!==+f||!re(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||yEe,_=d.horizontalCoordinatesGenerator||xEe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&Te(_)){var E=v&&v.length,C=_({yAxis:w?ar(ar({},w),{},{ticks:E?v:w.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);Va(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ko(C),"]")),Array.isArray(C)&&(S=C)}if((!N||!N.length)&&Te(j)){var k=b&&b.length,T=j({xAxis:x?ar(ar({},x),{},{ticks:k?b:x.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);Va(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ko(T),"]")),Array.isArray(T)&&(N=T)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(hEe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),P.createElement(mEe,Qi({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:w})),P.createElement(pEe,Qi({},d,{offset:u,verticalPoints:N,xAxis:x,yAxis:w})),P.createElement(gEe,Qi({},d,{horizontalPoints:S})),P.createElement(vEe,Qi({},d,{verticalPoints:N})))}Cf.displayName="CartesianGrid";var bEe=["type","layout","connectNulls","ref"],wEe=["key"];function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function U2(e,t){if(e==null)return{};var r=jEe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(this,arguments)}function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(n){Fn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sl(e){return EEe(e)||NEe(e)||SEe(e)||_Ee()}function _Ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SEe(e,t){if(e){if(typeof e=="string")return b1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b1(e,t)}}function NEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EEe(e){if(Array.isArray(e))return b1(e)}function b1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KF(n.key),n)}}function kEe(e,t,r){return t&&q2(e.prototype,t),r&&q2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CEe(e,t,r){return t=Rg(t),OEe(e,HF()?Reflect.construct(t,r||[],Rg(e).constructor):t.apply(e,r))}function OEe(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AEe(e)}function AEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HF=function(){return!!e})()}function Rg(e){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(e)}function TEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w1(e,t)}function w1(e,t){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},w1(e,t)}function Fn(e,t,r){return t=KF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KF(e){var t=REe(e,"string");return kc(t)=="symbol"?t:t+""}function REe(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hi=function(e){function t(){var r;PEe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=CEe(this,t,[].concat(a)),Fn(r,"state",{isAnimationFinished:!0,totalLength:0}),Fn(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Fn(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,x){return b+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(sl(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(sl(t.repeat(c,d)),sl(m),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Fn(r,"id",dh("recharts-line-")),Fn(r,"pathRef",function(o){r.mainCurve=o}),Fn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Fn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return TEe(t,e),kEe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=_n(d,vh);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:sn(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return P.createElement(_t,m,f.map(function(g){return P.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Ie(this.props,!1),h=Ie(c,!0),m=u.map(function(p,v){var b=Vr(Vr(Vr({key:"dot-".concat(v),r:3},f),h),{},{value:p.value,dataKey:d,cx:p.x,cy:p.y,index:v,payload:p.payload});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return P.createElement(_t,jd({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=U2(l,bEe),h=Vr(Vr(Vr({},Ie(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return P.createElement(Jw,jd({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,b=this.state,x=b.prevPoints,w=b.totalLength;return P.createElement(ss,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var _=j.t;if(x){var S=x.length/l.length,N=l.map(function(A,D){var R=Math.floor(D*S);if(x[R]){var L=x[R],I=qn(L.x,A.x),F=qn(L.y,A.y);return Vr(Vr({},A),{},{x:I(_),y:F(_)})}if(g){var O=qn(p*2,A.x),$=qn(v/2,A.y);return Vr(Vr({},A),{},{x:O(_),y:$(_)})}return Vr(Vr({},A),{},{x:A.x,y:A.y})});return s.renderCurveStatically(N,n,a)}var E=qn(0,w),C=E(_),k;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});k=s.getStrokeDasharray(C,w,T)}else k=s.generateSimpleStrokeDasharray(w,C);return s.renderCurveStatically(l,n,a,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!by(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=De("recharts-line",c),j=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,S=j||_,N=Me(v)?this.id:v,E=(n=Ie(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=E.r,k=C===void 0?3:C,T=E.strokeWidth,A=T===void 0?2:T,D=aie(o)?o:{},R=D.clipDot,L=R===void 0?!0:R,I=k*2+A;return P.createElement(_t,{className:w},j||_?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(N)},P.createElement("rect",{x:j?h:h-m/2,y:_?f:f-g/2,width:j?m:m*2,height:_?g:g*2})),!L&&P.createElement("clipPath",{id:"clipPath-dots-".concat(N)},P.createElement("rect",{x:h-I/2,y:f-I/2,width:m+I,height:g+I}))):null,!x&&this.renderCurve(S,N),this.renderErrorBar(S,N),(x||o)&&this.renderDots(S,L,N),(!p||b)&&ei.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(sl(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(sl(o),sl(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(P.isValidElement(n))s=P.cloneElement(n,a);else if(Te(n))s=n(a);else{var o=a.key,l=U2(a,wEe),c=De("recharts-line-dot",typeof n!="boolean"?n.className:"");s=P.createElement(uN,jd({key:o},l,{className:c}))}return s}}])}(y.PureComponent);Fn(hi,"displayName","Line");Fn(hi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ha.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Fn(hi,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=sn(h,o);return d==="horizontal"?{x:_O({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Me(g)?null:n.scale(g),value:g,payload:h}:{x:Me(g)?null:r.scale(g),y:_O({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Vr({points:f,layout:d},u)});function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function MEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QF(n.key),n)}}function IEe(e,t,r){return t&&$Ee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DEe(e,t,r){return t=Mg(t),LEe(e,GF()?Reflect.construct(t,r||[],Mg(e).constructor):t.apply(e,r))}function LEe(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FEe(e)}function FEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GF=function(){return!!e})()}function Mg(e){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mg(e)}function zEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j1(e,t)}function j1(e,t){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j1(e,t)}function YF(e,t,r){return t=QF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QF(e){var t=UEe(e,"string");return Cc(t)=="symbol"?t:t+""}function UEe(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(this,arguments)}function BEe(e){var t=e.xAxisId,r=mN(),n=pN(),a=MF(t);return a==null?null:P.createElement(bu,_1({},a,{className:De("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ba(o,!0)}}))}var mi=function(e){function t(){return MEe(this,t),DEe(this,t,arguments)}return zEe(t,e),IEe(t,[{key:"render",value:function(){return P.createElement(BEe,this.props)}}])}(P.Component);YF(mi,"displayName","XAxis");YF(mi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function qEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZF(n.key),n)}}function VEe(e,t,r){return t&&WEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HEe(e,t,r){return t=$g(t),KEe(e,XF()?Reflect.construct(t,r||[],$g(e).constructor):t.apply(e,r))}function KEe(e,t){if(t&&(Oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GEe(e)}function GEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XF=function(){return!!e})()}function $g(e){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(e)}function YEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S1(e,t)}function S1(e,t){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S1(e,t)}function JF(e,t,r){return t=ZF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZF(e){var t=QEe(e,"string");return Oc(t)=="symbol"?t:t+""}function QEe(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}var XEe=function(t){var r=t.yAxisId,n=mN(),a=pN(),s=$F(r);return s==null?null:P.createElement(bu,N1({},s,{className:De("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ba(l,!0)}}))},pi=function(e){function t(){return qEe(this,t),HEe(this,t,arguments)}return YEe(t,e),VEe(t,[{key:"render",value:function(){return P.createElement(XEe,this.props)}}])}(P.Component);JF(pi,"displayName","YAxis");JF(pi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function W2(e){return tPe(e)||ePe(e)||ZEe(e)||JEe()}function JEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZEe(e,t){if(e){if(typeof e=="string")return E1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E1(e,t)}}function ePe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tPe(e){if(Array.isArray(e))return E1(e)}function E1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P1=function(t,r,n,a,s){var o=_n(t,vN),l=_n(t,Py),c=[].concat(W2(o),W2(l)),u=_n(t,Cy),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&ya(v.props,"extendDomain")&&re(v.props[f])){var b=v.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&ya(v.props,"extendDomain")&&re(v.props[m])&&re(v.props[g])){var b=v.props[m],x=v.props[g];return[Math.min(p[0],b,x),Math.max(p[1],b,x)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,v){return re(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},ez={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var j=v.length,_;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(_=1,x=new Array(b-1);_<b;_++)x[_-1]=arguments[_];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,v=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(ez);var rPe=ez.exports;const nPe=Ye(rPe);var o0=new nPe,l0="recharts.syncMouseEvents";function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function aPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tz(n.key),n)}}function iPe(e,t,r){return t&&sPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c0(e,t,r){return t=tz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=oPe(e,"string");return Of(t)=="symbol"?t:t+""}function oPe(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lPe=function(){function e(){aPe(this,e),c0(this,"activeIndex",0),c0(this,"coordinateList",[]),c0(this,"layout","horizontal")}return iPe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function cPe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&re(n)&&re(a))return!0}return!1}function uPe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function rz(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=Gt(t,r,n,a),l=Gt(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function dPe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Gt(l,c,u,f),m=Gt(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return rz(t);return[{x:n,y:a},{x:s,y:o}]}function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function V2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(r),!0).forEach(function(n){fPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fPe(e,t,r){return t=hPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hPe(e){var t=mPe(e,"string");return Af(t)=="symbol"?t:t+""}function mPe(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pPe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=Jw;if(h==="ScatterChart")g=o,p=pje;else if(h==="BarChart")g=uPe(f,o,c,d),p=cN;else if(f==="radial"){var v=rz(o),b=v.cx,x=v.cy,w=v.radius,j=v.startAngle,_=v.endAngle;g={cx:b,cy:x,startAngle:j,endAngle:_,innerRadius:w,outerRadius:w},p=aF}else g={points:dPe(f,o,c)},p=Jw;var S=gm(gm(gm(gm({stroke:"#ccc",pointerEvents:"none"},c),g),Ie(m,!1)),{},{payload:l,payloadIndex:u,className:De("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,S):y.createElement(p,S)}var gPe=["item"],vPe=["children","className","width","height","style","compact","title","desc"];function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}function H2(e,t){return bPe(e)||xPe(e,t)||az(e,t)||yPe()}function yPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bPe(e){if(Array.isArray(e))return e}function K2(e,t){if(e==null)return{};var r=wPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sz(n.key),n)}}function SPe(e,t,r){return t&&_Pe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NPe(e,t,r){return t=Ig(t),EPe(e,nz()?Reflect.construct(t,r||[],Ig(e).constructor):t.apply(e,r))}function EPe(e,t){if(t&&(Ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PPe(e)}function PPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nz=function(){return!!e})()}function Ig(e){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(e)}function kPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k1(e,t)}function k1(e,t){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k1(e,t)}function Tc(e){return APe(e)||OPe(e)||az(e)||CPe()}function CPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function az(e,t){if(e){if(typeof e=="string")return C1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(e,t)}}function OPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function APe(e){if(Array.isArray(e))return C1(e)}function C1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(n){ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ve(e,t,r){return t=sz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sz(e){var t=TPe(e,"string");return Ac(t)=="symbol"?t:t+""}function TPe(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RPe={xAxis:["bottom","top"],yAxis:["left","right"]},MPe={width:"100%",height:"100%"},iz={x:0,y:0};function vm(e){return e}var $Pe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},IPe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return W(W(W({},a),Gt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return W(W(W({},a),Gt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return iz},Oy=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Tc(l),Tc(u)):l},[]);return o.length>0?o:t&&t.length&&re(a)&&re(s)?t.slice(a,s+1):[]};function oz(e){return e==="number"?[0,"auto"]:void 0}var O1=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=Oy(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Dp(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Tc(c),[tF(u,h)]):c},[])},Y2=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=$Pe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=obe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=O1(t,r,d,f),m=IPe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},DPe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=J6(d,s);return n.reduce(function(g,p){var v,b=p.type.defaultProps!==void 0?W(W({},p.type.defaultProps),p.props):p.props,x=b.type,w=b.dataKey,j=b.allowDataOverflow,_=b.allowDuplicatedCategory,S=b.scale,N=b.ticks,E=b.includeHidden,C=b[o];if(g[C])return g;var k=Oy(t.data,{graphicalItems:a.filter(function(B){var Q,oe=o in B.props?B.props[o]:(Q=B.type.defaultProps)===null||Q===void 0?void 0:Q[o];return oe===C}),dataStartIndex:c,dataEndIndex:u}),T=k.length,A,D,R;cPe(b.domain,j,x)&&(A=Kw(b.domain,null,j),m&&(x==="number"||S!=="auto")&&(R=bd(k,w,"category")));var L=oz(x);if(!A||A.length===0){var I,F=(I=b.domain)!==null&&I!==void 0?I:L;if(w){if(A=bd(k,w,x),x==="category"&&m){var O=Yse(A);_&&O?(D=A,A=_g(0,T)):_||(A=PO(F,A,p).reduce(function(B,Q){return B.indexOf(Q)>=0?B:[].concat(Tc(B),[Q])},[]))}else if(x==="category")_?A=A.filter(function(B){return B!==""&&!Me(B)}):A=PO(F,A,p).reduce(function(B,Q){return B.indexOf(Q)>=0||Q===""||Me(Q)?B:[].concat(Tc(B),[Q])},[]);else if(x==="number"){var $=fbe(k,a.filter(function(B){var Q,oe,ge=o in B.props?B.props[o]:(Q=B.type.defaultProps)===null||Q===void 0?void 0:Q[o],me="hide"in B.props?B.props.hide:(oe=B.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return ge===C&&(E||!me)}),w,s,d);$&&(A=$)}m&&(x==="number"||S!=="auto")&&(R=bd(k,w,"category"))}else m?A=_g(0,T):l&&l[C]&&l[C].hasStack&&x==="number"?A=h==="expand"?[0,1]:eF(l[C].stackGroups,c,u):A=X6(k,a.filter(function(B){var Q=o in B.props?B.props[o]:B.type.defaultProps[o],oe="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return Q===C&&(E||!oe)}),x,d,!0);if(x==="number")A=P1(f,A,C,s,N),F&&(A=Kw(F,A,j));else if(x==="category"&&F){var V=F,z=A.every(function(B){return V.indexOf(B)>=0});z&&(A=V)}}return W(W({},g),{},ve({},C,W(W({},b),{},{axisType:s,domain:A,categoricalDomain:R,duplicateDomain:D,originalDomain:(v=b.domain)!==null&&v!==void 0?v:L,isCategorical:m,layout:d})))},{})},LPe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Oy(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=J6(d,s),p=-1;return n.reduce(function(v,b){var x=b.type.defaultProps!==void 0?W(W({},b.type.defaultProps),b.props):b.props,w=x[o],j=oz("number");if(!v[w]){p++;var _;return g?_=_g(0,m):l&&l[w]&&l[w].hasStack?(_=eF(l[w].stackGroups,c,u),_=P1(f,_,w,s)):(_=Kw(j,X6(h,n.filter(function(S){var N,E,C=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],k="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return C===w&&!k}),"number",d),a.defaultProps.allowDataOverflow),_=P1(f,_,w,s)),W(W({},v),{},ve({},w,W(W({axisType:s},a.defaultProps),{},{hide:!0,orientation:jn(RPe,"".concat(s,".").concat(p%2),null),domain:_,originalDomain:j,isCategorical:g,layout:d})))}return v},{})},FPe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=_n(d,s),m={};return h&&h.length?m=DPe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=LPe(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},zPe=function(t){var r=ks(t),n=Ba(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:IS(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:mg(r,n)}},Q2=function(t){var r=t.children,n=t.defaultShowTooltip,a=Qr(r,jc),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},UPe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Wa(r&&r.type);return n&&n.indexOf("Bar")>=0})},X2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BPe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Qr(f,jc),g=Qr(f,io),p=Object.keys(c).reduce(function(_,S){var N=c[S],E=N.orientation;return!N.mirror&&!N.hide?W(W({},_),{},ve({},E,_[E]+N.width)):_},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(_,S){var N=o[S],E=N.orientation;return!N.mirror&&!N.hide?W(W({},_),{},ve({},E,jn(_,"".concat(E))+N.height)):_},{top:h.top||0,bottom:h.bottom||0}),b=W(W({},v),p),x=b.bottom;m&&(b.bottom+=m.props.height||jc.defaultProps.height),g&&r&&(b=ube(b,a,n,r));var w=u-b.left-b.right,j=d-b.top-b.bottom;return W(W({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(j,0)})},qPe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},lz=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,b){var x=b.graphicalItems,w=b.stackGroups,j=b.offset,_=b.updateId,S=b.dataStartIndex,N=b.dataEndIndex,E=v.barSize,C=v.layout,k=v.barGap,T=v.barCategoryGap,A=v.maxBarSize,D=X2(C),R=D.numericAxisName,L=D.cateAxisName,I=UPe(x),F=[];return x.forEach(function(O,$){var V=Oy(v.data,{graphicalItems:[O],dataStartIndex:S,dataEndIndex:N}),z=O.type.defaultProps!==void 0?W(W({},O.type.defaultProps),O.props):O.props,B=z.dataKey,Q=z.maxBarSize,oe=z["".concat(R,"Id")],ge=z["".concat(L,"Id")],me={},ne=c.reduce(function(Er,Pa){var wu=b["".concat(Pa.axisType,"Map")],Ai=z["".concat(Pa.axisType,"Id")];wu&&wu[Ai]||Pa.axisType==="zAxis"||Po();var xh=wu[Ai];return W(W({},Er),{},ve(ve({},Pa.axisType,xh),"".concat(Pa.axisType,"Ticks"),Ba(xh)))},me),be=ne[L],Y=ne["".concat(L,"Ticks")],te=w&&w[oe]&&w[oe].hasStack&&Sbe(O,w[oe].stackGroups),le=Wa(O.type).indexOf("Bar")>=0,q=mg(be,Y),Oe=[],ye=I&&lbe({barSize:E,stackGroups:w,totalSize:qPe(ne,L)});if(le){var Ke,Le,wt=Me(Q)?A:Q,qr=(Ke=(Le=mg(be,Y,!0))!==null&&Le!==void 0?Le:wt)!==null&&Ke!==void 0?Ke:0;Oe=cbe({barGap:k,barCategoryGap:T,bandSize:qr!==q?qr:q,sizeList:ye[ge],maxBarSize:wt}),qr!==q&&(Oe=Oe.map(function(Er){return W(W({},Er),{},{position:W(W({},Er.position),{},{offset:Er.position.offset-qr/2})})}))}var mt=O&&O.type&&O.type.getComposedData;mt&&F.push({props:W(W({},mt(W(W({},ne),{},{displayedData:V,props:v,dataKey:B,item:O,bandSize:q,barPosition:Oe,offset:j,stackedData:te,layout:C,dataStartIndex:S,dataEndIndex:N}))),{},ve(ve(ve({key:O.key||"item-".concat($)},R,ne[R]),L,ne[L]),"animationId",_)),childIndex:oie(O,v.children),item:O})}),F},m=function(v,b){var x=v.props,w=v.dataStartIndex,j=v.dataEndIndex,_=v.updateId;if(!bk({props:x}))return null;var S=x.children,N=x.layout,E=x.stackOffset,C=x.data,k=x.reverseStackOrder,T=X2(N),A=T.numericAxisName,D=T.cateAxisName,R=_n(S,n),L=wbe(C,R,"".concat(A,"Id"),"".concat(D,"Id"),E,k),I=c.reduce(function(z,B){var Q="".concat(B.axisType,"Map");return W(W({},z),{},ve({},Q,FPe(x,W(W({},B),{},{graphicalItems:R,stackGroups:B.axisType===A&&L,dataStartIndex:w,dataEndIndex:j}))))},{}),F=BPe(W(W({},I),{},{props:x,graphicalItems:R}),b==null?void 0:b.legendBBox);Object.keys(I).forEach(function(z){I[z]=d(x,I[z],F,z.replace("Map",""),r)});var O=I["".concat(D,"Map")],$=zPe(O),V=h(x,W(W({},I),{},{dataStartIndex:w,dataEndIndex:j,updateId:_,graphicalItems:R,stackGroups:L,offset:F}));return W(W({formattedGraphicalItems:V,graphicalItems:R,offset:F,stackGroups:L},$),I)},g=function(p){function v(b){var x,w,j;return jPe(this,v),j=NPe(this,v,[b]),ve(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(j,"accessibilityManager",new lPe),ve(j,"handleLegendBBoxUpdate",function(_){if(_){var S=j.state,N=S.dataStartIndex,E=S.dataEndIndex,C=S.updateId;j.setState(W({legendBBox:_},m({props:j.props,dataStartIndex:N,dataEndIndex:E,updateId:C},W(W({},j.state),{},{legendBBox:_}))))}}),ve(j,"handleReceiveSyncEvent",function(_,S,N){if(j.props.syncId===_){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),ve(j,"handleBrushChange",function(_){var S=_.startIndex,N=_.endIndex;if(S!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var E=j.state.updateId;j.setState(function(){return W({dataStartIndex:S,dataEndIndex:N},m({props:j.props,dataStartIndex:S,dataEndIndex:N,updateId:E},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:N})}}),ve(j,"handleMouseEnter",function(_){var S=j.getMouseInfo(_);if(S){var N=W(W({},S),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var E=j.props.onMouseEnter;Te(E)&&E(N,_)}}),ve(j,"triggeredAfterMouseMove",function(_){var S=j.getMouseInfo(_),N=S?W(W({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var E=j.props.onMouseMove;Te(E)&&E(N,_)}),ve(j,"handleItemMouseEnter",function(_){j.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),ve(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),ve(j,"handleMouseMove",function(_){_.persist(),j.throttleTriggeredAfterMouseMove(_)}),ve(j,"handleMouseLeave",function(_){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var N=j.props.onMouseLeave;Te(N)&&N(S,_)}),ve(j,"handleOuterEvent",function(_){var S=iie(_),N=jn(j.props,"".concat(S));if(S&&Te(N)){var E,C;/.*touch.*/i.test(S)?C=j.getMouseInfo(_.changedTouches[0]):C=j.getMouseInfo(_),N((E=C)!==null&&E!==void 0?E:{},_)}}),ve(j,"handleClick",function(_){var S=j.getMouseInfo(_);if(S){var N=W(W({},S),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var E=j.props.onClick;Te(E)&&E(N,_)}}),ve(j,"handleMouseDown",function(_){var S=j.props.onMouseDown;if(Te(S)){var N=j.getMouseInfo(_);S(N,_)}}),ve(j,"handleMouseUp",function(_){var S=j.props.onMouseUp;if(Te(S)){var N=j.getMouseInfo(_);S(N,_)}}),ve(j,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),ve(j,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseDown(_.changedTouches[0])}),ve(j,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseUp(_.changedTouches[0])}),ve(j,"triggerSyncEvent",function(_){j.props.syncId!==void 0&&o0.emit(l0,j.props.syncId,_,j.eventEmitterSymbol)}),ve(j,"applySyncEvent",function(_){var S=j.props,N=S.layout,E=S.syncMethod,C=j.state.updateId,k=_.dataStartIndex,T=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)j.setState(W({dataStartIndex:k,dataEndIndex:T},m({props:j.props,dataStartIndex:k,dataEndIndex:T,updateId:C},j.state)));else if(_.activeTooltipIndex!==void 0){var A=_.chartX,D=_.chartY,R=_.activeTooltipIndex,L=j.state,I=L.offset,F=L.tooltipTicks;if(!I)return;if(typeof E=="function")R=E(F,_);else if(E==="value"){R=-1;for(var O=0;O<F.length;O++)if(F[O].value===_.activeLabel){R=O;break}}var $=W(W({},I),{},{x:I.left,y:I.top}),V=Math.min(A,$.x+$.width),z=Math.min(D,$.y+$.height),B=F[R]&&F[R].value,Q=O1(j.state,j.props.data,R),oe=F[R]?{x:N==="horizontal"?F[R].coordinate:V,y:N==="horizontal"?z:F[R].coordinate}:iz;j.setState(W(W({},_),{},{activeLabel:B,activeCoordinate:oe,activePayload:Q,activeTooltipIndex:R}))}else j.setState(_)}),ve(j,"renderCursor",function(_){var S,N=j.state,E=N.isTooltipActive,C=N.activeCoordinate,k=N.activePayload,T=N.offset,A=N.activeTooltipIndex,D=N.tooltipAxisBandSize,R=j.getTooltipEventType(),L=(S=_.props.active)!==null&&S!==void 0?S:E,I=j.props.layout,F=_.key||"_recharts-cursor";return P.createElement(pPe,{key:F,activeCoordinate:C,activePayload:k,activeTooltipIndex:A,chartName:r,element:_,isActive:L,layout:I,offset:T,tooltipAxisBandSize:D,tooltipEventType:R})}),ve(j,"renderPolarAxis",function(_,S,N){var E=jn(_,"type.axisType"),C=jn(j.state,"".concat(E,"Map")),k=_.type.defaultProps,T=k!==void 0?W(W({},k),_.props):_.props,A=C&&C[T["".concat(E,"Id")]];return y.cloneElement(_,W(W({},A),{},{className:De(E,A.className),key:_.key||"".concat(S,"-").concat(N),ticks:Ba(A,!0)}))}),ve(j,"renderPolarGrid",function(_){var S=_.props,N=S.radialLines,E=S.polarAngles,C=S.polarRadius,k=j.state,T=k.radiusAxisMap,A=k.angleAxisMap,D=ks(T),R=ks(A),L=R.cx,I=R.cy,F=R.innerRadius,O=R.outerRadius;return y.cloneElement(_,{polarAngles:Array.isArray(E)?E:Ba(R,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(C)?C:Ba(D,!0).map(function($){return $.coordinate}),cx:L,cy:I,innerRadius:F,outerRadius:O,key:_.key||"polar-grid",radialLines:N})}),ve(j,"renderLegend",function(){var _=j.state.formattedGraphicalItems,S=j.props,N=S.children,E=S.width,C=S.height,k=j.props.margin||{},T=E-(k.left||0)-(k.right||0),A=Y6({children:N,formattedGraphicalItems:_,legendWidth:T,legendContent:u});if(!A)return null;var D=A.item,R=K2(A,gPe);return y.cloneElement(D,W(W({},R),{},{chartWidth:E,chartHeight:C,margin:k,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),ve(j,"renderTooltip",function(){var _,S=j.props,N=S.children,E=S.accessibilityLayer,C=Qr(N,Xr);if(!C)return null;var k=j.state,T=k.isTooltipActive,A=k.activeCoordinate,D=k.activePayload,R=k.activeLabel,L=k.offset,I=(_=C.props.active)!==null&&_!==void 0?_:T;return y.cloneElement(C,{viewBox:W(W({},L),{},{x:L.left,y:L.top}),active:I,label:R,payload:I?D:[],coordinate:A,accessibilityLayer:E})}),ve(j,"renderBrush",function(_){var S=j.props,N=S.margin,E=S.data,C=j.state,k=C.offset,T=C.dataStartIndex,A=C.dataEndIndex,D=C.updateId;return y.cloneElement(_,{key:_.key||"_recharts-brush",onChange:fm(j.handleBrushChange,_.props.onChange),data:E,x:re(_.props.x)?_.props.x:k.left,y:re(_.props.y)?_.props.y:k.top+k.height+k.brushBottom-(N.bottom||0),width:re(_.props.width)?_.props.width:k.width,startIndex:T,endIndex:A,updateId:"brush-".concat(D)})}),ve(j,"renderReferenceElement",function(_,S,N){if(!_)return null;var E=j,C=E.clipPathId,k=j.state,T=k.xAxisMap,A=k.yAxisMap,D=k.offset,R=_.type.defaultProps||{},L=_.props,I=L.xAxisId,F=I===void 0?R.xAxisId:I,O=L.yAxisId,$=O===void 0?R.yAxisId:O;return y.cloneElement(_,{key:_.key||"".concat(S,"-").concat(N),xAxis:T[F],yAxis:A[$],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:C})}),ve(j,"renderActivePoints",function(_){var S=_.item,N=_.activePoint,E=_.basePoint,C=_.childIndex,k=_.isRange,T=[],A=S.props.key,D=S.item.type.defaultProps!==void 0?W(W({},S.item.type.defaultProps),S.item.props):S.item.props,R=D.activeDot,L=D.dataKey,I=W(W({index:C,dataKey:L,cx:N.x,cy:N.y,r:4,fill:lN(S.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Ie(R,!1)),Lp(R));return T.push(v.renderActiveDot(R,I,"".concat(A,"-activePoint-").concat(C))),E?T.push(v.renderActiveDot(R,W(W({},I),{},{cx:E.x,cy:E.y}),"".concat(A,"-basePoint-").concat(C))):k&&T.push(null),T}),ve(j,"renderGraphicChild",function(_,S,N){var E=j.filterFormatItem(_,S,N);if(!E)return null;var C=j.getTooltipEventType(),k=j.state,T=k.isTooltipActive,A=k.tooltipAxis,D=k.activeTooltipIndex,R=k.activeLabel,L=j.props.children,I=Qr(L,Xr),F=E.props,O=F.points,$=F.isRange,V=F.baseLine,z=E.item.type.defaultProps!==void 0?W(W({},E.item.type.defaultProps),E.item.props):E.item.props,B=z.activeDot,Q=z.hide,oe=z.activeBar,ge=z.activeShape,me=!!(!Q&&T&&I&&(B||oe||ge)),ne={};C!=="axis"&&I&&I.props.trigger==="click"?ne={onClick:fm(j.handleItemMouseEnter,_.props.onClick)}:C!=="axis"&&(ne={onMouseLeave:fm(j.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:fm(j.handleItemMouseEnter,_.props.onMouseEnter)});var be=y.cloneElement(_,W(W({},E.props),ne));function Y(Pa){return typeof A.dataKey=="function"?A.dataKey(Pa.payload):null}if(me)if(D>=0){var te,le;if(A.dataKey&&!A.allowDuplicatedCategory){var q=typeof A.dataKey=="function"?Y:"payload.".concat(A.dataKey.toString());te=Dp(O,q,R),le=$&&V&&Dp(V,q,R)}else te=O==null?void 0:O[D],le=$&&V&&V[D];if(ge||oe){var Oe=_.props.activeIndex!==void 0?_.props.activeIndex:D;return[y.cloneElement(_,W(W(W({},E.props),ne),{},{activeIndex:Oe})),null,null]}if(!Me(te))return[be].concat(Tc(j.renderActivePoints({item:E,activePoint:te,basePoint:le,childIndex:D,isRange:$})))}else{var ye,Ke=(ye=j.getItemByXY(j.state.activeCoordinate))!==null&&ye!==void 0?ye:{graphicalItem:be},Le=Ke.graphicalItem,wt=Le.item,qr=wt===void 0?_:wt,mt=Le.childIndex,Er=W(W(W({},E.props),ne),{},{activeIndex:mt});return[y.cloneElement(qr,Er),null,null]}return $?[be,null,null]:[be,null]}),ve(j,"renderCustomized",function(_,S,N){return y.cloneElement(_,W(W({key:"recharts-customized-".concat(N)},j.props),j.state))}),ve(j,"renderMap",{CartesianGrid:{handler:vm,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:vm},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:vm},YAxis:{handler:vm},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:dh("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=G3(j.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return kPe(v,p),SPe(v,[{key:"componentDidMount",value:function(){var x,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,w=x.children,j=x.data,_=x.height,S=x.layout,N=Qr(w,Xr);if(N){var E=N.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,k=O1(this.state,j,E,C),T=this.state.tooltipTicks[E].coordinate,A=(this.state.offset.top+_)/2,D=S==="horizontal",R=D?{x:T,y:A}:{y:T,x:A},L=this.state.formattedGraphicalItems.find(function(F){var O=F.item;return O.type.name==="Scatter"});L&&(R=W(W({},R),L.props.points[E].tooltipPosition),k=L.props.points[E].tooltipPayload);var I={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:C,activePayload:k,activeCoordinate:R};this.setState(I),this.renderCursor(N),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var j,_;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(x){lw([Qr(x.children,Xr)],[Qr(this.props.children,Xr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Qr(this.props.children,Xr);if(x&&typeof x.props.shared=="boolean"){var w=x.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),_=Rge(j),S={chartX:Math.round(x.pageX-_.left),chartY:Math.round(x.pageY-_.top)},N=j.width/w.offsetWidth||1,E=this.inRange(S.chartX,S.chartY,N);if(!E)return null;var C=this.state,k=C.xAxisMap,T=C.yAxisMap,A=this.getTooltipEventType();if(A!=="axis"&&k&&T){var D=ks(k).scale,R=ks(T).scale,L=D&&D.invert?D.invert(S.chartX):null,I=R&&R.invert?R.invert(S.chartY):null;return W(W({},S),{},{xValue:L,yValue:I})}var F=Y2(this.state,this.props.data,this.props.layout,E);return F?W(W({},S),F):null}},{key:"inRange",value:function(x,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,S=x/j,N=w/j;if(_==="horizontal"||_==="vertical"){var E=this.state.offset,C=S>=E.left&&S<=E.left+E.width&&N>=E.top&&N<=E.top+E.height;return C?{x:S,y:N}:null}var k=this.state,T=k.angleAxisMap,A=k.radiusAxisMap;if(T&&A){var D=ks(T);return OO({x:S,y:N},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,w=this.getTooltipEventType(),j=Qr(x,Xr),_={};j&&w==="axis"&&(j.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=Lp(this.props,this.handleOuterEvent);return W(W({},S),_)}},{key:"addListener",value:function(){o0.on(l0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){o0.removeListener(l0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,w,j){for(var _=this.state.formattedGraphicalItems,S=0,N=_.length;S<N;S++){var E=_[S];if(E.item===x||E.props.key===x.key||w===Wa(E.item.type)&&j===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,w=this.state.offset,j=w.left,_=w.top,S=w.height,N=w.width;return P.createElement("defs",null,P.createElement("clipPath",{id:x},P.createElement("rect",{x:j,y:_,height:S,width:N})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(w,j){var _=H2(j,2),S=_[0],N=_[1];return W(W({},w),{},ve({},S,N.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(w,j){var _=H2(j,2),S=_[0],N=_[1];return W(W({},w),{},ve({},S,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(x){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(x){var w=this.state,j=w.formattedGraphicalItems,_=w.activeItem;if(j&&j.length)for(var S=0,N=j.length;S<N;S++){var E=j[S],C=E.props,k=E.item,T=k.type.defaultProps!==void 0?W(W({},k.type.defaultProps),k.props):k.props,A=Wa(k.type);if(A==="Bar"){var D=(C.data||[]).find(function(F){return sje(x,F)});if(D)return{graphicalItem:E,payload:D}}else if(A==="RadialBar"){var R=(C.data||[]).find(function(F){return OO(x,F)});if(R)return{graphicalItem:E,payload:R}}else if(_y(E,_)||Sy(E,_)||Sf(E,_)){var L=l_e({graphicalItem:E,activeTooltipItem:_,itemData:T.data}),I=T.activeIndex===void 0?L:T.activeIndex;return{graphicalItem:W(W({},E),{},{childIndex:I}),payload:Sf(E,_)?T.data[L]:E.props.data[L]}}}return null}},{key:"render",value:function(){var x=this;if(!bk(this))return null;var w=this.props,j=w.children,_=w.className,S=w.width,N=w.height,E=w.style,C=w.compact,k=w.title,T=w.desc,A=K2(w,vPe),D=Ie(A,!1);if(C)return P.createElement(k2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(uw,_d({},D,{width:S,height:N,title:k,desc:T}),this.renderClipPath(),jk(j,this.renderMap)));if(this.props.accessibilityLayer){var R,L;D.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,D.role=(L=this.props.role)!==null&&L!==void 0?L:"application",D.onKeyDown=function(F){x.accessibilityManager.keyboardEvent(F)},D.onFocus=function(){x.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return P.createElement(k2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",_d({className:De("recharts-wrapper",_),style:W({position:"relative",cursor:"default",width:S,height:N},E)},I,{ref:function(O){x.container=O}}),P.createElement(uw,_d({},D,{width:S,height:N,title:k,desc:T,style:MPe}),this.renderClipPath(),jk(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);return ve(g,"displayName",r),ve(g,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ve(g,"getDerivedStateFromProps",function(p,v){var b=p.dataKey,x=p.data,w=p.children,j=p.width,_=p.height,S=p.layout,N=p.stackOffset,E=p.margin,C=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var T=Q2(p);return W(W(W({},T),{},{updateId:0},m(W(W({props:p},T),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:x,prevWidth:j,prevHeight:_,prevLayout:S,prevStackOffset:N,prevMargin:E,prevChildren:w})}if(b!==v.prevDataKey||x!==v.prevData||j!==v.prevWidth||_!==v.prevHeight||S!==v.prevLayout||N!==v.prevStackOffset||!$l(E,v.prevMargin)){var A=Q2(p),D={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},R=W(W({},Y2(v,x,S)),{},{updateId:v.updateId+1}),L=W(W(W({},A),D),R);return W(W(W({},L),m(W({props:p},L),v)),{},{prevDataKey:b,prevData:x,prevWidth:j,prevHeight:_,prevLayout:S,prevStackOffset:N,prevMargin:E,prevChildren:w})}if(!lw(w,v.prevChildren)){var I,F,O,$,V=Qr(w,jc),z=V&&(I=(F=V.props)===null||F===void 0?void 0:F.startIndex)!==null&&I!==void 0?I:C,B=V&&(O=($=V.props)===null||$===void 0?void 0:$.endIndex)!==null&&O!==void 0?O:k,Q=z!==C||B!==k,oe=!Me(x),ge=oe&&!Q?v.updateId:v.updateId+1;return W(W({updateId:ge},m(W(W({props:p},v),{},{updateId:ge,dataStartIndex:z,dataEndIndex:B}),v)),{},{prevChildren:w,dataStartIndex:z,dataEndIndex:B})}return null}),ve(g,"renderActiveDot",function(p,v,b){var x;return y.isValidElement(p)?x=y.cloneElement(p,v):Te(p)?x=p(v):x=P.createElement(uN,v),P.createElement(_t,{className:"recharts-active-dot",key:b},x)}),function(v){return P.createElement(g,v)}},cz=lz({chartName:"LineChart",GraphicalChild:hi,axisComponents:[{axisType:"xAxis",AxisComp:mi},{axisType:"yAxis",AxisComp:pi}],formatAxisMap:EF}),uz=lz({chartName:"BarChart",GraphicalChild:Oi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:mi},{axisType:"yAxis",AxisComp:pi}],formatAxisMap:EF});const WPe=({data:e=[],isLoading:t=!1})=>{const r=[{date:"2024-01",sessions:45,completedSessions:38},{date:"2024-02",sessions:52,completedSessions:44},{date:"2024-03",sessions:48,completedSessions:41},{date:"2024-04",sessions:61,completedSessions:55},{date:"2024-05",sessions:67,completedSessions:58},{date:"2024-06",sessions:72,completedSessions:65}],n=e.length>0?e:r;return t?i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Session Trends"]})}),i.jsx(K,{children:i.jsx("div",{className:"h-64 flex items-center justify-center",children:i.jsx("div",{className:"text-gray-500",children:"Loading chart..."})})})]}):i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center",children:[i.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Session Trends"]})}),i.jsx(K,{children:i.jsx(Jp,{width:"100%",height:300,children:i.jsxs(cz,{data:n,children:[i.jsx(Cf,{strokeDasharray:"3 3"}),i.jsx(mi,{dataKey:"date"}),i.jsx(pi,{}),i.jsx(Xr,{}),i.jsx(io,{}),i.jsx(hi,{type:"monotone",dataKey:"sessions",stroke:"#3b82f6",strokeWidth:2,name:"Total Sessions"}),i.jsx(hi,{type:"monotone",dataKey:"completedSessions",stroke:"#10b981",strokeWidth:2,name:"Completed Sessions"})]})})})]})},VPe=({questionId:e,questionText:t,questionType:r,responses:n,completionRate:a})=>{const[s,o]=y.useState(!1),{data:l}=St({queryKey:["question-responses",e],queryFn:async()=>{const{data:h}=await G.from("feedback_responses").select("id, response_value, created_at, question_category").eq("question_id",e).order("created_at",{ascending:!1}).limit(10);return h||[]},enabled:s}),c=()=>{if(!l||l.length===0)return[];const h={};return l.forEach(m=>{const g=String(m.response_value||"No Response");h[g]=(h[g]||0)+1}),Object.entries(h).map(([m,g])=>({value:m,count:g,percentage:g/l.length*100}))},u=h=>{switch(h.toLowerCase()){case"star rating":case"nps score":return i.jsx(Ct,{className:"w-4 h-4 text-green-600"});case"text input":return i.jsx(y9,{className:"w-4 h-4 text-gray-600"});default:return i.jsx(Ct,{className:"w-4 h-4 text-blue-600"})}},d=(h,m)=>{if(h==null)return"No Response";switch(m.toLowerCase()){case"star rating":return`${h} stars`;case"nps score":return`${h}/10`;case"single choice":case"multiple choice":return Array.isArray(h)?h.join(", "):String(h);case"slider":return`${h}`;default:return String(h)}},f=c();return i.jsxs(H,{className:"mb-4",children:[i.jsx(se,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ie,{className:"text-lg",children:t}),i.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[i.jsx(ke,{variant:"outline",children:r}),i.jsxs("span",{className:"text-sm text-gray-600",children:[n.length," responses"]}),i.jsxs("span",{className:"text-sm text-gray-600",children:[a,"% completion"]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[u(r),i.jsx("span",{className:"text-sm text-gray-600",children:"Active"})]})]})]}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>o(!s),children:s?i.jsx(iv,{className:"w-4 h-4"}):i.jsx(Lc,{className:"w-4 h-4"})})]})}),s&&i.jsx(K,{children:i.jsxs("div",{className:"space-y-6",children:[f.length>0&&["single choice","multiple choice","star rating","emoji rating"].includes(r.toLowerCase())&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[i.jsx(a9,{className:"w-4 h-4 mr-2"}),"Response Distribution"]}),i.jsxs("div",{className:"space-y-3",children:[f.slice(0,5).map((h,m)=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"font-medium truncate",children:h.value}),i.jsxs("span",{children:[h.count," (",Math.round(h.percentage),"%)"]})]}),i.jsx(wn,{value:h.percentage,className:"h-2"})]},m)),f.length>5&&i.jsxs("p",{className:"text-sm text-gray-500",children:["... and ",f.length-5," more responses"]})]})]}),r.toLowerCase()==="text input"&&l&&l.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[i.jsx(cr,{className:"w-4 h-4 mr-2"}),"Response Analysis"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"font-medium text-blue-900",children:"Total Responses"}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.length})]}),i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"font-medium text-green-900",children:"Response Rate"}),i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[a,"%"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Recent Responses"}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:l&&l.length>0?l.slice(0,5).map((h,m)=>i.jsxs("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium text-gray-900",children:d(h.response_value,r)}),i.jsx("span",{className:"text-gray-500 text-xs",children:new Date(h.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"text-gray-600 text-xs mt-1",children:["Category: ",h.question_category]})]},m)):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No responses yet"})})]})]})})]})},HPe=({questions:e,categories:t,summary:r,showDrillDown:n=!1})=>{const[a,s]=y.useState(null);console.log("AnalyticsTable - Rendering with data:",{questionsCount:e==null?void 0:e.length,categoriesCount:t==null?void 0:t.length,summary:r,showDrillDown:n});const o=u=>{switch(u){case"positive":return i.jsx(zr,{className:"w-4 h-4 text-green-600"});case"negative":return i.jsx(xa,{className:"w-4 h-4 text-red-600"});case"mixed":return i.jsx(Ct,{className:"w-4 h-4 text-yellow-600"});default:return i.jsx(Ct,{className:"w-4 h-4 text-gray-600"})}},l=u=>{switch(u){case"positive":return"text-green-600 bg-green-50";case"negative":return"text-red-600 bg-red-50";case"mixed":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}},c=u=>{switch(u){case"positive":return"Positive";case"negative":return"Needs Attention";case"mixed":return"Mixed Results";default:return"Neutral"}};return!e&&!t?i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center space-x-2",children:[i.jsx(cr,{className:"w-5 h-5"}),i.jsx("span",{children:"Analytics Dashboard"})]})}),i.jsx(K,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(cr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No analytics data available yet"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Data will appear here once feedback is collected"})]})})]}):i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center space-x-2",children:[i.jsx(cr,{className:"w-5 h-5"}),i.jsx("span",{children:"Analytics Dashboard"})]})}),i.jsx(K,{children:i.jsxs(Sa,{defaultValue:"questions",className:"space-y-4",children:[i.jsxs(ea,{children:[i.jsxs(Ue,{value:"questions",className:"flex items-center space-x-2",children:[i.jsx(HE,{className:"w-4 h-4"}),i.jsxs("span",{children:["Questions (",(e==null?void 0:e.length)||0,")"]})]}),i.jsxs(Ue,{value:"categories",children:["Categories (",(t==null?void 0:t.length)||0,")"]})]}),i.jsx(Be,{value:"questions",children:i.jsx("div",{className:"space-y-4",children:e&&e.length>0?i.jsxs(ui,{children:[i.jsx(di,{children:i.jsxs(Ut,{children:[i.jsx(je,{children:"Question"}),i.jsx(je,{children:"Type"}),i.jsx(je,{children:"Category"}),i.jsx(je,{children:"Responses"}),i.jsx(je,{children:"Completion Rate"}),i.jsx(je,{children:"Trend"}),i.jsx(je,{children:"Key Insights"}),n&&i.jsx(je,{children:"Actions"})]})}),i.jsx(fi,{children:e.map(u=>{var d,f;return i.jsxs(P.Fragment,{children:[i.jsxs(Ut,{children:[i.jsx(xe,{className:"font-medium max-w-xs truncate",children:u.question_text}),i.jsx(xe,{children:i.jsx(ke,{variant:"outline",children:u.question_type})}),i.jsx(xe,{children:u.category}),i.jsx(xe,{children:u.total_responses}),i.jsxs(xe,{children:[u.completion_rate,"%"]}),i.jsx(xe,{children:i.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-md ${l(u.trend)}`,children:[o(u.trend),i.jsx("span",{className:"font-medium",children:c(u.trend)})]})}),i.jsx(xe,{className:"max-w-xs",children:i.jsx("div",{className:"text-sm",children:((d=u.insights)==null?void 0:d.slice(0,2).map((h,m)=>i.jsx("div",{className:"truncate",children:h},m)))||i.jsx("span",{className:"text-gray-400",children:"No insights"})})}),n&&i.jsx(xe,{children:i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>s(a===u.id?null:u.id),children:i.jsx(ni,{className:`w-4 h-4 transition-transform ${a===u.id?"rotate-90":""}`})})})]}),n&&a===u.id&&i.jsx(Ut,{children:i.jsx(xe,{colSpan:8,className:"p-0",children:i.jsxs("div",{className:"p-4 bg-gray-50",children:[i.jsx(VPe,{questionId:u.id,questionText:u.question_text,questionType:u.question_type,responses:[],avgScore:0,completionRate:u.completion_rate}),i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(H,{children:[i.jsx(se,{className:"pb-2",children:i.jsx(ie,{className:"text-sm",children:"Response Insights"})}),i.jsx(K,{children:i.jsx("ul",{className:"text-sm space-y-1",children:((f=u.insights)==null?void 0:f.map((h,m)=>i.jsxs("li",{className:"flex items-start space-x-2",children:[i.jsx("span",{className:"text-blue-500 mt-1",children:""}),i.jsx("span",{children:h})]},m)))||i.jsx("li",{className:"text-gray-400",children:"No insights available"})})})]}),i.jsxs(H,{children:[i.jsx(se,{className:"pb-2",children:i.jsx(ie,{className:"text-sm",children:"Response Distribution"})}),i.jsx(K,{children:i.jsx("div",{className:"text-sm space-y-1",children:u.response_distribution&&Object.entries(u.response_distribution).length>0?Object.entries(u.response_distribution).slice(0,3).map(([h,m],g)=>i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"truncate",children:h}),i.jsx("span",{className:"font-medium",children:m})]},g)):i.jsx("div",{className:"text-gray-400",children:"No responses yet"})})})]})]})]})})})]},u.id)})})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(HE,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No questions found"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Questions will appear here once they are created"})]})})}),i.jsx(Be,{value:"categories",children:t&&t.length>0?i.jsxs(ui,{children:[i.jsx(di,{children:i.jsxs(Ut,{children:[i.jsx(je,{children:"Category"}),i.jsx(je,{children:"Questions"}),i.jsx(je,{children:"Total Responses"}),i.jsx(je,{children:"Completion Rate"})]})}),i.jsx(fi,{children:t.map((u,d)=>i.jsxs(Ut,{children:[i.jsx(xe,{className:"font-medium",children:u.category}),i.jsx(xe,{children:u.total_questions}),i.jsx(xe,{children:u.total_responses}),i.jsxs(xe,{children:[u.completion_rate,"%"]})]},d))})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(cr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No categories found"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Categories will appear here once questions are categorized"})]})})]})})]})},KPe=({stats:e,isLoading:t=!1})=>{var n,a;if(console.log("AnalyticsInsights - Rendering with stats:",e),t)return i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Analytics Insights"})}),i.jsx(K,{children:i.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>i.jsx("div",{className:"h-16 bg-gray-100 rounded animate-pulse"},s))})})]});if(!e)return i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Analytics Insights"})}),i.jsx(K,{children:i.jsxs(ir,{children:[i.jsx(Fc,{className:"h-4 w-4"}),i.jsx(or,{children:"Analytics insights will appear here once data is available."})]})})]});const r=[{title:"Response Rate",value:e.total_sessions>0?`${Math.round(e.completed_sessions/e.total_sessions*100)}%`:"0%",trend:((n=e.growth_metrics)==null?void 0:n.growth_rate)||0,isPositive:(((a=e.growth_metrics)==null?void 0:a.growth_rate)||0)>=0,icon:qt,description:"Session completion rate this month"},{title:"User Engagement",value:e.active_members||0,trend:8,isPositive:!0,icon:Ot,description:"Active members this month"},{title:"Response Quality",value:e.total_questions>0?`${Math.round(e.total_responses/e.total_questions*100)}%`:"0%",trend:5,isPositive:!0,icon:zr,description:"Average responses per question"}];return i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Analytics Insights"})}),i.jsx(K,{children:i.jsx("div",{className:"space-y-4",children:r.map((s,o)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`p-2 rounded-full ${s.isPositive?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:i.jsx(s.icon,{className:"w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:s.title}),i.jsx("p",{className:"text-sm text-gray-600",children:s.description})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-2xl font-bold",children:s.value}),i.jsxs(ke,{variant:s.isPositive?"default":"destructive",className:"flex items-center space-x-1",children:[s.isPositive?i.jsx(Ct,{className:"w-3 h-3"}):i.jsx(Tj,{className:"w-3 h-3"}),i.jsxs("span",{children:[Math.abs(s.trend),"%"]})]})]})]},o))})})]})},GPe=()=>{const{stats:e,analyticsData:t,isLoading:r}=qv();return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[i.jsx(Lm,{className:"mb-4",children:"Trend Analysis"}),i.jsx(TL,{className:"text-gray-600 mb-4",children:"Key metrics over the selected period"}),i.jsx(WPe,{isLoading:r})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsx(Lm,{children:"Analytics Dashboard"})}),i.jsx(HPe,{questions:(t==null?void 0:t.questions)||[],categories:(t==null?void 0:t.categories)||[],summary:(t==null?void 0:t.summary)||{total_questions:(e==null?void 0:e.total_questions)??0,total_responses:(e==null?void 0:e.total_responses)??0,overall_avg_score:(e==null?void 0:e.avg_session_score)??0,overall_completion_rate:e!=null&&e.completed_sessions&&(e!=null&&e.total_sessions)?Math.round(e.completed_sessions/e.total_sessions*100):0}})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsx(Lm,{children:"Analytics Insights"})}),i.jsx("div",{className:"p-6",children:i.jsx(KPe,{stats:e?{total_questions:e.total_questions,total_responses:e.total_responses,total_sessions:e.total_sessions,completed_sessions:e.completed_sessions,active_members:e.active_members,avg_session_score:e.avg_session_score,growth_metrics:e.growth_metrics||{sessions_this_month:0,sessions_last_month:0,growth_rate:null}}:void 0,isLoading:r})})]})]})]})},YPe=({onTabChange:e})=>i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[i.jsx(Lm,{className:"mb-4",children:"Quick Actions"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>e("members"),className:"w-full text-left p-3 rounded-lg border hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ot,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{children:"Invite new members"})]})}),i.jsx("button",{onClick:()=>e("questions"),className:"w-full text-left p-3 rounded-lg border hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qt,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{children:"Create new question"})]})})]})]}),QPe=({onTabChange:e})=>{const{organization:t}=qv();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(dre,{className:"mb-2",children:"Analytics Dashboard"}),i.jsxs(TL,{children:["Here's what's happening with ",t==null?void 0:t.name," today."]})]}),i.jsx(gre,{}),i.jsx(GPe,{}),i.jsx(YPe,{onTabChange:e})]})},qo=({children:e,permission:t,organizationId:r,fallback:n,showRequiredRole:a=!0})=>{const{hasPermission:s,userRole:o,isLoading:l,isAdmin:c,error:u}=W_(r);if(l)return i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(lv,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Checking permissions..."})]})});if(u)return console.error("Permission guard error:",u),i.jsxs(H,{className:"border-amber-200",children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center text-amber-600",children:[i.jsx(xa,{className:"w-5 h-5 mr-2"}),"Permission Check Failed"]})}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-gray-600",children:"Unable to verify permissions. Please refresh the page or contact support if the issue persists."})})]});if(c)return console.log("Permission granted via system admin privileges"),i.jsx(i.Fragment,{children:e});if(s(t))return console.log("Permission granted:",t),i.jsx(i.Fragment,{children:e});if(console.log("Permission denied:",{permission:t,userRole:o,organizationId:r}),n)return i.jsx(i.Fragment,{children:n});const d=XPe(t),f=Sp(d),h=o?Sp(o):null;return i.jsxs(H,{className:"border-red-200",children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center text-red-600",children:[i.jsx(Aj,{className:"w-5 h-5 mr-2"}),"Access Restricted"]})}),i.jsxs(K,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xa,{className:"w-4 h-4 text-amber-500"}),i.jsx("span",{className:"text-sm text-gray-600",children:"You don't have permission to access this feature."})]}),a&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Required role:"}),i.jsxs(ke,{variant:f.variant,className:"flex items-center gap-1",children:[i.jsx(f.icon,{className:"w-3 h-3"}),f.label]})]}),h&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Your role:"}),i.jsxs(ke,{variant:h.variant,className:"flex items-center gap-1",children:[i.jsx(h.icon,{className:"w-3 h-3"}),h.label]})]})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Contact your organization administrator to request access."})]})]})};function XPe(e){return{view_analytics:"viewer",export_data:"analyst",manage_questions:"analyst",manage_users:"manager",manage_integrations:"admin",manage_organization:"admin",manage_billing:"owner"}[e]||"admin"}const JPe=({organizationId:e,organizationName:t})=>{const{userRole:r,isLoading:n,hasPermission:a}=W_(e);return console.log("EnhancedUserManagement:",{organizationId:e,userRole:r,isLoading:n,hasManageUsersPermission:a("manage_users")}),i.jsx(qo,{permission:"manage_users",organizationId:e,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need manager-level access or higher to manage users."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."}),r&&i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Current role: ",r]})]}),children:i.jsx(h5,{organizationId:e,organizationName:t})})},ZPe=({organization:e})=>i.jsx(JPe,{organizationId:e.id,organizationName:e.name}),eke=({organizationId:e})=>{const{data:t,isLoading:r}=St({queryKey:["organization-specific-stats",e],queryFn:async()=>{const[c,u,d]=await Promise.all([G.from("feedback_responses").select("id, created_at, score").eq("organization_id",e),G.from("feedback_sessions").select("id, status, created_at, total_score").eq("organization_id",e),G.from("organization_users").select("id, created_at, status").eq("organization_id",e)]);return{responses:c.data||[],sessions:u.data||[],members:d.data||[]}},enabled:!!e});if(r)return i.jsx("div",{className:"p-8",children:"Loading organization statistics..."});const n=(t==null?void 0:t.sessions.filter(c=>c.status==="active").length)||0,a=(t==null?void 0:t.sessions.filter(c=>c.status==="completed").length)||0,s=(t==null?void 0:t.members.filter(c=>c.status==="active").length)||0,o=(t==null?void 0:t.responses.reduce((c,u)=>{const d=new Date(u.created_at).toLocaleString("default",{month:"short",year:"2-digit"}),f=c.find(h=>h.month===d);return f?f.responses++:c.push({month:d,responses:1}),c},[]))||[],l=(t==null?void 0:t.sessions.reduce((c,u)=>{const d=new Date(u.created_at).toLocaleString("default",{month:"short",year:"2-digit"}),f=c.find(h=>h.month===d);return f?(f.sessions++,u.status==="completed"&&f.completed++):c.push({month:d,sessions:1,completed:u.status==="completed"?1:0}),c},[]))||[];return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Organization Analytics"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{className:"text-lg",children:"Total Responses"})}),i.jsxs(K,{children:[i.jsx("div",{className:"text-3xl font-bold",children:(t==null?void 0:t.responses.length)||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"All time"})]})]}),i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{className:"text-lg",children:"Active Sessions"})}),i.jsxs(K,{children:[i.jsx("div",{className:"text-3xl font-bold text-green-600",children:n}),i.jsx("p",{className:"text-sm text-gray-600",children:"Currently active"})]})]}),i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{className:"text-lg",children:"Completed Sessions"})}),i.jsxs(K,{children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600",children:a}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total completed"})]})]}),i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{className:"text-lg",children:"Team Members"})}),i.jsxs(K,{children:[i.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s}),i.jsx("p",{className:"text-sm text-gray-600",children:"Active members"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Monthly Response Trends"})}),i.jsx(K,{children:i.jsx(Jp,{width:"100%",height:300,children:i.jsxs(uz,{data:o,children:[i.jsx(Cf,{strokeDasharray:"3 3"}),i.jsx(mi,{dataKey:"month"}),i.jsx(pi,{}),i.jsx(Xr,{}),i.jsx(Oi,{dataKey:"responses",fill:"#007ACE"})]})})})]}),i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Session Completion Trends"})}),i.jsx(K,{children:i.jsx(Jp,{width:"100%",height:300,children:i.jsxs(cz,{data:l,children:[i.jsx(Cf,{strokeDasharray:"3 3"}),i.jsx(mi,{dataKey:"month"}),i.jsx(pi,{}),i.jsx(Xr,{}),i.jsx(hi,{type:"monotone",dataKey:"sessions",stroke:"#007ACE",strokeWidth:2,name:"Total Sessions"}),i.jsx(hi,{type:"monotone",dataKey:"completed",stroke:"#10b981",strokeWidth:2,name:"Completed"})]})})})]})]})]})},tke=({organizationId:e})=>i.jsx(qo,{permission:"export_data",organizationId:e,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need analyst-level access or higher to view detailed feedback analytics."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(eke,{organizationId:e})}),rke=({questionType:e,supportsOptions:t,supportsScale:r,options:n=[],scaleConfig:a,helpText:s="",placeholderText:o="",onOptionsChange:l,onScaleChange:c,onHelpTextChange:u,onPlaceholderChange:d})=>{const[f,h]=y.useState(n.length>0?n:m());function m(){return e==="emoji"?[{text:"",value:"happy"},{text:"",value:"neutral"},{text:"",value:"sad"}]:[{text:""},{text:""}]}const g=()=>{const b=e==="emoji"?{text:"",value:""}:{text:""},x=[...f,b];h(x),l(x)},p=b=>{const x=f.filter((w,j)=>j!==b);h(x),l(x)},v=(b,x,w)=>{const j=f.map((_,S)=>S===b?{..._,[x]:w}:_);h(j),l(j)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"help-text",children:"Help Text (optional)"}),i.jsx(So,{id:"help-text",value:s,onChange:b=>u(b.target.value),placeholder:"Additional guidance for users...",className:"mt-1"})]}),e==="text"&&i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"placeholder",children:"Placeholder Text"}),i.jsx(he,{id:"placeholder",value:o,onChange:b=>d(b.target.value),placeholder:"Enter placeholder text...",className:"mt-1"})]}),t&&i.jsx(H,{children:i.jsx(K,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(ae,{children:e==="emoji"?"Emoji Options":"Answer Options"}),e==="emoji"&&i.jsx("p",{className:"text-sm text-gray-600",children:"Enter emoji characters (, , , etc.) for users to select from"}),f.map((b,x)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsx(he,{value:b.text,onChange:w=>v(x,"text",w.target.value),placeholder:e==="emoji"?"":`Option ${x+1}`,className:e==="emoji"?"w-16 text-center text-2xl":"flex-1"}),e!=="emoji"&&i.jsx(he,{value:b.value||"",onChange:w=>v(x,"value",w.target.value),placeholder:"Value",className:"w-20"}),e==="emoji"&&i.jsx(he,{value:b.value||"",onChange:w=>v(x,"value",w.target.value),placeholder:"Description",className:"flex-1"}),f.length>(e==="emoji"?1:2)&&i.jsx(ee,{type:"button",variant:"outline",size:"sm",onClick:()=>p(x),children:i.jsx(Vf,{className:"w-4 h-4"})})]},x)),i.jsxs(ee,{type:"button",variant:"outline",size:"sm",onClick:g,className:"w-full",children:[i.jsx(si,{className:"w-4 h-4 mr-1"}),"Add ",e==="emoji"?"Emoji":"Option"]})]})})}),r&&i.jsx(H,{children:i.jsx(K,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(ae,{children:"Scale Configuration"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"min-value",children:"Min Value"}),i.jsx(he,{id:"min-value",type:"number",value:(a==null?void 0:a.minValue)||1,onChange:b=>c({...a,minValue:parseInt(b.target.value)||1,maxValue:(a==null?void 0:a.maxValue)||5})})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"max-value",children:"Max Value"}),i.jsx(he,{id:"max-value",type:"number",value:(a==null?void 0:a.maxValue)||5,onChange:b=>c({...a,minValue:(a==null?void 0:a.minValue)||1,maxValue:parseInt(b.target.value)||5})})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"min-label",children:"Min Label"}),i.jsx(he,{id:"min-label",value:(a==null?void 0:a.minLabel)||"",onChange:b=>c({...a,minValue:(a==null?void 0:a.minValue)||1,maxValue:(a==null?void 0:a.maxValue)||5,minLabel:b.target.value}),placeholder:"e.g., Poor"})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"max-label",children:"Max Label"}),i.jsx(he,{id:"max-label",value:(a==null?void 0:a.maxLabel)||"",onChange:b=>c({...a,minValue:(a==null?void 0:a.minValue)||1,maxValue:(a==null?void 0:a.maxValue)||5,maxLabel:b.target.value}),placeholder:"e.g., Excellent"})]})]})]})})}),i.jsxs("div",{className:"text-sm text-gray-600 p-3 bg-gray-50 rounded-lg",children:[i.jsxs("strong",{children:["Selected Type: ",e]}),i.jsxs("div",{className:"mt-1",children:[t&&i.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2",children:"Supports Options"}),r&&i.jsx("span",{className:"inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs mr-2",children:"Supports Scale"}),e==="text"&&i.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs",children:"Text Input"}),e==="emoji"&&i.jsx("span",{className:"inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs",children:"Emoji Selection"})]})]})]})},nke=e=>({"single-choice":{supportsOptions:!0,supportsScale:!1},"multi-choice":{supportsOptions:!0,supportsScale:!1},star:{supportsOptions:!1,supportsScale:!0},likert:{supportsOptions:!1,supportsScale:!0},nps:{supportsOptions:!1,supportsScale:!0},slider:{supportsOptions:!1,supportsScale:!0},emoji:{supportsOptions:!0,supportsScale:!1},ranking:{supportsOptions:!0,supportsScale:!1},matrix:{supportsOptions:!0,supportsScale:!0},text:{supportsOptions:!1,supportsScale:!1}})[e]||{supportsOptions:!1,supportsScale:!1},ake=({formData:e,setFormData:t,questionTypes:r,categories:n,editingId:a,onSubmit:s,onCancel:o,isSubmitting:l})=>{const c=nke(e.question_type);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(he,{placeholder:"Question text",value:e.question_text,onChange:u=>t(d=>({...d,question_text:u.target.value}))}),i.jsxs(lc,{value:e.question_type,onValueChange:u=>t(d=>({...d,question_type:u,options:[],scaleConfig:{minValue:1,maxValue:5}})),children:[i.jsx(jo,{children:i.jsx(cc,{})}),i.jsx(_o,{children:r.map(u=>i.jsx(Or,{value:u.name,children:u.display_name},u.id))})]}),i.jsxs(lc,{value:e.category,onValueChange:u=>t(d=>({...d,category:u})),children:[i.jsx(jo,{children:i.jsx(cc,{})}),i.jsx(_o,{children:n.map(u=>i.jsx(Or,{value:u.name,children:u.name},u.id))})]})]}),i.jsx(rke,{questionType:e.question_type,supportsOptions:c.supportsOptions,supportsScale:c.supportsScale,options:e.options,scaleConfig:e.scaleConfig,helpText:e.help_text,placeholderText:e.placeholder_text,onOptionsChange:u=>t(d=>({...d,options:u})),onScaleChange:u=>t(d=>({...d,scaleConfig:u})),onHelpTextChange:u=>t(d=>({...d,help_text:u})),onPlaceholderChange:u=>t(d=>({...d,placeholder_text:u}))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ee,{onClick:s,disabled:!e.question_text.trim()||l,children:[i.jsx(si,{className:"w-4 h-4 mr-1"}),a?"Update":"Add"," Question"]}),a&&i.jsx(ee,{variant:"outline",onClick:o,children:"Cancel"})]})]})},ske=({questions:e,onEdit:t,onDelete:r,isDeleting:n})=>{const{toast:a}=cn(),s=async o=>{o.response_count>0&&a({title:"Question will be archived",description:"This question has responses and will be archived instead of deleted.",variant:"default"}),r(o.id)};return e.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No questions found. Create your first question above."}):i.jsx("div",{className:"space-y-2",children:e.map(o=>i.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${o.is_active?"":"bg-gray-50 opacity-75"}`,children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:o.question_text}),!o.is_active&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800",children:[i.jsx(Z8,{className:"w-3 h-3"}),"Archived"]})]}),i.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Type: ",o.question_type," | Category: ",o.category," | Order: ",o.order_index,o.help_text&&i.jsxs("span",{children:[" | Help: ",o.help_text]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{size:"sm",variant:"outline",onClick:()=>t(o),disabled:!o.is_active,children:i.jsx(P9,{className:"w-4 h-4"})}),i.jsx(ee,{size:"sm",variant:"destructive",onClick:()=>s(o),disabled:n||!o.is_active,children:i.jsx(dv,{className:"w-4 h-4"})})]})]},o.id))})},ike=()=>{const{toast:e}=cn(),t=Sr(),[r,n]=y.useState(null),[a,s]=y.useState({question_text:"",question_type:"star",category:"QualityService",order_index:1,help_text:"",placeholder_text:"",is_required:!1,options:[],scaleConfig:{minValue:1,maxValue:5}}),{data:o=[],isLoading:l}=St({queryKey:["questions"],queryFn:()=>el.getQuestions()}),{data:c=[]}=St({queryKey:["question-types"],queryFn:()=>el.getQuestionTypes()}),{data:u=[]}=St({queryKey:["question-categories"],queryFn:()=>el.getQuestionCategories()}),d=bt({mutationFn:el.createQuestion,onSuccess:()=>{t.invalidateQueries({queryKey:["questions"]}),e({title:"Question created successfully"}),m()},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),f=bt({mutationFn:({id:v,...b})=>el.updateQuestion(v,b),onSuccess:()=>{t.invalidateQueries({queryKey:["questions"]}),e({title:"Question updated successfully"}),m()},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),h=bt({mutationFn:v=>el.deleteQuestion(v),onSuccess:()=>{t.invalidateQueries({queryKey:["questions"]}),e({title:"Question deleted successfully"})},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),m=()=>{n(null),s({question_text:"",question_type:"star",category:"QualityService",order_index:1,help_text:"",placeholder_text:"",is_required:!1,options:[],scaleConfig:{minValue:1,maxValue:5}})},g=()=>{if(!a.question_text.trim()){e({title:"Validation Error",description:"Question text is required",variant:"destructive"});return}const v=o.length>0?Math.max(...o.map(w=>w.order_index)):0,b=r?a.order_index:v+1,x={...a,order_index:b};r?f.mutate({id:r,...x}):d.mutate(x)},p=v=>{var b,x;n(v.id),s({question_text:v.question_text,question_type:v.question_type,category:v.category,order_index:v.order_index,help_text:v.help_text||"",placeholder_text:v.placeholder_text||"",is_required:v.is_required||!1,options:((b=v.question_options)==null?void 0:b.map(w=>({text:w.option_text,value:w.option_value})))||[],scaleConfig:(x=v.question_scale_config)!=null&&x[0]?{minValue:v.question_scale_config[0].min_value,maxValue:v.question_scale_config[0].max_value,minLabel:v.question_scale_config[0].min_label||"",maxLabel:v.question_scale_config[0].max_label||"",stepSize:v.question_scale_config[0].step_size}:{minValue:1,maxValue:5}})};return l?i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Questions Management"})}),i.jsx(K,{children:i.jsx("div",{className:"text-center py-8",children:"Loading questions..."})})]}):i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Questions Management"})}),i.jsxs(K,{className:"space-y-6",children:[i.jsx(ake,{formData:a,setFormData:s,questionTypes:c,categories:u,editingId:r,onSubmit:g,onCancel:m,isSubmitting:d.isPending||f.isPending}),i.jsx(ske,{questions:o,onEdit:p,onDelete:v=>h.mutate(v),isDeleting:h.isPending})]})]})},oke=()=>{const{isAdmin:e,isOrgAdmin:t}=Zn(),{organization:r}=Si();return e||t?i.jsx(qo,{permission:"manage_questions",organizationId:r==null?void 0:r.id,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need analyst-level access or higher to manage questions."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(ike,{})}):i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need organization admin access to manage questions."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]})};var bN="Switch",[lke,y2e]=dr(bN),[cke,uke]=lke(bN),dz=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=y.useState(null),g=we(t,w=>m(w)),p=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[b=!1,x]=wr({prop:a,defaultProp:s,onChange:u});return i.jsxs(cke,{scope:r,checked:b,disabled:l,children:[i.jsx(ue.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":mz(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:J(e.onClick,w=>{x(j=>!j),v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),v&&i.jsx(dke,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});dz.displayName=bN;var fz="SwitchThumb",hz=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=uke(fz,r);return i.jsx(ue.span,{"data-state":mz(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});hz.displayName=fz;var dke=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,s=y.useRef(null),o=rh(r),l=Kf(t);return y.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mz(e){return e?"checked":"unchecked"}var pz=dz,fke=hz;const Dg=y.forwardRef(({className:e,...t},r)=>i.jsx(pz,{className:U("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(fke,{className:U("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Dg.displayName=pz.displayName;const hke=({organization:e})=>{const{toast:t}=cn(),r=Sr(),[n,a]=y.useState({name:e.name||"",primary_color:e.primary_color||"#007ACE",secondary_color:e.secondary_color||"#073763",feedback_header_title:e.feedback_header_title||"Customer Feedback",feedback_header_subtitle:e.feedback_header_subtitle||"We value your feedback",welcome_screen_title:e.welcome_screen_title||"Welcome",welcome_screen_description:e.welcome_screen_description||"Please share your feedback with us",thank_you_title:e.thank_you_title||"Thank You!",thank_you_message:e.thank_you_message||"Your feedback has been submitted successfully",sms_enabled:e.sms_enabled||!1,sms_sender_id:e.sms_sender_id||"",is_active:e.is_active!==!1}),s=bt({mutationFn:async u=>{const{data:d,error:f}=await G.from("organizations").update(u).eq("id",e.id).select().single();if(f)throw f;return d},onSuccess:()=>{t({title:"Settings Updated",description:"Organization settings have been saved successfully."}),r.invalidateQueries({queryKey:["organization"]})},onError:u=>{t({title:"Error",description:"Failed to update organization settings. Please try again.",variant:"destructive"}),console.error("Error updating organization:",u)}}),o=(u,d)=>{a(f=>({...f,[u]:d}))},l=u=>{u.preventDefault(),s.mutate(n)},c=()=>{a({name:e.name||"",primary_color:e.primary_color||"#007ACE",secondary_color:e.secondary_color||"#073763",feedback_header_title:e.feedback_header_title||"Customer Feedback",feedback_header_subtitle:e.feedback_header_subtitle||"We value your feedback",welcome_screen_title:e.welcome_screen_title||"Welcome",welcome_screen_description:e.welcome_screen_description||"Please share your feedback with us",thank_you_title:e.thank_you_title||"Thank You!",thank_you_message:e.thank_you_message||"Your feedback has been submitted successfully",sms_enabled:e.sms_enabled||!1,sms_sender_id:e.sms_sender_id||"",is_active:e.is_active!==!1})};return i.jsx("div",{className:"space-y-6",children:i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(b9,{className:"w-5 h-5"}),"Organization Settings"]})}),i.jsx(K,{children:i.jsxs("form",{onSubmit:l,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"name",children:"Organization Name"}),i.jsx(he,{id:"name",value:n.name,onChange:u=>o("name",u.target.value),placeholder:"Enter organization name"})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"slug",children:"Organization Slug"}),i.jsx(he,{id:"slug",value:e.slug,className:"bg-gray-50",readOnly:!0,disabled:!0}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The slug cannot be changed after creation"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Brand Colors"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"primary_color",children:"Primary Color"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(he,{id:"primary_color",type:"color",value:n.primary_color,onChange:u=>o("primary_color",u.target.value),className:"w-16 h-10 p-1 border rounded"}),i.jsx(he,{value:n.primary_color,onChange:u=>o("primary_color",u.target.value),placeholder:"#007ACE",className:"flex-1"})]})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"secondary_color",children:"Secondary Color"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(he,{id:"secondary_color",type:"color",value:n.secondary_color,onChange:u=>o("secondary_color",u.target.value),className:"w-16 h-10 p-1 border rounded"}),i.jsx(he,{value:n.secondary_color,onChange:u=>o("secondary_color",u.target.value),placeholder:"#073763",className:"flex-1"})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Feedback Form Configuration"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"feedback_header_title",children:"Header Title"}),i.jsx(he,{id:"feedback_header_title",value:n.feedback_header_title,onChange:u=>o("feedback_header_title",u.target.value),placeholder:"Customer Feedback"})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"feedback_header_subtitle",children:"Header Subtitle"}),i.jsx(he,{id:"feedback_header_subtitle",value:n.feedback_header_subtitle,onChange:u=>o("feedback_header_subtitle",u.target.value),placeholder:"We value your feedback"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Welcome Screen"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"welcome_screen_title",children:"Welcome Title"}),i.jsx(he,{id:"welcome_screen_title",value:n.welcome_screen_title,onChange:u=>o("welcome_screen_title",u.target.value),placeholder:"Welcome"})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"thank_you_title",children:"Thank You Title"}),i.jsx(he,{id:"thank_you_title",value:n.thank_you_title,onChange:u=>o("thank_you_title",u.target.value),placeholder:"Thank You!"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"welcome_screen_description",children:"Welcome Description"}),i.jsx(So,{id:"welcome_screen_description",value:n.welcome_screen_description,onChange:u=>o("welcome_screen_description",u.target.value),placeholder:"Please share your feedback with us",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"thank_you_message",children:"Thank You Message"}),i.jsx(So,{id:"thank_you_message",value:n.thank_you_message,onChange:u=>o("thank_you_message",u.target.value),placeholder:"Your feedback has been submitted successfully",rows:3})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"SMS Configuration"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Dg,{id:"sms_enabled",checked:n.sms_enabled,onCheckedChange:u=>o("sms_enabled",u)}),i.jsx(ae,{htmlFor:"sms_enabled",children:"Enable SMS Feedback Collection"})]}),n.sms_enabled&&i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"sms_sender_id",children:"SMS Sender ID"}),i.jsx(he,{id:"sms_sender_id",value:n.sms_sender_id,onChange:u=>o("sms_sender_id",u.target.value),placeholder:"Enter SMS sender ID"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Organization Status"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Dg,{id:"is_active",checked:n.is_active,onCheckedChange:u=>o("is_active",u)}),i.jsx(ae,{htmlFor:"is_active",children:"Organization Active"})]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Inactive organizations cannot collect feedback"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-6 border-t",children:[i.jsx(ee,{type:"button",variant:"outline",onClick:c,disabled:s.isPending,children:"Reset Changes"}),i.jsxs(ee,{type:"submit",disabled:s.isPending,className:"flex items-center gap-2",children:[i.jsx(cv,{className:"w-4 h-4"}),s.isPending?"Saving...":"Save Settings"]})]})]})})]})})},mke=({organization:e})=>i.jsx(qo,{permission:"manage_organization",organizationId:e.id,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need admin-level access or higher to manage organization settings."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(hke,{organization:e})}),pke=async e=>{const{data:t,error:r}=await G.from("api_keys").select("id, key_name, key_prefix, status, last_used_at, expires_at, created_at").eq("organization_id",e).order("created_at",{ascending:!1});if(r)throw r;return t},gke=async(e,t)=>{const{data:r,error:n}=await G.rpc("create_api_key",{p_organization_id:e,p_key_name:t});if(n)throw n;return r},vke=async(e,t)=>{const{data:r,error:n}=await G.from("api_keys").update({status:t}).eq("id",e).select().single();if(n)throw n;return r};function Xe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function gi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const gz=6048e5,yke=864e5,ym=43200,J2=1440;let xke={};function yh(){return xke}function Tf(e,t){var l,c,u,d;const r=yh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Xe(e),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Lg(e){return Tf(e,{weekStartsOn:1})}function vz(e){const t=Xe(e),r=t.getFullYear(),n=gi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Lg(n),s=gi(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Lg(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Z2(e){const t=Xe(e);return t.setHours(0,0,0,0),t}function Fg(e){const t=Xe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function bke(e,t){const r=Z2(e),n=Z2(t),a=+r-Fg(r),s=+n-Fg(n);return Math.round((a-s)/yke)}function wke(e){const t=vz(e),r=gi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Lg(r)}function Fm(e,t){const r=Xe(e),n=Xe(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function jke(e){return gi(e,Date.now())}function _ke(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ske(e){if(!_ke(e)&&typeof e!="number")return!1;const t=Xe(e);return!isNaN(Number(t))}function Nke(e,t){const r=Xe(e),n=Xe(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Eke(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Pke(e,t){return+Xe(e)-+Xe(t)}function kke(e){const t=Xe(e);return t.setHours(23,59,59,999),t}function Cke(e){const t=Xe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Oke(e){const t=Xe(e);return+kke(t)==+Cke(t)}function Ake(e,t){const r=Xe(e),n=Xe(t),a=Fm(r,n),s=Math.abs(Nke(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=Fm(r,n)===-a;Oke(Xe(e))&&s===1&&Fm(e,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function Tke(e,t,r){const n=Pke(e,t)/1e3;return Eke(r==null?void 0:r.roundingMethod)(n)}function Rke(e){const t=Xe(e),r=gi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Mke={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$ke=(e,t,r)=>{let n;const a=Mke[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function u0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ike={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lke={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fke={date:u0({formats:Ike,defaultWidth:"full"}),time:u0({formats:Dke,defaultWidth:"full"}),dateTime:u0({formats:Lke,defaultWidth:"full"})},zke={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Uke=(e,t,r,n)=>zke[e];function Vu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Bke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qke={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gke=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Yke={ordinalNumber:Gke,era:Vu({values:Bke,defaultWidth:"wide"}),quarter:Vu({values:qke,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Vu({values:Wke,defaultWidth:"wide"}),day:Vu({values:Vke,defaultWidth:"wide"}),dayPeriod:Vu({values:Hke,defaultWidth:"wide",formattingValues:Kke,defaultFormattingWidth:"wide"})};function Hu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Xke(l,f=>f.test(o)):Qke(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Qke(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Xke(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Jke(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Zke=/^(\d+)(th|st|nd|rd)?/i,eCe=/\d+/i,tCe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rCe={any:[/^b/i,/^(a|c)/i]},nCe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aCe={any:[/1/i,/2/i,/3/i,/4/i]},sCe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oCe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lCe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cCe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dCe={ordinalNumber:Jke({matchPattern:Zke,parsePattern:eCe,valueCallback:e=>parseInt(e,10)}),era:Hu({matchPatterns:tCe,defaultMatchWidth:"wide",parsePatterns:rCe,defaultParseWidth:"any"}),quarter:Hu({matchPatterns:nCe,defaultMatchWidth:"wide",parsePatterns:aCe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hu({matchPatterns:sCe,defaultMatchWidth:"wide",parsePatterns:iCe,defaultParseWidth:"any"}),day:Hu({matchPatterns:oCe,defaultMatchWidth:"wide",parsePatterns:lCe,defaultParseWidth:"any"}),dayPeriod:Hu({matchPatterns:cCe,defaultMatchWidth:"any",parsePatterns:uCe,defaultParseWidth:"any"})},yz={code:"en-US",formatDistance:$ke,formatLong:Fke,formatRelative:Uke,localize:Yke,match:dCe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fCe(e){const t=Xe(e);return bke(t,Rke(t))+1}function hCe(e){const t=Xe(e),r=+Lg(t)-+wke(t);return Math.round(r/gz)+1}function xz(e,t){var d,f,h,m;const r=Xe(e),n=r.getFullYear(),a=yh(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=gi(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Tf(o,t),c=gi(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Tf(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function mCe(e,t){var l,c,u,d;const r=yh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=xz(e,t),s=gi(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Tf(s,t)}function pCe(e,t){const r=Xe(e),n=+Tf(r,t)-+mCe(r,t);return Math.round(n/gz)+1}function We(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const vs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return We(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):We(r+1,2)},d(e,t){return We(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return We(e.getHours()%12||12,t.length)},H(e,t){return We(e.getHours(),t.length)},m(e,t){return We(e.getMinutes(),t.length)},s(e,t){return We(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return We(a,t.length)}},il={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return vs.y(e,t)},Y:function(e,t,r,n){const a=xz(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return We(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):We(s,t.length)},R:function(e,t){const r=vz(e);return We(r,t.length)},u:function(e,t){const r=e.getFullYear();return We(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return We(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return We(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return vs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return We(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=pCe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):We(a,t.length)},I:function(e,t,r){const n=hCe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):We(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):vs.d(e,t)},D:function(e,t,r){const n=fCe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):We(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return We(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return We(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return We(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=il.noon:n===0?a=il.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=il.evening:n>=12?a=il.afternoon:n>=4?a=il.morning:a=il.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return vs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):vs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):We(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):We(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):vs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):vs.s(e,t)},S:function(e,t){return vs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return rA(n);case"XXXX":case"XX":return zi(n);case"XXXXX":case"XXX":default:return zi(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return rA(n);case"xxxx":case"xx":return zi(n);case"xxxxx":case"xxx":default:return zi(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tA(n,":");case"OOOO":default:return"GMT"+zi(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tA(n,":");case"zzzz":default:return"GMT"+zi(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return We(n,t.length)},T:function(e,t,r){const n=e.getTime();return We(n,t.length)}};function tA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+We(s,2)}function rA(e,t){return e%60===0?(e>0?"-":"+")+We(Math.abs(e)/60,2):zi(e,t)}function zi(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=We(Math.trunc(n/60),2),s=We(n%60,2);return r+a+t+s}const nA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},bz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},gCe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return nA(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",nA(n,t)).replace("{{time}}",bz(a,t))},vCe={p:bz,P:gCe},yCe=/^D+$/,xCe=/^Y+$/,bCe=["D","DD","YY","YYYY"];function wCe(e){return yCe.test(e)}function jCe(e){return xCe.test(e)}function _Ce(e,t,r){const n=SCe(e,t,r);if(console.warn(n),bCe.includes(e))throw new RangeError(n)}function SCe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const NCe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ECe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PCe=/^'([^]*?)'?$/,kCe=/''/g,CCe=/[a-zA-Z]/;function OCe(e,t,r){var d,f,h,m;const n=yh(),a=n.locale??yz,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=Xe(e);if(!Ske(l))throw new RangeError("Invalid time value");let c=t.match(ECe).map(g=>{const p=g[0];if(p==="p"||p==="P"){const v=vCe[p];return v(g,a.formatLong)}return g}).join("").match(NCe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:ACe(g)};if(eA[p])return{isToken:!0,value:g};if(p.match(CCe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(jCe(p)||wCe(p))&&_Ce(p,t,String(e));const v=eA[p[0]];return v(l,p,a.localize,u)}).join("")}function ACe(e){const t=e.match(PCe);return t?t[1].replace(kCe,"'"):e}function TCe(e,t,r){const n=yh(),a=(r==null?void 0:r.locale)??n.locale??yz,s=2520,o=Fm(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Xe(t),u=Xe(e)):(c=Xe(e),u=Xe(t));const d=Tke(u,c),f=(Fg(u)-Fg(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<J2){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<ym){const g=Math.round(h/J2);return a.formatDistance("xDays",g,l)}else if(h<ym*2)return m=Math.round(h/ym),a.formatDistance("aboutXMonths",m,l)}if(m=Ake(u,c),m<12){const g=Math.round(h/ym);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function RCe(e,t){return TCe(e,jke(e),t)}const MCe=({apiKey:e})=>{const[t,r]=y.useState(!1),n=()=>{navigator.clipboard.writeText(e),r(!0),Ce({title:"API Key Copied!",description:"The key has been copied to your clipboard."}),setTimeout(()=>r(!1),2e3)};return i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary rounded-md",children:[i.jsx("code",{className:"text-sm font-mono break-all",children:e}),i.jsx(ee,{variant:"ghost",size:"icon",onClick:n,children:t?i.jsx(Wf,{className:"h-4 w-4 text-green-500"}):i.jsx(dp,{className:"h-4 w-4"})})]})},$Ce=()=>{const{organization:e}=Si(),t=Sr(),[r,n]=y.useState(""),[a,s]=y.useState(null),o=["apiKeys",e==null?void 0:e.id],{data:l,isLoading:c}=St({queryKey:o,queryFn:()=>pke(e.id),enabled:!!e}),u=bt({mutationFn:h=>gke(e.id,h),onSuccess:h=>{Ce({title:"API Key Created",description:"Make sure to copy your key. You won't see it again."}),s(h),n(""),t.invalidateQueries({queryKey:o})},onError:h=>{Ce({title:"Error",description:h.message,variant:"destructive"})}}),d=bt({mutationFn:({keyId:h,status:m})=>vke(h,m),onSuccess:()=>{Ce({title:"Status Updated"}),t.invalidateQueries({queryKey:o})},onError:h=>{Ce({title:"Error",description:h.message,variant:"destructive"})}}),f=h=>{h.preventDefault(),r.trim()&&e&&u.mutate(r.trim())};return i.jsxs(H,{className:"w-full",children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(p9,{})," API Keys"]}),i.jsx(Gn,{children:"Manage API keys for programmatic access to your organization's data."})]}),i.jsxs(K,{children:[i.jsxs("form",{onSubmit:f,className:"flex items-center gap-2 mb-6",children:[i.jsx(he,{placeholder:"New key name (e.g., 'SMS Integration')",value:r,onChange:h=>n(h.target.value),disabled:u.isPending}),i.jsxs(ee,{type:"submit",disabled:!r.trim()||u.isPending,children:[u.isPending?i.jsx(lv,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(s9,{className:"mr-2 h-4 w-4"}),"Create Key"]})]}),i.jsx("div",{className:"border rounded-md",children:i.jsxs(ui,{children:[i.jsx(di,{children:i.jsxs(Ut,{children:[i.jsx(je,{children:"Name"}),i.jsx(je,{children:"Key Prefix"}),i.jsx(je,{children:"Status"}),i.jsx(je,{children:"Last Used"}),i.jsx(je,{children:"Created"}),i.jsx(je,{className:"text-right",children:"Actions"})]})}),i.jsx(fi,{children:c?Array.from({length:3}).map((h,m)=>i.jsx(Ut,{children:i.jsx(xe,{colSpan:6,children:i.jsx(et,{className:"h-8 w-full"})})},m)):l&&l.length>0?l.map(h=>i.jsxs(Ut,{children:[i.jsx(xe,{className:"font-medium",children:h.key_name}),i.jsx(xe,{children:i.jsxs("code",{children:[h.key_prefix,"..."]})}),i.jsx(xe,{children:i.jsx(ke,{variant:h.status==="active"?"default":"secondary",children:h.status})}),i.jsx(xe,{children:h.last_used_at?`${RCe(new Date(h.last_used_at))} ago`:"Never"}),i.jsx(xe,{children:OCe(new Date(h.created_at),"MMM d, yyyy")}),i.jsx(xe,{className:"text-right",children:i.jsxs(ah,{children:[i.jsx(sh,{asChild:!0,children:i.jsx(ee,{variant:"ghost",size:"icon",disabled:d.isPending,children:h.status==="active"?i.jsx(j9,{className:"h-4 w-4"}):i.jsx(_9,{className:"h-4 w-4"})})}),i.jsxs(Zc,{children:[i.jsxs(eu,{children:[i.jsx(ru,{children:"Are you sure?"}),i.jsxs(nu,{children:["This will ",h.status==="active"?"deactivate":"activate"," the API key.",h.status==="active"?" Applications using it will lose access.":" Applications will regain access."]})]}),i.jsxs(tu,{children:[i.jsx(su,{children:"Cancel"}),i.jsx(au,{onClick:()=>d.mutate({keyId:h.id,status:h.status==="active"?"inactive":"active"}),children:"Continue"})]})]})]})})]},h.id)):i.jsx(Ut,{children:i.jsx(xe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No API keys created yet."})})})]})}),i.jsx(Xc,{open:!!a,onOpenChange:h=>!h&&s(null),children:i.jsxs($o,{children:[i.jsxs(Io,{children:[i.jsx(Do,{children:"API Key Created Successfully"}),i.jsx(QI,{children:"Please copy this key and store it securely. You will not be able to see it again."})]}),i.jsx(MCe,{apiKey:a||""}),i.jsx(YI,{children:i.jsx(cQ,{asChild:!0,children:i.jsx(ee,{children:"Close"})})})]})})]})]})},ICe=({organization:e,currentSettings:t,onSettingsUpdate:r})=>{var c,u;const n=Sr(),[a,s]=y.useState({username:((c=t==null?void 0:t.sms_settings)==null?void 0:c.username)||"",apiKey:((u=t==null?void 0:t.sms_settings)==null?void 0:u.apiKey)||"",senderId:(t==null?void 0:t.sms_sender_id)||""}),o=bt({mutationFn:async d=>{const{data:f,error:h}=await G.functions.invoke("update-sms-settings",{body:{orgId:e.id,enabled:!0,senderId:d.senderId,username:d.username,apiKey:d.apiKey}});if(h)throw h;return f},onSuccess:()=>{Ce({title:"Success",description:"SMS settings updated successfully"}),n.invalidateQueries({queryKey:["organization-sms-settings"]}),r()},onError:d=>{Ce({title:"Error",description:d.message||"Failed to update SMS settings",variant:"destructive"})}}),l=d=>{if(d.preventDefault(),!a.username.trim()||!a.apiKey.trim()||!a.senderId.trim()){Ce({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}o.mutate(a)};return i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(qt,{className:"w-5 h-5"}),"SMS Provider Settings"]})}),i.jsx(K,{children:i.jsxs("form",{onSubmit:l,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"username",children:"Username *"}),i.jsx(he,{id:"username",type:"text",value:a.username,onChange:d=>s(f=>({...f,username:d.target.value})),placeholder:"Enter your SMS provider username",required:!0})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"apiKey",children:"API Key *"}),i.jsx(he,{id:"apiKey",type:"password",value:a.apiKey,onChange:d=>s(f=>({...f,apiKey:d.target.value})),placeholder:"Enter your SMS provider API key",required:!0})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"senderId",children:"Sender ID *"}),i.jsx(he,{id:"senderId",type:"text",value:a.senderId,onChange:d=>s(f=>({...f,senderId:d.target.value})),placeholder:"Enter your sender ID (e.g., 12345)",required:!0}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This is your SMS sender identifier that recipients will see"})]}),i.jsxs(ee,{type:"submit",disabled:o.isPending,className:"w-full",children:[i.jsx(cv,{className:"w-4 h-4 mr-2"}),o.isPending?"Saving...":"Save Settings"]})]})})]})},DCe=({enabled:e,onToggle:t,isLoading:r})=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"SMS Feedback"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow customers to provide feedback via SMS"})]}),i.jsx(Dg,{checked:e,onCheckedChange:t,disabled:r})]}),LCe=({webhookSecret:e,isVisible:t,isFlaskWrapper:r=!1})=>{const[n,a]=y.useState(!1),l=`${window.location.origin}${r?"/functions/v1/handle-flask-sms-callback":"/functions/v1/handle-sms-webhook"}`,c=u=>{navigator.clipboard.writeText(u),Ce({title:"Copied to clipboard",description:"Webhook URL has been copied to your clipboard"})};return t?i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(fM,{className:"w-5 h-5"}),r?"Flask Webhook Configuration":"SMS Webhook Configuration"]})}),i.jsxs(K,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Webhook URL"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(he,{value:l,readOnly:!0,className:"font-mono text-sm"}),i.jsx(ee,{onClick:()=>c(l),variant:"outline",size:"icon",children:i.jsx(dp,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Configure your Flask wrapper to send callbacks to this URL":"Configure this URL in your Africa's Talking SMS callback settings"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Webhook Secret"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(he,{type:n?"text":"password",value:e,readOnly:!0,className:"font-mono text-sm"}),i.jsx(ee,{onClick:()=>a(!n),variant:"outline",size:"icon",type:"button",children:n?i.jsx(Xu,{className:"w-4 h-4"}):i.jsx(zs,{className:"w-4 h-4"})}),i.jsx(ee,{onClick:()=>c(e),variant:"outline",size:"icon",children:i.jsx(dp,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use this secret to verify webhook authenticity"})]}),r&&i.jsx("div",{className:"p-4 bg-muted rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(rM,{className:"w-5 h-5 text-blue-500 mt-0.5"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-medium text-sm",children:"Flask Integration Notes:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Your Flask wrapper should forward SMS callbacks to the webhook URL above"}),i.jsx("li",{children:" Include the webhook secret in your callback validation"}),i.jsxs("li",{children:[" Ensure the callback format matches: ","{linkId, text, to, id, date, from}"]}),i.jsx("li",{children:" The 'to' field should contain your organization's sender ID"})]})]})]})})]})]}):null},FCe=({selectedProvider:e,onProviderSelect:t})=>{const r={id:"sms-provider",name:"SMS Provider (Flask Wrapper)",description:"SMS services via Flask wrapper integration",icon:qt,status:"available"};return i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"SMS Integration"}),i.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${e===r.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>t(e===r.id?null:r.id),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(r.icon,{className:"w-6 h-6"}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium",children:r.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ke,{variant:"default",children:"Available"}),e===r.id&&i.jsx(Wf,{className:"w-4 h-4 text-blue-500"})]})]})})]})},zg=(e,t)=>{if(!e||typeof e!="object")return"";const r=e[t];return typeof r=="string"?r:""},zCe=e=>{if(!e||typeof e!="object")return!1;const t=zg(e,"username"),r=zg(e,"apiKey");return t.length>0&&r.length>0},UCe=()=>i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(qt,{className:"w-5 h-5"}),"SMS Integrations"]}),i.jsx(Gn,{children:"Enable SMS feedback collection from your customers"})]}),BCe=({title:e="SMS Integrations"})=>i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(qt,{className:"w-5 h-5"}),e]})}),i.jsx(K,{children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})]}),qCe=({title:e="SMS Integrations",message:t,onRetry:r})=>i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(Fc,{className:"w-5 h-5 text-red-500"}),e]})}),i.jsx(K,{children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("p",{className:"text-sm text-red-600 mb-2",children:"Organization not found or failed to load"}),i.jsx("p",{className:"text-xs text-gray-500 mb-4",children:t}),r&&i.jsx("button",{onClick:r,className:"text-sm text-blue-600 hover:underline",children:"Try again"})]})})]}),WCe=()=>i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(qt,{className:"w-5 h-5"}),"SMS Integrations"]})}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"You need admin access to manage SMS integrations."})})]}),VCe=({phoneNumber:e,name:t,onPhoneNumberChange:r,onNameChange:n,onSubmit:a,isLoading:s})=>i.jsx("form",{onSubmit:a,className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"phone-number",children:"Phone Number *"}),i.jsx(he,{id:"phone-number",value:e,onChange:o=>r(o.target.value),placeholder:"+1234567890",required:!0})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"name",children:"Name (Optional)"}),i.jsx(he,{id:"name",value:t,onChange:o=>n(o.target.value),placeholder:"John Doe"})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs(ee,{type:"submit",disabled:s,className:"w-full",children:[i.jsx(si,{className:"w-4 h-4 mr-2"}),"Add Number"]})})]})}),HCe=({bulkNumbers:e,onBulkNumbersChange:t,onBulkAdd:r,onCancel:n,isLoading:a})=>i.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"bulk-numbers",children:"Bulk Add Phone Numbers"}),i.jsx(So,{id:"bulk-numbers",value:e,onChange:s=>t(s.target.value),placeholder:"Enter phone numbers, one per line. Format: +1234567890 or +1234567890,John Doe",rows:6}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Format: One phone number per line. Optionally add name after comma."})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{onClick:r,disabled:a,children:"Add All Numbers"}),i.jsx(ee,{variant:"outline",onClick:n,children:"Cancel"})]})]}),KCe=({phoneNumbers:e,onDelete:t,isDeleting:r})=>{const n=a=>a.startsWith("+")?a:`+${a}`;return e.length===0?i.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:[i.jsx(Ot,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No phone numbers added yet."}),i.jsx("p",{className:"text-sm",children:"Add phone numbers to start sending SMS campaigns."})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Registered Phone Numbers"}),i.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.map(a=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:n(a.phone_number)}),a.name&&i.jsx("div",{className:"text-sm text-muted-foreground",children:a.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(ke,{variant:a.status==="active"?"default":"secondary",children:a.status}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Added ",new Date(a.created_at).toLocaleDateString()]})]})]}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t(a.id),disabled:r,children:i.jsx(dv,{className:"w-4 h-4"})})]},a.id))})]})},GCe=()=>{const{organization:e}=Si(),t=Sr(),[r,n]=y.useState(""),[a,s]=y.useState(""),[o,l]=y.useState(""),[c,u]=y.useState(!1),{data:d,isLoading:f}=St({queryKey:["sms-phone-numbers",e==null?void 0:e.id],queryFn:async()=>{const{data:b,error:x}=await G.from("sms_phone_numbers").select("*").eq("organization_id",e.id).order("created_at",{ascending:!1});if(x)throw x;return b},enabled:!!(e!=null&&e.id)}),h=bt({mutationFn:async({phoneNumber:b,name:x})=>{const{data:w,error:j}=await G.from("sms_phone_numbers").insert({organization_id:e.id,phone_number:b.trim(),name:(x==null?void 0:x.trim())||null}).select().single();if(j)throw j;return w},onSuccess:()=>{Ce({title:"Phone number added successfully"}),n(""),s(""),t.invalidateQueries({queryKey:["sms-phone-numbers",e==null?void 0:e.id]})},onError:b=>{Ce({title:"Error adding phone number",description:b.message,variant:"destructive"})}}),m=bt({mutationFn:async b=>{const{data:x,error:w}=await G.from("sms_phone_numbers").insert(b.map(({phoneNumber:j,name:_})=>({organization_id:e.id,phone_number:j.trim(),name:(_==null?void 0:_.trim())||null})));if(w)throw w;return x},onSuccess:()=>{Ce({title:"Phone numbers added successfully"}),l(""),u(!1),t.invalidateQueries({queryKey:["sms-phone-numbers",e==null?void 0:e.id]})},onError:b=>{Ce({title:"Error adding phone numbers",description:b.message,variant:"destructive"})}}),g=bt({mutationFn:async b=>{const{error:x}=await G.from("sms_phone_numbers").delete().eq("id",b);if(x)throw x},onSuccess:()=>{Ce({title:"Phone number removed successfully"}),t.invalidateQueries({queryKey:["sms-phone-numbers",e==null?void 0:e.id]})},onError:b=>{Ce({title:"Error removing phone number",description:b.message,variant:"destructive"})}}),p=b=>{b.preventDefault(),r.trim()&&h.mutate({phoneNumber:r,name:a})},v=()=>{const x=o.split(`
`).filter(w=>w.trim()).map(w=>{const j=w.split(",").map(_=>_.trim());return{phoneNumber:j[0],name:j[1]||void 0}}).filter(w=>w.phoneNumber);if(x.length===0){Ce({title:"No valid phone numbers found",description:"Please enter at least one phone number",variant:"destructive"});return}m.mutate(x)};return f?i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(Ot,{className:"w-5 h-5"}),"Phone Numbers"]})}),i.jsx(K,{children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})]}):i.jsxs(H,{children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(Ot,{className:"w-5 h-5"}),"Phone Numbers (",(d==null?void 0:d.length)||0,")"]})}),i.jsxs(K,{className:"space-y-6",children:[i.jsx(VCe,{phoneNumber:r,name:a,onPhoneNumberChange:n,onNameChange:s,onSubmit:p,isLoading:h.isPending}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(ee,{variant:"outline",onClick:()=>u(!c),children:[i.jsx(T9,{className:"w-4 h-4 mr-2"}),"Bulk Add"]})}),c&&i.jsx(HCe,{bulkNumbers:o,onBulkNumbersChange:l,onBulkAdd:v,onCancel:()=>u(!1),isLoading:m.isPending}),i.jsx(KCe,{phoneNumbers:d||[],onDelete:b=>g.mutate(b),isDeleting:g.isPending})]})]})},YCe=()=>{const{user:e}=Zn(),{organization:t}=Si(),r=Sr(),{data:n=[],isLoading:a,error:s}=St({queryKey:["sms-campaigns",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:h,error:m}=await G.from("sms_campaigns").select("*").eq("organization_id",t.id).order("created_at",{ascending:!1});if(m)throw m;return h||[]},enabled:!!(t!=null&&t.id)}),{data:o=[],isLoading:l,error:c}=St({queryKey:["sms-phone-numbers",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:h,error:m}=await G.from("sms_phone_numbers").select("*").eq("organization_id",t.id).eq("status","active").order("created_at",{ascending:!1});if(m)throw m;return h||[]},enabled:!!(t!=null&&t.id)}),u=bt({mutationFn:async({name:h,template:m})=>{if(!(t!=null&&t.id)||!(e!=null&&e.id))throw new Error("Missing organization or user");const{data:g,error:p}=await G.from("sms_campaigns").insert({organization_id:t.id,name:h,message_template:m,created_by_user_id:e.id,status:"draft"}).select().single();if(p)throw p;return g},onSuccess:()=>{r.invalidateQueries({queryKey:["sms-campaigns"]}),Ce({title:"Success",description:"Campaign created successfully"})},onError:h=>{console.error("Error creating campaign:",h),Ce({title:"Error",description:"Failed to create campaign",variant:"destructive"})}}),d=bt({mutationFn:async({campaignId:h,isResend:m=!1,isRetry:g=!1})=>{const{data:p,error:v}=await G.functions.invoke("send-sms-flask",{body:{campaignId:h,isResend:m,isRetry:g}});if(v)throw v;return p},onSuccess:h=>{r.invalidateQueries({queryKey:["sms-campaigns"]}),r.invalidateQueries({queryKey:["sms-sends"]}),Ce({title:"Success",description:`Campaign sent successfully! ${h.sentCount}/${h.sentCount+h.failedCount} messages delivered.`})},onError:h=>{console.error("Error sending campaign:",h),Ce({title:"Error",description:"Failed to send campaign",variant:"destructive"})}}),f=bt({mutationFn:async({campaignId:h,action:m})=>{let g;switch(m){case"pause":g="paused";break;case"resume":g="sending";break;case"cancel":g="cancelled";break;default:throw new Error("Invalid action")}const{error:p}=await G.from("sms_campaigns").update({status:g}).eq("id",h);if(p)throw p},onSuccess:(h,{action:m})=>{r.invalidateQueries({queryKey:["sms-campaigns"]}),Ce({title:"Success",description:`Campaign ${m}d successfully`})},onError:h=>{console.error("Error controlling campaign:",h),Ce({title:"Error",description:"Failed to update campaign status",variant:"destructive"})}});return{campaigns:n,campaignsLoading:a,campaignsError:s,phoneNumbers:o,phoneNumbersLoading:l,phoneNumbersError:c,createCampaignMutation:u,sendCampaignMutation:d,campaignControlMutation:f,organization:t}},QCe=({onSubmit:e,onCancel:t,isLoading:r,phoneNumbersCount:n,organizationName:a})=>{const[s,o]=y.useState(""),[l,c]=y.useState(""),u=`Hi! We'd love your feedback on our service. Please text back 'START' to begin a quick survey. Your input helps us improve. Thank you! - ${a||"Your Company"}`,d=f=>{f.preventDefault(),!(!s.trim()||!l.trim())&&(e(s,l),o(""),c(""))};return i.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[i.jsx("h4",{className:"font-medium",children:"Create New Campaign"}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"campaign-name",children:"Campaign Name *"}),i.jsx(he,{id:"campaign-name",value:s,onChange:f=>o(f.target.value),placeholder:"Feedback Request Campaign",required:!0})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"message-template",children:"Message Template *"}),i.jsx(So,{id:"message-template",value:l,onChange:f=>c(f.target.value),placeholder:u,rows:4,required:!0}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Recipients: ",n," active phone numbers"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{type:"submit",disabled:r,children:"Create Campaign"}),i.jsx(ee,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})]})},XCe=({campaign:e})=>{const t=e.sent_count>0?e.delivered_count/e.sent_count*100:0,r=e.sent_count>0?e.failed_count/e.sent_count*100:0,n=e.total_recipients>0?e.sent_count/e.total_recipients*100:0,a=()=>{if(!e.started_at)return null;const s=new Date(e.started_at),l=(e.completed_at?new Date(e.completed_at):new Date).getTime()-s.getTime(),c=Math.round(l/(1e3*60));return c<60?`${c}m`:`${Math.round(c/60)}h ${c%60}m`};return i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[i.jsx(Ot,{className:"w-4 h-4 text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-blue-900",children:e.sent_count}),i.jsx("div",{className:"text-xs text-blue-600",children:"Sent"}),i.jsx(wn,{value:n,className:"h-1 mt-1"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[i.jsx(Ct,{className:"w-4 h-4 text-green-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm font-medium text-green-900",children:[t.toFixed(1),"%"]}),i.jsx("div",{className:"text-xs text-green-600",children:"Delivered"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[e.delivered_count,"/",e.sent_count]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[i.jsx(xa,{className:"w-4 h-4 text-red-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm font-medium text-red-900",children:[r.toFixed(1),"%"]}),i.jsx("div",{className:"text-xs text-red-600",children:"Failed"}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.failed_count})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg",children:[i.jsx(ai,{className:"w-4 h-4 text-purple-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-purple-900",children:a()||"N/A"}),i.jsx("div",{className:"text-xs text-purple-600",children:"Duration"}),i.jsx(ke,{variant:"outline",className:"text-xs mt-1",children:e.status})]})]})]})},JCe=({campaign:e,onSend:t,onResend:r,onRetry:n,onDuplicate:a,onSchedule:s,onDelete:o,onCancel:l,onPause:c,onResume:u,isLoading:d})=>{const[f,h]=y.useState(!1),m=b=>{switch(b){case"completed":return"default";case"sending":return"secondary";case"paused":return"outline";case"failed":return"destructive";case"draft":return"outline";default:return"secondary"}},g=b=>{switch(b){case"completed":return"text-green-600";case"sending":return"text-blue-600";case"paused":return"text-yellow-600";case"failed":return"text-red-600";case"draft":return"text-gray-600";default:return"text-gray-600"}},p=e.total_recipients>0?e.sent_count/e.total_recipients*100:0,v=e.status==="sending"&&e.started_at&&new Date().getTime()-new Date(e.started_at).getTime()>10*60*1e3;return i.jsx(H,{className:"transition-all duration-200 hover:shadow-md",children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h5",{className:"font-semibold text-lg",children:e.name}),i.jsx(ke,{variant:m(e.status),className:g(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),v&&i.jsxs(ke,{variant:"destructive",className:"text-orange-700 bg-orange-100",children:[i.jsx(xa,{className:"w-3 h-3 mr-1"}),"Stuck"]})]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",new Date(e.created_at).toLocaleDateString(),"  ",e.total_recipients," recipients"]}),(e.status==="sending"||e.status==="paused")&&i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[e.sent_count,"/",e.total_recipients]})]}),i.jsx(wn,{value:p,className:"h-2"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[e.status==="draft"&&i.jsxs(ee,{size:"sm",onClick:()=>t(e.id),disabled:d,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(KE,{className:"w-4 h-4 mr-2"}),"Send Now"]}),e.status==="sending"&&i.jsxs(i.Fragment,{children:[i.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>c(e.id),disabled:d,children:[i.jsx(lM,{className:"w-4 h-4 mr-2"}),"Pause"]}),i.jsxs(ee,{size:"sm",variant:"destructive",onClick:()=>l(e.id),disabled:d,children:[i.jsx(k9,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}),e.status==="paused"&&i.jsxs(ee,{size:"sm",onClick:()=>u(e.id),disabled:d,className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(KE,{className:"w-4 h-4 mr-2"}),"Resume"]}),e.status==="failed"&&i.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>n(e.id),disabled:d,children:[i.jsx(S9,{className:"w-4 h-4 mr-2"}),"Retry"]}),e.status==="completed"&&e.failed_count>0&&i.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>r(e.id),disabled:d,children:[i.jsx(lb,{className:"w-4 h-4 mr-2"}),"Resend Failed"]}),v&&i.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>n(e.id),disabled:d,className:"border-orange-500 text-orange-700 hover:bg-orange-50",children:[i.jsx(lb,{className:"w-4 h-4 mr-2"}),"Force Retry"]}),i.jsxs($_,{children:[i.jsx(I_,{asChild:!0,children:i.jsx(ee,{variant:"ghost",size:"sm",children:i.jsx(u9,{className:"w-4 h-4"})})}),i.jsxs(Dv,{align:"end",children:[i.jsxs(Fa,{onClick:()=>h(!f),children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),f?"Hide":"Show"," Analytics"]}),i.jsxs(Fa,{onClick:()=>a(e.id),children:[i.jsx(dp,{className:"w-4 h-4 mr-2"}),"Duplicate Campaign"]}),e.status==="draft"&&i.jsxs(Fa,{onClick:()=>s(e.id),children:[i.jsx(eM,{className:"w-4 h-4 mr-2"}),"Schedule Campaign"]}),i.jsx(Tp,{}),i.jsxs(ah,{children:[i.jsx(sh,{asChild:!0,children:i.jsxs(Fa,{onSelect:b=>b.preventDefault(),className:"text-red-600",children:[i.jsx(dv,{className:"w-4 h-4 mr-2"}),"Delete Campaign"]})}),i.jsxs(Zc,{children:[i.jsxs(eu,{children:[i.jsx(ru,{children:"Delete Campaign"}),i.jsxs(nu,{children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone.']})]}),i.jsxs(tu,{children:[i.jsx(su,{children:"Cancel"}),i.jsx(au,{onClick:()=>o(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})]})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[i.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Message Preview:"}),i.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:e.message_template.length>120?`${e.message_template.substring(0,120)}...`:e.message_template})]})}),f&&i.jsx(XCe,{campaign:e})]})})},ZCe=({searchTerm:e,onSearchChange:t,statusFilter:r,onStatusFilterChange:n,sortBy:a,onSortByChange:s,sortOrder:o,onSortOrderChange:l,totalCampaigns:c,filteredCount:u})=>{const d=()=>{t(""),n("all"),s("created_at"),l("desc")},f=e||r!=="all";return i.jsxs("div",{className:"w-full space-y-4 p-4 bg-gray-50 rounded-lg border",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(f9,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Filters"}),f&&i.jsxs(ke,{variant:"secondary",className:"text-xs",children:[u," of ",c]})]}),f&&i.jsx(ee,{variant:"ghost",size:"sm",onClick:d,children:"Clear All"})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"relative",children:[i.jsx(cM,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx(he,{placeholder:"Search campaigns...",value:e,onChange:h=>t(h.target.value),className:"pl-10 w-full"})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs(lc,{value:r,onValueChange:n,children:[i.jsx(jo,{className:"w-full sm:w-[150px]",children:i.jsx(cc,{placeholder:"Status"})}),i.jsxs(_o,{children:[i.jsx(Or,{value:"all",children:"All Status"}),i.jsx(Or,{value:"draft",children:"Draft"}),i.jsx(Or,{value:"sending",children:"Sending"}),i.jsx(Or,{value:"completed",children:"Completed"}),i.jsx(Or,{value:"failed",children:"Failed"})]})]}),i.jsxs(lc,{value:a,onValueChange:s,children:[i.jsx(jo,{className:"w-full sm:w-[150px]",children:i.jsx(cc,{placeholder:"Sort by"})}),i.jsxs(_o,{children:[i.jsx(Or,{value:"created_at",children:"Created Date"}),i.jsx(Or,{value:"name",children:"Name"}),i.jsx(Or,{value:"total_recipients",children:"Recipients"}),i.jsx(Or,{value:"delivered_count",children:"Delivery Rate"})]})]}),i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>l(o==="asc"?"desc":"asc"),className:"w-full sm:w-auto",children:o==="asc"?i.jsx(t9,{className:"w-4 h-4"}):i.jsx(e9,{className:"w-4 h-4"})})]})]})]})},eOe=({campaigns:e,onSend:t,onResend:r,onRetry:n,onCancel:a,onPause:s,onResume:o,onDuplicate:l,onSchedule:c,onDelete:u,onCreateNew:d,isLoading:f})=>{const[h,m]=y.useState(""),[g,p]=y.useState("all"),[v,b]=y.useState("created_at"),[x,w]=y.useState("desc"),j=y.useMemo(()=>{let _=e.filter(S=>{const N=S.name.toLowerCase().includes(h.toLowerCase())||S.message_template.toLowerCase().includes(h.toLowerCase()),E=g==="all"||S.status===g;return N&&E});return _.sort((S,N)=>{let E=S[v],C=N[v];if(v==="created_at"&&(E=new Date(E).getTime(),C=new Date(C).getTime()),typeof E=="number"&&typeof C=="number")return x==="asc"?E-C:C-E;if(typeof E=="string"&&typeof C=="string"){const k=E.localeCompare(C);return x==="asc"?k:-k}return 0}),_},[e,h,g,v,x]);return e.length===0?i.jsxs("div",{className:"w-full text-center p-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[i.jsx(qt,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No campaigns yet"}),i.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Create your first SMS campaign to start reaching your audience with targeted messages."}),i.jsxs(ee,{onClick:d,className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(si,{className:"w-4 h-4 mr-2"}),"Create Your First Campaign"]})]}):i.jsxs("div",{className:"w-full space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Campaign Management"}),i.jsxs("p",{className:"text-sm text-gray-600",children:[e.length," campaign",e.length!==1?"s":""," total",j.length!==e.length&&`  ${j.length} shown`]})]}),i.jsxs(ee,{onClick:d,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(si,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),i.jsx(ZCe,{searchTerm:h,onSearchChange:m,statusFilter:g,onStatusFilterChange:p,sortBy:v,onSortByChange:b,sortOrder:x,onSortOrderChange:w,totalCampaigns:e.length,filteredCount:j.length}),i.jsx("div",{className:"w-full space-y-4",children:j.length===0?i.jsxs("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:[i.jsx(qt,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No campaigns match your current filters."}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your search or filter criteria."})]}):j.map(_=>i.jsx(JCe,{campaign:_,onSend:t,onResend:r,onRetry:n,onCancel:a,onPause:s,onResume:o,onDuplicate:l,onSchedule:c,onDelete:u,isLoading:f},_.id))})]})},tOe=()=>i.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:[i.jsx(Ot,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No active phone numbers found."}),i.jsx("p",{className:"text-sm",children:"Add phone numbers before creating campaigns."})]}),rOe=()=>{const[e,t]=y.useState(!1),{campaigns:r,campaignsLoading:n,campaignsError:a,phoneNumbers:s,phoneNumbersLoading:o,phoneNumbersError:l,createCampaignMutation:c,sendCampaignMutation:u,campaignControlMutation:d,organization:f}=YCe(),h=(S,N)=>{c.mutate({name:S,template:N},{onSuccess:()=>{t(!1)}})},m=S=>{u.mutate({campaignId:S})},g=S=>{u.mutate({campaignId:S,isResend:!0})},p=S=>{u.mutate({campaignId:S,isRetry:!0})},v=S=>{d.mutate({campaignId:S,action:"cancel"})},b=S=>{d.mutate({campaignId:S,action:"pause"})},x=S=>{d.mutate({campaignId:S,action:"resume"})},w=S=>{const N=r.find(E=>E.id===S);N&&(c.mutate({name:`${N.name} (Copy)`,template:N.message_template}),Ce({title:"Campaign duplicated successfully"}))},j=S=>{Ce({title:"Scheduling feature coming soon",description:"Campaign scheduling will be available in the next update."})},_=S=>{Ce({title:"Delete feature coming soon",description:"Campaign deletion will be available in the next update."})};return n||o?i.jsx("div",{className:"w-full",children:i.jsxs(H,{className:"w-full",children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(qt,{className:"w-5 h-5"}),"SMS Campaigns"]})}),i.jsx(K,{children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})]})}):a||l?i.jsx("div",{className:"w-full",children:i.jsxs(H,{className:"w-full",children:[i.jsx(se,{children:i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(qt,{className:"w-5 h-5"}),"SMS Campaigns"]})}),i.jsx(K,{children:i.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 rounded-lg",children:[i.jsx(Fc,{className:"w-5 h-5 text-red-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Failed to load campaigns or phone numbers"}),i.jsx("p",{className:"text-xs text-red-600 mt-1",children:(a==null?void 0:a.message)||(l==null?void 0:l.message)||"An unexpected error occurred"})]})]})})]})}):i.jsx("div",{className:"w-full",children:i.jsxs(H,{className:"w-full",children:[i.jsx(se,{children:i.jsx(ie,{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qt,{className:"w-5 h-5"}),"SMS Campaigns"]})})}),i.jsx(K,{className:"space-y-6 p-6",children:s.length===0?i.jsx(tOe,{}):i.jsxs("div",{className:"w-full space-y-6",children:[e&&i.jsx("div",{className:"w-full",children:i.jsx(QCe,{onSubmit:h,onCancel:()=>t(!1),isLoading:c.isPending,phoneNumbersCount:s.length,organizationName:f==null?void 0:f.name})}),i.jsx("div",{className:"w-full",children:i.jsx(eOe,{campaigns:r,onSend:m,onResend:g,onRetry:p,onCancel:v,onPause:b,onResume:x,onDuplicate:w,onSchedule:j,onDelete:_,onCreateNew:()=>t(!0),isLoading:u.isPending||d.isPending})})]})})]})})},nOe=()=>i.jsx("div",{className:"w-full mt-6",children:i.jsxs(Sa,{defaultValue:"phone-numbers",className:"w-full",children:[i.jsxs(ea,{className:"grid w-full grid-cols-2 mb-6",children:[i.jsx(Ue,{value:"phone-numbers",className:"flex-1",children:"Phone Numbers"}),i.jsx(Ue,{value:"campaigns",className:"flex-1",children:"Campaigns"})]}),i.jsx(Be,{value:"phone-numbers",className:"w-full mt-0",children:i.jsx("div",{className:"w-full",children:i.jsx(GCe,{})})}),i.jsx(Be,{value:"campaigns",className:"w-full mt-0",children:i.jsx("div",{className:"w-full",children:i.jsx(rOe,{})})})]})}),aOe=()=>{const{organization:e}=Si(),t=Sr(),{data:r,isLoading:n,error:a}=St({queryKey:["organization-sms-settings",e==null?void 0:e.id],queryFn:async()=>{console.log("Fetching SMS settings for organization:",e==null?void 0:e.id);const{data:o,error:l}=await G.from("organizations").select("sms_enabled, sms_sender_id, sms_settings, webhook_secret").eq("id",e.id).single();if(l)throw console.error("Error fetching organization SMS settings:",l),l;return console.log("Organization SMS settings fetched:",o),o},enabled:!!(e!=null&&e.id),retry:3,retryDelay:1e3}),s=bt({mutationFn:async o=>{if(!(e!=null&&e.id))throw new Error("Organization not found");console.log("Updating SMS status:",{enabled:o,orgId:e.id});const{data:l,error:c}=await G.functions.invoke("update-sms-settings",{body:{orgId:e.id,enabled:o,senderId:(r==null?void 0:r.sms_sender_id)||"",username:zg(r==null?void 0:r.sms_settings,"username"),apiKey:zg(r==null?void 0:r.sms_settings,"apiKey")}});if(c)throw console.error("SMS status update error:",c),new Error(c.message||"Failed to update SMS settings");return console.log("SMS status updated successfully:",l),l},onSuccess:()=>{Ce({title:"SMS status updated successfully"}),t.invalidateQueries({queryKey:["organization-sms-settings",e==null?void 0:e.id]})},onError:o=>{console.error("SMS toggle error:",o),Ce({title:"Error updating SMS status",description:o.message||"An unexpected error occurred",variant:"destructive"})}});return{orgData:r,isLoading:n,error:a,updateSmsStatus:s,organization:e}},sOe=()=>{const{isAdmin:e,isOrgAdmin:t}=Zn(),[r,n]=y.useState(null),{orgData:a,isLoading:s,error:o,updateSmsStatus:l,organization:c}=aOe(),u=e||t,d=h=>{if(!u){Ce({title:"Access denied",description:"You need admin access to manage SMS settings",variant:"destructive"});return}if(!(c!=null&&c.id)){Ce({title:"Error",description:"Organization not found",variant:"destructive"});return}l.mutate(h)};if(!u)return i.jsx(WCe,{});if(s)return i.jsx(BCe,{});if(o){const h=typeof o=="string"?o:"Failed to load SMS settings";return i.jsx(qCe,{message:h})}const f=(a==null?void 0:a.sms_enabled)&&zCe(a==null?void 0:a.sms_settings);return i.jsx("div",{className:"w-full",children:i.jsxs(H,{className:"w-full",children:[i.jsx(UCe,{}),i.jsxs(K,{className:"space-y-6 p-6",children:[i.jsx(DCe,{enabled:(a==null?void 0:a.sms_enabled)||!1,onToggle:d,isLoading:l.isPending}),(a==null?void 0:a.sms_enabled)&&i.jsx(LCe,{webhookSecret:(a==null?void 0:a.webhook_secret)||"",isVisible:!0,isFlaskWrapper:!0}),i.jsx(FCe,{selectedProvider:r,onProviderSelect:n}),r==="sms-provider"&&i.jsx(ICe,{organization:c,currentSettings:a,onSettingsUpdate:()=>{}}),f&&i.jsx("div",{className:"w-full",children:i.jsx(nOe,{})})]})]})})},iOe=()=>{const{isAdmin:e,isOrgAdmin:t}=Zn();return Si(),e||t?i.jsxs("div",{className:"w-full space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Integrations"}),i.jsx("p",{className:"text-muted-foreground",children:"Connect your organization to other services and automate your workflows."})]}),i.jsx("div",{className:"w-full",children:i.jsx(sOe,{})}),i.jsx("div",{className:"w-full",children:i.jsx($Ce,{})})]}):i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need organization admin access to manage integrations."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]})},oOe=(e,t,r)=>{const n={},a=t.length,s=r>0?a/r*100:0;return t.forEach(o=>{const l=String(o.response_value||"No Response");n[l]=(n[l]||0)+1}),{distribution:n,insights:lOe(e,n,a),totalResponses:a,completionRate:s}},lOe=(e,t,r)=>{switch(e.toLowerCase()){case"star rating":return cOe(t,r);case"nps score":return uOe(t,r);case"single choice":case"multiple choice":return dOe(t,r);case"likert scale":return fOe(t,r);case"emoji rating":return hOe(t,r);case"slider":return mOe(t,r);case"text input":return pOe(t,r);default:return[`${r} responses collected`]}},cOe=(e,t)=>{const r=[],n=Object.entries(e).map(([u,d])=>({rating:parseInt(u)||0,count:d})),a=n.filter(u=>u.rating>=4).reduce((u,d)=>u+d.count,0),s=n.filter(u=>u.rating<=2).reduce((u,d)=>u+d.count,0),o=Math.round(a/t*100),l=Math.round(s/t*100);o>60&&r.push(`Strong satisfaction: ${o}% gave 4+ stars`),l>20&&r.push(`${l}% gave low ratings (1-2 stars)`);const c=n.sort((u,d)=>d.count-u.count)[0];return c&&r.push(`Most common rating: ${c.rating} stars (${Math.round(c.count/t*100)}%)`),r.length>0?r:[`${t} star ratings collected`]},uOe=(e,t)=>{const r=[];let n=0,a=0;Object.entries(e).forEach(([c,u])=>{const d=parseInt(c)||0;d>=9?n+=u:d>=7||(a+=u)});const s=t>0?Math.round((n-a)/t*100):0,o=Math.round(n/t*100),l=Math.round(a/t*100);return r.push(`NPS Score: ${s}`),r.push(`${o}% promoters, ${l}% detractors`),s>50?r.push("Excellent customer loyalty"):s>0?r.push("Positive overall sentiment"):r.push("Room for improvement in customer satisfaction"),r},dOe=(e,t)=>{const r=[],n=Object.entries(e).sort((a,s)=>s[1]-a[1]);if(n.length>0){const a=n[0],s=Math.round(a[1]/t*100);r.push(`Most popular: "${a[0]}" (${s}%)`),s>60?r.push("Clear preference identified"):s<30&&r.push("Even distribution across options")}if(n.length>1){const a=n[1],s=Math.round(a[1]/t*100);r.push(`Second choice: "${a[0]}" (${s}%)`)}return r},fOe=(e,t)=>{const r=[];let n=0,a=0;Object.entries(e).forEach(([l,c])=>{const u=l.toLowerCase();u.includes("agree")&&!u.includes("disagree")?n+=c:u.includes("disagree")&&(a+=c)});const s=Math.round(n/t*100),o=Math.round(a/t*100);return r.push(`${s}% agreement, ${o}% disagreement`),s>70?r.push("Strong consensus in favor"):o>50?r.push("Majority disagrees with statement"):r.push("Mixed opinions on this topic"),r},hOe=(e,t)=>{const r=[],n=Object.entries(e).sort((o,l)=>l[1]-o[1]);if(n.length>0){const o=n[0],l=Math.round(o[1]/t*100);r.push(`Most used: ${o[0]} (${l}%)`)}let a=0;Object.entries(e).forEach(([o,l])=>{["","","","","","","",""].includes(o)&&(a+=l)});const s=Math.round(a/t*100);return r.push(`${s}% positive emotional responses`),r},mOe=(e,t)=>{const r=[],n=Object.entries(e).map(([a,s])=>({value:parseFloat(a)||0,count:s})).filter(a=>!isNaN(a.value));if(n.length>0){const s=n.reduce((d,f)=>d+f.value*f.count,0)/t;r.push(`Average value: ${s.toFixed(1)}`);const o=n.sort((d,f)=>d.value-f.value),l=o[0].value,u=o[o.length-1].value-l;if(u>0){const d=(s-l)/u*100;d>75?r.push("Values tend toward upper range"):d<25?r.push("Values tend toward lower range"):r.push("Balanced distribution of values")}}return r},pOe=(e,t)=>{const r=[];r.push(`${t} text responses collected`);let n=0,a=0;Object.entries(e).forEach(([l,c])=>{const u=l.length;u<20?n+=c:u>100&&(a+=c)});const s=Math.round(n/t*100),o=Math.round(a/t*100);return o>30&&r.push(`${o}% provided detailed responses`),s>50&&r.push(`${s}% gave brief responses`),r},gOe=(e,t,r)=>{if(r===0)return"neutral";switch(e==null?void 0:e.toLowerCase()){case"star rating":{const s=Object.entries(t).filter(([o])=>parseInt(o)>=4).reduce((o,[,l])=>o+l,0)/r*100;return s>60?"positive":s<30?"negative":"mixed"}case"nps score":{let n=0,a=0;Object.entries(t).forEach(([o,l])=>{const c=parseInt(o)||0;c>=9?n+=l:c<=6&&(a+=l)});const s=r>0?(n-a)/r*100:0;return s>20?"positive":s<-20?"negative":"mixed"}case"likert scale":{let n=0;Object.entries(t).forEach(([s,o])=>{s.toLowerCase().includes("agree")&&!s.toLowerCase().includes("disagree")&&(n+=o)});const a=n/r*100;return a>60?"positive":a<30?"negative":"mixed"}default:return"neutral"}},vOe=(e,t,r)=>{const n=(r==null?void 0:r.length)||0,a=[],s=new Map;if(e)for(const c of e){const u=(t==null?void 0:t.filter(j=>j.question_id===c.id))||[],d=new Set(u.map(j=>j.session_id)),f=u.filter(j=>typeof j.score=="number"),h=f.reduce((j,_)=>j+_.score,0),m=f.length>0?h/f.length:0,g=oOe(c.question_type||"text",u,n),p=gOe(c.question_type,g.distribution,u.length),v=n>0?d.size/n*100:0,b={id:c.id,question_text:c.question_text,question_type:c.question_type||"text",category:c.category||"General",total_responses:u.length,completion_rate:Math.round(v),avg_score:m,response_distribution:g.distribution,insights:g.insights,trend:p};a.push(b);const x=c.category||"General";s.has(x)||s.set(x,{category:x,total_questions:0,total_responses:0,completion_rate:0,questions:[],avg_score:0});const w=s.get(x);w.total_questions+=1,w.total_responses+=u.length,w.questions.push(b)}const o=[];s.forEach(c=>{const u=c.questions.length>0?c.questions.reduce((h,m)=>h+m.completion_rate,0)/c.questions.length:0,d=c.questions.filter(h=>h.avg_score>0),f=d.length>0?d.reduce((h,m)=>h+m.avg_score,0)/d.length:0;c.completion_rate=Math.round(u),c.avg_score=f,o.push(c)});const l=[];if(r){const c=r.reduce((d,f)=>{const h=new Date(f.created_at).toISOString().split("T")[0];return d[h]||(d[h]={date:h,total_sessions:0,completed_sessions:0,scores:[]}),d[h].total_sessions++,f.status==="completed"&&d[h].completed_sessions++,typeof f.total_score=="number"&&d[h].scores.push(f.total_score),d},{}),u=Object.keys(c).sort((d,f)=>new Date(d).getTime()-new Date(f).getTime());for(const d of u){const f=c[d],h=f.scores.reduce((p,v)=>p+v,0),m=f.scores.length>0?h/f.scores.length:0,g=f.total_sessions>0?f.completed_sessions/f.total_sessions*100:0;l.push({date:new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric"}),total_sessions:f.total_sessions,completed_sessions:f.completed_sessions,completion_rate:Math.round(g),avg_score:Math.round(m)})}}return{questions:a,categories:o,trendData:l}},wN=e=>{const{dateRange:t}=K$();return St({queryKey:["analytics-table-data",e,t],queryFn:async()=>{const{data:r}=await G.from("questions").select("*").eq("organization_id",e).eq("is_active",!0).order("category",{ascending:!0}).order("order_index",{ascending:!0});let n=G.from("feedback_responses").select(`
          id,
          question_id,
          response_value,
          question_category,
          session_id,
          created_at,
          score,
          response_time_ms
        `).eq("organization_id",e);if(t!=null&&t.from&&(n=n.gte("created_at",t.from.toISOString())),t!=null&&t.to){const m=new Date(t.to);m.setDate(m.getDate()+1),n=n.lt("created_at",m.toISOString())}const{data:a}=await n;let s=G.from("feedback_sessions").select("id, status, created_at, total_score").eq("organization_id",e);if(t!=null&&t.from&&(s=s.gte("created_at",t.from.toISOString())),t!=null&&t.to){const m=new Date(t.to);m.setDate(m.getDate()+1),s=s.lt("created_at",m.toISOString())}const{data:o}=await s,l=vOe(r,a,o);a&&(l.questions.forEach(m=>{const g=a.filter(p=>p.question_id===m.id&&p.response_time_ms!=null);if(g.length>0){const p=g.reduce((v,b)=>v+(b.response_time_ms||0),0);m.avg_response_time_ms=Math.round(p/g.length)}else m.avg_response_time_ms=0}),l.categories.forEach(m=>{const g=l.questions.filter(p=>p.category===m.category&&p.avg_response_time_ms&&p.avg_response_time_ms>0);if(g.length>0){const p=g.reduce((v,b)=>v+(b.avg_response_time_ms||0),0);m.avg_response_time_ms=Math.round(p/g.length)}else m.avg_response_time_ms=0}));const c=(o==null?void 0:o.length)||0,u=(o==null?void 0:o.filter(m=>m.status==="completed").length)||0,d=c>0?u/c*100:0,f=(r==null?void 0:r.length)||0,h=(a==null?void 0:a.length)||0;return{...l,summary:{total_questions:f,total_responses:h,overall_completion_rate:Math.round(d)}}},enabled:!!e,staleTime:5*60*1e3})},yOe=({sentimentStats:e,totalQuestions:t,overallScore:r})=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(H,{children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(uM,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Positive"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.positive}),i.jsxs("div",{className:"text-sm text-gray-500",children:[Math.round(e.positive/t*100),"% of questions"]}),i.jsx(wn,{value:e.positive/t*100,className:"mt-2 h-2"})]})]})}),i.jsx(H,{children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(oM,{className:"w-5 h-5 text-yellow-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Neutral"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.neutral}),i.jsxs("div",{className:"text-sm text-gray-500",children:[Math.round(e.neutral/t*100),"% of questions"]}),i.jsx(wn,{value:e.neutral/t*100,className:"mt-2 h-2"})]})]})}),i.jsx(H,{children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(nM,{className:"w-5 h-5 text-red-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Negative"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.negative}),i.jsxs("div",{className:"text-sm text-gray-500",children:[Math.round(e.negative/t*100),"% of questions"]}),i.jsx(wn,{value:e.negative/t*100,className:"mt-2 h-2"})]})]})})]}),wz=({sentiment:e})=>{switch(e){case"positive":return i.jsx(uM,{className:"w-5 h-5 text-green-600"});case"negative":return i.jsx(nM,{className:"w-5 h-5 text-red-600"});default:return i.jsx(oM,{className:"w-5 h-5 text-yellow-600"})}},jN=e=>{switch(e){case"positive":return"bg-green-100 text-green-800";case"negative":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},xOe=e=>e.reduce((t,r)=>(t[r.sentiment]+=1,t),{positive:0,neutral:0,negative:0}),bOe=e=>e.positive>e.negative?"positive":e.negative>e.positive?"negative":"neutral",wOe=({questionSentiments:e})=>i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Question Sentiment Analysis"})}),i.jsx(K,{children:i.jsx("div",{className:"space-y-4",children:e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(wz,{sentiment:t.sentiment}),i.jsx(ke,{className:jN(t.sentiment),children:t.sentiment})]}),i.jsx("h4",{className:"font-medium text-sm",children:t.question_text}),i.jsxs("p",{className:"text-xs text-gray-600",children:[t.total_responses," responses  ",t.completion_rate,"% completion"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold",children:[t.completion_rate,"%"]}),t.sentiment==="negative"&&i.jsx(xa,{className:"w-4 h-4 text-red-500 ml-auto mt-1"}),t.sentiment==="positive"&&i.jsx(zr,{className:"w-4 h-4 text-green-500 ml-auto mt-1"})]})]},r))})})]}),jOe=({categorySentiments:e})=>i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Category Sentiment Analysis"})}),i.jsx(K,{children:i.jsx("div",{className:"space-y-4",children:e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(wz,{sentiment:t.sentiment}),i.jsx(ke,{className:jN(t.sentiment),children:t.sentiment})]}),i.jsx("h4",{className:"font-medium",children:t.category}),i.jsxs("p",{className:"text-sm text-gray-600",children:[t.total_questions," questions  ",t.total_responses," responses"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xl font-bold",children:t.total_responses}),i.jsx("div",{className:"text-sm text-gray-500",children:"responses"})]})]},r))})})]}),_Oe=({organizationId:e})=>{const{data:t,isLoading:r}=wN(e);if(r)return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(c=>i.jsx("div",{className:"h-32 bg-gray-200 rounded"},c))})]})});if(!t)return i.jsx(H,{children:i.jsxs(K,{className:"p-6 text-center",children:[i.jsx(ZR,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No sentiment data available"})]})});const n=t.questions.map(c=>{const u=c.trend==="positive"?"positive":c.trend==="negative"?"negative":"neutral";return{...c,sentiment:u}}),a=xOe(n),s=n.length,o=bOe(a),l=t.categories.map(c=>{const u=c.questions.filter(m=>m.trend==="positive").length,d=c.questions.length,f=d>0?u/d:0,h=f>.6?"positive":f<.3?"negative":"neutral";return{...c,sentiment:h}});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Sentiment Analysis"}),i.jsxs(ke,{className:jN(o),children:["Overall: ",o]})]}),i.jsx(yOe,{sentimentStats:a,totalQuestions:s,overallScore:0}),i.jsxs(Sa,{defaultValue:"questions",className:"w-full",children:[i.jsxs(ea,{className:"grid grid-cols-2 w-full max-w-md",children:[i.jsx(Ue,{value:"questions",children:"By Question"}),i.jsx(Ue,{value:"categories",children:"By Category"})]}),i.jsx(Be,{value:"questions",className:"space-y-4",children:i.jsx(wOe,{questionSentiments:n.map(c=>({question_text:c.question_text,sentiment:c.sentiment,total_responses:c.total_responses,completion_rate:c.completion_rate}))})}),i.jsx(Be,{value:"categories",className:"space-y-4",children:i.jsx(jOe,{categorySentiments:l.map(c=>({category:c.category,sentiment:c.sentiment,total_questions:c.total_questions,total_responses:c.total_responses}))})})]})]})},SOe=({organizationId:e})=>i.jsx(qo,{permission:"view_analytics",organizationId:e,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need viewer-level access or higher to view sentiment analysis."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(_Oe,{organizationId:e})}),jz=e=>e>=90?"text-green-600":e>=70?"text-yellow-600":"text-red-600",_z=e=>{const t=e/1e3;return t<5?"text-green-600":t<15?"text-yellow-600":"text-red-600"},NOe=e=>{const t=e.filter(s=>s.avg_response_time_ms&&s.avg_response_time_ms>0),r=[...t].sort((s,o)=>s.avg_response_time_ms-o.avg_response_time_ms).slice(0,5),n=[...t].sort((s,o)=>o.avg_response_time_ms-s.avg_response_time_ms).slice(0,5),a=e.sort((s,o)=>o.completion_rate-s.completion_rate);return{topPerformers:r,lowPerformers:n,completionTrends:a}},EOe=(e,t)=>{const r=e.filter(l=>l.avg_response_time_ms&&l.avg_response_time_ms>0),n=r.filter(l=>l.avg_response_time_ms<5e3),a=r.filter(l=>l.avg_response_time_ms>15e3),s=e.length>0?e.reduce((l,c)=>l+c.completion_rate,0)/e.length:0,o=r.length>0?r.reduce((l,c)=>l+c.avg_response_time_ms,0)/r.length:0;return{fastRespondingQuestions:n.length,slowRespondingQuestions:a.length,avgCompletionRate:s,totalResponses:t.total_responses,avgResponseTime:o}},POe=({performanceInsights:e,totalQuestions:t})=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(H,{children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(dM,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Fast Responses"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.fastRespondingQuestions}),i.jsx("div",{className:"text-sm text-gray-500",children:"questions under 5s"})]})]})}),i.jsx(H,{children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sM,{className:"w-5 h-5 text-red-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Slow Responses"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.slowRespondingQuestions}),i.jsx("div",{className:"text-sm text-gray-500",children:"questions over 15s"})]})]})}),i.jsx(H,{children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(uv,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Response Time"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:`text-2xl font-bold ${_z(e.avgResponseTime)}`,children:[(e.avgResponseTime/1e3).toFixed(1),"s"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"overall average"})]})]})}),i.jsx(H,{children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zr,{className:"w-5 h-5 text-purple-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:`text-2xl font-bold ${jz(e.avgCompletionRate)}`,children:[Math.round(e.avgCompletionRate),"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"average completion"})]})]})})]}),kOe=({topPerformers:e})=>i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{className:"text-green-600",children:"Fastest Answered Questions"})}),i.jsx(K,{children:i.jsx("div",{className:"space-y-4",children:e.length>0?e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsxs(ke,{className:"bg-green-100 text-green-800",children:["#",r+1]}),i.jsx(r9,{className:"w-4 h-4 text-green-600"})]}),i.jsx("h4",{className:"font-medium text-sm",children:t.question_text}),i.jsxs("p",{className:"text-xs text-gray-600",children:[t.total_responses," responses  ",t.completion_rate,"% completion"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-green-600",children:[((t.avg_response_time_ms||0)/1e3).toFixed(1),"s"]}),i.jsx(dM,{className:"w-4 h-4 text-green-500 ml-auto mt-1"})]})]},r)):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No response time data yet."})})})]}),COe=({lowPerformers:e})=>i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{className:"text-red-600",children:"Slowest Answered Questions"})}),i.jsx(K,{children:i.jsx("div",{className:"space-y-4",children:e.length>0?e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(xa,{className:"w-4 h-4 text-red-600"}),i.jsx(ke,{className:"bg-red-100 text-red-800",children:"Needs Attention"})]}),i.jsx("h4",{className:"font-medium text-sm",children:t.question_text}),i.jsxs("p",{className:"text-xs text-gray-600",children:[t.total_responses," responses  ",t.completion_rate,"% completion"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-red-600",children:[((t.avg_response_time_ms||0)/1e3).toFixed(1),"s"]}),i.jsx(sM,{className:"w-4 h-4 text-red-500 ml-auto mt-1"})]})]},r)):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No questions with slow response times found! "})})})]}),OOe=({completionTrends:e})=>i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Completion Rate Analysis"})}),i.jsx(K,{children:i.jsx("div",{className:"space-y-4",children:e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-sm truncate",children:t.question_text}),i.jsxs("p",{className:"text-xs text-gray-600",children:[t.total_responses," responses"]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:`text-sm font-bold ${jz(t.completion_rate)}`,children:[t.completion_rate,"%"]})}),i.jsx(wn,{value:t.completion_rate,className:"w-20 h-2"})]})]},r))})})]}),AOe=({categoryPerformance:e})=>i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Category Performance"})}),i.jsx(K,{children:i.jsx("div",{className:"space-y-4",children:e.map((t,r)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center space-x-2 mb-2",children:i.jsxs(ke,{variant:"outline",children:["#",r+1]})}),i.jsx("h4",{className:"font-medium",children:t.category}),i.jsxs("p",{className:"text-sm text-gray-600",children:[t.total_questions," questions  ",t.total_responses," responses"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-xl font-bold ${_z(t.avg_response_time_ms||0)}`,children:[((t.avg_response_time_ms||0)/1e3).toFixed(1),"s"]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[t.completion_rate,"% completion"]})]})]},r))})})]}),TOe=({organizationId:e})=>{const{data:t,isLoading:r}=wN(e);if(r)return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(c=>i.jsx("div",{className:"h-32 bg-gray-200 rounded"},c))})]})});if(!t)return i.jsx(H,{children:i.jsxs(K,{className:"p-6 text-center",children:[i.jsx(cr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No performance data available"})]})});const{topPerformers:n,lowPerformers:a,completionTrends:s}=NOe(t.questions),o=EOe(t.questions,t.summary),l=[...t.categories].sort((c,u)=>(c.avg_response_time_ms||0)-(u.avg_response_time_ms||0));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Performance Analytics"}),i.jsxs(ke,{variant:"outline",children:[t.summary.total_questions," questions analyzed"]})]}),i.jsx(POe,{performanceInsights:o,totalQuestions:t.summary.total_questions}),i.jsxs(Sa,{defaultValue:"top-performers",className:"w-full",children:[i.jsxs(ea,{className:"grid grid-cols-4 w-full max-w-2xl",children:[i.jsx(Ue,{value:"top-performers",children:"Top Performers"}),i.jsx(Ue,{value:"low-performers",children:"Need Attention"}),i.jsx(Ue,{value:"completion",children:"Completion"}),i.jsx(Ue,{value:"categories",children:"Categories"})]}),i.jsx(Be,{value:"top-performers",className:"space-y-4",children:i.jsx(kOe,{topPerformers:n})}),i.jsx(Be,{value:"low-performers",className:"space-y-4",children:i.jsx(COe,{lowPerformers:a})}),i.jsx(Be,{value:"completion",className:"space-y-4",children:i.jsx(OOe,{completionTrends:s})}),i.jsx(Be,{value:"categories",className:"space-y-4",children:i.jsx(AOe,{categoryPerformance:l.map(c=>({category:c.category,avg_score:c.avg_score,total_questions:c.total_questions,total_responses:c.total_responses,completion_rate:c.completion_rate,avg_response_time_ms:c.avg_response_time_ms}))})})]})]})},ROe=({organizationId:e})=>i.jsx(qo,{permission:"view_analytics",organizationId:e,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need viewer-level access or higher to view performance analytics."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(TOe,{organizationId:e})}),MOe=({organizationId:e})=>{const{data:t,isLoading:r}=wN(e),n=({active:l,payload:c,label:u})=>l&&c&&c.length?i.jsxs("div",{className:"p-2 bg-background border rounded-lg shadow-sm",children:[i.jsx("p",{className:"text-sm text-muted-foreground max-w-[200px] break-words",children:u}),i.jsx("p",{className:"font-bold text-foreground",children:`${c[0].value}% completion`})]}):null;if(r)return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(l=>i.jsx("div",{className:"h-32 bg-gray-200 rounded"},l))})]})});if(!t)return i.jsx(H,{children:i.jsxs(K,{className:"p-6 text-center",children:[i.jsx(Ot,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-500",children:"No customer insights data available"})]})});const a=t.questions.map(l=>l.completion_rate),s=a.reduce((l,c)=>l+c,0)/a.length,o=t.questions.reduce((l,c)=>(c.completion_rate<80?l.lowCompletion.push(c):c.completion_rate>=90&&l.highPerforming.push(c),c.completion_rate<70&&l.needAttention.push(c),l),{highPerforming:[],needAttention:[],lowCompletion:[]});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Customer Insights"}),i.jsxs(ke,{variant:"outline",children:[t.summary.total_responses," total responses"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(H,{children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zr,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Completion Rate"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(s),"%"]}),i.jsx(wn,{value:s,className:"mt-2"})]})]})}),i.jsx(H,{children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ct,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"High Performers"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold",children:o.highPerforming.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"questions  90% completion"})]})]})}),i.jsx(H,{children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fc,{className:"w-5 h-5 text-red-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Need Attention"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold",children:o.needAttention.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"questions < 70% completion"})]})]})}),i.jsx(H,{children:i.jsxs(K,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ai,{className:"w-5 h-5 text-orange-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Low Completion"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-2xl font-bold",children:o.lowCompletion.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"questions < 80% completion"})]})]})})]}),i.jsxs(Sa,{defaultValue:"trends",className:"w-full",children:[i.jsxs(ea,{className:"grid grid-cols-3 w-full max-w-md",children:[i.jsx(Ue,{value:"trends",children:"Trends"}),i.jsx(Ue,{value:"themes",children:"Themes"}),i.jsx(Ue,{value:"sessions",children:"Sessions"})]}),i.jsx(Be,{value:"trends",className:"space-y-4",children:i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Feedback Trends"})}),i.jsx(K,{children:i.jsx("div",{className:"space-y-4",children:t.categories.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:l.category}),i.jsxs("p",{className:"text-sm text-gray-600",children:[l.total_questions," questions  ",l.total_responses," responses"]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"text-sm text-gray-500",children:[l.completion_rate,"% completion"]})})]},c))})})]})}),i.jsx(Be,{value:"themes",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{className:"text-green-600",children:"High Performing Questions"})}),i.jsx(K,{children:i.jsxs("div",{className:"space-y-3",children:[o.highPerforming.slice(0,5).map((l,c)=>i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border-l-4 border-green-500",children:[i.jsx("div",{className:"font-medium text-sm",children:l.question_text}),i.jsx("div",{className:"flex justify-between items-center mt-2",children:i.jsxs("span",{className:"text-sm text-gray-600",children:[l.total_responses," responses"]})})]},c)),o.highPerforming.length===0&&i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No high performing questions yet"})]})})]}),i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{className:"text-red-600",children:"Questions Needing Attention"})}),i.jsx(K,{children:i.jsxs("div",{className:"space-y-3",children:[o.needAttention.slice(0,5).map((l,c)=>i.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border-l-4 border-red-500",children:[i.jsx("div",{className:"font-medium text-sm",children:l.question_text}),i.jsx("div",{className:"flex justify-between items-center mt-2",children:i.jsxs("span",{className:"text-sm text-gray-600",children:[l.total_responses," responses"]})})]},c)),o.needAttention.length===0&&i.jsx("p",{className:"text-gray-500 text-center py-4",children:"All questions performing well!"})]})})]})]})}),i.jsx(Be,{value:"sessions",className:"space-y-4",children:i.jsxs(H,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Session Analysis"})}),i.jsx(K,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Completion Rate by Question"}),i.jsx("div",{className:"h-[300px]",children:i.jsx(Jp,{width:"100%",height:"100%",children:i.jsxs(uz,{layout:"vertical",data:t.questions.slice(0,5).map(l=>({name:l.question_text,"Completion Rate":l.completion_rate})),margin:{top:5,right:20,left:10,bottom:5},children:[i.jsx(Cf,{strokeDasharray:"3 3",horizontal:!1}),i.jsx(mi,{type:"number",domain:[0,100],unit:"%"}),i.jsx(pi,{dataKey:"name",type:"category",width:60,tickLine:!1,axisLine:!1,tickFormatter:l=>l.length>15?`${l.substring(0,15)}...`:l}),i.jsx(Xr,{content:i.jsx(n,{}),cursor:{fill:"hsl(var(--muted))"}}),i.jsx(Oi,{dataKey:"Completion Rate",fill:"hsl(var(--primary))",barSize:20,radius:[0,4,4,0]})]})})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Response Distribution"}),i.jsx("div",{className:"space-y-2",children:t.categories.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:l.category}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(wn,{value:l.total_responses/t.summary.total_responses*100,className:"w-16 h-2"}),i.jsx("span",{className:"text-sm font-medium",children:l.total_responses})]})]},c))})]})]})})]})})]})]})},$Oe=({organizationId:e})=>i.jsx(qo,{permission:"view_analytics",organizationId:e,showRequiredRole:!0,fallback:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("p",{className:"text-gray-500",children:"You need viewer-level access or higher to view customer insights."}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Contact your organization administrator for access."})]}),children:i.jsx(MOe,{organizationId:e})}),IOe=()=>{const{slug:e}=v$(),[t,r]=y.useState("overview"),{isMobile:n}=fS(),{organization:a,stats:s,isLoading:o}=qv(),l=()=>{switch(t){case"members":return i.jsx(ZPe,{organization:a});case"feedback":return i.jsx(tke,{organizationId:a.id});case"questions":return i.jsx(oke,{});case"settings":return i.jsx(mke,{organization:a});case"integrations":return i.jsx(iOe,{});case"sentiment":return i.jsx(SOe,{organizationId:a.id});case"performance":return i.jsx(ROe,{organizationId:a.id});case"customer-insights":return i.jsx($Oe,{organizationId:a.id});default:return i.jsx(QPe,{onTabChange:r})}};return a?i.jsxs(i.Fragment,{children:[i.jsx(ore,{organizationName:a.name,organizationId:a.id,organizationSlug:e||"",activeTab:t,onTabChange:r,stats:s,isLoading:o,children:l()}),n&&t==="overview"&&i.jsxs(OL,{onClick:()=>r("members"),extended:!0,children:[i.jsx(si,{className:"w-5 h-5"}),"Quick Action"]}),i.jsx(lre,{})]}):i.jsx("div",{children:"Loading..."})},DOe=()=>i.jsx(ure,{children:i.jsx(IOe,{})}),LOe=()=>i.jsx(DOe,{}),FOe=()=>{const e=_a();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},zOe=()=>{const{pathname:e}=_a();return y.useEffect(()=>{e!=="/"&&document.documentElement.classList.remove("dark")},[e]),null},UOe=()=>i.jsxs("div",{className:"bg-white dark:bg-background",children:[i.jsx(V_,{}),i.jsxs("main",{className:"max-w-4xl mx-auto pt-32 pb-16 px-4 sm:px-6 lg:px-8",children:[i.jsx("h1",{className:"text-4xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-8",children:"Terms of Service"}),i.jsxs("div",{className:"prose dark:prose-invert max-w-none text-warm-gray-600 dark:text-dark-warm-600 space-y-4",children:[i.jsx("p",{children:"Last updated: June 15, 2025"}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"1. Agreement to Terms"}),i.jsx("p",{children:"By using our services, you agree to be bound by these Terms of Service. If you do not agree to these Terms, do not use the services."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"2. Use of Services"}),i.jsx("p",{children:"You may use our services only in compliance with these Terms and all applicable laws. We grant you a limited, non-exclusive, non-transferable, revocable license to use the services."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"3. Accounts"}),i.jsx("p",{children:"When you create an account with us, you must provide us with information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"4. Termination"}),i.jsx("p",{children:"We may terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"5. Governing Law"}),i.jsx("p",{children:"These Terms shall be governed by the laws of Kenya, without regard to its conflict of law provisions."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"6. Contact Us"}),i.jsx("p",{children:"If you have any questions about these Terms, please contact us at info@pulsify.bunisystems.com."})]})]}),i.jsx(H_,{})]}),BOe=()=>i.jsxs("div",{className:"bg-white dark:bg-background",children:[i.jsx(V_,{}),i.jsxs("main",{className:"max-w-4xl mx-auto pt-32 pb-16 px-4 sm:px-6 lg:px-8",children:[i.jsx("h1",{className:"text-4xl font-extrabold text-warm-gray-900 dark:text-dark-warm-900 mb-8",children:"Privacy Policy"}),i.jsxs("div",{className:"prose dark:prose-invert max-w-none text-warm-gray-600 dark:text-dark-warm-600 space-y-4",children:[i.jsx("p",{children:"Last updated: June 15, 2025"}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"1. Introduction"}),i.jsx("p",{children:"Welcome to Pulsify. We are committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"2. Information We Collect"}),i.jsx("p",{children:"We may collect personal identification information (Name, email address, phone number, etc.) and non-personal information (browser type, etc.) from you in a variety of ways."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"3. How We Use Your Information"}),i.jsx("p",{children:"We use the information we collect to operate and maintain our services, send you marketing communications, respond to your comments and questions, and provide you with user support."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"4. Data Security"}),i.jsx("p",{children:"We take data security very seriously. Our platform is SOC 2 compliant, and all data is encrypted end-to-end. We follow industry best practices to ensure your data is safe and private. We implement a variety of security measures to maintain the safety of your personal information."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"5. Changes to This Privacy Policy"}),i.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),i.jsx("h2",{className:"text-2xl font-bold text-warm-gray-900 dark:text-dark-warm-900 !mt-8",children:"6. Contact Us"}),i.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at info@pulsify.bunisystems.com."})]})]}),i.jsx(H_,{})]}),qOe=()=>{const e=Jn(),[t]=n_(),[r,n]=y.useState(!0),[a,s]=y.useState(null);y.useEffect(()=>{const l=async()=>{var u;try{console.log("Auth callback started");const{data:d,error:f}=await G.auth.getSession();if(f){console.error("Auth callback error:",f),s(f.message),setTimeout(()=>e("/auth?error="+encodeURIComponent(f.message)),2e3);return}if((u=d.session)!=null&&u.user){const h=d.session.user.email,m=t.get("type"),g=m==="signup",p=m==="recovery",v=t.get("org"),b=t.get("invitation")==="true";if(console.log("Auth callback - User:",h),console.log("Auth callback - Type:",m),console.log("Auth callback - Org slug:",v),console.log("Auth callback - Is invitation:",b),console.log("Auth callback - Is email confirmation:",g),console.log("Auth callback - Is password reset:",p),p){console.log("Processing password reset"),e("/auth?reset=true");return}if(b&&h&&v&&g){console.log("Processing invitation signup for:",h,"to org:",v),e("/auth?reset=true&invitation=true&org="+v);return}if(b&&h&&v&&!g){console.log("Processing invitation for existing user:",h,"to org:",v),await c(d,v,h);return}console.log("Processing standard auth flow"),await new Promise(w=>setTimeout(w,1e3));const x=await gd.handlePostAuthRedirect(d.session.user);console.log("Redirecting to:",x),e(x)}else console.log("No session found, redirecting to auth"),e("/auth")}catch(d){console.error("Callback processing error:",d),s("Authentication failed. Please try again."),setTimeout(()=>e("/auth?error="+encodeURIComponent("Authentication failed")),2e3)}finally{n(!1)}},c=async(u,d,f)=>{try{if(!o(d)){console.error("Invalid organization slug:",d),s("Invalid organization invitation"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Invalid organization invitation")),2e3);return}const{data:h}=await G.from("organizations").select("id, name, slug").eq("slug",d).single();if(!h){console.error("Organization not found:",d),s("Organization not found"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Organization not found")),2e3);return}const m=u.session.user.user_metadata,g=(m==null?void 0:m.role)||"member",p=(m==null?void 0:m.enhanced_role)||g;console.log("Invitation details from metadata:",{role:g,enhancedRole:p});const{data:v}=await G.from("organization_users").select("id").eq("user_id",u.session.user.id).eq("organization_id",h.id).maybeSingle();if(v)console.log("User already in organization");else{const{error:x}=await G.from("organization_users").insert({user_id:u.session.user.id,organization_id:h.id,email:f,role:g,enhanced_role:p,status:"active",accepted_at:new Date().toISOString()});if(x){console.error("Error adding user to organization:",x),s("Failed to join organization"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Failed to join organization")),2e3);return}console.log("User successfully added to organization")}const{error:b}=await G.from("user_invitations").update({status:"accepted",updated_at:new Date().toISOString()}).eq("email",f.toLowerCase().trim()).eq("organization_id",h.id);b&&console.warn("Could not update invitation status:",b),console.log("Redirecting to organization dashboard:",d),e(`/admin/${d}`)}catch(h){console.error("Error handling invitation flow:",h),s("Failed to process invitation"),setTimeout(()=>e("/auth?error="+encodeURIComponent("Failed to process invitation")),2e3)}};l()},[e,t]);const o=l=>{const c=["auth-callback","auth","admin","api","callback","login","signup"],u=/^[a-z0-9]+(?:-[a-z0-9]+)*$/;return l&&l.length>=2&&l.length<=50&&!c.includes(l)&&u.test(l)};return a?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-red-500 text-xl mb-4",children:"Authentication Error"}),i.jsx("p",{className:"text-gray-600 mb-4",children:a}),i.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting you back to login..."})]})}):r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ep,{text:"Processing authentication..."}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Setting up your account access..."})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"text-center",children:i.jsx(Ep,{text:"Redirecting..."})})})},WOe=new RW;yZ();function VOe(){return i.jsx(LW,{client:WOe,children:i.jsxs(YM,{children:[i.jsx(m7,{}),i.jsx(q7,{}),i.jsxs(VV,{children:[i.jsx(zOe,{}),i.jsx(bG,{children:i.jsx(pG,{children:i.jsxs(DV,{children:[i.jsx(Wr,{path:"/",element:i.jsx(XZ,{})}),i.jsx(Wr,{path:"/terms-of-service",element:i.jsx(UOe,{})}),i.jsx(Wr,{path:"/privacy-policy",element:i.jsx(BOe,{})}),i.jsx(Wr,{path:"/admin/login",element:i.jsx(WG,{})}),i.jsx(Wr,{path:"/admin",element:i.jsx(bx,{requireAdmin:!0,children:i.jsx(fZ,{})})}),i.jsx(Wr,{path:"/auth",element:i.jsx(qG,{})}),i.jsx(Wr,{path:"/auth-callback",element:i.jsx(qOe,{})}),i.jsx(Wr,{path:"/create-organization",element:i.jsx(bx,{children:i.jsx(hZ,{})})}),i.jsx(Wr,{path:"/admin/:slug",element:i.jsx(bx,{requireOrgAdmin:!0,children:i.jsx(gG,{children:i.jsx(LOe,{})})})}),i.jsx(Wr,{path:"/:orgSlug",element:i.jsx(ak,{})}),i.jsx(Wr,{path:"/org/:slug",element:i.jsx(ak,{})}),i.jsx(Wr,{path:"*",element:i.jsx(FOe,{})})]})})})]})]})})}kR(document.getElementById("root")).render(i.jsx(P.StrictMode,{children:i.jsx(VOe,{})}));
