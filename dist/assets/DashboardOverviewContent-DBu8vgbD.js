var ie=Object.defineProperty;var le=(a,t,s)=>t in a?ie(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;var H=(a,t,s)=>le(a,typeof t!="symbol"?t+"":t,s);import{c as v,r as j,j as e,a as c,b as R,u as oe,s as ce,D as de,d as xe,B as h,e as me,f as ge,g as V,R as O,h as he,i as u,E as ue,k as F,C as f,l as T,m as y,P as $,n as E,T as k,Z as S,o as C,p as D,q as pe,t as z,v as L,w as K,M as Z,A as G,U as J,x as be,y as ve,z as A,F as _,G as W,H as je,S as fe,I,J as ye,L as B,K as Ne,N as we}from"./index-DprlfjCb.js";import{E as ke}from"./ellipsis-vertical-DwHZCb9m.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=v("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=v("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=v("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=v("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=v("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=v("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=v("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=v("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),M=R("scroll-m-20 tracking-tight",{variants:{variant:{h1:"text-4xl font-extrabold lg:text-5xl",h2:"text-3xl font-semibold",h3:"text-2xl font-semibold",h4:"text-xl font-semibold",h5:"text-lg font-semibold",h6:"text-base font-semibold"}},defaultVariants:{variant:"h1"}}),Ee=R("leading-7",{variants:{variant:{default:"text-base",large:"text-lg font-semibold",small:"text-sm font-medium leading-none",muted:"text-sm text-muted-foreground"}},defaultVariants:{variant:"default"}}),De=R("text-xs text-muted-foreground",{variants:{variant:{default:"text-xs text-muted-foreground",small:"text-xs text-gray-500",muted:"text-xs text-gray-400"}},defaultVariants:{variant:"default"}}),X=j.forwardRef(({className:a,variant:t="h1",...s},l)=>e.jsx("h1",{ref:l,className:c(M({variant:t,className:a})),...s}));X.displayName="H1";const Le=j.forwardRef(({className:a,variant:t="h2",...s},l)=>e.jsx("h2",{ref:l,className:c(M({variant:t,className:a})),...s}));Le.displayName="H2";const Pe=j.forwardRef(({className:a,variant:t="h3",...s},l)=>e.jsx("h3",{ref:l,className:c(M({variant:t,className:a})),...s}));Pe.displayName="H3";const qe=j.forwardRef(({className:a,variant:t="h4",...s},l)=>e.jsx("h4",{ref:l,className:c(M({variant:t,className:a})),...s}));qe.displayName="H4";const Y=j.forwardRef(({className:a,variant:t,...s},l)=>e.jsx("p",{ref:l,className:c(Ee({variant:t,className:a})),...s}));Y.displayName="Body";const He=j.forwardRef(({className:a,variant:t,...s},l)=>e.jsx("span",{ref:l,className:c(De({variant:t,className:a})),...s}));He.displayName="Caption";const ee=a=>oe({queryKey:["organization-stats",a],queryFn:async()=>{const{data:t,error:s}=await ce.rpc("get_organization_stats",{org_id:a});if(s)throw s;return t},enabled:!!a,staleTime:3e4,refetchInterval:6e4}),Q=({actions:a,title:t="Actions",className:s,buttonVariant:l="ghost",buttonSize:x="sm"})=>{const m=o=>{switch(o){case"destructive":return"text-red-600 hover:text-red-700 focus:text-red-700 hover:bg-red-50 focus:bg-red-50";case"secondary":return"text-gray-600 hover:text-gray-700 focus:text-gray-700";default:return"text-gray-700 hover:text-gray-900 focus:text-gray-900"}};return e.jsxs(de,{children:[e.jsx(xe,{asChild:!0,children:e.jsxs(h,{variant:l,size:x,className:c("h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200","hover:bg-gray-100 dark:hover:bg-gray-800","focus:opacity-100 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800",s),children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:t})]})}),e.jsxs(me,{className:"w-56 bg-white/95 backdrop-blur-sm border shadow-xl",align:"end",side:"bottom",children:[e.jsx(ge,{className:"font-semibold text-gray-900",children:t}),e.jsx(V,{}),a.map((o,g)=>e.jsxs(O.Fragment,{children:[e.jsxs(he,{onClick:o.onClick,className:c("flex items-center justify-between cursor-pointer py-2.5 px-3","transition-colors duration-150",m(o.variant)),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(o.icon,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:o.label})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[o.badge&&e.jsx(u,{variant:"secondary",className:"text-xs",children:o.badge}),o.shortcut&&e.jsx("kbd",{className:"hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:o.shortcut})]})]}),o.separator&&e.jsx(V,{})]},o.id))]})]})},Ve=(a,t,s)=>[{id:"view-details",label:"View Details",icon:ue,onClick:a,shortcut:"⌘D"},{id:"export-data",label:"Export Data",icon:F,onClick:t,shortcut:"⌘E"},{id:"share",label:"Share",icon:Re,onClick:s,separator:!0},{id:"bookmark",label:"Bookmark",icon:Me,onClick:()=>console.log("Bookmark"),variant:"secondary"}],ze=({title:a,value:t,previousValue:s,change:l,secondaryMetrics:x=[],icon:m,status:o="normal",actionLabel:g,onAction:p,onDrillDown:d,contextualActions:b=[],insights:r=[],className:n})=>{const N=i=>{switch(i){case"warning":return"border-l-amber-500 bg-gradient-to-br from-amber-50/80 to-orange-50/50";case"critical":return"border-l-red-500 bg-gradient-to-br from-red-50/80 to-pink-50/50";case"success":return"border-l-green-500 bg-gradient-to-br from-green-50/80 to-emerald-50/50";default:return"border-l-orange-500 bg-gradient-to-br from-orange-50/50 to-amber-50/30"}},te=i=>{switch(i){case"warning":return e.jsx(k,{className:"w-4 h-4 text-amber-600"});case"critical":return e.jsx(k,{className:"w-4 h-4 text-red-600"});case"success":return e.jsx(E,{className:"w-4 h-4 text-green-600"});default:return null}},P=i=>{switch(i){case"up":return e.jsx(Se,{className:"w-3 h-3 text-green-600"});case"down":return e.jsx(Ce,{className:"w-3 h-3 text-red-600"});default:return e.jsx(_e,{className:"w-3 h-3 text-gray-500"})}},re=i=>{switch(i){case"up":return"text-green-700 bg-green-100 border-green-200";case"down":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},q=i=>{switch(i){case"good":return"text-green-700";case"warning":return"text-amber-700";case"critical":return"text-red-700";default:return"text-gray-700"}},ne=Ve(()=>d==null?void 0:d(),()=>console.log("Export metric data"),()=>console.log("Share metric"));return e.jsxs(f,{variant:"elevated",className:c("group hover:shadow-2xl transition-all duration-300 border-l-4 hover:-translate-y-2","bg-gradient-to-br from-white via-orange-50/30 to-amber-50/20 backdrop-blur-sm",N(o),n),children:[e.jsxs(T,{className:"flex flex-row items-start justify-between space-y-0 pb-6",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"p-4 rounded-2xl bg-white shadow-lg ring-2 ring-black/5",children:e.jsx(m,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold text-gray-700 tracking-tight",children:a}),e.jsxs("div",{className:"flex items-center space-x-2",children:[te(o),d&&e.jsx(h,{variant:"ghost",size:"sm",onClick:d,className:"opacity-0 group-hover:opacity-100 transition-opacity p-2 h-8 w-8 hover:bg-orange-50",children:e.jsx(U,{className:"w-4 h-4 text-gray-500"})})]})]}),e.jsxs("div",{className:"flex items-baseline space-x-4",children:[e.jsx("span",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:typeof t=="number"?t.toLocaleString():t}),s&&e.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["from ",typeof s=="number"?s.toLocaleString():s]})]}),l&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(u,{variant:"secondary",className:c("text-sm px-3 py-1 font-bold border-2 shadow-sm",re(l.trend)),children:e.jsxs("span",{className:"flex items-center space-x-2",children:[P(l.trend),e.jsxs("span",{children:[l.trend==="up"?"+":l.trend==="down"?"-":"",Math.abs(l.value),"%"]})]})}),e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["vs ",l.period]})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(Q,{actions:ne,title:`${a} Actions`,className:"opacity-0 group-hover:opacity-100 transition-opacity"})})]}),e.jsxs(y,{className:"pt-0 space-y-6",children:[x.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-6",children:x.map((i,w)=>e.jsxs("div",{className:"space-y-3 p-4 bg-white/70 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow group/metric",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:i.label}),e.jsxs("div",{className:"flex items-center space-x-2",children:[i.trend&&e.jsxs("div",{className:"flex items-center space-x-2",children:[P(i.trend),i.change&&e.jsxs("span",{className:c("text-sm font-bold",q(i.status||"good")),children:[i.change.value>0?"+":"",i.change.value,"%"]})]}),e.jsx(Q,{actions:[{id:"view-metric",label:"View Details",icon:U,onClick:()=>console.log(`View ${i.label} details`)}],title:`${i.label} Actions`,className:"opacity-0 group-hover/metric:opacity-100 transition-opacity",buttonSize:"sm"})]})]}),e.jsx("div",{className:"flex items-baseline space-x-3",children:e.jsx("span",{className:c("text-xl font-bold",q(i.status||"good")),children:typeof i.value=="number"?i.value.toLocaleString():i.value})}),i.target&&typeof i.value=="number"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"Target"}),e.jsxs("span",{className:"font-bold text-gray-900",children:[Math.round(i.value/i.target*100),"%"]})]}),e.jsx($,{value:i.value/i.target*100,className:"h-2 bg-gray-100"})]})]},w))}),r.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Key Insights"}),r.map((i,w)=>e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed pl-4 border-l-2 border-orange-200",children:i},w))]})]}),(g||b.length>0)&&e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[g&&p&&e.jsx(h,{variant:"outline",size:"sm",onClick:p,className:"flex-1 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-opacity hover:bg-orange-50 hover:border-orange-200 hover:text-orange-700 shadow-sm",children:g}),b.map((i,w)=>e.jsxs(h,{variant:"ghost",size:"sm",onClick:i.onClick,className:"text-sm opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-50",children:[i.icon&&e.jsx(i.icon,{className:"w-4 h-4 mr-2"}),i.label]},w))]})]})]})]})},Ie=({metrics:a,title:t="System Overview",lastUpdated:s,onRefresh:l,isRefreshing:x=!1})=>{const m=r=>{switch(r){case"good":return e.jsx(E,{className:"w-4 h-4 text-green-600"});case"warning":return e.jsx(z,{className:"w-4 h-4 text-amber-600"});case"critical":return e.jsx(z,{className:"w-4 h-4 text-red-600"});default:return null}},o=r=>{switch(r){case"good":return"text-green-800 bg-green-50/80 border-green-200 ring-green-100/50";case"warning":return"text-amber-800 bg-amber-50/80 border-amber-200 ring-amber-100/50";case"critical":return"text-red-800 bg-red-50/80 border-red-200 ring-red-100/50";default:return"text-gray-800 bg-gray-50/80 border-gray-200 ring-gray-100/50"}},g=r=>{switch(r){case"up":return e.jsx(L,{className:"w-3 h-3 text-green-600"});case"down":return e.jsx(Te,{className:"w-3 h-3 text-red-600"});default:return null}},d=(()=>{const r=a.filter(N=>N.status==="critical").length,n=a.filter(N=>N.status==="warning").length;return r>0?"critical":n>0?"warning":"good"})(),b=Math.round(a.filter(r=>r.status==="good").length/a.length*100);return e.jsx(f,{variant:"glass",className:"border-0 shadow-xl ring-1 ring-black/5",children:e.jsxs(y,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl shadow-lg",children:e.jsx(S,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:t}),e.jsxs("div",{className:c("flex items-center space-x-3 px-4 py-2 rounded-full text-sm font-bold ring-2 shadow-sm",o(d)),children:[m(d),e.jsx("span",{className:"capitalize",children:d}),e.jsxs("span",{className:"text-xs opacity-80",children:["• ",b,"%"]})]})]}),s&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2 flex items-center space-x-2",children:[e.jsx("span",{children:s}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(u,{variant:"outline",className:"text-sm font-semibold border-orange-200 text-orange-700 bg-orange-50 px-4 py-2",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Performance Tracking"]}),l&&e.jsxs(h,{variant:"outline",size:"default",onClick:l,disabled:x,className:"h-10 px-6 hover:bg-orange-50 hover:border-orange-200 shadow-sm",children:[e.jsx(D,{className:c("w-5 h-5 mr-2",x&&"animate-spin")}),e.jsx("span",{children:"Refresh"})]}),e.jsx(h,{variant:"ghost",size:"default",className:"h-10 w-10 p-0 hover:bg-gray-100",children:e.jsx(pe,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((r,n)=>e.jsxs("div",{className:c("relative p-6 rounded-2xl border-2 ring-2 transition-all duration-300 hover:shadow-xl hover:-translate-y-2 group cursor-pointer",o(r.status)),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:r.label}),r.trend&&g(r.trend)]}),r.description&&e.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:r.description})]}),m(r.status)]}),e.jsxs("div",{className:"flex items-baseline space-x-3 mb-3",children:[e.jsx("span",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:typeof r.value=="number"?r.value.toLocaleString():r.value}),r.change&&e.jsxs("span",{className:c("text-sm font-semibold px-2 py-1 rounded-full flex items-center space-x-1",r.change.value>=0?"text-green-700 bg-green-100/80":"text-red-700 bg-red-100/80"),children:[g(r.change.value>=0?"up":"down"),e.jsxs("span",{children:[r.change.value>0?"+":"",r.change.value,"%"]})]})]}),r.change&&e.jsxs("p",{className:"text-xs text-gray-600 mb-3 font-medium",children:["vs ",r.change.period]}),r.target&&typeof r.value=="number"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Progress to Target"}),e.jsxs("span",{className:"font-bold text-gray-900",children:[Math.round(r.value/r.target*100),"%"]})]}),e.jsx($,{value:Math.min(r.value/r.target*100,100),className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Current: ",typeof r.value=="number"?r.value.toLocaleString():r.value]}),e.jsxs("span",{children:["Target: ",r.target.toLocaleString()]})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/10 to-amber-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]},n))}),e.jsx("div",{className:"mt-10 pt-8 border-t border-gray-200/60",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-8 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full shadow-sm"}),e.jsxs("span",{className:"text-gray-700 font-semibold",children:[a.filter(r=>r.status==="good").length," Excellent"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 bg-amber-500 rounded-full shadow-sm"}),e.jsxs("span",{className:"text-gray-700 font-semibold",children:[a.filter(r=>r.status==="warning").length," Needs Attention"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full shadow-sm"}),e.jsxs("span",{className:"text-gray-700 font-semibold",children:[a.filter(r=>r.status==="critical").length," Critical"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse shadow-sm"}),e.jsx("span",{className:"font-semibold",children:"Live monitoring active"})]})]})})]})})};class se extends O.Component{constructor(s){super(s);H(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,l){console.error("Dashboard Error:",s,l)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsxs(f,{className:"border-destructive",children:[e.jsx(T,{children:e.jsxs(K,{className:"flex items-center text-destructive",children:[e.jsx(k,{className:"w-5 h-5 mr-2"}),"Dashboard Error"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Something went wrong while loading the dashboard. Please try again."}),this.state.error&&e.jsxs("details",{className:"text-sm text-muted-foreground",children:[e.jsx("summary",{children:"Error details"}),e.jsx("pre",{className:"mt-2 text-xs",children:this.state.error.message})]}),e.jsxs(h,{onClick:this.handleRetry,variant:"outline",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]}):this.props.children}}const ae=({onRetry:a})=>e.jsx(f,{className:"border-destructive",children:e.jsxs(y,{className:"p-6 text-center",children:[e.jsx(k,{className:"w-12 h-12 text-destructive mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Unable to load dashboard"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"There was an error loading your dashboard data."}),e.jsxs(h,{onClick:a,variant:"outline",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Retry"]})]})}),Be=({organizationId:a,onTabChange:t=()=>{}})=>{const{data:s,isLoading:l,error:x,refetch:m}=ee(a),[o,g]=j.useState("overview");if(x)return e.jsx(ae,{onRetry:()=>m()});const p=[{title:"Response Collection",value:(s==null?void 0:s.total_responses)||0,previousValue:s!=null&&s.total_responses?Math.max(0,s.total_responses-45):0,icon:Z,change:{value:24,period:"last 30 days",trend:"up"},secondaryMetrics:[{label:"This Week",value:Math.round(((s==null?void 0:s.total_responses)||0)*.18),trend:"up",change:{value:12,period:"week"},status:"good"},{label:"Quality Score",value:"4.8/5",trend:"up",status:"good"},{label:"Completion Rate",value:s&&s.total_sessions>0?`${Math.round(s.completed_sessions/s.total_sessions*100)}%`:"0%",trend:"up",target:100,status:"good"},{label:"Avg Response Time",value:"2.4min",trend:"down",status:"good"}],status:"success",insights:["Response rate increased 24% compared to last month","Quality metrics show consistent improvement","Mobile completion rate is 15% higher than desktop"],actionLabel:"View Response Analytics",onAction:()=>t("feedback"),contextualActions:[{label:"Export Data",onClick:()=>console.log("Export responses")},{label:"Quality Report",onClick:()=>console.log("Quality report")}]},{title:"User Engagement",value:(s==null?void 0:s.total_sessions)||0,previousValue:s!=null&&s.total_sessions?Math.max(0,s.total_sessions-15):0,icon:G,change:{value:18,period:"last 30 days",trend:"up"},secondaryMetrics:[{label:"Active Sessions",value:Math.round(((s==null?void 0:s.total_sessions)||0)*.75),trend:"up",status:"good"},{label:"Bounce Rate",value:"12%",trend:"down",target:20,status:"good"},{label:"Avg Session Duration",value:"4.2min",trend:"up",status:"good"},{label:"Return Users",value:"34%",trend:"up",status:"good"}],status:"success",insights:["Session engagement up 18% month-over-month","Mobile users show 25% longer session duration","Peak engagement hours: 2-4 PM weekdays"],actionLabel:"View Session Details",contextualActions:[{label:"User Journey",onClick:()=>console.log("User journey")},{label:"Engagement Report",onClick:()=>console.log("Engagement report")}]},{title:"Team Performance",value:(s==null?void 0:s.active_members)||0,previousValue:s!=null&&s.active_members?Math.max(0,s.active_members-2):0,icon:J,change:{value:8,period:"this quarter",trend:"up"},secondaryMetrics:[{label:"Active Contributors",value:Math.round(((s==null?void 0:s.active_members)||0)*.85),trend:"up",status:"good"},{label:"Collaboration Score",value:"92%",trend:"up",target:100,status:"good"},{label:"Response Time",value:"2.1hrs",trend:"down",status:"good"},{label:"Task Completion",value:"96%",trend:"up",status:"good"}],status:"success",insights:["Team productivity increased 15% this quarter","Cross-team collaboration metrics improved","2 new high-performing team members added"],actionLabel:"Manage Team",onAction:()=>t("members"),contextualActions:[{label:"Performance Review",onClick:()=>console.log("Performance review")},{label:"Team Analytics",onClick:()=>console.log("Team analytics")}]},{title:"System Health",value:"99.2%",previousValue:"98.8%",icon:E,change:{value:.4,period:"last 30 days",trend:"up"},secondaryMetrics:[{label:"Uptime",value:"99.9%",trend:"up",target:100,status:"good"},{label:"Response Time",value:"245ms",trend:"down",status:"good"},{label:"Error Rate",value:"0.03%",trend:"down",status:"good"},{label:"Data Accuracy",value:"99.7%",trend:"up",status:"good"}],status:"success",insights:["System performance exceeds SLA targets","Zero critical incidents this month","Database optimization reduced query time by 23%"],actionLabel:"System Status",contextualActions:[{label:"Health Report",onClick:()=>console.log("Health report")},{label:"Performance Logs",onClick:()=>console.log("Performance logs")}]}],d=[{label:"Overall Performance Score",value:"94%",status:"good",trend:"up",target:100,description:"Composite performance across all metrics",change:{value:5,period:"this month"}},{label:"User Satisfaction",value:`${(s==null?void 0:s.avg_session_score)||0}/5`,status:((s==null?void 0:s.avg_session_score)||0)>4?"good":"warning",trend:"up",description:"Average user rating across all sessions",change:{value:8,period:"vs last month"}},{label:"Growth Trajectory",value:"+28%",status:"good",trend:"up",description:"Month-over-month growth rate",change:{value:12,period:"acceleration"}},{label:"Operational Efficiency",value:"97%",status:"good",trend:"stable",target:100,description:"System reliability and performance",change:{value:2,period:"this quarter"}}];return e.jsx(se,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ie,{metrics:d,title:"Performance Dashboard",lastUpdated:"Live • Updated 30s ago",onRefresh:()=>m(),isRefreshing:l}),e.jsxs(be,{value:o,onValueChange:g,className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(ve,{className:"grid w-full max-w-md grid-cols-3",children:[e.jsx(A,{value:"overview",children:"Overview"}),e.jsx(A,{value:"performance",children:"Performance"}),e.jsx(A,{value:"insights",children:"Insights"})]}),e.jsxs(u,{variant:"outline",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Real-time Data"})]})]}),e.jsx(_,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Key Performance Indicators"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(u,{variant:"secondary",className:"text-xs font-medium",children:[e.jsx(L,{className:"w-3 h-3 mr-1"}),"All metrics trending positive"]})})]}),e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:p.map((b,r)=>e.jsx(ze,{...b},r))})]})}),e.jsx(_,{value:"performance",className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(W,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Detailed Performance Analytics"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced performance metrics and trend analysis"}),e.jsx(h,{onClick:()=>t("performance"),children:"View Performance Dashboard"})]})}),e.jsx(_,{value:"insights",className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(C,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"AI-Powered Insights"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Intelligent recommendations and predictive analytics"}),e.jsx(h,{onClick:()=>t("customer-insights"),children:"Explore Insights"})]})})]}),!l&&s&&s.total_sessions>0&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-8 p-6 bg-gradient-to-r from-green-50 via-emerald-50 to-green-50 rounded-2xl border border-green-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(S,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-green-900",children:"Excellence Score: 94%"}),e.jsx("div",{className:"text-sm text-green-700",children:"Exceeding industry benchmarks"})]})]}),e.jsx("div",{className:"h-12 w-px bg-green-200"}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-green-900",children:s.total_responses.toLocaleString()}),e.jsx("div",{className:"text-sm text-green-700",children:"Total Responses"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xl font-bold text-green-900",children:[Math.round(s.completed_sessions/s.total_sessions*100),"%"]}),e.jsx("div",{className:"text-sm text-green-700",children:"Success Rate"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-green-900",children:s.active_members||0}),e.jsx("div",{className:"text-sm text-green-700",children:"Active Team"})]})]})]})})]})})},Ue=({onTabChange:a,stats:t={pending_invitations:0,unread_responses:0,active_sessions:0,completion_rate:0},className:s})=>{const[l,x]=j.useState(""),o=[{id:"invite-members",title:"Invite Team Members",description:"Add new people to your organization",icon:J,onClick:()=>a("members"),badge:t.pending_invitations>0?`${t.pending_invitations} pending`:void 0,category:"primary",shortcut:"⌘I",estimatedTime:"2 min"},{id:"create-question",title:"Create Survey Question",description:"Add new feedback questions",icon:Z,onClick:()=>a("questions"),category:"primary",shortcut:"⌘Q",estimatedTime:"3 min"},{id:"view-responses",title:"Review Feedback",description:"Check latest customer responses",icon:je,onClick:()=>a("feedback"),badge:t.unread_responses>0?`${t.unread_responses} new`:void 0,category:"primary",shortcut:"⌘F",estimatedTime:"5 min"},{id:"export-data",title:"Export Analytics",description:"Download performance reports",icon:F,onClick:()=>console.log("Export data"),category:"secondary",estimatedTime:"1 min"},{id:"system-settings",title:"System Settings",description:"Configure organization preferences",icon:fe,onClick:()=>a("settings"),category:"secondary",estimatedTime:"10 min"},{id:"performance-review",title:"Performance Dashboard",description:"View detailed system metrics",icon:W,onClick:()=>a("performance"),category:"secondary",estimatedTime:"5 min"},{id:"optimize-completion",title:"Optimize Completion Rate",description:`Current rate: ${t.completion_rate}% - Get suggestions`,icon:C,onClick:()=>a("customer-insights"),category:"suggestion",estimatedTime:"15 min"},{id:"analyze-trends",title:"Analyze Response Trends",description:"AI-powered insights from recent feedback",icon:L,onClick:()=>a("sentiment"),category:"suggestion",estimatedTime:"8 min"}].filter(n=>n.title.toLowerCase().includes(l.toLowerCase())||n.description.toLowerCase().includes(l.toLowerCase())),g=o.filter(n=>n.category==="primary"),p=o.filter(n=>n.category==="secondary"),d=o.filter(n=>n.category==="suggestion"),b=n=>{switch(n){case"primary":return"border-orange-200 hover:border-orange-300 hover:shadow-lg bg-gradient-to-br from-orange-50/50 to-amber-50/30";case"suggestion":return"border-blue-200 hover:border-blue-300 hover:shadow-lg bg-gradient-to-br from-blue-50/50 to-indigo-50/30";default:return"border-gray-200 hover:border-gray-300 hover:shadow-md bg-white"}},r=({action:n})=>e.jsx(f,{className:c("group cursor-pointer transition-all duration-200 hover:-translate-y-1",b(n.category),"border-2"),onClick:n.onClick,children:e.jsxs(y,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-white shadow-sm ring-1 ring-black/5",children:e.jsx(n.icon,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[n.badge&&e.jsx(u,{variant:"secondary",className:"text-xs font-medium",children:n.badge}),n.category==="suggestion"&&e.jsxs(u,{className:"bg-blue-100 text-blue-700 text-xs",children:[e.jsx(B,{className:"w-3 h-3 mr-1"}),"Smart"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-orange-700 transition-colors",children:n.title}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:n.description})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[n.estimatedTime&&e.jsx("span",{className:"flex items-center space-x-1",children:e.jsxs("span",{children:["~",n.estimatedTime]})}),n.shortcut&&e.jsx("kbd",{className:"hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:n.shortcut})]}),e.jsx(Ne,{className:"w-4 h-4 text-gray-400 group-hover:text-orange-500 transition-colors"})]})]})});return e.jsxs(f,{className:c("border-0 shadow-lg bg-gradient-to-br from-white via-orange-50/20 to-amber-50/10",s),children:[e.jsxs(T,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg shadow-lg",children:e.jsx(S,{className:"w-5 h-5 text-white"})}),e.jsx(K,{className:"text-xl font-bold text-gray-900",children:"Quick Actions"})]}),e.jsxs(u,{variant:"outline",className:"text-orange-700 border-orange-200 bg-orange-50",children:[o.length," available"]})]}),e.jsxs("div",{className:"relative mt-4",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(ye,{placeholder:"Search actions...",value:l,onChange:n=>x(n.target.value),className:"pl-10 bg-white/70 border-gray-200 focus:border-orange-300 focus:ring-orange-200"})]})]}),e.jsxs(y,{className:"space-y-6",children:[g.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider flex items-center space-x-2",children:[e.jsx(C,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{children:"Priority Tasks"})]}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:g.map(n=>e.jsx(r,{action:n},n.id))})]}),p.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider flex items-center space-x-2",children:[e.jsx(Ae,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{children:"Management"})]}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:p.map(n=>e.jsx(r,{action:n},n.id))})]}),d.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider flex items-center space-x-2",children:[e.jsx(B,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:"Smart Suggestions"})]}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:d.map(n=>e.jsx(r,{action:n},n.id))})]}),o.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(I,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsxs("p",{children:['No actions found matching "',l,'"']})]})]})]})},Qe=({organizationId:a,onTabChange:t=()=>{}})=>{const{data:s,isLoading:l,error:x,refetch:m}=ee(a);return x?e.jsx(ae,{onRetry:()=>m()}):e.jsx(se,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(Be,{organizationId:a,onTabChange:t}),e.jsx(Ue,{onTabChange:t,stats:{pending_invitations:2,unread_responses:s!=null&&s.total_responses?Math.round(s.total_responses*.12):0,active_sessions:(s==null?void 0:s.total_sessions)||0,completion_rate:s&&s.total_sessions>0?Math.round(s.completed_sessions/s.total_sessions*100):0}})]})})},Ke=({onTabChange:a})=>{const{organization:t}=we();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(X,{className:"mb-2 flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg",children:e.jsx(S,{className:"w-6 h-6 text-white"})}),e.jsx("span",{children:"Analytics Command Center"})]}),e.jsxs(Y,{className:"text-gray-600",children:["Comprehensive insights and performance metrics for ",e.jsx("span",{className:"font-semibold text-orange-600",children:t==null?void 0:t.name})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(u,{variant:"outline",className:"flex items-center space-x-2 px-3 py-1",children:[e.jsx(G,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Real-time Data"})]}),e.jsx(u,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:"Enhanced Dashboard"})]})]}),e.jsx(Qe,{organizationId:(t==null?void 0:t.id)||"",onTabChange:a})]})};export{Ke as DashboardOverviewContent};
